(self.webpackChunknamastox_web=self.webpackChunknamastox_web||[]).push([[792],{2571:(Nt,Ae)=>{"use strict";Ae.J=void 0;var R=/^([^\w]*)(javascript|data|vbscript)/im,H=/&#(\w+)(^\w|;)?/g,q=/&(newline|tab);/gi,te=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,re=/^.+(:|&colon;)/gim,S=[".","/"];Ae.J=function x(E){var O=function ne(E){return E.replace(H,function(O,k){return String.fromCharCode(k)})}(E||"").replace(q,"").replace(te,"").trim();if(!O)return"about:blank";if(function F(E){return S.indexOf(E[0])>-1}(O))return O;var k=O.match(re);return k&&R.test(k[0])?"about:blank":O}},7586:(Nt,Ae,N)=>{"use strict";N(467);let q=null,re=1;const S=Symbol("SIGNAL");function F(e){const n=q;return q=e,n}function ee(e){if((!Ce(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==re)){if(!e.producerMustRecompute(e)&&!ie(e))return e.dirty=!1,void(e.lastCleanEpoch=re);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=re}}function ie(e){st(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],i=e.producerLastReadVersion[n];if(i!==t.version||(ee(t),i!==t.version))return!0}return!1}function pe(e,n){if(function Je(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),st(e),1===e.liveConsumerNode.length)for(let i=0;i<e.producerNode.length;i++)pe(e.producerNode[i],e.producerIndexOfThis[i]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const i=e.liveConsumerIndexOfThis[n],r=e.liveConsumerNode[n];st(r),r.producerIndexOfThis[i]=n}}function Ce(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function st(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Dt=null;function ei(e){return"function"==typeof e}function $t(e){const t=e(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const mn=$t(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function un(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class Pn{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(ei(i))try{i()}catch(o){n=o instanceof mn?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Xt(o)}catch(l){n=n??[],l instanceof mn?n=[...n,...l.errors]:n.push(l)}}if(n)throw new mn(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Xt(n);else{if(n instanceof Pn){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&un(t,n)}remove(n){const{_finalizers:t}=this;t&&un(t,n),n instanceof Pn&&n._removeParent(this)}}Pn.EMPTY=(()=>{const e=new Pn;return e.closed=!0,e})();const xi=Pn.EMPTY;function Si(e){return e instanceof Pn||e&&"closed"in e&&ei(e.remove)&&ei(e.add)&&ei(e.unsubscribe)}function Xt(e){ei(e)?e():e.unsubscribe()}const Et={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ht={setTimeout(e,n,...t){const{delegate:i}=Ht;return i?.setTimeout?i.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=Ht;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function vn(e){Ht.setTimeout(()=>{const{onUnhandledError:n}=Et;if(!n)throw e;n(e)})}function Hn(){}const zt=ti("C",void 0,void 0);function ti(e,n,t){return{kind:e,value:n,error:t}}let ui=null;function ss(e){if(Et.useDeprecatedSynchronousErrorHandling){const n=!ui;if(n&&(ui={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:i}=ui;if(ui=null,t)throw i}}else e()}class uo extends Pn{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Si(n)&&n.add(this)):this.destination=tl}static create(n,t,i){return new js(n,t,i)}next(n){this.isStopped?no(function yn(e){return ti("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?no(function on(e){return ti("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?no(zt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Eo=Function.prototype.bind;function Po(e,n){return Eo.call(e,n)}class Fs{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(i){aa(i)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(i){aa(i)}else aa(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){aa(t)}}}class js extends uo{constructor(n,t,i){let r;if(super(),ei(n)||!n)r={next:n??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Et.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&Po(n.next,o),error:n.error&&Po(n.error,o),complete:n.complete&&Po(n.complete,o)}):r=n}this.destination=new Fs(r)}}function aa(e){Et.useDeprecatedSynchronousErrorHandling?function co(e){Et.useDeprecatedSynchronousErrorHandling&&ui&&(ui.errorThrown=!0,ui.error=e)}(e):vn(e)}function no(e,n){const{onStoppedNotification:t}=Et;t&&Ht.setTimeout(()=>t(e,n))}const tl={closed:!0,next:Hn,error:function Qo(e){throw e},complete:Hn},dc="function"==typeof Symbol&&Symbol.observable||"@@observable";function la(e){return e}let Yr=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new e;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function Oc(e){return e&&e instanceof uo||function bl(e){return e&&ei(e.next)&&ei(e.error)&&ei(e.complete)}(e)&&Si(e)}(t)?t:new js(t,i,r);return ss(()=>{const{operator:l,source:u}=this;o.add(l?l.call(o,u):u?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Il(i))((r,o)=>{const l=new js({next:u=>{try{t(u)}catch(g){o(g),l.unsubscribe()}},error:o,complete:r});this.subscribe(l)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[dc](){return this}pipe(...t){return function Ma(e){return 0===e.length?la:1===e.length?e[0]:function(t){return e.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=Il(t))((i,r)=>{let o;this.subscribe(l=>o=l,l=>r(l),()=>i(o))})}}return e.create=n=>new e(n),e})();function Il(e){var n;return null!==(n=e??Et.Promise)&&void 0!==n?n:Promise}const Ic=$t(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let yr=(()=>{class e extends Yr{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new pn(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Ic}next(t){ss(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){ss(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){ss(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?xi:(this.currentObservers=null,o.push(t),new Pn(()=>{this.currentObservers=null,un(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Yr;return t.source=this,t}}return e.create=(n,t)=>new pn(n,t),e})();class pn extends yr{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,n)}error(n){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==i?i:xi}}class Vn extends yr{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}function Ne(e){return n=>{if(function fr(e){return ei(e?.lift)}(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ii(e,n,t,i,r){return new Ji(e,n,t,i,r)}class Ji extends uo{constructor(n,t,i,r,o,l){super(n),this.onFinalize=o,this.shouldUnsubscribe=l,this._next=t?function(u){try{t(u)}catch(g){n.error(g)}}:super._next,this._error=r?function(u){try{r(u)}catch(g){n.error(g)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function $i(e,n){return Ne((t,i)=>{let r=0;t.subscribe(ii(i,o=>{i.next(e.call(n,o,r++))}))})}const ai="https://g.co/ng/security#xss";class qt extends Error{constructor(n,t){super(function Ao(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function $r(e){return{toString:e}.toString()}const Go="__parameters__";function Jo(e,n,t){return $r(()=>{const i=function Ii(e){return function(...t){if(e){const i=e(...t);for(const r in i)this[r]=i[r]}}}(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;const l=new r(...o);return u.annotation=l,u;function u(g,v,D){const L=g.hasOwnProperty(Go)?g[Go]:Object.defineProperty(g,Go,{value:[]})[Go];for(;L.length<=D;)L.push(null);return(L[D]=L[D]||[]).push(l),g}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}const Kr=globalThis;function Br(e){for(let n in e)if(e[n]===Br)return n;throw Error("Could not find renamed property on target object.")}function ys(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function bs(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(bs).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function hc(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const vs=Br({__forward_ref__:Br});function Zi(e){return e.__forward_ref__=Zi,e.toString=function(){return bs(this())},e}function zi(e){return Ia(e)?e():e}function Ia(e){return"function"==typeof e&&e.hasOwnProperty(vs)&&e.__forward_ref__===Zi}function En(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Sr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Nc(e){return fd(e,Fu)||fd(e,bu)}function fd(e,n){return e.hasOwnProperty(n)?e[n]:null}function nu(e){return e&&(e.hasOwnProperty(pd)||e.hasOwnProperty(vu))?e[pd]:null}const Fu=Br({\u0275prov:Br}),pd=Br({\u0275inj:Br}),bu=Br({ngInjectableDef:Br}),vu=Br({ngInjectorDef:Br});class Ci{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=En({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ta(e){return e&&!!e.\u0275providers}const Xs=Br({\u0275cmp:Br}),qs=Br({\u0275dir:Br}),Vu=Br({\u0275pipe:Br}),Xo=Br({\u0275mod:Br}),Ll=Br({\u0275fac:Br}),_a=Br({__NG_ELEMENT_ID__:Br}),Na=Br({__NG_ENV_ID__:Br});function Nr(e){return"string"==typeof e?e:null==e?"":String(e)}function dp(e,n){throw new qt(-201,!1)}var Os=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Os||{});let ff;function bg(){return ff}function Bs(e){const n=ff;return ff=e,n}function Pd(e,n,t){const i=Nc(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Os.Optional?null:void 0!==n?n:void dp()}const Cu={},Fd="__NG_DI_FLAG__",Hu="ngTempTokenPath",Wa=/\n/gm,fp="__source";let ru;function su(e){const n=ru;return ru=e,n}function vg(e,n=Os.Default){if(void 0===ru)throw new qt(-203,!1);return null===ru?Pd(e,void 0,n):ru.get(e,n&Os.Optional?null:void 0,n)}function di(e,n=Os.Default){return(bg()||vg)(zi(e),n)}function Wt(e,n=Os.Default){return di(e,_f(n))}function _f(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ju(e){const n=[];for(let t=0;t<e.length;t++){const i=zi(e[t]);if(Array.isArray(i)){if(0===i.length)throw new qt(900,!1);let r,o=Os.Default;for(let l=0;l<i.length;l++){const u=i[l],g=gd(u);"number"==typeof g?-1===g?r=u.token:o|=g:r=u}n.push(di(r,o))}else n.push(di(i))}return n}function Bd(e,n){return e[Fd]=n,e.prototype[Fd]=n,e}function gd(e){return e[Fd]}const Tu=Bd(Jo("Optional"),8),gh=Bd(Jo("SkipSelf"),4);function Du(e,n){return e.hasOwnProperty(Ll)?e[Ll]:null}function fc(e,n){e.forEach(t=>Array.isArray(t)?fc(t,n):n(t))}function yf(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Uu(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Fl(e,n,t){let i=jd(e,n);return i>=0?e[1|i]=t:(i=~i,function Vd(e,n,t,i){let r=e.length;if(r==n)e.push(t,i);else if(1===r)e.push(i,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>n;)e[r]=e[r-2],r--;e[n]=t,e[n+1]=i}}(e,i,n,t)),i}function Hd(e,n){const t=jd(e,n);if(t>=0)return e[1|t]}function jd(e,n){return function gp(e,n,t){let i=0,r=e.length>>t;for(;r!==i;){const o=i+(r-i>>1),l=e[o<<t];if(n===l)return o<<t;l>n?r=o:i=o+1}return~(r<<t)}(e,n,1)}const pc={},Us=[],zu=new Ci(""),ou=new Ci("",-1),Yu=new Ci("");class bh{get(n,t=Cu){if(t===Cu){const i=new Error(`NullInjectorError: No provider for ${bs(n)}!`);throw i.name="NullInjectorError",i}return t}}var mp=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(mp||{}),gc=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(gc||{}),ds=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ds||{});function _p(e,n,t){let i=e.length;for(;;){const r=e.indexOf(n,t);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const o=n.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}t=r+1}}function yp(e,n,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],l=t[i++],u=t[i++];e.setAttribute(n,l,u,o)}else{const o=r,l=t[++i];vh(o)?e.setProperty(n,o,l):e.setAttribute(n,o,l),i++}}return i}function bp(e){return 3===e||4===e||6===e}function vh(e){return 64===e.charCodeAt(0)}function au(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?t=r:0===t||wh(e,t,r,null,-1===t||2===t?n[++i]:null)}}return e}function wh(e,n,t,i,r){let o=0,l=e.length;if(-1===n)l=-1;else for(;o<e.length;){const u=e[o++];if("number"==typeof u){if(u===n){l=-1;break}if(u>n){l=o-1;break}}}for(;o<e.length;){const u=e[o];if("number"==typeof u)break;if(u===t){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==l&&(e.splice(l,0,n),o=l+1),e.splice(o++,0,t),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}const Tg="ng-template";function $u(e,n,t,i){let r=0;if(i){for(;r<n.length&&"string"==typeof n[r];r+=2)if("class"===n[r]&&-1!==_p(n[r+1].toLowerCase(),t,0))return!0}else if(_d(e))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&"string"==typeof(o=n[r]);)if(o.toLowerCase()===t)return!0}return!1}function _d(e){return 4===e.type&&e.value!==Tg}function bf(e,n,t){return n===(4!==e.type||t?e.value:Tg)}function Dg(e,n,t){let i=4;const r=e.attrs,o=null!==r?function xg(e){for(let n=0;n<e.length;n++)if(bp(e[n]))return n;return e.length}(r):0;let l=!1;for(let u=0;u<n.length;u++){const g=n[u];if("number"!=typeof g){if(!l)if(4&i){if(i=2|1&i,""!==g&&!bf(e,g,t)||""===g&&1===n.length){if(Bl(i))return!1;l=!0}}else if(8&i){if(null===r||!$u(e,r,g,t)){if(Bl(i))return!1;l=!0}}else{const v=n[++u],D=vp(g,r,_d(e),t);if(-1===D){if(Bl(i))return!1;l=!0;continue}if(""!==v){let L;if(L=D>o?"":r[D+1].toLowerCase(),2&i&&v!==L){if(Bl(i))return!1;l=!0}}}}else{if(!l&&!Bl(i)&&!Bl(g))return!1;if(l&&Bl(g))continue;l=!1,i=g|1&i}}return Bl(i)||l}function Bl(e){return!(1&e)}function vp(e,n,t,i){if(null===n)return-1;let r=0;if(i||!t){let o=!1;for(;r<n.length;){const l=n[r];if(l===e)return r;if(3===l||6===l)o=!0;else{if(1===l||2===l){let u=n[++r];for(;"string"==typeof u;)u=n[++r];continue}if(4===l)break;if(0===l){r+=4;continue}}r+=o?1:2}return-1}return function vm(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const i=e[t];if("number"==typeof i)return-1;if(i===n)return t;t++}return-1}(n,e)}function vf(e,n,t=!1){for(let i=0;i<n.length;i++)if(Dg(e,n[i],t))return!0;return!1}function wm(e,n){e:for(let t=0;t<n.length;t++){const i=n[t];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function Cp(e,n){return e?":not("+n.trim()+")":n}function Tp(e){let n=e[0],t=1,i=2,r="",o=!1;for(;t<e.length;){let l=e[t];if("string"==typeof l)if(2&i){const u=e[++t];r+="["+l+(u.length>0?'="'+u+'"':"")+"]"}else 8&i?r+="."+l:4&i&&(r+=" "+l);else""!==r&&!Bl(l)&&(n+=Cp(o,r),r=""),i=l,o=o||!Bl(i);t++}return""!==r&&(n+=Cp(o,r)),n}function wr(e){return $r(()=>{const n=Dp(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===mp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||gc.Emulated,styles:e.styles||Us,_:null,schemas:e.schemas||null,tView:null,id:""};qi(t);const i=e.dependencies;return t.directiveDefs=yd(i,!1),t.pipeDefs=yd(i,!0),t.id=function Jl(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const r of t)n=Math.imul(31,n)+r.charCodeAt(0)|0;return n+=2147483648,"c"+n}(t),t})}function Vl(e){return ns(e)||na(e)}function Ud(e){return null!==e}function Ts(e){return $r(()=>({type:e.type,bootstrap:e.bootstrap||Us,declarations:e.declarations||Us,imports:e.imports||Us,exports:e.exports||Us,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Sg(e,n){if(null==e)return pc;const t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];let o,l,u=ds.None;Array.isArray(r)?(u=r[0],o=r[1],l=r[2]??o):(o=r,l=r),n?(t[o]=u!==ds.None?[i,u]:i,n[o]=l):t[o]=i}return t}function li(e){return $r(()=>{const n=Dp(e);return qi(n),n})}function ya(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function ns(e){return e[Xs]||null}function na(e){return e[qs]||null}function ba(e){return e[Vu]||null}function Dp(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||pc,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Us,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Sg(e.inputs,n),outputs:Sg(e.outputs),debugInfo:null}}function qi(e){e.features?.forEach(n=>n(e))}function yd(e,n){if(!e)return null;const t=n?ba:Vl;return()=>("function"==typeof e?e():e).map(i=>t(i)).filter(Ud)}function Wu(e){return{\u0275providers:e}}function zd(...e){return{\u0275providers:Ch(0,e),\u0275fromNgModule:!0}}function Ch(e,...n){const t=[],i=new Set;let r;const o=l=>{t.push(l)};return fc(n,l=>{const u=l;bd(u,o,[],i)&&(r||=[],r.push(u))}),void 0!==r&&ia(r,o),t}function ia(e,n){for(let t=0;t<e.length;t++){const{ngModule:i,providers:r}=e[t];Cl(r,o=>{n(o,i)})}}function bd(e,n,t,i){if(!(e=zi(e)))return!1;let r=null,o=nu(e);const l=!o&&ns(e);if(o||l){if(l&&!l.standalone)return!1;r=e}else{const g=e.ngModule;if(o=nu(g),!o)return!1;r=g}const u=i.has(r);if(l){if(u)return!1;if(i.add(r),l.dependencies){const g="function"==typeof l.dependencies?l.dependencies():l.dependencies;for(const v of g)bd(v,n,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!u){let v;i.add(r);try{fc(o.imports,D=>{bd(D,n,t,i)&&(v||=[],v.push(D))})}finally{}void 0!==v&&ia(v,n)}if(!u){const v=Du(r)||(()=>new r);n({provide:r,useFactory:v,deps:Us},r),n({provide:Yu,useValue:r,multi:!0},r),n({provide:zu,useValue:()=>di(r),multi:!0},r)}const g=o.providers;if(null!=g&&!u){const v=e;Cl(g,D=>{n(D,v)})}}}return r!==e&&void 0!==e.providers}function Cl(e,n){for(let t of e)ta(t)&&(t=t.\u0275providers),Array.isArray(t)?Cl(t,n):n(t)}const Ag=Br({provide:String,useValue:Br});function Cf(e){return null!==e&&"object"==typeof e&&Ag in e}function xu(e){return"function"==typeof e}const Tf=new Ci(""),Yd={},Tm={};let ku;function ec(){return void 0===ku&&(ku=new bh),ku}class Hl{}class vd extends Hl{get destroyed(){return this._destroyed}constructor(n,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xh(n,l=>this.processProvider(l)),this.records.set(ou,$d(void 0,this)),r.has("environment")&&this.records.set(Hl,$d(void 0,this));const o=this.records.get(Tf);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Yu,Us,Os.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=F(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),F(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=su(this),i=Bs(void 0);try{return n()}finally{su(t),Bs(i)}}get(n,t=Cu,i=Os.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Na))return n[Na](this);i=_f(i);const o=su(this),l=Bs(void 0);try{if(!(i&Os.SkipSelf)){let g=this.records.get(n);if(void 0===g){const v=function wd(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ci}(n)&&Nc(n);g=v&&this.injectableDefInScope(v)?$d(Pc(n),Yd):null,this.records.set(n,g)}if(null!=g)return this.hydrate(n,g)}return(i&Os.Self?ec():this.parent).get(n,t=i&Os.Optional&&t===Cu?null:t)}catch(u){if("NullInjectorError"===u.name){if((u[Hu]=u[Hu]||[]).unshift(bs(n)),o)throw u;return function wg(e,n,t,i){const r=e[Hu];throw n[fp]&&r.unshift(n[fp]),e.message=function ph(e,n,t,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=bs(n);if(Array.isArray(n))r=n.map(bs).join(" -> ");else if("object"==typeof n){let o=[];for(let l in n)if(n.hasOwnProperty(l)){let u=n[l];o.push(l+":"+("string"==typeof u?JSON.stringify(u):bs(u)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${e.replace(Wa,"\n  ")}`}("\n"+e.message,r,t,i),e.ngTokenPath=r,e[Hu]=null,e}(u,n,"R3InjectorError",this.source)}throw u}finally{Bs(l),su(o)}}resolveInjectorInitializers(){const n=F(null),t=su(this),i=Bs(void 0);try{const o=this.get(zu,Us,Os.Self);for(const l of o)l()}finally{su(t),Bs(i),F(n)}}toString(){const n=[],t=this.records;for(const i of t.keys())n.push(bs(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new qt(205,!1)}processProvider(n){let t=xu(n=zi(n))?n:zi(n&&n.provide);const i=function Dh(e){return Cf(e)?$d(void 0,e.useValue):$d(Og(e),Yd)}(n);if(!xu(n)&&!0===n.multi){let r=this.records.get(t);r||(r=$d(void 0,Yd,!0),r.factory=()=>ju(r.multi),this.records.set(t,r)),t=n,r.multi.push(n)}this.records.set(t,i)}hydrate(n,t){const i=F(null);try{return t.value===Yd&&(t.value=Tm,t.value=t.factory()),"object"==typeof t.value&&t.value&&function kp(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{F(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;const t=zi(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Pc(e){const n=Nc(e),t=null!==n?n.factory:Du(e);if(null!==t)return t;if(e instanceof Ci)throw new qt(204,!1);if(e instanceof Function)return function Mg(e){if(e.length>0)throw new qt(204,!1);const t=function Rl(e){return e&&(e[Fu]||e[bu])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new qt(204,!1)}function Og(e,n,t){let i;if(xu(e)){const r=zi(e);return Du(r)||Pc(r)}if(Cf(e))i=()=>zi(e.useValue);else if(function xp(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...ju(e.deps||[]));else if(function Th(e){return!(!e||!e.useExisting)}(e))i=()=>di(zi(e.useExisting));else{const r=zi(e&&(e.useClass||e.provide));if(!function Dm(e){return!!e.deps}(e))return Du(r)||Pc(r);i=()=>new r(...ju(e.deps))}return i}function $d(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function xh(e,n){for(const t of e)Array.isArray(t)?xh(t,n):t&&ta(t)?xh(t.\u0275providers,n):n(t)}const so=0,Xn=1,pr=2,va=3,ol=4,jl=5,Bc=6,al=7,oo=8,ll=9,tc=10,Vr=11,Wd=12,Ig=13,nc=14,Uo=15,Gd=16,lu=17,Ra=18,Ga=19,Vc=20,ic=21,Sp=22,kh=23,Rr=25,Hr=1,zo=7,Cd=9,vo=10;var Td=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Td||{});function La(e){return Array.isArray(e)&&"object"==typeof e[Hr]}function rc(e){return Array.isArray(e)&&!0===e[Hr]}function Ep(e){return!!(4&e.flags)}function Ul(e){return e.componentOffset>-1}function Sh(e){return!(1&~e.flags)}function Hc(e){return!!e.template}function ft(e){return!!(512&e[pr])}class Om{constructor(n,t,i){this.previousValue=n,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Im(e,n,t,i){null!==n?n.applyValueToInputSignal(n,i):e[t]=i}function Fa(){return T_}function T_(e){return e.type.prototype.ngOnChanges&&(e.setInput=D_),X0}function X0(){const e=Rg(this),n=e?.current;if(n){const t=e.previous;if(t===pc)e.previous=n;else for(let i in n)t[i]=n[i];e.current=null,this.ngOnChanges(n)}}function D_(e,n,t,i,r){const o=this.declaredInputs[i],l=Rg(e)||function q0(e,n){return e[Eu]=n}(e,{previous:pc,current:null}),u=l.current||(l.current={}),g=l.previous,v=g[o];u[o]=new Om(v&&v.currentValue,t,g===pc),Im(e,n,r,t)}Fa.ngInherit=!0;const Eu="__ngSimpleChanges__";function Rg(e){return e[Eu]||null}const sc=function(e,n,t){};let wa=!1;function se(e){for(;Array.isArray(e);)e=e[so];return e}function $e(e,n){return se(n[e])}function it(e,n){return se(n[e.index])}function rt(e,n){return e.data[n]}function It(e,n){return e[n]}function Rt(e,n){const t=n[e];return La(t)?t:t[so]}function Un(e){return!(128&~e[pr])}function Nn(e,n){return null==n?null:e[n]}function Vi(e){e[lu]=0}function Wi(e){1024&e[pr]||(e[pr]|=1024,Un(e)&&Ss(e))}function hs(e){return!!(9216&e[pr]||e[kh]?.dirty)}function fs(e){e[tc].changeDetectionScheduler?.notify(1),hs(e)?Ss(e):64&e[pr]&&(function K0(){return wa}()?(e[pr]|=1024,Ss(e)):e[tc].changeDetectionScheduler?.notify())}function Ss(e){e[tc].changeDetectionScheduler?.notify();let n=Ba(e);for(;null!==n&&!(8192&n[pr])&&(n[pr]|=8192,Un(n));)n=Ba(n)}function ua(e,n){if(!(256&~e[pr]))throw new qt(911,!1);null===e[ic]&&(e[ic]=[]),e[ic].push(n)}function Ba(e){const n=e[va];return rc(n)?n[va]:n}const si={lFrame:zl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ko(){return si.bindingsEnabled}function ls(){return null!==si.skipHydrationRootTNode}function sn(){return si.lFrame.lView}function ur(){return si.lFrame.tView}function At(e){return si.lFrame.contextLView=e,e[oo]}function St(e){return si.lFrame.contextLView=null,e}function Ns(){let e=Ih();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ih(){return si.lFrame.currentTNode}function yc(e,n){const t=si.lFrame;t.currentTNode=e,t.isParent=n}function Nh(){return si.lFrame.isParent}function qa(){si.lFrame.isParent=!1}function jc(){const e=si.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Au(){return si.lFrame.bindingIndex}function Gu(){return si.lFrame.bindingIndex++}function Df(e){const n=si.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function Nb(e,n){const t=si.lFrame;t.bindingIndex=t.bindingRootIndex=e,xf(n)}function xf(e){si.lFrame.currentDirectiveIndex=e}function Rb(e){const n=si.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}function Lm(){return si.lFrame.currentQueryIndex}function Np(e){si.lFrame.currentQueryIndex=e}function Lb(e){const n=e[Xn];return 2===n.type?n.declTNode:1===n.type?e[jl]:null}function Pm(e,n,t){if(t&Os.SkipSelf){let r=n,o=e;for(;!(r=r.parent,null!==r||t&Os.Host||(r=Lb(o),null===r||(o=o[nc],10&r.type))););if(null===r)return!1;n=r,e=o}const i=si.lFrame=Xu();return i.currentTNode=n,i.lView=e,!0}function Ka(e){const n=Xu(),t=e[Xn];si.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Xu(){const e=si.lFrame,n=null===e?null:e.child;return null===n?zl(e):n}function zl(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Fm(){const e=si.lFrame;return si.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Bm=Fm;function Dd(){const e=Fm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function bc(){return si.lFrame.selectedIndex}function Rp(e){si.lFrame.selectedIndex=e}function ra(){const e=si.lFrame;return rt(e.tView,e.selectedIndex)}let kf=!0;function Pg(){return kf}function Mu(e){kf=e}function e1(e,n){for(let t=n.directiveStart,i=n.directiveEnd;t<i;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:u,ngAfterViewInit:g,ngAfterViewChecked:v,ngOnDestroy:D}=o;l&&(e.contentHooks??=[]).push(-t,l),u&&((e.contentHooks??=[]).push(t,u),(e.contentCheckHooks??=[]).push(t,u)),g&&(e.viewHooks??=[]).push(-t,g),v&&((e.viewHooks??=[]).push(t,v),(e.viewCheckHooks??=[]).push(t,v)),null!=D&&(e.destroyHooks??=[]).push(t,D)}}function Rh(e,n,t){Uc(e,n,3,t)}function cu(e,n,t,i){(3&e[pr])===t&&Uc(e,n,t,i)}function qd(e,n){let t=e[pr];(3&t)===n&&(t&=16383,t+=1,e[pr]=t)}function Uc(e,n,t,i){const o=i??-1,l=n.length-1;let u=0;for(let g=void 0!==i?65535&e[lu]:0;g<l;g++)if("number"==typeof n[g+1]){if(u=n[g],null!=i&&u>=i)break}else n[g]<0&&(e[lu]+=65536),(u<o||-1==o)&&(Lh(e,t,n,g),e[lu]=(4294901760&e[lu])+g+2),g++}function xd(e,n){sc(4,e,n);const t=F(null);try{n.call(e)}finally{F(t),sc(5,e,n)}}function Lh(e,n,t,i){const r=t[i]<0,o=t[i+1],u=e[r?-t[i]:t[i]];r?e[pr]>>14<e[lu]>>16&&(3&e[pr])===n&&(e[pr]+=16384,xd(u,o)):xd(u,o)}const Ph=-1;class Fg{constructor(n,t,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Vb(e){return e!==Ph}function qu(e){return 32767&e}function Bg(e,n){let t=function ax(e){return e>>16}(e),i=n;for(;t>0;)i=i[nc],t--;return i}let Hb=!0;function x_(e){const n=Hb;return Hb=e,n}const jb=255,t1=5;let k_=0;const uu={};function Hm(e,n){const t=Ub(e,n);if(-1!==t)return t;const i=n[Xn];i.firstCreatePass&&(e.injectorIndex=n.length,ul(i.data,e),ul(n,null),ul(i.blueprint,null));const r=jm(e,n),o=e.injectorIndex;if(Vb(r)){const l=qu(r),u=Bg(r,n),g=u[Xn].data;for(let v=0;v<8;v++)n[o+v]=u[l+v]|g[l+v]}return n[o+8]=r,o}function ul(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Ub(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function jm(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,i=null,r=n;for(;null!==r;){if(i=Wb(r),null===i)return Ph;if(t++,r=r[nc],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Ph}function ao(e,n,t){!function Dw(e,n,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(_a)&&(i=t[_a]),null==i&&(i=t[_a]=k_++);const r=i&jb;n.data[e+(r>>t1)]|=1<<r}(e,n,t)}function Vg(e,n,t){if(t&Os.Optional||void 0!==e)return e;dp()}function Hg(e,n,t,i){if(t&Os.Optional&&void 0===i&&(i=null),!(t&(Os.Self|Os.Host))){const r=e[ll],o=Bs(void 0);try{return r?r.get(n,i,t&Os.Optional):Pd(n,i,t&Os.Optional)}finally{Bs(o)}}return Vg(i,0,t)}function zb(e,n,t,i=Os.Default,r){if(null!==e){if(2048&n[pr]&&!(i&Os.Self)){const l=function Aw(e,n,t,i,r){let o=e,l=n;for(;null!==o&&null!==l&&2048&l[pr]&&!(512&l[pr]);){const u=Yb(o,l,t,i|Os.Self,uu);if(u!==uu)return u;let g=o.parent;if(!g){const v=l[Vc];if(v){const D=v.get(t,uu,i);if(D!==uu)return D}g=Wb(l),l=l[nc]}o=g}return r}(e,n,t,i,uu);if(l!==uu)return l}const o=Yb(e,n,t,i,uu);if(o!==uu)return o}return Hg(n,t,i,r)}function Yb(e,n,t,i,r){const o=function kw(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(_a)?e[_a]:void 0;return"number"==typeof n?n>=0?n&jb:Ew:n}(t);if("function"==typeof o){if(!Pm(n,e,i))return i&Os.Host?Vg(r,0,i):Hg(n,t,i,r);try{let l;if(l=o(i),null!=l||i&Os.Optional)return l;dp()}finally{Bm()}}else if("number"==typeof o){let l=null,u=Ub(e,n),g=Ph,v=i&Os.Host?n[Uo][jl]:null;for((-1===u||i&Os.SkipSelf)&&(g=-1===u?jm(e,n):n[u+8],g!==Ph&&Sw(i,!1)?(l=n[Xn],u=qu(g),n=Bg(g,n)):u=-1);-1!==u;){const D=n[Xn];if($b(o,u,D.data)){const L=Ef(u,n,t,l,i,v);if(L!==uu)return L}g=n[u+8],g!==Ph&&Sw(i,n[Xn].data[u+8]===v)&&$b(o,u,n)?(l=D,u=qu(g),n=Bg(g,n)):u=-1}}return r}function Ef(e,n,t,i,r,o){const l=n[Xn],u=l.data[e+8],D=S_(u,l,t,null==i?Ul(u)&&Hb:i!=l&&!!(3&u.type),r&Os.Host&&o===u);return null!==D?jg(n,l,D,u):uu}function S_(e,n,t,i,r){const o=e.providerIndexes,l=n.data,u=1048575&o,g=e.directiveStart,D=o>>20,ce=r?u+D:e.directiveEnd;for(let ue=i?u:u+D;ue<ce;ue++){const Se=l[ue];if(ue<g&&t===Se||ue>=g&&Se.type===t)return ue}if(r){const ue=l[g];if(ue&&Hc(ue)&&ue.type===t)return g}return null}function jg(e,n,t,i){let r=e[t];const o=n.data;if(function Fb(e){return e instanceof Fg}(r)){const l=r;l.resolving&&function up(e,n){throw n&&n.join(" > "),new qt(-200,e)}(function Cs(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Nr(e)}(o[t]));const u=x_(l.canSeeViewProviders);l.resolving=!0;const v=l.injectImpl?Bs(l.injectImpl):null;Pm(e,i,Os.Default);try{r=e[t]=l.factory(void 0,o,e,i),n.firstCreatePass&&t>=i.directiveStart&&function J0(e,n,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){const l=T_(n);(t.preOrderHooks??=[]).push(e,l),(t.preOrderCheckHooks??=[]).push(e,l)}r&&(t.preOrderHooks??=[]).push(0-e,r),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}(t,o[t],n)}finally{null!==v&&Bs(v),x_(u),l.resolving=!1,Bm()}}return r}function $b(e,n,t){return!!(t[n+(e>>t1)]&1<<e)}function Sw(e,n){return!(e&Os.Self||e&Os.Host&&n)}class Za{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,i){return zb(this._tNode,this._lView,n,_f(i),t)}}function Ew(){return new Za(Ns(),sn())}function qo(e){return $r(()=>{const n=e.prototype.constructor,t=n[Ll]||E_(n),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const o=r[Ll]||E_(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function E_(e){return Ia(e)?()=>{const n=E_(zi(e));return n&&n()}:Du(e)}function Wb(e){const n=e[Xn],t=n.type;return 2===t?n.declTNode:1===t?e[jl]:null}function i1(e,n=null,t=null,i){const r=r1(e,n,t,i);return r.resolveInjectorInitializers(),r}function r1(e,n=null,t=null,i,r=new Set){const o=[t||Us,zd(e)];return i=i||("object"==typeof e?void 0:bs(e)),new vd(o,n||ec(),i||null,r)}let Ko=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Cu;static#t=this.NULL=new bh;static create(t,i){if(Array.isArray(t))return i1({name:""},i,t,"");{const r=t.name??"";return i1({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=En({token:e,providedIn:"any",factory:()=>di(ou)});static#i=this.__NG_ELEMENT_ID__=-1}return e})();function s1(e){return e.ngOriginalError}class Sd{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&s1(n);for(;t&&s1(t);)t=s1(t);return t||null}}const Ou=new Ci("",{providedIn:"root",factory:()=>Wt(Sd).handleError.bind(void 0)});let Ku=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Nw;static#t=this.__NG_ENV_ID__=t=>t}return e})();class Iw extends Ku{constructor(n){super(),this._lView=n}onDestroy(n){return ua(this._lView,n),()=>function Ca(e,n){if(null===e[ic])return;const t=e[ic].indexOf(n);-1!==t&&e[ic].splice(t,1)}(this._lView,n)}}function Nw(){return new Iw(sn())}function Pw(){return Mf(Ns(),sn())}function Mf(e,n){return new es(it(e,n))}let es=(()=>{class e{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=Pw}return e})();function Va(e){return e instanceof es?e.nativeElement:e}function a1(e){return n=>{setTimeout(e,void 0,n)}}const pi=class o1 extends yr{constructor(n=!1){super(),this.destroyRef=void 0,this.__isAsync=n,function mc(){return void 0!==bg()||null!=function fh(){return ru}()}()&&(this.destroyRef=Wt(Ku,{optional:!0})??void 0)}emit(n){const t=F(null);try{super.next(n)}finally{F(t)}}subscribe(n,t,i){let r=n,o=t||(()=>null),l=i;if(n&&"object"==typeof n){const g=n;r=g.next?.bind(g),o=g.error?.bind(g),l=g.complete?.bind(g)}this.__isAsync&&(o=a1(o),r&&(r=a1(r)),l&&(l=a1(l)));const u=super.subscribe({next:r,error:o,complete:l});return n instanceof Pn&&n.add(u),u}};function Ym(){return this._results[Symbol.iterator]()}class N_{static#e=Symbol.iterator;get changes(){return this._changes??=new pi}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=N_.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Ym)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;const i=function ca(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function mh(e,n,t){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=n[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function $m(e){return!(128&~e.flags)}const Wm=new Map;let Fw=0;const F_="__ngContext__";function vc(e,n){La(n)?(e[F_]=n[Ga],function Vw(e){Wm.set(e[Ga],e)}(n)):e[F_]=n}function V_(e){return d1(e[Wd])}function Vp(e){return d1(e[ol])}function d1(e){for(;null!==e&&!rc(e);)e=e[ol];return e}let j_;function Of(){if(void 0!==j_)return j_;if(typeof document<"u")return document;throw new qt(210,!1)}const U_=new Ci("",{providedIn:"root",factory:()=>Ww}),Ww="ng",z_=new Ci(""),eh=new Ci("",{providedIn:"platform",factory:()=>"unknown"}),Gw=new Ci(""),Ha=new Ci("",{providedIn:"root",factory:()=>Of().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let qm=()=>null;function Lf(e,n,t=!1){return qm(e,n,t)}const dv=new Ci("",{providedIn:"root",factory:()=>!1});let Vh,Jm;function Qm(e){return function w1(){if(void 0===Vh&&(Vh=null,Kr.trustedTypes))try{Vh=Kr.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Vh}()?.createHTML(e)||e}function pv(e){return function X_(){if(void 0===Jm&&(Jm=null,Kr.trustedTypes))try{Jm=Kr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Jm}()?.createHTML(e)||e}class m{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ai})`}}class T extends m{getTypeName(){return"HTML"}}class I extends m{getTypeName(){return"Style"}}class oe extends m{getTypeName(){return"Script"}}class de extends m{getTypeName(){return"URL"}}class fe extends m{getTypeName(){return"ResourceURL"}}function ye(e){return e instanceof m?e.changingThisBreaksApplicationSecurity:e}function Ye(e,n){const t=function je(e){return e instanceof m&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${ai})`)}return t===n}class Rn{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const t=(new window.DOMParser).parseFromString(Qm(n),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(n):(t.removeChild(t.firstChild),t)}catch{return null}}}class hn{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const t=this.inertDocument.createElement("template");return t.innerHTML=Qm(n),t}}const $n=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bi(e){return(e=String(e)).match($n)?e:"unsafe:"+e}function gi(e){const n={};for(const t of e.split(","))n[t]=!0;return n}function Zn(...e){const n={};for(const t of e)for(const i in t)t.hasOwnProperty(i)&&(n[i]=!0);return n}const jr=gi("area,br,col,hr,img,wbr"),cs=gi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wo=gi("rp,rt"),hi=Zn(jr,Zn(cs,gi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zn(wo,gi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zn(wo,cs)),Ot=gi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ni=Zn(Ot,gi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),gi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nr=gi("script,style,template");class ji{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let t=n.firstChild,i=!0,r=[];for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)r.push(t),t=Qr(t);else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=xr(t);if(o){t=o;break}t=r.pop()}return this.buf.join("")}startElement(n){const t=dl(n).toLowerCase();if(!hi.hasOwnProperty(t))return this.sanitizedSomething=!0,!nr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=n.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),l=o.name,u=l.toLowerCase();if(!ni.hasOwnProperty(u)){this.sanitizedSomething=!0;continue}let g=o.value;Ot[u]&&(g=bi(g)),this.buf.push(" ",l,'="',go(g),'"')}return this.buf.push(">"),!0}endElement(n){const t=dl(n).toLowerCase();hi.hasOwnProperty(t)&&!jr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(go(n))}}function xr(e){const n=e.nextSibling;if(n&&e!==n.previousSibling)throw Ho(n);return n}function Qr(e){const n=e.firstChild;if(n&&function hr(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,n))throw Ho(n);return n}function dl(e){const n=e.nodeName;return"string"==typeof n?n:"FORM"}function Ho(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const Yo=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Dl=/([^\#-~ |!])/g;function go(e){return e.replace(/&/g,"&amp;").replace(Yo,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Dl,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Co;function Li(e,n){let t=null;try{Co=Co||function mr(e){const n=new hn(e);return function yi(){try{return!!(new window.DOMParser).parseFromString(Qm(""),"text/html")}catch{return!1}}()?new Rn(n):n}(e);let i=n?String(n):"";t=Co.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=Co.getInertBodyElement(i)}while(i!==o);return Qm((new ji).sanitizeChildren(Cr(t)||t))}finally{if(t){const i=Cr(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Cr(e){return"content"in e&&function Vs(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var wn=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(wn||{});function mo(e){const n=q_();return n?pv(n.sanitize(wn.HTML,e)||""):Ye(e,"HTML")?pv(ye(e)):Li(Of(),Nr(e))}function ha(e){const n=q_();return n?n.sanitize(wn.URL,e)||"":Ye(e,"URL")?ye(e):bi(Nr(e))}function q_(){const e=sn();return e&&e[tc].sanitizer}const bx=/^>|^->|<!--|-->|--!>|<!-$/g,GA=/(<|>)/g,Jw="\u200b$1\u200b";function yv(e){return e.ownerDocument}var Gp=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Gp||{});let bv;function vv(e,n){return bv(e,n)}function s0(e,n,t,i,r){if(null!=i){let o,l=!1;rc(i)?o=i:La(i)&&(l=!0,i=i[so]);const u=se(i);0===e&&null!==t?null==r?dC(n,t,u):o0(n,t,u,r||null,!0):1===e&&null!==t?o0(n,t,u,r||null,!0):2===e?function T1(e,n,t){const i=J_(e,n);i&&function Lx(e,n,t,i){e.removeChild(n,t,i)}(e,i,n,t)}(n,u,l):3===e&&n.destroyNode(u),null!=o&&function nM(e,n,t,i,r){const o=t[zo];o!==se(t)&&s0(n,e,i,o,r);for(let u=vo;u<t.length;u++){const g=t[u];ty(g[Xn],g,e,n,i,o)}}(n,e,o,t,r)}}function cC(e,n){return e.createComment(function mv(e){return e.replace(bx,n=>n.replace(GA,Jw))}(n))}function qg(e,n,t){return e.createElement(n,t)}function uC(e,n){n[tc].changeDetectionScheduler?.notify(1),ty(e,n,n[Vr],2,null,null)}function Ix(e,n){const t=e[Cd],i=t.indexOf(n);t.splice(i,1)}function Q_(e,n){if(e.length<=vo)return;const t=vo+n,i=e[t];if(i){const r=i[Gd];null!==r&&r!==e&&Ix(r,i),n>0&&(e[t-1][ol]=i[ol]);const o=Uu(e,vo+n);!function Sx(e,n){uC(e,n),n[so]=null,n[jl]=null}(i[Xn],i);const l=o[Ra];null!==l&&l.detachView(o[Xn]),i[va]=null,i[ol]=null,i[pr]&=-129}return i}function Cv(e,n){if(!(256&n[pr])){const t=n[Vr];t.destroyNode&&ty(e,n,t,3,null,null),function Ax(e){let n=e[Wd];if(!n)return Tv(e[Xn],e);for(;n;){let t=null;if(La(n))t=n[Wd];else{const i=n[vo];i&&(t=i)}if(!t){for(;n&&!n[ol]&&n!==e;)La(n)&&Tv(n[Xn],n),n=n[va];null===n&&(n=e),La(n)&&Tv(n[Xn],n),t=n&&n[ol]}n=t}}(n)}}function Tv(e,n){if(256&n[pr])return;const t=F(null);try{n[pr]&=-129,n[pr]|=256,n[kh]&&function me(e){if(st(e),Ce(e))for(let n=0;n<e.producerNode.length;n++)pe(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(n[kh]),function Rx(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let i=0;i<t.length;i+=2){const r=n[t[i]];if(!(r instanceof Fg)){const o=t[i+1];if(Array.isArray(o))for(let l=0;l<o.length;l+=2){const u=r[o[l]],g=o[l+1];sc(4,u,g);try{g.call(u)}finally{sc(5,u,g)}}else{sc(4,r,o);try{o.call(r)}finally{sc(5,r,o)}}}}}(e,n),function Nx(e,n){const t=e.cleanup,i=n[al];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const l=t[o+3];l>=0?i[l]():i[-l].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(n[al]=null);const r=n[ic];if(null!==r){n[ic]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(e,n),1===n[Xn].type&&n[Vr].destroy();const i=n[Gd];if(null!==i&&rc(n[va])){i!==n[va]&&Ix(i,n);const r=n[Ra];null!==r&&r.detachView(e)}!function Hw(e){Wm.delete(e[Ga])}(n)}finally{F(t)}}function Dv(e,n,t){return function Uh(e,n,t){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return t[so];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=e.data[i.directiveStart+r];if(o===gc.None||o===gc.Emulated)return null}return it(i,t)}}(e,n.parent,t)}function o0(e,n,t,i,r){e.insertBefore(n,t,i,r)}function dC(e,n,t){e.appendChild(n,t)}function hC(e,n,t,i,r){null!==i?o0(e,n,t,i,r):dC(e,n,t)}function J_(e,n){return e.parentNode(n)}function fC(e,n,t){return gC(e,n,t)}let xv,gC=function pC(e,n,t){return 40&e.type?it(e,t):null};function kv(e,n,t,i){const r=Dv(e,i,n),o=n[Vr],u=fC(i.parent||n[jl],i,n);if(null!=r)if(Array.isArray(t))for(let g=0;g<t.length;g++)hC(o,r,t[g],u,!1);else hC(o,r,t,u,!1);void 0!==xv&&xv(o,i,n,t,r)}function ey(e,n){if(null!==n){const t=n.type;if(3&t)return it(n,e);if(4&t)return _C(-1,e[n.index]);if(8&t){const i=n.child;if(null!==i)return ey(e,i);{const r=e[n.index];return rc(r)?_C(-1,r):se(r)}}if(32&t)return vv(n,e)()||se(e[n.index]);{const i=Ff(e,n);return null!==i?Array.isArray(i)?i[0]:ey(Ba(e[Uo]),i):ey(e,n.next)}}return null}function Ff(e,n){return null!==n?e[Uo][jl].projection[n.projection]:null}function _C(e,n){const t=vo+e+1;if(t<n.length){const i=n[t],r=i[Xn].firstChild;if(null!==r)return ey(i,r)}return n[zo]}function Sv(e,n,t,i,r,o,l){for(;null!=t;){const u=i[t.index],g=t.type;if(l&&0===n&&(u&&vc(se(u),i),t.flags|=2),32&~t.flags)if(8&g)Sv(e,n,t.child,i,r,o,!1),s0(n,e,r,u,o);else if(32&g){const v=vv(t,i);let D;for(;D=v();)s0(n,e,r,D,o);s0(n,e,r,u,o)}else 16&g?tM(e,n,i,t,r,o):s0(n,e,r,u,o);t=l?t.projectionNext:t.next}}function ty(e,n,t,i,r,o){Sv(t,i,e.firstChild,n,r,o,!1)}function tM(e,n,t,i,r,o){const l=t[Uo],g=l[jl].projection[i.projection];if(Array.isArray(g))for(let v=0;v<g.length;v++)s0(n,e,r,g[v],o);else{let v=g;const D=l[va];$m(i)&&(v.flags|=128),Sv(e,n,v,D,r,o,!0)}}function yC(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function bC(e,n,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&yp(e,n,i),null!==r&&yC(e,n,r),null!==o&&function iM(e,n,t){e.setAttribute(n,"style",t)}(e,n,o)}const xs={};function he(e=1){Ev(ur(),sn(),bc()+e,!1)}function Ev(e,n,t,i){if(!i)if(3&~n[pr]){const o=e.preOrderHooks;null!==o&&cu(n,o,0,t)}else{const o=e.preOrderCheckHooks;null!==o&&Rh(n,o,t)}Rp(t)}function lt(e,n=Os.Default){const t=sn();return null===t?di(e,n):zb(Ns(),t,zi(e),n)}function Vx(e,n,t,i,r,o){const l=F(null);try{let u=null;r&ds.SignalBased&&(u=n[i][S]),null!==u&&void 0!==u.transformFn&&(o=u.transformFn(o)),r&ds.HasDecoratorInputTransform&&(o=e.inputTransforms[i].call(n,o)),null!==e.setInput?e.setInput(n,u,o,t,i):Im(n,u,i,o)}finally{F(l)}}function D1(e,n,t,i,r,o,l,u,g,v,D){const L=n.blueprint.slice();return L[so]=r,L[pr]=204|i,(null!==v||e&&2048&e[pr])&&(L[pr]|=2048),Vi(L),L[va]=L[nc]=e,L[oo]=t,L[tc]=l||e&&e[tc],L[Vr]=u||e&&e[Vr],L[ll]=g||e&&e[ll]||null,L[jl]=o,L[Ga]=function Bw(){return Fw++}(),L[Bc]=D,L[Vc]=v,L[Uo]=2==n.type?e[Uo]:L,L}function Kg(e,n,t,i,r){let o=e.data[n];if(null===o)o=function ny(e,n,t,i,r){const o=Ih(),l=Nh(),g=e.data[n]=function lM(e,n,t,i,r,o){let l=n?n.injectorIndex:-1,u=0;return ls()&&(u|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:l,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:u,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?o:o&&o.parent,t,n,i,r);return null===e.firstChild&&(e.firstChild=g),null!==o&&(l?null==o.child&&null!==g.parent&&(o.child=g):null===o.next&&(o.next=g,g.prev=o)),g}(e,n,t,i,r),function Q0(){return si.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const l=function _c(){const e=si.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===l?-1:l.injectorIndex}return yc(o,!0),o}function Xp(e,n,t,i){if(0===t)return-1;const r=n.length;for(let o=0;o<t;o++)n.push(i),e.blueprint.push(i),e.data.push(null);return r}function x1(e,n,t,i,r){const o=bc(),l=2&i;try{Rp(-1),l&&n.length>Rr&&Ev(e,n,Rr,!1),sc(l?2:0,r),t(i,r)}finally{Rp(o),sc(l?3:1,r)}}function iy(e,n,t){if(Ep(n)){const i=F(null);try{const o=n.directiveEnd;for(let l=n.directiveStart;l<o;l++){const u=e.data[l];u.contentQueries&&u.contentQueries(1,t[l],l)}}finally{F(i)}}}function ry(e,n,t){ko()&&(function gM(e,n,t,i){const r=t.directiveStart,o=t.directiveEnd;Ul(t)&&function DC(e,n,t){const i=it(n,e),r=a0(t);let l=16;t.signals?l=4096:t.onPush&&(l=64);const u=E1(e,D1(e,r,null,l,i,n,null,e[tc].rendererFactory.createRenderer(i,t),null,null,null));e[n.index]=u}(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||Hm(t,n),vc(i,n);const l=t.initialInputs;for(let u=r;u<o;u++){const g=e.data[u],v=jg(n,e,u,t);vc(v,n),null!==l&&Iv(0,u-r,v,g,0,l),Hc(g)&&(Rt(t.index,n)[oo]=jg(n,e,u,t))}}(e,n,t,it(t,n)),!(64&~t.flags)&&zx(e,n,t))}function k1(e,n,t=it){const i=n.localNames;if(null!==i){let r=n.index+1;for(let o=0;o<i.length;o+=2){const l=i[o+1],u=-1===l?t(n,e):e[l];e[r++]=u}}}function a0(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Av(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Av(e,n,t,i,r,o,l,u,g,v,D){const L=Rr+i,ce=L+r,ue=function vC(e,n){const t=[];for(let i=0;i<n;i++)t.push(i<e?null:xs);return t}(L,ce),Se="function"==typeof v?v():v;return ue[Xn]={type:e,blueprint:ue,template:t,queries:null,viewQuery:u,declTNode:n,data:ue.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:g,consts:Se,incompleteFirstPass:!1,ssrId:D}}let Mv=()=>null;function Hx(e,n,t,i,r){for(let o in n){if(!n.hasOwnProperty(o))continue;const l=n[o];if(void 0===l)continue;i??={};let u,g=ds.None;Array.isArray(l)?(u=l[0],g=l[1]):u=l;let v=o;if(null!==r){if(!r.hasOwnProperty(o))continue;v=r[o]}0===e?jx(i,t,v,u,g):jx(i,t,v,u)}return i}function jx(e,n,t,i,r){let o;e.hasOwnProperty(t)?(o=e[t]).push(n,i):o=e[t]=[n,i],void 0!==r&&o.push(r)}function Ju(e,n,t,i,r,o,l,u){const g=it(n,t);let D,v=n.inputs;!u&&null!=v&&(D=v[i])?(Rv(e,t,D,i,r),Ul(n)&&function dM(e,n){const t=Rt(n,e);16&t[pr]||(t[pr]|=64)}(t,n.index)):3&n.type&&(i=function uM(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=l?l(r,n.value||"",i):r,o.setProperty(g,i,r))}function CC(e,n,t,i){if(ko()){const r=null===i?null:{"":-1},o=function _M(e,n){const t=e.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const l=t[o];if(vf(n,l.selectors,!1))if(i||(i=[]),Hc(l))if(null!==l.findHostDirectiveDefs){const u=[];r=r||new Map,l.findHostDirectiveDefs(l,u,r),i.unshift(...u,l),TC(e,n,u.length)}else i.unshift(l),TC(e,n,0);else r=r||new Map,l.findHostDirectiveDefs?.(l,i,r),i.push(l)}return null===i?null:[i,r]}(e,t);let l,u;null===o?l=u=null:[l,u]=o,null!==l&&Ux(e,n,t,l,r,u),r&&function yM(e,n,t){if(n){const i=e.localNames=[];for(let r=0;r<n.length;r+=2){const o=t[n[r+1]];if(null==o)throw new qt(-301,!1);i.push(n[r],o)}}}(t,i,r)}t.mergedAttrs=au(t.mergedAttrs,t.attrs)}function Ux(e,n,t,i,r,o){for(let v=0;v<i.length;v++)ao(Hm(t,n),e,i[v].type);!function $x(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,i.length);for(let v=0;v<i.length;v++){const D=i[v];D.providersResolver&&D.providersResolver(D)}let l=!1,u=!1,g=Xp(e,n,i.length,null);for(let v=0;v<i.length;v++){const D=i[v];t.mergedAttrs=au(t.mergedAttrs,D.hostAttrs),bM(e,t,n,g,D),Yx(g,D,r),null!==D.contentQueries&&(t.flags|=4),(null!==D.hostBindings||null!==D.hostAttrs||0!==D.hostVars)&&(t.flags|=64);const L=D.type.prototype;!l&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),l=!0),!u&&(L.ngOnChanges||L.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),u=!0),g++}!function cM(e,n,t){const r=n.directiveEnd,o=e.data,l=n.attrs,u=[];let g=null,v=null;for(let D=n.directiveStart;D<r;D++){const L=o[D],ce=t?t.get(L):null,Se=ce?ce.outputs:null;g=Hx(0,L.inputs,D,g,ce?ce.inputs:null),v=Hx(1,L.outputs,D,v,Se);const Ve=null===g||null===l||_d(n)?null:S1(g,D,l);u.push(Ve)}null!==g&&(g.hasOwnProperty("class")&&(n.flags|=8),g.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=u,n.inputs=g,n.outputs=v}(e,t,o)}function zx(e,n,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,l=function ww(){return si.lFrame.currentDirectiveIndex}();try{Rp(o);for(let u=i;u<r;u++){const g=e.data[u],v=n[u];xf(u),(null!==g.hostBindings||0!==g.hostVars||null!==g.hostAttrs)&&mM(g,v)}}finally{Rp(-1),xf(l)}}function mM(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function TC(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function Yx(e,n,t){if(t){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)t[n.exportAs[i]]=e;Hc(n)&&(t[""]=e)}}function bM(e,n,t,i,r){e.data[i]=r;const o=r.factory||(r.factory=Du(r.type)),l=new Fg(o,Hc(r),lt);e.blueprint[i]=l,t[i]=l,function fM(e,n,t,i,r){const o=r.hostBindings;if(o){let l=e.hostBindingOpCodes;null===l&&(l=e.hostBindingOpCodes=[]);const u=~n.index;(function pM(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(l)!=u&&l.push(u),l.push(t,i,o)}}(e,n,i,Xp(e,t,r.hostVars,xs),r)}function zh(e,n,t,i,r,o){const l=it(e,n);!function Ov(e,n,t,i,r,o,l){if(null==o)e.removeAttribute(n,r,t);else{const u=null==l?Nr(o):l(o,i||"",r);e.setAttribute(n,r,u,t)}}(n[Vr],l,o,e.value,t,i,r)}function Iv(e,n,t,i,r,o){const l=o[n];if(null!==l)for(let u=0;u<l.length;)Vx(i,t,l[u++],l[u++],l[u++],l[u++])}function S1(e,n,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===i&&(i=[]);const l=e[o];for(let u=0;u<l.length;u+=3)if(l[u]===n){i.push(o,l[u+1],l[u+2],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function Wx(e,n,t,i){return[e,!0,0,n,null,i,null,t,null,null]}function Gx(e,n){const t=e.contentQueries;if(null!==t){const i=F(null);try{for(let r=0;r<t.length;r+=2){const l=t[r+1];if(-1!==l){const u=e.data[l];Np(t[r]),u.contentQueries(2,n[l],l)}}}finally{F(i)}}}function E1(e,n){return e[Wd]?e[Ig][ol]=n:e[Wd]=n,e[Ig]=n,n}function A1(e,n,t){Np(0);const i=F(null);try{n(e,t)}finally{F(i)}}function xC(e){return e[al]||(e[al]=[])}function Xx(e){return e.cleanup||(e.cleanup=[])}function l0(e,n,t){return(null===e||Hc(e))&&(t=function _e(e){for(;Array.isArray(e);){if("object"==typeof e[Hr])return e;e=e[so]}return null}(t[n.index])),t[Vr]}function Nv(e,n){const t=e[ll],i=t?t.get(Sd,null):null;i&&i.handleError(n)}function Rv(e,n,t,i,r){for(let o=0;o<t.length;){const l=t[o++],u=t[o++],g=t[o++];Vx(e.data[l],n[l],i,u,g,r)}}function qp(e,n,t){const i=$e(n,e);!function lC(e,n,t){e.setValue(n,t)}(e[Vr],i,t)}function qx(e,n){const t=Rt(n,e),i=t[Xn];!function vM(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(i,t);const r=t[so];null!==r&&null===t[Bc]&&(t[Bc]=Lf(r,t[ll])),Lv(i,t,t[oo])}function Lv(e,n,t){Ka(n);try{const i=e.viewQuery;null!==i&&A1(1,i,t);const r=e.template;null!==r&&x1(e,n,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Ra]?.finishViewCreation(e),e.staticContentQueries&&Gx(e,n),e.staticViewQueries&&A1(2,e.viewQuery,t);const o=e.components;null!==o&&function eN(e,n){for(let t=0;t<n.length;t++)qx(e,n[t])}(n,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{n[pr]&=-5,Dd()}}function c0(e,n){return!n||null===n.firstChild||$m(e)}function oy(e,n,t,i=!0){const r=n[Xn];if(function Mx(e,n,t,i){const r=vo+i,o=t.length;i>0&&(t[r-1][ol]=n),i<o-vo?(n[ol]=t[r],yf(t,vo+i,n)):(t.push(n),n[ol]=null),n[va]=t;const l=n[Gd];null!==l&&t!==l&&function Ox(e,n){const t=e[Cd];n[Uo]!==n[va][va][Uo]&&(e[pr]|=Td.HasTransplantedViews),null===t?e[Cd]=[n]:t.push(n)}(l,n);const u=n[Ra];null!==u&&u.insertView(e),fs(n),n[pr]|=128}(r,n,e,t),i){const l=_C(t,e),u=n[Vr],g=J_(u,e[zo]);null!==g&&function Ex(e,n,t,i,r,o){i[so]=r,i[jl]=n,ty(e,i,t,1,r,o)}(r,e[jl],u,n,g,l)}const o=n[Bc];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function Bv(e,n,t,i,r=!1){for(;null!==t;){const o=n[t.index];null!==o&&i.push(se(o)),rc(o)&&Kx(o,i);const l=t.type;if(8&l)Bv(e,n,t.child,i);else if(32&l){const u=vv(t,n);let g;for(;g=u();)i.push(g)}else if(16&l){const u=Ff(n,t);if(Array.isArray(u))i.push(...u);else{const g=Ba(n[Uo]);Bv(g[Xn],g,u,i,!0)}}t=r?t.projectionNext:t.next}return i}function Kx(e,n){for(let t=vo;t<e.length;t++){const i=e[t],r=i[Xn].firstChild;null!==r&&Bv(i[Xn],i,r,n)}e[zo]!==e[so]&&n.push(e[zo])}let Vv=[];const tN={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Ss(e.lView)},consumerOnSignalRead(){this.lView[kh]=this}},CM=100;function kC(e,n=!0,t=0){const i=e[tc],r=i.rendererFactory;r.begin?.();try{!function nN(e,n){M1(e,n);let t=0;for(;hs(e);){if(t===CM)throw new qt(103,!1);t++,M1(e,1)}}(e,t)}catch(l){throw n&&Nv(e,l),l}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function rN(e,n,t,i){const r=n[pr];if(!(256&~r))return;n[tc].inlineEffectRunner?.flush(),Ka(n);let l=null,u=null;(function TM(e){return 2!==e.type})(e)&&(u=function wM(e){return e[kh]??function Zx(e){const n=Vv.pop()??Object.create(tN);return n.lView=e,n}(e)}(n),l=function W(e){return e&&(e.nextProducerIndex=0),F(e)}(u));try{Vi(n),function Ib(e){return si.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&x1(e,n,t,2,i);const g=!(3&~r);if(g){const L=e.preOrderCheckHooks;null!==L&&Rh(n,L,null)}else{const L=e.preOrderHooks;null!==L&&cu(n,L,0,null),qd(n,0)}if(function SC(e){for(let n=V_(e);null!==n;n=Vp(n)){if(!(n[pr]&Td.HasTransplantedViews))continue;const t=n[Cd];for(let i=0;i<t.length;i++){Wi(t[i])}}}(n),Jx(n,0),null!==e.contentQueries&&Gx(e,n),g){const L=e.contentCheckHooks;null!==L&&Rh(n,L)}else{const L=e.contentHooks;null!==L&&cu(n,L,1),qd(n,1)}!function Bf(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Rp(~r);else{const o=r,l=t[++i],u=t[++i];Nb(l,o),u(2,n[o])}}}finally{Rp(-1)}}(e,n);const v=e.components;null!==v&&Hv(n,v,0);const D=e.viewQuery;if(null!==D&&A1(2,D,i),g){const L=e.viewCheckHooks;null!==L&&Rh(n,L)}else{const L=e.viewHooks;null!==L&&cu(n,L,2),qd(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Sp]){for(const L of n[Sp])L();n[Sp]=null}n[pr]&=-73}catch(g){throw Ss(n),g}finally{null!==u&&(function K(e,n){if(F(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ce(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)pe(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(u,l),function Qx(e){e.lView[kh]!==e&&(e.lView=null,Vv.push(e))}(u)),Dd()}}function Jx(e,n){for(let t=V_(e);null!==t;t=Vp(t))for(let i=vo;i<t.length;i++)ek(t[i],n)}function DM(e,n,t){ek(Rt(n,e),t)}function ek(e,n){Un(e)&&M1(e,n)}function M1(e,n){const i=e[Xn],r=e[pr],o=e[kh];let l=!!(0===n&&16&r);if(l||=!!(64&r&&0===n),l||=!!(1024&r),l||=!(!o?.dirty||!ie(o)),o&&(o.dirty=!1),e[pr]&=-9217,l)rN(i,e,i.template,e[oo]);else if(8192&r){Jx(e,1);const u=i.components;null!==u&&Hv(e,u,1)}}function Hv(e,n,t){for(let i=0;i<n.length;i++)DM(e,n[i],t)}function jv(e){for(e[tc].changeDetectionScheduler?.notify();e;){e[pr]|=64;const n=Ba(e);if(ft(e)&&!n)return e;e=n}return null}class Uv{get rootNodes(){const n=this._lView,t=n[Xn];return Bv(t,n,t.firstChild,[])}constructor(n,t,i=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[oo]}set context(n){this._lView[oo]=n}get destroyed(){return!(256&~this._lView[pr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[va];if(rc(n)){const t=n[8],i=t?t.indexOf(this):-1;i>-1&&(Q_(n,i),Uu(t,i))}this._attachedToViewContainer=!1}Cv(this._lView[Xn],this._lView)}onDestroy(n){ua(this._lView,n)}markForCheck(){jv(this._cdRefInjectingView||this._lView)}detach(){this._lView[pr]&=-129}reattach(){fs(this._lView),this._lView[pr]|=128}detectChanges(){this._lView[pr]|=1024,kC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new qt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,uC(this._lView[Xn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new qt(902,!1);this._appRef=n,fs(this._lView)}}let Yl=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=aN}return e})();const sN=Yl,oN=class extends sN{constructor(n,t,i){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,i){const r=function Pv(e,n,t,i){const r=F(null);try{const o=n.tView,g=D1(e,o,t,4096&e[pr]?4096:16,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);g[Gd]=e[n.index];const D=e[Ra];return null!==D&&(g[Ra]=D.createEmbeddedView(o)),Lv(o,g,t),g}finally{F(r)}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:i});return new Uv(r)}};function aN(){return EC(Ns(),sn())}function EC(e,n){return 4&e.type?new oN(n,e,Mf(e,n)):null}class LC{}class LM{}class Gv{}class Qg{resolveComponentFactory(n){throw function PM(e){const n=Error(`No component factory found for ${bs(e)}.`);return n.ngComponent=e,n}(n)}}let Wh=(()=>{class e{static#e=this.NULL=new Qg}return e})();class td{}let hl=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function PC(){const e=sn(),t=Rt(Ns().index,e);return(La(t)?t:e)[Vr]}()}return e})(),Qp=(()=>{class e{static#e=this.\u0275prov=En({token:e,providedIn:"root",factory:()=>null})}return e})();const FC={},qv=new Set;function uk(...e){}class Es{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pi(!1),this.onMicrotaskEmpty=new pi(!1),this.onStable=new pi(!1),this.onError=new pi(!1),typeof Zone>"u")throw new qt(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function kl(){const e="function"==typeof Kr.requestAnimationFrame;let n=Kr[e?"requestAnimationFrame":"setTimeout"],t=Kr[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function uy(e){const n=()=>{!function BM(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Kr,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,VC(e),e.isCheckStableRunning=!0,BC(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),VC(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,l,u)=>{if(function VM(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(u))return t.invokeTask(r,o,l,u);try{return dk(e),t.invokeTask(r,o,l,u)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),hk(e)}},onInvoke:(t,i,r,o,l,u,g)=>{try{return dk(e),t.invoke(r,o,l,u,g)}finally{e.shouldCoalesceRunChangeDetection&&n(),hk(e)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,VC(e),BC(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Es.isInAngularZone())throw new qt(909,!1)}static assertNotInAngularZone(){if(Es.isInAngularZone())throw new qt(909,!1)}run(n,t,i){return this._inner.run(n,t,i)}runTask(n,t,i,r){const o=this._inner,l=o.scheduleEventTask("NgZoneEvent: "+r,n,FM,uk,uk);try{return o.runTask(l,t,i)}finally{o.cancelTask(l)}}runGuarded(n,t,i){return this._inner.runGuarded(n,t,i)}runOutsideAngular(n){return this._outer.run(n)}}const FM={};function BC(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function VC(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function dk(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function hk(e){e._nesting--,BC(e)}class fk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pi,this.onMicrotaskEmpty=new pi,this.onStable=new pi,this.onError=new pi}run(n,t,i){return n.apply(t,i)}runGuarded(n,t,i){return n.apply(t,i)}runOutsideAngular(n){return n()}runTask(n,t,i,r){return n.apply(t,i)}}let O1=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of t)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=En({token:e,providedIn:"root",factory:()=>new e})}return e})();function h0(e,n,t){let i=t?e.styles:null,r=t?e.classes:null,o=0;if(null!==n)for(let l=0;l<n.length;l++){const u=n[l];"number"==typeof u?o=u:1==o?r=hc(r,u):2==o&&(i=hc(i,u+": "+n[++l]+";"))}t?e.styles=i:e.stylesWithoutHost=i,t?e.classes=r:e.classesWithoutHost=r}class $C extends Wh{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=ns(n);return new my(t,this.ngModule)}}function _k(e){const n=[];for(const t in e){if(!e.hasOwnProperty(t))continue;const i=e[t];void 0!==i&&n.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return n}class gy{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,i){i=_f(i);const r=this.injector.get(n,FC,i);return r!==FC||t===FC?r:this.parentInjector.get(n,t,i)}}class my extends Gv{get inputs(){const n=this.componentDef,t=n.inputTransforms,i=_k(n.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return _k(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function kg(e){return e.map(Tp).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,i,r){const o=F(null);try{let l=(r=r||this.ngModule)instanceof Hl?r:r?.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const u=l?new gy(n,l):n,g=u.get(td,null);if(null===g)throw new qt(407,!1);const v=u.get(Qp,null),ce={rendererFactory:g,sanitizer:v,inlineEffectRunner:null,afterRenderEventManager:u.get(O1,null),changeDetectionScheduler:u.get(LC,null)},ue=g.createRenderer(null,this.componentDef),Se=this.componentDef.selectors[0][0]||"div",Ve=i?function sy(e,n,t,i){const o=i.get(dv,!1)||t===gc.ShadowDom,l=e.selectRootElement(n,o);return function wC(e){Mv(e)}(l),l}(ue,i,this.componentDef.encapsulation,u):qg(ue,Se,function yk(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Se));let at=512;this.componentDef.signals?at|=4096:this.componentDef.onPush||(at|=16);let dt=null;null!==Ve&&(dt=Lf(Ve,u,!0));const yt=Av(0,null,null,1,0,null,null,null,null,null,null),Dn=D1(null,yt,null,at,null,null,ce,ue,u,null,dt);let In,oi;Ka(Dn);try{const Ti=this.componentDef;let lr,Ur=null;Ti.findHostDirectiveDefs?(lr=[],Ur=new Map,Ti.findHostDirectiveDefs(Ti,lr,Ur),lr.push(Ti)):lr=[Ti];const oa=function YM(e,n){const t=e[Xn],i=Rr;return e[i]=n,Kg(t,i,2,"#host",null)}(Dn,Ve),pa=function $M(e,n,t,i,r,o,l){const u=r[Xn];!function I1(e,n,t,i){for(const r of e)n.mergedAttrs=au(n.mergedAttrs,r.hostAttrs);null!==n.mergedAttrs&&(h0(n,n.mergedAttrs,!0),null!==t&&bC(i,t,n))}(i,e,n,l);let g=null;null!==n&&(g=Lf(n,r[ll]));const v=o.rendererFactory.createRenderer(n,t);let D=16;t.signals?D=4096:t.onPush&&(D=64);const L=D1(r,a0(t),null,D,r[e.index],e,o,v,null,null,g);return u.firstCreatePass&&TC(u,e,i.length-1),E1(r,L),r[e.index]=L}(oa,Ve,Ti,lr,Dn,ce,ue);oi=rt(yt,Rr),Ve&&function Uf(e,n,t,i){if(i)yp(e,t,["ng-version","17.3.6"]);else{const{attrs:r,classes:o}=function Lc(e){const n=[],t=[];let i=1,r=2;for(;i<e.length;){let o=e[i];if("string"==typeof o)2===r?""!==o&&n.push(o,e[++i]):8===r&&t.push(o);else{if(!Bl(r))break;r=o}i++}return{attrs:n,classes:t}}(n.selectors[0]);r&&yp(e,t,r),o&&o.length>0&&yC(e,t,o.join(" "))}}(ue,Ti,Ve,i),void 0!==t&&function vk(e,n,t){const i=e.projection=[];for(let r=0;r<n.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(oi,this.ngContentSelectors,t),In=function bk(e,n,t,i,r,o){const l=Ns(),u=r[Xn],g=it(l,r);Ux(u,r,l,t,null,i);for(let D=0;D<t.length;D++)vc(jg(r,u,l.directiveStart+D,l),r);zx(u,r,l),g&&vc(g,r);const v=jg(r,u,l.directiveStart+l.componentOffset,l);if(e[oo]=r[oo]=v,null!==o)for(const D of o)D(v,n);return iy(u,l,r),v}(pa,Ti,lr,Ur,Dn,[WM]),Lv(yt,Dn,null)}finally{Dd()}return new zM(this.componentType,In,Mf(oi,Dn),Dn,oi)}finally{F(o)}}}class zM extends LM{constructor(n,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Uv(r,void 0,!1),this.componentType=n}setInput(n,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const o=this._rootLView;Rv(o[Xn],o,r,n,t),this.previousInputValues.set(n,t),jv(Rt(this._tNode.index,o))}}get injector(){return new Za(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function WM(){const e=Ns();e1(sn()[Xn],e)}let Dc=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=GM}return e})();function GM(){return GC(Ns(),sn())}const XM=Dc,wk=class extends XM{constructor(n,t,i){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=i}get element(){return Mf(this._hostTNode,this._hostLView)}get injector(){return new Za(this._hostTNode,this._hostLView)}get parentInjector(){const n=jm(this._hostTNode,this._hostLView);if(Vb(n)){const t=Bg(n,this._hostLView),i=qu(n);return new Za(t[Xn].data[i+8],t)}return new Za(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=Ck(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-vo}createEmbeddedView(n,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const u=n.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(u,r,c0(this._hostTNode,null)),u}createComponent(n,t,i,r,o){const l=n&&!function vt(e){return"function"==typeof e}(n);let u;if(l)u=t;else{const Se=t||{};u=Se.index,i=Se.injector,r=Se.projectableNodes,o=Se.environmentInjector||Se.ngModuleRef}const g=l?n:new my(ns(n)),v=i||this.parentInjector;if(!o&&null==g.ngModule){const Ve=(l?v:this.parentInjector).get(Hl,null);Ve&&(o=Ve)}ns(g.componentType??{});const ue=g.create(v,r,null,o);return this.insertImpl(ue.hostView,u,c0(this._hostTNode,null)),ue}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,i){const r=n._lView;if(function Mi(e){return rc(e[va])}(r)){const u=this.indexOf(n);if(-1!==u)this.detach(u);else{const g=r[va],v=new wk(g,g[jl],g[va]);v.detach(v.indexOf(n))}}const o=this._adjustIndex(t),l=this._lContainer;return oy(l,r,o,i),n.attachToViewContainerRef(),yf(WC(l),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=Ck(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),i=Q_(this._lContainer,t);i&&(Uu(WC(this._lContainer),t),Cv(i[Xn],i))}detach(n){const t=this._adjustIndex(n,-1),i=Q_(this._lContainer,t);return i&&null!=Uu(WC(this._lContainer),t)?new Uv(i):null}_adjustIndex(n,t=0){return n??this.length+t}};function Ck(e){return e[8]}function WC(e){return e[8]||(e[8]=[])}function GC(e,n){let t;const i=n[e.index];return rc(i)?t=i:(t=Wx(i,n,null,e),n[e.index]=t,E1(n,t)),Tk(t,n,e,i),new wk(t,e,n)}let Tk=function xk(e,n,t,i){if(e[zo])return;let r;r=8&t.type?se(i):function qM(e,n){const t=e[Vr],i=t.createComment(""),r=it(n,e);return o0(t,J_(t,r),i,function Px(e,n){return e.nextSibling(n)}(t,r),!1),i}(n,t),e[zo]=r},XC=()=>!1;class N1{constructor(n){this.queryList=n,this.matches=null}clone(){return new N1(this.queryList)}setDirty(){this.queryList.setDirty()}}class _y{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const i=null!==n.contentQueries?n.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const l=t.getByIndex(o);r.push(this.queries[l.indexInDeclarationView].clone())}return new _y(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==tT(n,t).matches&&this.queries[t].setDirty()}}class kk{constructor(n,t,i=null){this.flags=t,this.read=i,this.predicate="string"==typeof n?function Jv(e){return e.split(",").map(n=>n.trim())}(n):n}}class xa{constructor(n=[]){this.queries=n}elementStart(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new xa(t):null}template(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class jt{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new jt(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(n,t,Qn(t,o)),this.matchTNodeWithReadOption(n,t,S_(t,n,o,!1,!1))}else i===Yl?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,S_(t,n,i,!1,!1))}matchTNodeWithReadOption(n,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===es||r===Dc||r===Yl&&4&t.type)this.addMatch(t.index,-2);else{const o=S_(t,n,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function Qn(e,n){const t=e.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===n)return t[i+1];return null}function f0(e,n,t,i){return-1===t?function QM(e,n){return 11&e.type?Mf(e,n):4&e.type?EC(e,n):null}(n,e):-2===t?function R1(e,n,t){return t===es?Mf(n,e):t===Yl?EC(n,e):t===Dc?GC(n,e):void 0}(e,n,i):jg(e,e[Xn],t,n)}function Zv(e,n,t,i){const r=n[Ra].queries[i];if(null===r.matches){const o=e.data,l=t.matches,u=[];for(let g=0;null!==l&&g<l.length;g+=2){const v=l[g];u.push(v<0?null:f0(n,o[v],l[g+1],t.metadata.read))}r.matches=u}return r.matches}function KC(e,n,t,i){const r=e.queries.getByIndex(t),o=r.matches;if(null!==o){const l=Zv(e,n,r,t);for(let u=0;u<o.length;u+=2){const g=o[u];if(g>0)i.push(l[u/2]);else{const v=o[u+1],D=n[-g];for(let L=vo;L<D.length;L++){const ce=D[L];ce[Gd]===ce[va]&&KC(ce[Xn],ce,v,i)}if(null!==D[Cd]){const L=D[Cd];for(let ce=0;ce<L.length;ce++){const ue=L[ce];KC(ue[Xn],ue,v,i)}}}}}return i}function QC(e,n,t){const i=ur();return i.firstCreatePass&&(function eT(e,n,t){null===e.queries&&(e.queries=new xa),e.queries.track(new jt(n,t))}(i,new kk(e,n,t),-1),!(2&~n)&&(i.staticViewQueries=!0)),function Qv(e,n,t){const i=new N_(!(4&~t));return function aM(e,n,t,i){const r=xC(n);r.push(t),e.firstCreatePass&&Xx(e).push(i,r.length-1)}(e,n,i,i.destroy),(n[Ra]??=new _y).queries.push(new N1(i))-1}(i,sn(),n)}function tT(e,n){return e.queries.getByIndex(n)}function Sk(e,n){const t=e[Xn],i=tT(t,n);return i.crossesNgTemplate?KC(t,e,n,[]):Zv(t,e,i,n)}function nT(e){return function Ek(e){return"function"==typeof e&&void 0!==e[S]}(e)&&"function"==typeof e.set}function lo(e){let n=function l2(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const i=[e];for(;n;){let r;if(Hc(e))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new qt(903,!1);r=n.\u0275dir}if(r){if(t){i.push(r);const l=e;l.inputs=c2(e.inputs),l.inputTransforms=c2(e.inputTransforms),l.declaredInputs=c2(e.declaredInputs),l.outputs=c2(e.outputs);const u=r.hostBindings;u&&f3(e,u);const g=r.viewQuery,v=r.contentQueries;if(g&&Bk(e,g),v&&uT(e,v),d3(e,r),ys(e.outputs,r.outputs),Hc(r)&&r.data.animation){const D=e.data;D.animation=(D.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let l=0;l<o.length;l++){const u=o[l];u&&u.ngInherit&&u(e),u===lo&&(t=!1)}}n=Object.getPrototypeOf(n)}!function h3(e){let n=0,t=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=n+=r.hostVars,r.hostAttrs=au(r.hostAttrs,t=au(t,r.hostAttrs))}}(i)}function d3(e,n){for(const t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;const i=n.inputs[t];if(void 0!==i&&(e.inputs[t]=i,e.declaredInputs[t]=n.declaredInputs[t],null!==n.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!n.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=n.inputTransforms[r]}}}function c2(e){return e===pc?{}:e===Us?[]:e}function Bk(e,n){const t=e.viewQuery;e.viewQuery=t?(i,r)=>{n(i,r),t(i,r)}:n}function uT(e,n){const t=e.contentQueries;e.contentQueries=t?(i,r,o)=>{n(i,r,o),t(i,r,o)}:n}function f3(e,n){const t=e.hostBindings;e.hostBindings=t?(i,r)=>{n(i,r),t(i,r)}:n}class ng{}class _3{}class Uk extends ng{constructor(n,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $C(this);const r=function sl(e,n){const t=e[Xo]||null;if(!t&&!0===n)throw new Error(`Type ${bs(e)} does not have '\u0275mod' property.`);return t}(n);this._bootstrapComponents=function Qu(e){return e instanceof Function?e():e}(r.bootstrap),this._r3Injector=r1(n,t,[{provide:ng,useValue:this},{provide:Wh,useValue:this.componentFactoryResolver},...i],bs(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class dT extends _3{constructor(n){super(),this.moduleType=n}create(n){return new Uk(this.moduleType,n,[])}}class zk extends ng{constructor(n){super(),this.componentFactoryResolver=new $C(this),this.instance=null;const t=new vd([...n.providers,{provide:ng,useValue:this},{provide:Wh,useValue:this.componentFactoryResolver}],n.parent||ec(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}let Jg=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Vn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function d2(e){return!!function fT(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Yf(e,n,t){return e[n]=t}function fl(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function g0(e,n,t,i){const r=fl(e,n,t);return fl(e,n+1,i)||r}function m0(e,n,t,i,r){const o=g0(e,n,t,i);return fl(e,n+2,r)||o}function Qt(e,n,t,i,r,o,l,u){const g=sn(),v=ur(),D=e+Rr,L=v.firstCreatePass?function x3(e,n,t,i,r,o,l,u,g){const v=n.consts,D=Kg(n,e,4,l||null,Nn(v,u));CC(n,t,D,Nn(v,g)),e1(n,D);const L=D.tView=Av(2,D,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,v,null);return null!==n.queries&&(n.queries.template(n,D),L.queries=n.queries.embeddedTView(D)),D}(D,v,g,n,t,i,r,o,l):v.data[D];yc(L,!1);const ce=$k(v,g,L,e);Pg()&&kv(v,g,ce,L),vc(ce,g);const ue=Wx(ce,g,ce,L);return g[D]=ue,E1(g,ue),function Dk(e,n,t){return XC(e,n,t)}(ue,L,g),Sh(L)&&ry(v,g,L),null!=l&&k1(g,L,u),Qt}let $k=function Wk(e,n,t,i){return Mu(!0),n[Vr].createComment("")};function Zs(e,n,t,i){const r=sn();return fl(r,Gu(),n)&&(ur(),zh(ra(),r,e,n,t,i)),Zs}function v0(e,n,t,i){return fl(e,Gu(),t)?n+Nr(t)+i:xs}function x2(e,n){return e<<17|n<<2}function $f(e){return e>>17&32767}function k2(e){return 2|e}function C0(e){return(131068&e)>>2}function S2(e,n){return-131069&e|n<<2}function DT(e){return 1|e}function bS(e,n,t,i){const r=e[t+1],o=null===n;let l=i?$f(r):C0(r),u=!1;for(;0!==l&&(!1===u||o);){const v=e[l+1];vS(e[l],n)&&(u=!0,e[l+1]=i?DT(v):k2(v)),l=i?$f(v):C0(v)}u&&(e[t+1]=i?k2(r):DT(r))}function vS(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&jd(e,n)>=0}const Wl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wS(e){return e.substring(Wl.key,Wl.keyEnd)}function kT(e,n){const t=Wl.textEnd;return t===n?-1:(n=Wl.keyEnd=function TS(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,Wl.key=n,t),T0(e,n,t))}function T0(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function Pe(e,n,t){const i=sn();return fl(i,Gu(),n)&&Ju(ur(),ra(),i,e,n,i[Vr],t,!1),Pe}function MT(e,n,t,i,r){const l=r?"class":"style";Rv(e,t,n.inputs[l],l,i)}function Gh(e,n,t){return nh(e,n,t,!1),Gh}function ci(e,n){return nh(e,n,null,!0),ci}function rd(e){!function Xh(e,n,t,i){const r=ur(),o=Df(2);r.firstUpdatePass&&OT(r,null,o,i);const l=sn();if(t!==xs&&fl(l,o,t)){const u=r.data[bc()];if(b(u,i)&&!kS(r,o)){let g=i?u.classesWithoutHost:u.stylesWithoutHost;null!==g&&(t=hc(g,t||"")),MT(r,u,l,t,i)}else!function a(e,n,t,i,r,o,l,u){r===xs&&(r=Us);let g=0,v=0,D=0<r.length?r[0]:null,L=0<o.length?o[0]:null;for(;null!==D||null!==L;){const ce=g<r.length?r[g+1]:void 0,ue=v<o.length?o[v+1]:void 0;let Ve,Se=null;D===L?(g+=2,v+=2,ce!==ue&&(Se=L,Ve=ue)):null===L||null!==D&&D<L?(g+=2,Se=D):(v+=2,Se=L,Ve=ue),null!==Se&&h(e,n,t,i,Se,Ve,l,u),D=g<r.length?r[g]:null,L=v<o.length?o[v]:null}}(r,u,l,l[Vr],l[o+1],l[o+1]=function K3(e,n,t){if(null==t||""===t)return Us;const i=[],r=ye(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else"string"==typeof r&&n(i,r);return i}(e,n,t),i,o)}}(s,Gf,e,!0)}function Gf(e,n){for(let t=function xT(e){return function CS(e){Wl.key=0,Wl.keyEnd=0,Wl.value=0,Wl.valueEnd=0,Wl.textEnd=e.length}(e),kT(e,T0(e,0,Wl.textEnd))}(n);t>=0;t=kT(n,t))Fl(e,wS(n),!0)}function nh(e,n,t,i){const r=sn(),o=ur(),l=Df(2);o.firstUpdatePass&&OT(o,e,l,i),n!==xs&&fl(r,l,n)&&h(o,o.data[bc()],r,r[Vr],e,r[l+1]=function y(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=bs(ye(e)))),e}(n,t),i,l)}function kS(e,n){return n>=e.expandoStartIndex}function OT(e,n,t,i){const r=e.data;if(null===r[t+1]){const o=r[bc()],l=kS(e,t);b(o,i)&&null===n&&!l&&(n=!1),n=function X3(e,n,t,i){const r=Rb(e);let o=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(t=Ny(t=M2(null,e,n,t,i),n.attrs,i),o=null);else{const l=n.directiveStylingLast;if(-1===l||e[l]!==r)if(t=M2(r,e,n,t,i),null===o){let g=function q3(e,n,t){const i=t?n.classBindings:n.styleBindings;if(0!==C0(i))return e[$f(i)]}(e,n,i);void 0!==g&&Array.isArray(g)&&(g=M2(null,e,n,g[1],i),g=Ny(g,n.attrs,i),function A2(e,n,t,i){e[$f(t?n.classBindings:n.styleBindings)]=i}(e,n,i,g))}else o=function IT(e,n,t){let i;const r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++)i=Ny(i,e[o].hostAttrs,t);return Ny(i,n.attrs,t)}(e,n,i)}return void 0!==o&&(i?n.residualClasses=o:n.residualStyles=o),t}(r,o,n,i),function $3(e,n,t,i,r,o){let l=o?n.classBindings:n.styleBindings,u=$f(l),g=C0(l);e[i]=t;let D,v=!1;if(Array.isArray(t)?(D=t[1],(null===D||jd(t,D)>0)&&(v=!0)):D=t,r)if(0!==g){const ce=$f(e[u+1]);e[i+1]=x2(ce,u),0!==ce&&(e[ce+1]=S2(e[ce+1],i)),e[u+1]=function _S(e,n){return 131071&e|n<<17}(e[u+1],i)}else e[i+1]=x2(u,0),0!==u&&(e[u+1]=S2(e[u+1],i)),u=i;else e[i+1]=x2(g,0),0===u?u=i:e[g+1]=S2(e[g+1],i),g=i;v&&(e[i+1]=k2(e[i+1])),bS(e,D,i,!0),bS(e,D,i,!1),function W3(e,n,t,i,r){const o=r?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&jd(o,n)>=0&&(t[i+1]=DT(t[i+1]))}(n,D,e,i,o),l=x2(u,g),o?n.classBindings=l:n.styleBindings=l}(r,o,n,t,l,i)}}function M2(e,n,t,i,r){let o=null;const l=t.directiveEnd;let u=t.directiveStylingLast;for(-1===u?u=t.directiveStart:u++;u<l&&(o=n[u],i=Ny(i,o.hostAttrs,r),o!==e);)u++;return null!==e&&(t.directiveStylingLast=u),i}function Ny(e,n,t){const i=t?1:2;let r=-1;if(null!==n)for(let o=0;o<n.length;o++){const l=n[o];"number"==typeof l?r=l:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Fl(e,l,!!t||n[++o]))}return void 0===e?null:e}function s(e,n,t){const i=String(n);""!==i&&!i.includes(" ")&&Fl(e,i,t)}function h(e,n,t,i,r,o,l,u){if(!(3&n.type))return;const g=e.data,v=g[u+1],D=function yS(e){return!(1&~e)}(v)?f(g,n,t,r,C0(v),l):void 0;p(D)||(p(o)||function mS(e){return!(2&~e)}(v)&&(o=f(g,null,t,r,u,l)),function Bx(e,n,t,i,r){if(n)r?e.addClass(t,i):e.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Gp.DashCase;null==r?e.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Gp.Important),e.setStyle(t,i,r,o))}}(i,l,$e(bc(),t),r,o))}function f(e,n,t,i,r,o){const l=null===n;let u;for(;r>0;){const g=e[r],v=Array.isArray(g),D=v?g[1]:g,L=null===D;let ce=t[r+1];ce===xs&&(ce=L?Us:void 0);let ue=L?Hd(ce,i):D===i?ce:void 0;if(v&&!p(ue)&&(ue=Hd(g,i)),p(ue)&&(u=ue,l))return u;const Se=e[r+1];r=l?$f(Se):C0(Se)}if(null!==n){let g=o?n.residualClasses:n.residualStyles;null!=g&&(u=Hd(g,i))}return u}function p(e){return void 0!==e}function b(e,n){return!!(e.flags&(n?8:16))}function B(e,n,t,i){const r=sn(),o=ur(),l=Rr+e,u=r[Vr],g=o.firstCreatePass?function nn(e,n,t,i,r,o){const l=n.consts,g=Kg(n,e,2,i,Nn(l,r));return CC(n,t,g,Nn(l,o)),null!==g.attrs&&h0(g,g.attrs,!1),null!==g.mergedAttrs&&h0(g,g.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,g),g}(l,o,r,n,t,i):o.data[l],v=zn(o,r,g,u,n,e);r[l]=v;const D=Sh(g);return yc(g,!0),bC(u,v,g),!function wy(e){return!(32&~e.flags)}(g)&&Pg()&&kv(o,r,v,g),0===function ps(){return si.lFrame.elementDepthCount}()&&vc(v,r),function gs(){si.lFrame.elementDepthCount++}(),D&&(ry(o,r,g),iy(o,g,r)),null!==i&&k1(r,g),B}function P(){let e=Ns();Nh()?qa():(e=e.parent,yc(e,!1));const n=e;(function Fr(e){return si.skipHydrationRootTNode===e})(n)&&function Vo(){si.skipHydrationRootTNode=null}(),function cl(){si.lFrame.elementDepthCount--}();const t=ur();return t.firstCreatePass&&(e1(t,e),Ep(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function Tw(e){return!!(8&e.flags)}(n)&&MT(t,n,sn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Bb(e){return!!(16&e.flags)}(n)&&MT(t,n,sn(),n.stylesWithoutHost,!1),P}function et(e,n,t,i){return B(e,n,t,i),P(),et}let zn=(e,n,t,i,r,o)=>(Mu(!0),qg(i,r,function ox(){return si.lFrame.currentNamespace}()));function xt(e,n,t){const i=sn(),r=ur(),o=e+Rr,l=r.firstCreatePass?function or(e,n,t,i,r){const o=n.consts,l=Nn(o,i),u=Kg(n,e,8,"ng-container",l);return null!==l&&h0(u,l,!0),CC(n,t,u,Nn(o,r)),null!==n.queries&&n.queries.elementStart(n,u),u}(o,r,i,n,t):r.data[o];yc(l,!0);const u=Yt(r,i,l,e);return i[o]=u,Pg()&&kv(r,i,u,l),vc(u,i),Sh(l)&&(ry(r,i,l),iy(r,l,i)),null!=t&&k1(i,l),xt}function bn(){let e=Ns();const n=ur();return Nh()?qa():(e=e.parent,yc(e,!1)),n.firstCreatePass&&(e1(n,e),Ep(e)&&n.queries.elementEnd(e)),bn}let Yt=(e,n,t,i)=>(Mu(!0),cC(n[Vr],""));function tt(){return sn()}function Cn(e,n,t){const i=sn();if(fl(i,Gu(),n)){const o=ur(),l=ra();Ju(o,l,i,e,n,l0(Rb(o.data),l,i),t,!0)}return Cn}const is="en-US";let Yn=is;function ln(e,n,t,i){const r=sn(),o=ur(),l=Ns();return e4(o,r,r[Vr],l,e,n,i),ln}function e4(e,n,t,i,r,o,l){const u=Sh(i),v=e.firstCreatePass&&Xx(e),D=n[oo],L=xC(n);let ce=!0;if(3&i.type||l){const Ve=it(i,n),at=l?l(Ve):Ve,dt=L.length,yt=l?In=>l(se(In[i.index])):i.index;let Dn=null;if(!l&&u&&(Dn=function MV(e,n,t,i){const r=e.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const l=r[o];if(l===t&&r[o+1]===i){const u=n[al],g=r[o+2];return u.length>g?u[g]:null}"string"==typeof l&&(o+=2)}return null}(e,n,r,i.index)),null!==Dn)(Dn.__ngLastListenerFn__||Dn).__ngNextListenerFn__=o,Dn.__ngLastListenerFn__=o,ce=!1;else{o=$N(i,n,D,o,!1);const In=t.listen(at,r,o);L.push(o,In),v&&v.push(r,yt,dt,dt+1)}}else o=$N(i,n,D,o,!1);const ue=i.outputs;let Se;if(ce&&null!==ue&&(Se=ue[r])){const Ve=Se.length;if(Ve)for(let at=0;at<Ve;at+=2){const oi=n[Se[at]][Se[at+1]].subscribe(o),Ti=L.length;L.push(o,oi),v&&v.push(r,i.index,Ti,-(Ti+1))}}}function YN(e,n,t,i){const r=F(null);try{return sc(6,n,t),!1!==t(i)}catch(o){return Nv(e,o),!1}finally{sc(7,n,t),F(r)}}function $N(e,n,t,i,r){return function o(l){if(l===Function)return i;jv(e.componentOffset>-1?Rt(e.index,n):n);let g=YN(n,t,i,l),v=o.__ngNextListenerFn__;for(;v;)g=YN(n,t,v,l)&&g,v=v.__ngNextListenerFn__;return r&&!1===g&&l.preventDefault(),g}}function Ie(e=1){return function Cw(e){return(si.lFrame.contextLView=function as(e,n){for(;e>0;)n=n[nc],e--;return n}(e,si.lFrame.contextLView))[oo]}(e)}function OV(e,n){let t=null;const i=function wp(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(!(1&t))return n[t+1]}return null}(e);for(let r=0;r<n.length;r++){const o=n[r];if("*"!==o){if(null===i?vf(e,o,!0):wm(i,o))return r}else t=r}return t}function Fy(e){const n=sn()[Uo][jl];if(!n.projection){const i=n.projection=function _h(e,n){const t=[];for(let i=0;i<e;i++)t.push(n);return t}(e?e.length:1,null),r=i.slice();let o=n.child;for(;null!==o;){const l=e?OV(o,e):0;null!==l&&(r[l]?r[l].projectionNext=o:i[l]=o,r[l]=o),o=o.next}}}function G1(e,n=0,t){const i=sn(),r=ur(),o=Kg(r,Rr+e,16,null,t||null);null===o.projection&&(o.projection=n),qa(),(!i[Bc]||ls())&&32&~o.flags&&function QI(e,n,t){tM(n[Vr],0,n,t,Dv(e,t,n),fC(t.parent||n[jl],t,n))}(r,i,o)}function NS(e,n,t){return t4(e,"",n,"",t),NS}function t4(e,n,t,i,r){const o=sn(),l=v0(o,n,t,i);return l!==xs&&Ju(ur(),ra(),o,e,l,o[Vr],r,!1),t4}function Xl(e,n,t){QC(e,n,t)}function eo(e){const n=sn(),t=ur(),i=Lm();Np(i+1);const r=tT(t,i);if(e.dirty&&function dn(e){return!(4&~e[pr])}(n)===!(2&~r.metadata.flags)){if(null===r.matches)e.reset([]);else{const o=Sk(n,i);e.reset(o,Va),e.notifyOnChanges()}return!0}return!1}function to(){return function ZC(e,n){return e[Ra].queries[n].queryList}(sn(),Lm())}function Ru(e){return It(function Z0(){return si.lFrame.contextLView}(),Rr+e)}function De(e,n=""){const t=sn(),i=ur(),r=e+Rr,o=i.firstCreatePass?Kg(i,r,1,n,null):i.data[r],l=u6(i,t,o,n,e);t[r]=l,Pg()&&kv(i,t,l,o),yc(o,!1)}let u6=(e,n,t,i,r)=>(Mu(!0),function wv(e,n){return e.createText(n)}(n[Vr],i));function rr(e){return Ui("",e,""),rr}function Ui(e,n,t){const i=sn(),r=v0(i,e,n,t);return r!==xs&&qp(i,bc(),r),Ui}function n4(e,n,t,i,r){const o=sn(),l=function Sy(e,n,t,i,r,o){const u=g0(e,Au(),t,r);return Df(2),u?n+Nr(t)+i+Nr(r)+o:xs}(o,e,n,t,i,r);return l!==xs&&qp(o,bc(),l),n4}function i4(e,n,t,i,r,o,l){const u=sn(),g=function Ey(e,n,t,i,r,o,l,u){const v=m0(e,Au(),t,r,l);return Df(3),v?n+Nr(t)+i+Nr(r)+o+Nr(l)+u:xs}(u,e,n,t,i,r,o,l);return g!==xs&&qp(u,bc(),g),i4}function To(e,n,t){nT(n)&&(n=n());const i=sn();return fl(i,Gu(),n)&&Ju(ur(),ra(),i,e,n,i[Vr],t,!1),To}function So(e,n){const t=nT(e);return t&&e.set(n),t}function Do(e,n){const t=sn(),i=ur(),r=Ns();return e4(i,t,t[Vr],r,e,n),Do}function r4(e,n,t,i,r){if(e=zi(e),Array.isArray(e))for(let o=0;o<e.length;o++)r4(e[o],n,t,i,r);else{const o=ur(),l=sn(),u=Ns();let g=xu(e)?e:zi(e.provide);const v=Og(e),D=1048575&u.providerIndexes,L=u.directiveStart,ce=u.providerIndexes>>20;if(xu(e)||!e.multi){const ue=new Fg(v,r,lt),Se=o4(g,n,r?D:D+ce,L);-1===Se?(ao(Hm(u,l),o,g),s4(o,e,n.length),n.push(g),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),t.push(ue),l.push(ue)):(t[Se]=ue,l[Se]=ue)}else{const ue=o4(g,n,D+ce,L),Se=o4(g,n,D,D+ce),at=Se>=0&&t[Se];if(r&&!at||!r&&!(ue>=0&&t[ue])){ao(Hm(u,l),o,g);const dt=function KV(e,n,t,i,r){const o=new Fg(e,t,lt);return o.multi=[],o.index=n,o.componentProviders=0,_6(o,r,i&&!t),o}(r?qV:XV,t.length,r,i,v);!r&&at&&(t[Se].providerFactory=dt),s4(o,e,n.length,0),n.push(g),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),t.push(dt),l.push(dt)}else s4(o,e,ue>-1?ue:Se,_6(t[r?Se:ue],v,!r&&i));!r&&i&&at&&t[Se].componentProviders++}}}function s4(e,n,t,i){const r=xu(n),o=function Cm(e){return!!e.useClass}(n);if(r||o){const g=(o?zi(n.useClass):n).prototype.ngOnDestroy;if(g){const v=e.destroyHooks||(e.destroyHooks=[]);if(!r&&n.multi){const D=v.indexOf(t);-1===D?v.push(t,[i,g]):v[D+1].push(i,g)}else v.push(t,g)}}}function _6(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function o4(e,n,t,i){for(let r=t;r<i;r++)if(n[r]===e)return r;return-1}function XV(e,n,t,i){return a4(this.multi,[])}function qV(e,n,t,i){const r=this.multi;let o;if(this.providerFactory){const l=this.providerFactory.componentProviders,u=jg(t,t[Xn],this.providerFactory.index,i);o=u.slice(0,l),a4(r,o);for(let g=l;g<u.length;g++)o.push(u[g])}else o=[],a4(r,o);return o}function a4(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function jo(e,n=[]){return t=>{t.providersResolver=(i,r)=>function GV(e,n,t){const i=ur();if(i.firstCreatePass){const r=Hc(e);r4(t,i.data,i.blueprint,r,!0),r4(n,i.data,i.blueprint,r,!1)}}(i,r?r(e):e,n)}}let ZV=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=Ch(0,t.type),r=i.length>0?function Yk(e,n,t=null){return new zk({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=En({token:e,providedIn:"environment",factory:()=>new e(di(Hl))})}return e})();function Jh(e){(function Hf(e){qv.has(e)||(qv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))})("NgStandalone"),e.getStandaloneInjector=n=>n.get(ZV).getOrCreateStandaloneInjector(e)}function By(e,n,t,i){return b6(sn(),jc(),e,n,t,i)}function PT(e,n){const t=e[n];return t===xs?void 0:t}function b6(e,n,t,i,r,o){const l=n+t;return fl(e,l,r)?Yf(e,l+1,o?i.call(o,r):i(r)):PT(e,l+1)}function fa(e,n){const t=ur();let i;const r=e+Rr;t.firstCreatePass?(i=function aH(e,n){if(n)for(let t=n.length-1;t>=0;t--){const i=n[t];if(e===i.name)return i}}(n,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=Du(i.type)),u=Bs(lt);try{const g=x_(!1),v=o();return x_(g),function LV(e,n,t,i){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=i}(t,sn(),r,v),v}finally{Bs(u)}}function ql(e,n,t){const i=e+Rr,r=sn(),o=It(r,i);return FT(r,i)?b6(r,jc(),n,o.transform,t,o):o.transform(t)}function Vy(e,n,t,i,r){const o=e+Rr,l=sn(),u=It(l,o);return FT(l,o)?function w6(e,n,t,i,r,o,l,u){const g=n+t;return m0(e,g,r,o,l)?Yf(e,g+3,u?i.call(u,r,o,l):i(r,o,l)):PT(e,g+3)}(l,jc(),n,u.transform,t,i,r,u):u.transform(t,i,r)}function FT(e,n){return e[Xn].data[n].pure}function oh(e,n){return EC(e,n)}const z6=new Ci(""),VS=new Ci("");let m4,p4=(()=>{class e{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,m4||(function rj(e){m4=e}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Es.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==o),t()},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||e)(di(Es),di(g4),di(VS))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac})}return e})(),g4=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return m4?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function HS(e){return!!e&&"function"==typeof e.then}function Y6(e){return!!e&&"function"==typeof e.subscribe}const sj=new Ci("");let _4=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=Wt(sj,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(HS(o))t.push(o);else if(Y6(o)){const l=new Promise((u,g)=>{o.subscribe({complete:u,error:g})});t.push(l)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const $6=new Ci("");function X6(e,n){return Array.isArray(n)?n.reduce(X6,e):{...e,...n}}let ag=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Wt(Ou),this.afterRenderEffectManager=Wt(O1),this.externalTestViews=new Set,this.beforeRender=new yr,this.afterTick=new yr,this.componentTypes=[],this.components=[],this.isStable=Wt(Jg).hasPendingTasks.pipe($i(t=>!t)),this._injector=Wt(Hl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof Gv;if(!this._injector.get(_4).done)throw!r&&function Ql(e){const n=ns(e)||na(e)||ba(e);return null!==n&&n.standalone}(t),new qt(405,!1);let l;l=r?t:this._injector.get(Wh).resolveComponentFactory(t),this.componentTypes.push(l.componentType);const u=function oj(e){return e.isBoundToModule}(l)?void 0:this._injector.get(ng),v=l.create(Ko.NULL,[],i||l.selector,u),D=v.location.nativeElement,L=v.injector.get(z6,null);return L?.registerApplication(D),v.onDestroy(()=>{this.detachView(v.hostView),jS(this.components,v),L?.unregisterApplication(D)}),this._loadComponent(v),v}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new qt(101,!1);const i=F(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,F(i)}}detectChangesInAttachedViews(t){let i=0;const r=this.afterRenderEffectManager;for(;;){if(i===CM)throw new qt(103,!1);if(t){const o=0===i;this.beforeRender.next(o);for(let{_lView:l,notifyErrorHandler:u}of this._views)lj(l,o,u)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>y4(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>y4(o))))break}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;jS(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get($6,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>jS(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new qt(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function jS(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function lj(e,n,t){!n&&!y4(e)||function cj(e,n,t){let i;t?(i=0,e[pr]|=1024):i=64&e[pr]?0:1,kC(e,n,i)}(e,t,n)}function y4(e){return hs(e)}let fj=(()=>{class e{constructor(){this.zone=Wt(Es),this.applicationRef=Wt(ag)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function pj(){const e=Wt(Es),n=Wt(Sd);return t=>e.runOutsideAngular(()=>n.handleError(t))}let mj=(()=>{class e{constructor(){this.subscription=new Pn,this.initialized=!1,this.zone=Wt(Es),this.pendingTasks=Wt(Jg)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Es.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Es.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const sm=new Ci("",{providedIn:"root",factory:()=>Wt(sm,Os.Optional|Os.SkipSelf)||function _j(){return typeof $localize<"u"&&$localize.locale||is}()}),b4=new Ci("");let Q6=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function u0(e="zone.js",n){return"noop"===e?new fk:"zone.js"===e?new Es(n):e}(i?.ngZone,function Z6(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function v3(e,n,t){return new Uk(e,n,t)}(t.moduleType,this.injector,function K6(e){return[{provide:Es,useFactory:e},{provide:zu,multi:!0,useFactory:()=>{const n=Wt(fj,{optional:!0});return()=>n.initialize()}},{provide:zu,multi:!0,useFactory:()=>{const n=Wt(mj);return()=>{n.initialize()}}},{provide:Ou,useFactory:pj}]}(()=>r)),l=o.injector.get(Sd,null);return r.runOutsideAngular(()=>{const u=r.onError.subscribe({next:g=>{l.handleError(g)}});o.onDestroy(()=>{jS(this._modules,o),u.unsubscribe()})}),function G6(e,n,t){try{const i=t();return HS(i)?i.catch(r=>{throw n.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>e.handleError(i)),i}}(l,r,()=>{const u=o.injector.get(_4);return u.runInitializers(),u.donePromise.then(()=>(function Bn(e){"string"==typeof e&&(Yn=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(sm,is)||is),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=X6({},i);return function hj(e,n,t){const i=new dT(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(ag);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new qt(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new qt(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(b4,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||e)(di(Ko))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),X1=null;const J6=new Ci("");function eR(e,n,t=[]){const i=`Platform: ${n}`,r=new Ci(i);return(o=[])=>{let l=v4();if(!l||l.injector.get(J6,!1)){const u=[...t,...o,{provide:r,useValue:!0}];e?e(u):function vj(e){if(X1&&!X1.get(J6,!1))throw new qt(400,!1);(function W6(){!function wi(e){Dt=e}(()=>{throw new qt(600,!1)})})(),X1=e;const n=e.get(Q6);(function nR(e){e.get(z_,null)?.forEach(t=>t())})(e)}(function tR(e=[],n){return Ko.create({name:n,providers:[{provide:Tf,useValue:"platform"},{provide:b4,useValue:new Set([()=>X1=null])},...e]})}(u,i))}return function wj(e){const n=v4();if(!n)throw new qt(401,!1);return n}()}}function v4(){return X1?.get(Q6)??null}let ef=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Dj}return e})();function Dj(e){return function xj(e,n,t){if(Ul(e)&&!t){const i=Rt(e.index,n);return new Uv(i,i)}return 47&e.type?new Uv(n[Uo],n):null}(Ns(),sn(),!(16&~e))}class aR{constructor(){}supports(n){return d2(n)}create(n){return new Mj(n)}}const Aj=(e,n)=>n;class Mj{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||Aj}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const l=!i||t&&t.currentIndex<cR(i,r,o)?t:i,u=cR(l,r,o),g=l.currentIndex;if(l===i)r--,i=i._nextRemoved;else if(t=t._next,null==l.previousIndex)r++;else{o||(o=[]);const v=u-r,D=g-r;if(v!=D){for(let ce=0;ce<v;ce++){const ue=ce<o.length?o[ce]:o[ce]=0,Se=ue+ce;D<=Se&&Se<v&&(o[ce]=ue+1)}o[l.previousIndex]=D-v}}u!==g&&n(l,u,g)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!d2(n))throw new qt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r,o,l,t=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let u=0;u<this.length;u++)o=n[u],l=this._trackByFn(u,o),null!==t&&Object.is(t.trackById,l)?(i&&(t=this._verifyReinsertion(t,o,l,u)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,l,u),i=!0),t=t._next}else r=0,function hT(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let i;for(;!(i=t.next()).done;)n(i.value)}}(n,u=>{l=this._trackByFn(r,u),null!==t&&Object.is(t.trackById,l)?(i&&(t=this._verifyReinsertion(t,u,l,r)),Object.is(t.item,u)||this._addIdentityChange(t,u)):(t=this._mismatch(t,u,l,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,i,r){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,r)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,r)):n=this._addAfter(new Oj(t,i),o,r),n}_verifyReinsertion(n,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const r=n._prevRemoved,o=n._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,t,i),this._addToMoves(n,i),n}_moveAfter(n,t,i){return this._unlink(n),this._insertAfter(n,t,i),this._addToMoves(n,i),n}_addAfter(n,t,i){return this._insertAfter(n,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,i){const r=null===t?this._itHead:t._next;return n._next=r,n._prev=t,null===r?this._itTail=n:r._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new lR),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,i=n._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lR),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Oj{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ij{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const t=n._prevDup,i=n._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class lR{constructor(){this.map=new Map}put(n){const t=n.trackById;let i=this.map.get(t);i||(i=new Ij,this.map.set(t,i)),i.add(n)}get(n,t){const r=this.map.get(n);return r?r.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cR(e,n,t){const i=e.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+n+r}function dR(){return new x4([new aR])}let x4=(()=>{class e{static#e=this.\u0275prov=En({token:e,providedIn:"root",factory:dR});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||dR()),deps:[[e,new gh,new Tu]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new qt(901,!1)}}return e})();const Fj=eR(null,"core",[]);let Bj=(()=>{class e{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||e)(di(ag))};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({})}return e})();function E4(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function RR(e){const n=F(null);try{return e()}finally{F(n)}}function A4(e,n){const t=ns(e),i=n.elementInjector||ec();return new my(t).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}let LR=null;function UT(){return LR}class vU{}const cc=new Ci("");function WR(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}const H4=/\s+/,GR=[];let lE=(()=>{class e{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=GR,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(H4):GR}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(H4):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(H4).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||e)(lt(es),lt(hl))};static#t=this.\u0275dir=li({type:e,selectors:[["","ngClass",""]],inputs:{klass:[ds.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class rz{constructor(n,t,i,r){this.$implicit=n,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ad=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new rz(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===o?void 0:o);else if(null!==o){const u=i.get(o);i.move(u,l),qR(u,r)}});for(let r=0,o=i.length;r<o;r++){const u=i.get(r).context;u.index=r,u.count=o,u.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{qR(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||e)(lt(Dc),lt(Yl),lt(x4))};static#t=this.\u0275dir=li({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function qR(e,n){e.context.$implicit=n.item}let Yc=(()=>{class e{constructor(t,i){this._viewContainer=t,this._context=new sz,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){KR("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){KR("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||e)(lt(Dc),lt(Yl))};static#t=this.\u0275dir=li({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class sz{constructor(){this.$implicit=null,this.ngIf=null}}function KR(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${bs(n)}'.`)}class j4{constructor(n,t){this._viewContainerRef=n,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let YT=(()=>{class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t===this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275dir=li({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return e})(),U4=(()=>{class e{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new j4(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||e)(lt(Dc),lt(Yl),lt(YT,9))};static#t=this.\u0275dir=li({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return e})();function cg(e,n){return new qt(2100,!1)}class uz{createSubscription(n,t){return RR(()=>n.subscribe({next:t,error:i=>{throw i}}))}dispose(n){RR(()=>n.unsubscribe())}}class dz{createSubscription(n,t){return n.then(t,i=>{throw i})}dispose(n){}}const hz=new dz,fz=new uz;let cE=(()=>{class e{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(HS(t))return hz;if(Y6(t))return fz;throw cg()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||e)(lt(ef,16))};static#t=this.\u0275pipe=ya({name:"async",type:e,pure:!1,standalone:!0})}return e})(),WT=(()=>{class e{transform(t,i,r){if(null==t)return null;if(!this.supports(t))throw cg();return t.slice(i,r)}supports(t){return"string"==typeof t||Array.isArray(t)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275pipe=ya({name:"slice",type:e,pure:!1,standalone:!0})}return e})(),jy=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({})}return e})();const JR="browser";function q1(e){return e===JR}function eL(e){return"server"===e}class tL{}class lY extends vU{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class W4 extends lY{static makeCurrent(){!function bU(e){LR??=e}(new W4)}onAndCancel(n,t,i){return n.addEventListener(t,i),()=>{n.removeEventListener(t,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function cY(){return qT=qT||document.querySelector("base"),qT?qT.getAttribute("href"):null}();return null==t?null:function uY(e){return new URL(e,document.baseURI).pathname}(t)}resetBaseElement(){qT=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return WR(document.cookie,n)}}let qT=null,hY=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac})}return e})();const G4=new Ci("");let uL=(()=>{class e{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new qt(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||e)(di(G4),di(Es))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac})}return e})();class dL{constructor(n){this._doc=n}}const X4="ng-app-id";let hL=(()=>{class e{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=eL(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${X4}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(X4),o;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=i,this.platformIsServer&&l.setAttribute(X4,this.appId),t.appendChild(l),l}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),o=this.styleRef,l=o.get(i)?.elements;l?l.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||e)(di(cc),di(U_),di(Ha,8),di(eh))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac})}return e})();const q4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},K4=/%COMP%/g,mY=new Ci("",{providedIn:"root",factory:()=>!0});function pL(e,n){return n.map(t=>t.replace(K4,e))}let Z4=(()=>{class e{constructor(t,i,r,o,l,u,g,v=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=l,this.platformId=u,this.ngZone=g,this.nonce=v,this.rendererByCompId=new Map,this.platformIsServer=eL(u),this.defaultRenderer=new Q4(t,l,g,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===gc.ShadowDom&&(i={...i,encapsulation:gc.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof mL?r.applyToHost(t):r instanceof J4&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const l=this.doc,u=this.ngZone,g=this.eventManager,v=this.sharedStylesHost,D=this.removeStylesOnCompDestroy,L=this.platformIsServer;switch(i.encapsulation){case gc.Emulated:o=new mL(g,v,i,this.appId,D,l,u,L);break;case gc.ShadowDom:return new vY(g,v,t,i,l,u,this.nonce,L);default:o=new J4(g,v,i,D,l,u,L)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||e)(di(uL),di(hL),di(U_),di(mY),di(cc),di(eh),di(Es),di(Ha))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac})}return e})();class Q4{constructor(n,t,i,r){this.eventManager=n,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(q4[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(gL(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(gL(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new qt(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,r){if(r){t=r+":"+t;const o=q4[r];o?n.setAttributeNS(o,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){const r=q4[i];r?n.removeAttributeNS(r,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,r){r&(Gp.DashCase|Gp.Important)?n.style.setProperty(t,i,r&Gp.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&Gp.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){null!=n&&(n[t]=i)}setValue(n,t){n.nodeValue=t}listen(n,t,i){if("string"==typeof n&&!(n=UT().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(i))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function gL(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class vY extends Q4{constructor(n,t,i,r,o,l,u,g){super(n,o,l,g),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const v=pL(r.id,r.styles);for(const D of v){const L=document.createElement("style");u&&L.setAttribute("nonce",u),L.textContent=D,this.shadowRoot.appendChild(L)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class J4 extends Q4{constructor(n,t,i,r,o,l,u,g){super(n,o,l,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=g?pL(g,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class mL extends J4{constructor(n,t,i,r,o,l,u,g){const v=r+"-"+i.id;super(n,t,i,o,l,u,g,v),this.contentAttr=function _Y(e){return"_ngcontent-%COMP%".replace(K4,e)}(v),this.hostAttr=function yY(e){return"_nghost-%COMP%".replace(K4,e)}(v)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}}let wY=(()=>{class e extends dL{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||e)(di(cc))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac})}return e})();const _L=["alt","control","meta","shift"],CY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TY={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let DY=(()=>{class e extends dL{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,r){const o=e.parseEventName(i),l=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>UT().onAndCancel(t,o.domEventName,l))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=e._normalizeKey(i.pop());let l="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),l="code."),_L.forEach(v=>{const D=i.indexOf(v);D>-1&&(i.splice(D,1),l+=v+".")}),l+=o,0!=i.length||0===o.length)return null;const g={};return g.domEventName=r,g.fullKey=l,g}static matchEventFullKeyCode(t,i){let r=CY[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),_L.forEach(l=>{l!==r&&(0,TY[l])(t)&&(o+=l+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{e.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||e)(di(cc))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac})}return e})();const EY=eR(Fj,"browser",[{provide:eh,useValue:JR},{provide:z_,useValue:function xY(){W4.makeCurrent()},multi:!0},{provide:cc,useFactory:function SY(){return function $w(e){j_=e}(document),document},deps:[]}]),AY=new Ci(""),vL=[{provide:VS,useClass:class dY{addToWindow(n){Kr.getAngularTestability=(i,r=!0)=>{const o=n.findTestabilityInTree(i,r);if(null==o)throw new qt(5103,!1);return o},Kr.getAllAngularTestabilities=()=>n.getAllTestabilities(),Kr.getAllAngularRootElements=()=>n.getAllRootElements(),Kr.frameworkStabilizers||(Kr.frameworkStabilizers=[]),Kr.frameworkStabilizers.push(i=>{const r=Kr.getAllAngularTestabilities();let o=r.length;const l=function(){o--,0==o&&i()};r.forEach(u=>{u.whenStable(l)})})}findTestabilityInTree(n,t,i){return null==t?null:n.getTestability(t)??(i?UT().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:z6,useClass:p4,deps:[Es,g4,VS]},{provide:p4,useClass:p4,deps:[Es,g4,VS]}],wL=[{provide:Tf,useValue:"root"},{provide:Sd,useFactory:function kY(){return new Sd},deps:[]},{provide:G4,useClass:wY,multi:!0,deps:[cc,Es,eh]},{provide:G4,useClass:DY,multi:!0,deps:[cc]},Z4,hL,uL,{provide:td,useExisting:Z4},{provide:tL,useClass:hY,deps:[]},[]];let CL=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:U_,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||e)(di(AY,12))};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({providers:[...wL,...vL],imports:[jy,Bj]})}return e})(),KT=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:function(i){let r=null;return r=i?new(i||e):di(NY),r},providedIn:"root"})}return e})(),NY=(()=>{class e extends KT{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case wn.NONE:return i;case wn.HTML:return Ye(i,"HTML")?ye(i):Li(this._doc,String(i)).toString();case wn.STYLE:return Ye(i,"Style")?ye(i):i;case wn.SCRIPT:if(Ye(i,"Script"))return ye(i);throw new qt(5200,!1);case wn.URL:return Ye(i,"URL")?ye(i):bi(String(i));case wn.RESOURCE_URL:if(Ye(i,"ResourceURL"))return ye(i);throw new qt(5201,!1);default:throw new qt(5202,!1)}}bypassSecurityTrustHtml(t){return function ot(e){return new T(e)}(t)}bypassSecurityTrustStyle(t){return function Zt(e){return new I(e)}(t)}bypassSecurityTrustScript(t){return function Lt(e){return new oe(e)}(t)}bypassSecurityTrustUrl(t){return function an(e){return new de(e)}(t)}bypassSecurityTrustResourceUrl(t){return function Hi(e){return new fe(e)}(t)}static#e=this.\u0275fac=function(i){return new(i||e)(di(cc))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kL(e){return e&&ei(e.schedule)}function e5(e){return e[e.length-1]}function fE(e){return ei(e5(e))?e.pop():void 0}function QT(e){return kL(e5(e))?e.pop():void 0}function EL(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)}function K1(e){return this instanceof K1?(this.v=e,this):new K1(e)}function IL(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function s5(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=e[o]&&function(l){return new Promise(function(u,g){!function r(o,l,u,g){Promise.resolve(g).then(function(v){o({value:v,done:u})},l)}(u,g,(l=e[o](l)).done,l.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const o5=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function NL(e){return ei(e?.then)}function RL(e){return ei(e[dc])}function LL(e){return Symbol.asyncIterator&&ei(e?.[Symbol.asyncIterator])}function PL(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const FL=function e$(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function BL(e){return ei(e?.[FL])}function VL(e){return function OL(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(e,n||[]),o=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(ce){i[ce]&&(r[ce]=function(ue){return new Promise(function(Se,Ve){o.push([ce,ue,Se,Ve])>1||u(ce,ue)})})}function u(ce,ue){try{!function g(ce){ce.value instanceof K1?Promise.resolve(ce.value.v).then(v,D):L(o[0][2],ce)}(i[ce](ue))}catch(Se){L(o[0][3],Se)}}function v(ce){u("next",ce)}function D(ce){u("throw",ce)}function L(ce,ue){ce(ue),o.shift(),o.length&&u(o[0][0],o[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:i,done:r}=yield K1(t.read());if(r)return yield K1(void 0);yield yield K1(i)}}finally{t.releaseLock()}})}function HL(e){return ei(e?.getReader)}function Lu(e){if(e instanceof Yr)return e;if(null!=e){if(RL(e))return function t$(e){return new Yr(n=>{const t=e[dc]();if(ei(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(o5(e))return function n$(e){return new Yr(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(NL(e))return function i$(e){return new Yr(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,vn)})}(e);if(LL(e))return jL(e);if(BL(e))return function r$(e){return new Yr(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(HL(e))return function s$(e){return jL(VL(e))}(e)}throw PL(e)}function jL(e){return new Yr(n=>{(function o$(e,n){var t,i,r,o;return function AL(e,n,t,i){return new(t||(t=Promise))(function(o,l){function u(D){try{v(i.next(D))}catch(L){l(L)}}function g(D){try{v(i.throw(D))}catch(L){l(L)}}function v(D){D.done?o(D.value):function r(o){return o instanceof t?o:new t(function(l){l(o)})}(D.value).then(u,g)}v((i=i.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=IL(e);!(i=yield t.next()).done;)if(n.next(i.value),n.closed)return}catch(l){r={error:l}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function A0(e,n,t,i=0,r=!1){const o=n.schedule(function(){t(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function a5(e,n=0){return Ne((t,i)=>{t.subscribe(ii(i,r=>A0(i,e,()=>i.next(r),n),()=>A0(i,e,()=>i.complete(),n),r=>A0(i,e,()=>i.error(r),n)))})}function UL(e,n=0){return Ne((t,i)=>{i.add(e.schedule(()=>t.subscribe(i),n))})}function zL(e,n){if(!e)throw new Error("Iterable cannot be null");return new Yr(t=>{A0(t,n,()=>{const i=e[Symbol.asyncIterator]();A0(t,n,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Uy(e,n){return n?function h$(e,n){if(null!=e){if(RL(e))return function a$(e,n){return Lu(e).pipe(UL(n),a5(n))}(e,n);if(o5(e))return function c$(e,n){return new Yr(t=>{let i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}(e,n);if(NL(e))return function l$(e,n){return Lu(e).pipe(UL(n),a5(n))}(e,n);if(LL(e))return zL(e,n);if(BL(e))return function u$(e,n){return new Yr(t=>{let i;return A0(t,n,()=>{i=e[FL](),A0(t,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(l){return void t.error(l)}o?t.complete():t.next(r)},0,!0)}),()=>ei(i?.return)&&i.return()})}(e,n);if(HL(e))return function d$(e,n){return zL(VL(e),n)}(e,n)}throw PL(e)}(e,n):Lu(e)}function zy(...e){return Uy(e,QT(e))}function V2(e,n,t=1/0){return ei(n)?V2((i,r)=>$i((o,l)=>n(i,o,r,l))(Lu(e(i,r))),t):("number"==typeof n&&(t=n),Ne((i,r)=>function f$(e,n,t,i,r,o,l,u){const g=[];let v=0,D=0,L=!1;const ce=()=>{L&&!g.length&&!v&&n.complete()},ue=Ve=>v<i?Se(Ve):g.push(Ve),Se=Ve=>{o&&n.next(Ve),v++;let at=!1;Lu(t(Ve,D++)).subscribe(ii(n,dt=>{r?.(dt),o?ue(dt):n.next(dt)},()=>{at=!0},void 0,()=>{if(at)try{for(v--;g.length&&v<i;){const dt=g.shift();l?A0(n,l,()=>Se(dt)):Se(dt)}ce()}catch(dt){n.error(dt)}}))};return e.subscribe(ii(n,ue,()=>{L=!0,ce()})),()=>{u?.()}}(i,r,e,t)))}function Sa(e,n){return Ne((t,i)=>{let r=0;t.subscribe(ii(i,o=>e.call(n,o,r++)&&i.next(o)))})}function YL(e){return Ne((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function l5(e,n){return Ne((t,i)=>{let r=null,o=0,l=!1;const u=()=>l&&!r&&i.complete();t.subscribe(ii(i,g=>{r?.unsubscribe();let v=0;const D=o++;Lu(e(g,D)).subscribe(r=ii(i,L=>i.next(n?n(g,L,D,v++):L),()=>{r=null,u()}))},()=>{l=!0,u()}))})}class pE{}class gE{}class Kf{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),l=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof Kf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new Kf;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Kf?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,t);const r=("a"===n.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=n.value;if(o){let l=this.headers.get(t);if(!l)return;l=l.filter(u=>-1===o.indexOf(u)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(n,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class g${encodeKey(n){return $L(n)}encodeValue(n){return $L(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const _$=/%(\d[a-f0-9])/gi,y$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $L(e){return encodeURIComponent(e).replace(_$,(n,t)=>y$[t]??n)}function mE(e){return`${e}`}class Z1{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new g$,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function m$(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[l,u]=-1==o?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],g=t.get(l)||[];g.push(u),t.set(l,g)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const i=n.fromObject[t],r=Array.isArray(i)?i.map(mE):[mE(i)];this.map.set(t,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(i=>{const r=n[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Z1({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(mE(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const r=i.indexOf(mE(n.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class b${constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function WL(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function GL(e){return typeof Blob<"u"&&e instanceof Blob}function XL(e){return typeof FormData<"u"&&e instanceof FormData}class JT{constructor(n,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function v$(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Kf,this.context??=new b$,this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const u=t.indexOf("?");this.urlWithParams=t+(-1===u?"?":u<t.length-1?"&":"")+l}}else this.params=new Z1,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||WL(this.body)||GL(this.body)||XL(this.body)||function w$(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Z1?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||XL(this.body)?null:GL(this.body)?this.body.type||null:WL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Z1?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.transferCache??this.transferCache,l=void 0!==n.body?n.body:this.body,u=n.withCredentials??this.withCredentials,g=n.reportProgress??this.reportProgress;let v=n.headers||this.headers,D=n.params||this.params;const L=n.context??this.context;return void 0!==n.setHeaders&&(v=Object.keys(n.setHeaders).reduce((ce,ue)=>ce.set(ue,n.setHeaders[ue]),v)),n.setParams&&(D=Object.keys(n.setParams).reduce((ce,ue)=>ce.set(ue,n.setParams[ue]),D)),new JT(t,i,l,{params:D,headers:v,context:L,reportProgress:g,responseType:r,withCredentials:u,transferCache:o})}}var Q1=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Q1||{});class c5{constructor(n,t=eD.Ok,i="OK"){this.headers=n.headers||new Kf,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class _E extends c5{constructor(n={}){super(n),this.type=Q1.ResponseHeader}clone(n={}){return new _E({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Yy extends c5{constructor(n={}){super(n),this.type=Q1.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Yy({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class H2 extends c5{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}var eD=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(eD||{});function u5(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let J1=(()=>{class e{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof JT)o=t;else{let g,v;g=r.headers instanceof Kf?r.headers:new Kf(r.headers),r.params&&(v=r.params instanceof Z1?r.params:new Z1({fromObject:r.params})),o=new JT(t,i,void 0!==r.body?r.body:null,{headers:g,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const l=zy(o).pipe(function p$(e,n){return ei(n)?V2(e,n,1):V2(e,1)}(g=>this.handler.handle(g)));if(t instanceof JT||"events"===r.observe)return l;const u=l.pipe(Sa(g=>g instanceof Yy));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe($i(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return u.pipe($i(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return u.pipe($i(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return u.pipe($i(g=>g.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Z1).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,u5(r,i))}post(t,i,r={}){return this.request("POST",t,u5(r,i))}put(t,i,r={}){return this.request("PUT",t,u5(r,i))}static#e=this.\u0275fac=function(i){return new(i||e)(di(pE))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac})}return e})();function KL(e,n){return n(e)}function k$(e,n){return(t,i)=>n.intercept(t,{handle:r=>e(r,i)})}const E$=new Ci(""),tD=new Ci(""),ZL=new Ci(""),QL=new Ci("");function A$(){let e=null;return(n,t)=>{null===e&&(e=(Wt(E$,{optional:!0})??[]).reduceRight(k$,KL));const i=Wt(Jg),r=i.add();return e(n,t).pipe(YL(()=>i.remove(r)))}}let JL=(()=>{class e extends pE{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=Wt(Jg);const r=Wt(QL,{optional:!0});this.backend=r??t}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(tD),...this.injector.get(ZL,[])]));this.chain=r.reduceRight((o,l)=>function S$(e,n,t){return(i,r)=>function Fc(e,n){e instanceof vd&&e.assertNotDestroyed();const i=su(e),r=Bs(void 0);try{return n()}finally{su(i),Bs(r)}}(t,()=>n(i,o=>e(o,r)))}(o,l,this.injector),KL)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(YL(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||e)(di(gE),di(Hl))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac})}return e})();const R$=/^\)\]\}',?\n/;let tP=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new qt(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Uy(i.\u0275loadImpl()):zy(null)).pipe(l5(()=>new Yr(o=>{const l=i.build();if(l.open(t.method,t.urlWithParams),t.withCredentials&&(l.withCredentials=!0),t.headers.forEach((Ve,at)=>l.setRequestHeader(Ve,at.join(","))),t.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Ve=t.detectContentTypeHeader();null!==Ve&&l.setRequestHeader("Content-Type",Ve)}if(t.responseType){const Ve=t.responseType.toLowerCase();l.responseType="json"!==Ve?Ve:"text"}const u=t.serializeBody();let g=null;const v=()=>{if(null!==g)return g;const Ve=l.statusText||"OK",at=new Kf(l.getAllResponseHeaders()),dt=function L$(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(l)||t.url;return g=new _E({headers:at,status:l.status,statusText:Ve,url:dt}),g},D=()=>{let{headers:Ve,status:at,statusText:dt,url:yt}=v(),Dn=null;at!==eD.NoContent&&(Dn=typeof l.response>"u"?l.responseText:l.response),0===at&&(at=Dn?eD.Ok:0);let In=at>=200&&at<300;if("json"===t.responseType&&"string"==typeof Dn){const oi=Dn;Dn=Dn.replace(R$,"");try{Dn=""!==Dn?JSON.parse(Dn):null}catch(Ti){Dn=oi,In&&(In=!1,Dn={error:Ti,text:Dn})}}In?(o.next(new Yy({body:Dn,headers:Ve,status:at,statusText:dt,url:yt||void 0})),o.complete()):o.error(new H2({error:Dn,headers:Ve,status:at,statusText:dt,url:yt||void 0}))},L=Ve=>{const{url:at}=v(),dt=new H2({error:Ve,status:l.status||0,statusText:l.statusText||"Unknown Error",url:at||void 0});o.error(dt)};let ce=!1;const ue=Ve=>{ce||(o.next(v()),ce=!0);let at={type:Q1.DownloadProgress,loaded:Ve.loaded};Ve.lengthComputable&&(at.total=Ve.total),"text"===t.responseType&&l.responseText&&(at.partialText=l.responseText),o.next(at)},Se=Ve=>{let at={type:Q1.UploadProgress,loaded:Ve.loaded};Ve.lengthComputable&&(at.total=Ve.total),o.next(at)};return l.addEventListener("load",D),l.addEventListener("error",L),l.addEventListener("timeout",L),l.addEventListener("abort",L),t.reportProgress&&(l.addEventListener("progress",ue),null!==u&&l.upload&&l.upload.addEventListener("progress",Se)),l.send(u),o.next({type:Q1.Sent}),()=>{l.removeEventListener("error",L),l.removeEventListener("abort",L),l.removeEventListener("load",D),l.removeEventListener("timeout",L),t.reportProgress&&(l.removeEventListener("progress",ue),null!==u&&l.upload&&l.upload.removeEventListener("progress",Se)),l.readyState!==l.DONE&&l.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||e)(di(tL))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac})}return e})();const f5=new Ci(""),nP=new Ci("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),iP=new Ci("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class rP{}let B$=(()=>{class e{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=WR(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||e)(di(cc),di(eh),di(nP))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac})}return e})();function V$(e,n){const t=e.url.toLowerCase();if(!Wt(f5)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const i=Wt(rP).getToken(),r=Wt(iP);return null!=i&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),n(e)}var e_=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(e_||{});function H$(...e){const n=[J1,tP,JL,{provide:pE,useExisting:JL},{provide:gE,useExisting:tP},{provide:tD,useValue:V$,multi:!0},{provide:f5,useValue:!0},{provide:rP,useClass:B$}];for(const t of e)n.push(...t.\u0275providers);return Wu(n)}const sP=new Ci("");function j$(){return function $y(e,n){return{\u0275kind:e,\u0275providers:n}}(e_.LegacyInterceptors,[{provide:sP,useFactory:A$},{provide:tD,useExisting:sP,multi:!0}])}let U$=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({providers:[H$(j$())]})}return e})();function fP(e=1/0){return V2(la,e)}const nD=new Yr(e=>e.complete());function p5(...e){const n=QT(e),t=function RY(e,n){return"number"==typeof e5(e)?e.pop():n}(e,1/0),i=e;return i.length?1===i.length?Lu(i[0]):fP(t)(Uy(i,n)):nD}class q$ extends Pn{constructor(n,t){super()}schedule(n,t=0){return this}}const bE={setInterval(e,n,...t){const{delegate:i}=bE;return i?.setInterval?i.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=bE;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};class g5 extends q${constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var i;if(this.closed)return this;this.state=n;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,i=0){return bE.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&bE.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let r,i=!1;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,un(i,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}}const m5={now:()=>(m5.delegate||Date).now(),delegate:void 0};class iD{constructor(n,t=iD.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,i){return new this.schedulerActionCtor(this,n).schedule(i,t)}}iD.now=m5.now;class _5 extends iD{constructor(n,t=iD.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,i){for(;n=t.shift();)n.unsubscribe();throw i}}}const y5=new _5(g5),K$=y5;function vE(e=0,n,t=K$){let i=-1;return null!=n&&(kL(n)?t=n:i=n),new Yr(r=>{let o=function Z$(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;o<0&&(o=0);let l=0;return t.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function rD(e,n=la){return e=e??Q$,Ne((t,i)=>{let r,o=!0;t.subscribe(ii(i,l=>{const u=n(l);(o||!e(r,u))&&(o=!1,r=u,i.next(l))}))})}function Q$(e,n){return e===n}class J$ extends yr{constructor(n=1/0,t=1/0,i=m5){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:l}=this;t||(i.push(n),!r&&i.push(o.now()+l)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let l=0;l<o.length&&!n.closed;l+=i?1:2)n.next(o[l]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){const{_bufferSize:n,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*n;if(n<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const l=t.now();let u=0;for(let g=1;g<i.length&&i[g]<=l;g+=2)u=g;u&&i.splice(0,u+1)}}}function b5(e,n,...t){if(!0===n)return void e();if(!1===n)return;const i=new js({next:()=>{i.unsubscribe(),e()}});return Lu(n(...t)).subscribe(i)}function wE(...e){return function nW(){return fP(1)}()(Uy(e,QT(e)))}function $c(e){return Ne((n,t)=>{Lu(e).subscribe(ii(t,()=>t.complete(),Hn)),!t.closed&&n.subscribe(t)})}function nf(e){return e<=0?()=>nD:Ne((n,t)=>{let i=0;n.subscribe(ii(t,r=>{++i<=e&&(t.next(r),e<=i&&t.complete())}))})}$t(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});let Wy={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const yP=/[&<>"']/,lW=new RegExp(yP.source,"g"),bP=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,cW=new RegExp(bP.source,"g"),uW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vP=e=>uW[e];function ld(e,n){if(n){if(yP.test(e))return e.replace(lW,vP)}else if(bP.test(e))return e.replace(cW,vP);return e}const dW=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function wP(e){return e.replace(dW,(n,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const hW=/(^|[^\[])\^/g;function Ea(e,n){e="string"==typeof e?e:e.source,n=n||"";const t={replace:(i,r)=>(r=(r=r.source||r).replace(hW,"$1"),e=e.replace(i,r),t),getRegex:()=>new RegExp(e,n)};return t}const fW=/[^\w:]/g,pW=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function CP(e,n,t){if(e){let i;try{i=decodeURIComponent(wP(t)).replace(fW,"").toLowerCase()}catch{return null}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return null}n&&!pW.test(t)&&(t=function yW(e,n){CE[" "+e]||(CE[" "+e]=gW.test(e)?e+"/":DE(e,"/",!0));const t=-1===(e=CE[" "+e]).indexOf(":");return"//"===n.substring(0,2)?t?n:e.replace(mW,"$1")+n:"/"===n.charAt(0)?t?n:e.replace(_W,"$1")+n:e+n}(n,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const CE={},gW=/^[^:]+:\/*[^/]*$/,mW=/^([^:]+:)[\s\S]*$/,_W=/^([^:]+:\/*[^/]*)[\s\S]*$/,TE={exec:function(){}};function TP(e,n){const i=e.replace(/\|/g,(o,l,u)=>{let g=!1,v=l;for(;--v>=0&&"\\"===u[v];)g=!g;return g?"|":" |"}).split(/ \|/);let r=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),i.length>n)i.splice(n);else for(;i.length<n;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function DE(e,n,t){const i=e.length;if(0===i)return"";let r=0;for(;r<i;){const o=e.charAt(i-r-1);if(o!==n||t){if(o===n||!t)break;r++}else r++}return e.slice(0,i-r)}function DP(e,n){if(n<1)return"";let t="";for(;n>1;)1&n&&(t+=e),n>>=1,e+=e;return t+e}function xP(e,n,t,i){const r=n.href,o=n.title?ld(n.title):null,l=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){i.state.inLink=!0;const u={type:"link",raw:t,href:r,title:o,text:l,tokens:i.inlineTokens(l)};return i.state.inLink=!1,u}return{type:"image",raw:t,href:r,title:o,text:ld(l)}}class v5{constructor(n){this.options=n||Wy}space(n){const t=this.rules.block.newline.exec(n);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(n){const t=this.rules.block.code.exec(n);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:DE(i,"\n")}}}fences(n){const t=this.rules.block.fences.exec(n);if(t){const i=t[0],r=function wW(e,n){const t=e.match(/^(\s+)(?:```)/);if(null===t)return n;const i=t[1];return n.split("\n").map(r=>{const o=r.match(/^\s+/);if(null===o)return r;const[l]=o;return l.length>=i.length?r.slice(i.length):r}).join("\n")}(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:r}}}heading(n){const t=this.rules.block.heading.exec(n);if(t){let i=t[2].trim();if(/#$/.test(i)){const r=DE(i,"#");(this.options.pedantic||!r||/ $/.test(r))&&(i=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(n){const t=this.rules.block.hr.exec(n);if(t)return{type:"hr",raw:t[0]}}blockquote(n){const t=this.rules.block.blockquote.exec(n);if(t){const i=t[0].replace(/^ *>[ \t]?/gm,""),r=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(i);return this.lexer.state.top=r,{type:"blockquote",raw:t[0],tokens:o,text:i}}}list(n){let t=this.rules.block.list.exec(n);if(t){let i,r,o,l,u,g,v,D,L,ce,ue,Se,Ve=t[1].trim();const at=Ve.length>1,dt={type:"list",raw:"",ordered:at,start:at?+Ve.slice(0,-1):"",loose:!1,items:[]};Ve=at?`\\d{1,9}\\${Ve.slice(-1)}`:`\\${Ve}`,this.options.pedantic&&(Ve=at?Ve:"[*+-]");const yt=new RegExp(`^( {0,3}${Ve})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;n&&(Se=!1,(t=yt.exec(n))&&!this.rules.block.hr.test(n));){if(i=t[0],n=n.substring(i.length),D=t[2].split("\n",1)[0].replace(/^\t+/,In=>" ".repeat(3*In.length)),L=n.split("\n",1)[0],this.options.pedantic?(l=2,ue=D.trimLeft()):(l=t[2].search(/[^ ]/),l=l>4?1:l,ue=D.slice(l),l+=t[1].length),g=!1,!D&&/^ *$/.test(L)&&(i+=L+"\n",n=n.substring(L.length+1),Se=!0),!Se){const In=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),oi=new RegExp(`^ {0,${Math.min(3,l-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Ti=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:\`\`\`|~~~)`),lr=new RegExp(`^ {0,${Math.min(3,l-1)}}#`);for(;n&&(ce=n.split("\n",1)[0],L=ce,this.options.pedantic&&(L=L.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Ti.test(L)||lr.test(L)||In.test(L)||oi.test(n)));){if(L.search(/[^ ]/)>=l||!L.trim())ue+="\n"+L.slice(l);else{if(g||D.search(/[^ ]/)>=4||Ti.test(D)||lr.test(D)||oi.test(D))break;ue+="\n"+L}!g&&!L.trim()&&(g=!0),i+=ce+"\n",n=n.substring(ce.length+1),D=L.slice(l)}}dt.loose||(v?dt.loose=!0:/\n *\n *$/.test(i)&&(v=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(ue),r&&(o="[ ] "!==r[0],ue=ue.replace(/^\[[ xX]\] +/,""))),dt.items.push({type:"list_item",raw:i,task:!!r,checked:o,loose:!1,text:ue}),dt.raw+=i}dt.items[dt.items.length-1].raw=i.trimRight(),dt.items[dt.items.length-1].text=ue.trimRight(),dt.raw=dt.raw.trimRight();const Dn=dt.items.length;for(u=0;u<Dn;u++)if(this.lexer.state.top=!1,dt.items[u].tokens=this.lexer.blockTokens(dt.items[u].text,[]),!dt.loose){const In=dt.items[u].tokens.filter(Ti=>"space"===Ti.type),oi=In.length>0&&In.some(Ti=>/\n.*\n/.test(Ti.raw));dt.loose=oi}if(dt.loose)for(u=0;u<Dn;u++)dt.items[u].loose=!0;return dt}}html(n){const t=this.rules.block.html.exec(n);if(t){const i={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const r=this.options.sanitizer?this.options.sanitizer(t[0]):ld(t[0]);i.type="paragraph",i.text=r,i.tokens=this.lexer.inline(r)}return i}}def(n){const t=this.rules.block.def.exec(n);if(t){const i=t[1].toLowerCase().replace(/\s+/g," "),r=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:i,raw:t[0],href:r,title:o}}}table(n){const t=this.rules.block.table.exec(n);if(t){const i={type:"table",header:TP(t[1]).map(r=>({text:r})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(i.header.length===i.align.length){i.raw=t[0];let o,l,u,g,r=i.align.length;for(o=0;o<r;o++)i.align[o]=/^ *-+: *$/.test(i.align[o])?"right":/^ *:-+: *$/.test(i.align[o])?"center":/^ *:-+ *$/.test(i.align[o])?"left":null;for(r=i.rows.length,o=0;o<r;o++)i.rows[o]=TP(i.rows[o],i.header.length).map(v=>({text:v}));for(r=i.header.length,l=0;l<r;l++)i.header[l].tokens=this.lexer.inline(i.header[l].text);for(r=i.rows.length,l=0;l<r;l++)for(g=i.rows[l],u=0;u<g.length;u++)g[u].tokens=this.lexer.inline(g[u].text);return i}}}lheading(n){const t=this.rules.block.lheading.exec(n);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(n){const t=this.rules.block.paragraph.exec(n);if(t){const i="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:i,tokens:this.lexer.inline(i)}}}text(n){const t=this.rules.block.text.exec(n);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(n){const t=this.rules.inline.escape.exec(n);if(t)return{type:"escape",raw:t[0],text:ld(t[1])}}tag(n){const t=this.rules.inline.tag.exec(n);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):ld(t[0]):t[0]}}link(n){const t=this.rules.inline.link.exec(n);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const l=DE(i.slice(0,-1),"\\");if((i.length-l.length)%2==0)return}else{const l=function bW(e,n){if(-1===e.indexOf(n[1]))return-1;const t=e.length;let i=0,r=0;for(;r<t;r++)if("\\"===e[r])r++;else if(e[r]===n[0])i++;else if(e[r]===n[1]&&(i--,i<0))return r;return-1}(t[2],"()");if(l>-1){const g=(0===t[0].indexOf("!")?5:4)+t[1].length+l;t[2]=t[2].substring(0,l),t[0]=t[0].substring(0,g).trim(),t[3]=""}}let r=t[2],o="";if(this.options.pedantic){const l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);l&&(r=l[1],o=l[3])}else o=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(r=this.options.pedantic&&!/>$/.test(i)?r.slice(1):r.slice(1,-1)),xP(t,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:o&&o.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(n,t){let i;if((i=this.rules.inline.reflink.exec(n))||(i=this.rules.inline.nolink.exec(n))){let r=(i[2]||i[1]).replace(/\s+/g," ");if(r=t[r.toLowerCase()],!r){const o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return xP(i,r,i[0],this.lexer)}}emStrong(n,t,i=""){let r=this.rules.inline.emStrong.lDelim.exec(n);if(!r||r[3]&&i.match(/[\p{L}\p{N}]/u))return;const o=r[1]||r[2]||"";if(!o||o&&(""===i||this.rules.inline.punctuation.exec(i))){const l=r[0].length-1;let u,g,v=l,D=0;const L="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(L.lastIndex=0,t=t.slice(-1*n.length+l);null!=(r=L.exec(t));){if(u=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!u)continue;if(g=u.length,r[3]||r[4]){v+=g;continue}if((r[5]||r[6])&&l%3&&!((l+g)%3)){D+=g;continue}if(v-=g,v>0)continue;g=Math.min(g,g+v+D);const ce=n.slice(0,l+r.index+(r[0].length-u.length)+g);if(Math.min(l,g)%2){const Se=ce.slice(1,-1);return{type:"em",raw:ce,text:Se,tokens:this.lexer.inlineTokens(Se)}}const ue=ce.slice(2,-2);return{type:"strong",raw:ce,text:ue,tokens:this.lexer.inlineTokens(ue)}}}}codespan(n){const t=this.rules.inline.code.exec(n);if(t){let i=t[2].replace(/\n/g," ");const r=/[^ ]/.test(i),o=/^ /.test(i)&&/ $/.test(i);return r&&o&&(i=i.substring(1,i.length-1)),i=ld(i,!0),{type:"codespan",raw:t[0],text:i}}}br(n){const t=this.rules.inline.br.exec(n);if(t)return{type:"br",raw:t[0]}}del(n){const t=this.rules.inline.del.exec(n);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(n,t){const i=this.rules.inline.autolink.exec(n);if(i){let r,o;return"@"===i[2]?(r=ld(this.options.mangle?t(i[1]):i[1]),o="mailto:"+r):(r=ld(i[1]),o=r),{type:"link",raw:i[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}url(n,t){let i;if(i=this.rules.inline.url.exec(n)){let r,o;if("@"===i[2])r=ld(this.options.mangle?t(i[0]):i[0]),o="mailto:"+r;else{let l;do{l=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0]}while(l!==i[0]);r=ld(i[0]),o="www."===i[1]?"http://"+i[0]:i[0]}return{type:"link",raw:i[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(n,t){const i=this.rules.inline.text.exec(n);if(i){let r;return r=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):ld(i[0]):i[0]:ld(this.options.smartypants?t(i[0]):i[0]),{type:"text",raw:i[0],text:r}}}}const Xr={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:TE,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Xr.def=Ea(Xr.def).replace("label",Xr._label).replace("title",Xr._title).getRegex(),Xr.bullet=/(?:[*+-]|\d{1,9}[.)])/,Xr.listItemStart=Ea(/^( *)(bull) */).replace("bull",Xr.bullet).getRegex(),Xr.list=Ea(Xr.list).replace(/bull/g,Xr.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Xr.def.source+")").getRegex(),Xr._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Xr._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Xr.html=Ea(Xr.html,"i").replace("comment",Xr._comment).replace("tag",Xr._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Xr.paragraph=Ea(Xr._paragraph).replace("hr",Xr.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xr._tag).getRegex(),Xr.blockquote=Ea(Xr.blockquote).replace("paragraph",Xr.paragraph).getRegex(),Xr.normal={...Xr},Xr.gfm={...Xr.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},Xr.gfm.table=Ea(Xr.gfm.table).replace("hr",Xr.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xr._tag).getRegex(),Xr.gfm.paragraph=Ea(Xr._paragraph).replace("hr",Xr.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Xr.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xr._tag).getRegex(),Xr.pedantic={...Xr.normal,html:Ea("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Xr._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:TE,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ea(Xr.normal._paragraph).replace("hr",Xr.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Xr.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const ar={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:TE,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:TE,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function CW(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function kP(e){let t,i,n="";const r=e.length;for(t=0;t<r;t++)i=e.charCodeAt(t),Math.random()>.5&&(i="x"+i.toString(16)),n+="&#"+i+";";return n}ar._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ar.punctuation=Ea(ar.punctuation).replace(/punctuation/g,ar._punctuation).getRegex(),ar.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ar.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,ar._comment=Ea(Xr._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),ar.emStrong.lDelim=Ea(ar.emStrong.lDelim).replace(/punct/g,ar._punctuation).getRegex(),ar.emStrong.rDelimAst=Ea(ar.emStrong.rDelimAst,"g").replace(/punct/g,ar._punctuation).getRegex(),ar.emStrong.rDelimUnd=Ea(ar.emStrong.rDelimUnd,"g").replace(/punct/g,ar._punctuation).getRegex(),ar._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ar._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ar._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ar.autolink=Ea(ar.autolink).replace("scheme",ar._scheme).replace("email",ar._email).getRegex(),ar._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ar.tag=Ea(ar.tag).replace("comment",ar._comment).replace("attribute",ar._attribute).getRegex(),ar._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ar._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ar._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ar.link=Ea(ar.link).replace("label",ar._label).replace("href",ar._href).replace("title",ar._title).getRegex(),ar.reflink=Ea(ar.reflink).replace("label",ar._label).replace("ref",Xr._label).getRegex(),ar.nolink=Ea(ar.nolink).replace("ref",Xr._label).getRegex(),ar.reflinkSearch=Ea(ar.reflinkSearch,"g").replace("reflink",ar.reflink).replace("nolink",ar.nolink).getRegex(),ar.normal={...ar},ar.pedantic={...ar.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ea(/^!?\[(label)\]\((.*?)\)/).replace("label",ar._label).getRegex(),reflink:Ea(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ar._label).getRegex()},ar.gfm={...ar.normal,escape:Ea(ar.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},ar.gfm.url=Ea(ar.gfm.url,"i").replace("email",ar.gfm._extended_email).getRegex(),ar.breaks={...ar.gfm,br:Ea(ar.br).replace("{2,}","*").getRegex(),text:Ea(ar.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class t_{constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||Wy,this.options.tokenizer=this.options.tokenizer||new v5,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Xr.normal,inline:ar.normal};this.options.pedantic?(t.block=Xr.pedantic,t.inline=ar.pedantic):this.options.gfm&&(t.block=Xr.gfm,t.inline=this.options.breaks?ar.breaks:ar.gfm),this.tokenizer.rules=t}static get rules(){return{block:Xr,inline:ar}}static lex(n,t){return new t_(t).lex(n)}static lexInline(n,t){return new t_(t).inlineTokens(n)}lex(n){let t;for(n=n.replace(/\r\n|\r/g,"\n"),this.blockTokens(n,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(n,t=[]){let i,r,o,l;for(n=this.options.pedantic?n.replace(/\t/g,"    ").replace(/^ +$/gm,""):n.replace(/^( *)(\t+)/gm,(u,g,v)=>g+"    ".repeat(v.length));n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(u=>!!(i=u.call({lexer:this},n,t))&&(n=n.substring(i.raw.length),t.push(i),!0)))){if(i=this.tokenizer.space(n)){n=n.substring(i.raw.length),1===i.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(i);continue}if(i=this.tokenizer.code(n)){n=n.substring(i.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(i):(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);continue}if(i=this.tokenizer.fences(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(n)){n=n.substring(i.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title}):(r.raw+="\n"+i.raw,r.text+="\n"+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);continue}if(i=this.tokenizer.table(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(n)){n=n.substring(i.raw.length),t.push(i);continue}if(o=n,this.options.extensions&&this.options.extensions.startBlock){let u=1/0;const g=n.slice(1);let v;this.options.extensions.startBlock.forEach(function(D){v=D.call({lexer:this},g),"number"==typeof v&&v>=0&&(u=Math.min(u,v))}),u<1/0&&u>=0&&(o=n.substring(0,u+1))}if(this.state.top&&(i=this.tokenizer.paragraph(o))){r=t[t.length-1],l&&"paragraph"===r.type?(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i),l=o.length!==n.length,n=n.substring(i.raw.length);continue}if(i=this.tokenizer.text(n)){n=n.substring(i.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i);continue}if(n){const u="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(u);break}throw new Error(u)}}return this.state.top=!0,t}inline(n,t=[]){return this.inlineQueue.push({src:n,tokens:t}),t}inlineTokens(n,t=[]){let i,r,o,u,g,v,l=n;if(this.tokens.links){const D=Object.keys(this.tokens.links);if(D.length>0)for(;null!=(u=this.tokenizer.rules.inline.reflinkSearch.exec(l));)D.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,u.index)+"["+DP("a",u[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(u=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,u.index)+"["+DP("a",u[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(u=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,u.index+u[0].length-2)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;n;)if(g||(v=""),g=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(D=>!!(i=D.call({lexer:this},n,t))&&(n=n.substring(i.raw.length),t.push(i),!0)))){if(i=this.tokenizer.escape(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(n)){n=n.substring(i.raw.length),r=t[t.length-1],r&&"text"===i.type&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(i.raw.length),r=t[t.length-1],r&&"text"===i.type&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(n,l,v)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(n,kP)){n=n.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(n,kP))){n=n.substring(i.raw.length),t.push(i);continue}if(o=n,this.options.extensions&&this.options.extensions.startInline){let D=1/0;const L=n.slice(1);let ce;this.options.extensions.startInline.forEach(function(ue){ce=ue.call({lexer:this},L),"number"==typeof ce&&ce>=0&&(D=Math.min(D,ce))}),D<1/0&&D>=0&&(o=n.substring(0,D+1))}if(i=this.tokenizer.inlineText(o,CW)){n=n.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(v=i.raw.slice(-1)),g=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(n){const D="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(D);break}throw new Error(D)}}return t}}class Gy{constructor(n){this.options=n||Wy}code(n,t,i){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const o=this.options.highlight(n,r);null!=o&&o!==n&&(i=!0,n=o)}return n=n.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+ld(r)+'">'+(i?n:ld(n,!0))+"</code></pre>\n":"<pre><code>"+(i?n:ld(n,!0))+"</code></pre>\n"}blockquote(n){return`<blockquote>\n${n}</blockquote>\n`}html(n){return n}heading(n,t,i,r){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+r.slug(i)}">${n}</h${t}>\n`:`<h${t}>${n}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(n,t,i){const r=t?"ol":"ul";return"<"+r+(t&&1!==i?' start="'+i+'"':"")+">\n"+n+"</"+r+">\n"}listitem(n){return`<li>${n}</li>\n`}checkbox(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(n){return`<p>${n}</p>\n`}table(n,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+n+"</thead>\n"+t+"</table>\n"}tablerow(n){return`<tr>\n${n}</tr>\n`}tablecell(n,t){const i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+n+`</${i}>\n`}strong(n){return`<strong>${n}</strong>`}em(n){return`<em>${n}</em>`}codespan(n){return`<code>${n}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(n){return`<del>${n}</del>`}link(n,t,i){if(null===(n=CP(this.options.sanitize,this.options.baseUrl,n)))return i;let r='<a href="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=">"+i+"</a>",r}image(n,t,i){if(null===(n=CP(this.options.sanitize,this.options.baseUrl,n)))return i;let r=`<img src="${n}" alt="${i}"`;return t&&(r+=` title="${t}"`),r+=this.options.xhtml?"/>":">",r}text(n){return n}}class SP{strong(n){return n}em(n){return n}codespan(n){return n}del(n){return n}html(n){return n}text(n){return n}link(n,t,i){return""+i}image(n,t,i){return""+i}br(){return""}}class EP{constructor(){this.seen={}}serialize(n){return n.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(n,t){let i=n,r=0;if(this.seen.hasOwnProperty(i)){r=this.seen[n];do{r++,i=n+"-"+r}while(this.seen.hasOwnProperty(i))}return t||(this.seen[n]=r,this.seen[i]=0),i}slug(n,t={}){const i=this.serialize(n);return this.getNextSafeSlug(i,t.dryrun)}}class n_{constructor(n){this.options=n||Wy,this.options.renderer=this.options.renderer||new Gy,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new SP,this.slugger=new EP}static parse(n,t){return new n_(t).parse(n)}static parseInline(n,t){return new n_(t).parseInline(n)}parse(n,t=!0){let r,o,l,u,g,v,D,L,ce,ue,Se,Ve,at,dt,yt,Dn,In,oi,Ti,i="";const lr=n.length;for(r=0;r<lr;r++)if(ue=n[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ue.type]&&(Ti=this.options.extensions.renderers[ue.type].call({parser:this},ue),!1!==Ti||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ue.type)))i+=Ti||"";else switch(ue.type){case"space":continue;case"hr":i+=this.renderer.hr();continue;case"heading":i+=this.renderer.heading(this.parseInline(ue.tokens),ue.depth,wP(this.parseInline(ue.tokens,this.textRenderer)),this.slugger);continue;case"code":i+=this.renderer.code(ue.text,ue.lang,ue.escaped);continue;case"table":for(L="",D="",u=ue.header.length,o=0;o<u;o++)D+=this.renderer.tablecell(this.parseInline(ue.header[o].tokens),{header:!0,align:ue.align[o]});for(L+=this.renderer.tablerow(D),ce="",u=ue.rows.length,o=0;o<u;o++){for(v=ue.rows[o],D="",g=v.length,l=0;l<g;l++)D+=this.renderer.tablecell(this.parseInline(v[l].tokens),{header:!1,align:ue.align[l]});ce+=this.renderer.tablerow(D)}i+=this.renderer.table(L,ce);continue;case"blockquote":ce=this.parse(ue.tokens),i+=this.renderer.blockquote(ce);continue;case"list":for(Se=ue.ordered,Ve=ue.start,at=ue.loose,u=ue.items.length,ce="",o=0;o<u;o++)yt=ue.items[o],Dn=yt.checked,In=yt.task,dt="",yt.task&&(oi=this.renderer.checkbox(Dn),at?yt.tokens.length>0&&"paragraph"===yt.tokens[0].type?(yt.tokens[0].text=oi+" "+yt.tokens[0].text,yt.tokens[0].tokens&&yt.tokens[0].tokens.length>0&&"text"===yt.tokens[0].tokens[0].type&&(yt.tokens[0].tokens[0].text=oi+" "+yt.tokens[0].tokens[0].text)):yt.tokens.unshift({type:"text",text:oi}):dt+=oi),dt+=this.parse(yt.tokens,at),ce+=this.renderer.listitem(dt,In,Dn);i+=this.renderer.list(ce,Se,Ve);continue;case"html":i+=this.renderer.html(ue.text);continue;case"paragraph":i+=this.renderer.paragraph(this.parseInline(ue.tokens));continue;case"text":for(ce=ue.tokens?this.parseInline(ue.tokens):ue.text;r+1<lr&&"text"===n[r+1].type;)ue=n[++r],ce+="\n"+(ue.tokens?this.parseInline(ue.tokens):ue.text);i+=t?this.renderer.paragraph(ce):ce;continue;default:{const Ur='Token with "'+ue.type+'" type was not found.';if(this.options.silent)return void console.error(Ur);throw new Error(Ur)}}return i}parseInline(n,t){t=t||this.renderer;let r,o,l,i="";const u=n.length;for(r=0;r<u;r++)if(o=n[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(l=this.options.extensions.renderers[o.type].call({parser:this},o),!1!==l||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)))i+=l||"";else switch(o.type){case"escape":case"text":i+=t.text(o.text);break;case"html":i+=t.html(o.text);break;case"link":i+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break;case"image":i+=t.image(o.href,o.title,o.text);break;case"strong":i+=t.strong(this.parseInline(o.tokens,t));break;case"em":i+=t.em(this.parseInline(o.tokens,t));break;case"codespan":i+=t.codespan(o.text);break;case"br":i+=t.br();break;case"del":i+=t.del(this.parseInline(o.tokens,t));break;default:{const g='Token with "'+o.type+'" type was not found.';if(this.options.silent)return void console.error(g);throw new Error(g)}}return i}}class w5{constructor(n){this.options=n||Wy}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(n){return n}postprocess(n){return n}}function AP(e,n){return(t,i,r)=>{"function"==typeof i&&(r=i,i=null);const o={...i},l=function TW(e,n,t){return i=>{if(i.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const r="<p>An error occurred:</p><pre>"+ld(i.message+"",!0)+"</pre>";return n?Promise.resolve(r):t?void t(null,r):r}if(n)return Promise.reject(i);if(!t)throw i;t(i)}}((i={...qr.defaults,...o}).silent,i.async,r);if(typeof t>"u"||null===t)return l(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(function vW(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}(i),i.hooks&&(i.hooks.options=i),r){const u=i.highlight;let g;try{i.hooks&&(t=i.hooks.preprocess(t)),g=e(t,i)}catch(L){return l(L)}const v=function(L){let ce;if(!L)try{i.walkTokens&&qr.walkTokens(g,i.walkTokens),ce=n(g,i),i.hooks&&(ce=i.hooks.postprocess(ce))}catch(ue){L=ue}return i.highlight=u,L?l(L):r(null,ce)};if(!u||u.length<3||(delete i.highlight,!g.length))return v();let D=0;return qr.walkTokens(g,function(L){"code"===L.type&&(D++,setTimeout(()=>{u(L.text,L.lang,function(ce,ue){if(ce)return v(ce);null!=ue&&ue!==L.text&&(L.text=ue,L.escaped=!0),D--,0===D&&v()})},0))}),void(0===D&&v())}if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(t):t).then(u=>e(u,i)).then(u=>i.walkTokens?Promise.all(qr.walkTokens(u,i.walkTokens)).then(()=>u):u).then(u=>n(u,i)).then(u=>i.hooks?i.hooks.postprocess(u):u).catch(l);try{i.hooks&&(t=i.hooks.preprocess(t));const u=e(t,i);i.walkTokens&&qr.walkTokens(u,i.walkTokens);let g=n(u,i);return i.hooks&&(g=i.hooks.postprocess(g)),g}catch(u){return l(u)}}}function qr(e,n,t){return AP(t_.lex,n_.parse)(e,n,t)}qr.options=qr.setOptions=function(e){return function aW(e){Wy=e}(qr.defaults={...qr.defaults,...e}),qr},qr.getDefaults=function _P(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},qr.defaults=Wy,qr.use=function(...e){const n=qr.defaults.extensions||{renderers:{},childTokens:{}};e.forEach(t=>{const i={...t};if(i.async=qr.defaults.async||i.async||!1,t.extensions&&(t.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if(r.renderer){const o=n.renderers[r.name];n.renderers[r.name]=o?function(...l){let u=r.renderer.apply(this,l);return!1===u&&(u=o.apply(this,l)),u}:r.renderer}if(r.tokenizer){if(!r.level||"block"!==r.level&&"inline"!==r.level)throw new Error("extension level must be 'block' or 'inline'");n[r.level]?n[r.level].unshift(r.tokenizer):n[r.level]=[r.tokenizer],r.start&&("block"===r.level?n.startBlock?n.startBlock.push(r.start):n.startBlock=[r.start]:"inline"===r.level&&(n.startInline?n.startInline.push(r.start):n.startInline=[r.start]))}r.childTokens&&(n.childTokens[r.name]=r.childTokens)}),i.extensions=n),t.renderer){const r=qr.defaults.renderer||new Gy;for(const o in t.renderer){const l=r[o];r[o]=(...u)=>{let g=t.renderer[o].apply(r,u);return!1===g&&(g=l.apply(r,u)),g}}i.renderer=r}if(t.tokenizer){const r=qr.defaults.tokenizer||new v5;for(const o in t.tokenizer){const l=r[o];r[o]=(...u)=>{let g=t.tokenizer[o].apply(r,u);return!1===g&&(g=l.apply(r,u)),g}}i.tokenizer=r}if(t.hooks){const r=qr.defaults.hooks||new w5;for(const o in t.hooks){const l=r[o];r[o]=w5.passThroughHooks.has(o)?u=>{if(qr.defaults.async)return Promise.resolve(t.hooks[o].call(r,u)).then(v=>l.call(r,v));const g=t.hooks[o].call(r,u);return l.call(r,g)}:(...u)=>{let g=t.hooks[o].apply(r,u);return!1===g&&(g=l.apply(r,u)),g}}i.hooks=r}if(t.walkTokens){const r=qr.defaults.walkTokens;i.walkTokens=function(o){let l=[];return l.push(t.walkTokens.call(this,o)),r&&(l=l.concat(r.call(this,o))),l}}qr.setOptions(i)})},qr.walkTokens=function(e,n){let t=[];for(const i of e)switch(t=t.concat(n.call(qr,i)),i.type){case"table":for(const r of i.header)t=t.concat(qr.walkTokens(r.tokens,n));for(const r of i.rows)for(const o of r)t=t.concat(qr.walkTokens(o.tokens,n));break;case"list":t=t.concat(qr.walkTokens(i.items,n));break;default:qr.defaults.extensions&&qr.defaults.extensions.childTokens&&qr.defaults.extensions.childTokens[i.type]?qr.defaults.extensions.childTokens[i.type].forEach(function(r){t=t.concat(qr.walkTokens(i[r],n))}):i.tokens&&(t=t.concat(qr.walkTokens(i.tokens,n)))}return t},qr.parseInline=AP(t_.lexInline,n_.parseInline),qr.Parser=n_,qr.parser=n_.parse,qr.Renderer=Gy,qr.TextRenderer=SP,qr.Lexer=t_,qr.lexer=t_.lex,qr.Tokenizer=v5,qr.Slugger=EP,qr.Hooks=w5,qr.parse=qr;let MP=(()=>{class e{constructor(){this._buttonClick$=new yr,this.copied$=this._buttonClick$.pipe(l5(()=>p5(zy(!0),vE(3e3).pipe(function pP(e){return $i(()=>e)}(!1)))),rD(),function tW(e,n,t){let i,r=!1;return e&&"object"==typeof e?({bufferSize:i=1/0,windowTime:n=1/0,refCount:r=!1,scheduler:t}=e):i=e??1/0,function eW(e={}){const{connector:n=(()=>new yr),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let l,u,g,v=0,D=!1,L=!1;const ce=()=>{u?.unsubscribe(),u=void 0},ue=()=>{ce(),l=g=void 0,D=L=!1},Se=()=>{const Ve=l;ue(),Ve?.unsubscribe()};return Ne((Ve,at)=>{v++,!L&&!D&&ce();const dt=g=g??n();at.add(()=>{v--,0===v&&!L&&!D&&(u=b5(Se,r))}),dt.subscribe(at),!l&&v>0&&(l=new js({next:yt=>dt.next(yt),error:yt=>{L=!0,ce(),u=b5(ue,t,yt),dt.error(yt)},complete:()=>{D=!0,ce(),u=b5(ue,i),dt.complete()}}),Lu(Ve).subscribe(l))})(o)}}({connector:()=>new J$(i,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}(1)),this.copiedText$=this.copied$.pipe(function gP(...e){const n=QT(e);return Ne((t,i)=>{(n?wE(e,t,n):wE(e,t)).subscribe(i)})}(!1),$i(t=>t?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=wr({type:e,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(i,r){1&i&&(B(0,"button",0),fa(1,"async"),ln("click",function(){return r.onCopyToClipboardClick()}),De(2),fa(3,"async"),P()),2&i&&(ci("copied",ql(1,3,r.copied$)),he(2),rr(ql(3,5,r.copiedText$)))},dependencies:[cE],encapsulation:2,changeDetection:0})}return e})();class SW{}class OP{}const IP=new Ci("SECURITY_CONTEXT");let T5=(()=>{class e{get options(){return this._options}set options(t){this._options={...this.DEFAULT_MARKED_OPTIONS,...t}}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}constructor(t,i,r,o,l,u){this.platform=t,this.securityContext=i,this.http=r,this.clipboardOptions=o,this.sanitizer=u,this.DEFAULT_MARKED_OPTIONS={renderer:new Gy},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new yr,this.reload$=this._reload$.asObservable(),this.options=l}parse(t,i=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:r,inline:o,emoji:l,mermaid:u,disableSanitizer:g}=i,v={...this.options,...i.markedOptions};u&&(this.renderer=this.extendRenderer(v.renderer||new Gy));const D=this.trimIndentation(t),L=r?this.decodeHtml(D):D,ce=l?this.parseEmoji(L):L,ue=this.parseMarked(ce,v,o);return(g?ue:this.sanitizer.sanitize(this.securityContext,ue))||""}render(t,i=this.DEFAULT_RENDER_OPTIONS,r){const{clipboard:o,clipboardOptions:l,katex:u,katexOptions:g,mermaid:v,mermaidOptions:D}=i;o&&this.renderClipboard(t,r,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...l}),u&&this.renderKatex(t,{...this.DEFAULT_KATEX_OPTIONS,...g}),v&&this.renderMermaid(t,{...this.DEFAULT_MERMAID_OPTIONS,...D}),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe($i(i=>this.handleExtension(t,i)))}highlight(t){if(!q1(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);const i=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(i,r=>r.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!q1(this.platform))return t;const i=document.createElement("textarea");return i.innerHTML=t,i.value}extendRenderer(t){const i=t;if(!0===i.\u0275NgxMarkdownRendererExtended)return t;const r=t.code;return t.code=function(o,l,u){return"mermaid"===l?`<div class="mermaid">${o}</div>`:r.call(this,o,l,u)},i.\u0275NgxMarkdownRendererExtended=!0,t}handleExtension(t,i){const r=t.lastIndexOf("://"),o=r>-1?t.substring(r+4):t,l=o.lastIndexOf("/"),u=l>-1?o.substring(l+1).split("?")[0]:"",g=u.lastIndexOf("."),v=g>-1?u.substring(g+1):"";return v&&"md"!==v?"```"+v+"\n"+i+"\n```":i}parseMarked(t,i,r=!1){return r?qr.parseInline(t,i):qr.parse(t,i)}parseEmoji(t){if(!q1(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}renderKatex(t,i){if(q1(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,i)}}renderClipboard(t,i,r){if(!q1(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!i)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:o,buttonTemplate:l}=r,u=t.querySelectorAll("pre");for(let g=0;g<u.length;g++){const v=u.item(g),D=document.createElement("div");D.style.position="relative",v.parentNode.insertBefore(D,v),D.appendChild(v);const L=document.createElement("div");let ce,ue;L.style.position="absolute",L.style.top=".5em",L.style.right=".5em",L.style.opacity="0",L.style.transition="opacity 250ms ease-out",D.insertAdjacentElement("beforeend",L),v.onmouseover=()=>L.style.opacity="1",v.onmouseout=()=>L.style.opacity="0",ce=o?i.createComponent(o).hostView:l?i.createEmbeddedView(l):i.createComponent(MP).hostView,ce.rootNodes.forEach(Se=>{Se.onmouseover=()=>L.style.opacity="1",L.appendChild(Se),ue=new ClipboardJS(Se,{text:()=>v.innerText})}),ce.onDestroy(()=>ue.destroy())}}renderMermaid(t,i=this.DEFAULT_MERMAID_OPTIONS){if(!q1(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const r=t.querySelectorAll(".mermaid");0!==r.length&&(mermaid.initialize(i),mermaid.init(r))}trimIndentation(t){if(!t)return"";let i;return t.split("\n").map(r=>{let o=i;return r.length>0&&(o=isNaN(o)?r.search(/\S|$/):Math.min(r.search(/\S|$/),o)),isNaN(i)&&(i=o),o?r.substring(o):r}).join("\n")}static#e=this.\u0275fac=function(i){return new(i||e)(di(eh),di(IP),di(J1,8),di(SW,8),di(OP,8),di(KT))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac})}return e})(),LW=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[T5,t&&t.loader||[],t&&t.clipboardOptions||[],t&&t.markedOptions||[],{provide:IP,useValue:t&&null!=t.sanitize?t.sanitize:wn.HTML}]}}static forChild(){return{ngModule:e}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({imports:[jy]})}return e})();var NP;!function(e){let n;var r;let t,i;(r=n=e.SecurityLevel||(e.SecurityLevel={})).Strict="strict",r.Loose="loose",r.Antiscript="antiscript",r.Sandbox="sandbox",function(r){r.Base="base",r.Forest="forest",r.Dark="dark",r.Default="default",r.Neutral="neutral"}(t=e.Theme||(e.Theme={})),function(r){r[r.Debug=1]="Debug",r[r.Info=2]="Info",r[r.Warn=3]="Warn",r[r.Error=4]="Error",r[r.Fatal=5]="Fatal"}(i=e.LogLevel||(e.LogLevel={}))}(NP||(NP={}));const{isArray:PW}=Array,{getPrototypeOf:FW,prototype:BW,keys:VW}=Object;function RP(e){if(1===e.length){const n=e[0];if(PW(n))return{args:n,keys:null};if(function HW(e){return e&&"object"==typeof e&&FW(e)===BW}(n)){const t=VW(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}const{isArray:jW}=Array;function D5(e){return $i(n=>function UW(e,n){return jW(n)?e(...n):e(n)}(e,n))}function LP(e,n){return e.reduce((t,i,r)=>(t[i]=n[r],t),{})}function PP(...e){const n=fE(e),{args:t,keys:i}=RP(e),r=new Yr(o=>{const{length:l}=t;if(!l)return void o.complete();const u=new Array(l);let g=l,v=l;for(let D=0;D<l;D++){let L=!1;Lu(t[D]).subscribe(ii(o,ce=>{L||(L=!0,v--),u[D]=ce},()=>g--,void 0,()=>{(!g||!L)&&(v||o.next(i?LP(i,u):u),o.complete())}))}});return n?r.pipe(D5(n)):r}let FP=(()=>{class e{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||e)(lt(hl),lt(es))};static#t=this.\u0275dir=li({type:e})}return e})(),Xy=(()=>{class e extends FP{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=qo(e)))(r||e)}})();static#t=this.\u0275dir=li({type:e,features:[lo]})}return e})();const Od=new Ci(""),zW={provide:Od,useExisting:Zi(()=>xE),multi:!0};let xE=(()=>{class e extends Xy{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=qo(e)))(r||e)}})();static#t=this.\u0275dir=li({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&ln("change",function(l){return r.onChange(l.target.checked)})("blur",function(){return r.onTouched()})},features:[jo([zW]),lo]})}return e})();const YW={provide:Od,useExisting:Zi(()=>i_),multi:!0},WW=new Ci("");let i_=(()=>{class e extends FP{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $W(){const e=UT()?UT().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||e)(lt(hl),lt(es),lt(WW,8))};static#t=this.\u0275dir=li({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&ln("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[jo([YW]),lo]})}return e})();const Wc=new Ci(""),s_=new Ci("");function jP(e){return function r_(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}(e.value)?{required:!0}:null}function kE(e){return null}function GP(e){return null!=e}function XP(e){return HS(e)?Uy(e):e}function qP(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function KP(e,n){return n.map(t=>t(e))}function ZP(e){return e.map(n=>function XW(e){return!e.validate}(n)?n:t=>n.validate(t))}function x5(e){return null!=e?function QP(e){if(!e)return null;const n=e.filter(GP);return 0==n.length?null:function(t){return qP(KP(t,n))}}(ZP(e)):null}function k5(e){return null!=e?function JP(e){if(!e)return null;const n=e.filter(GP);return 0==n.length?null:function(t){return PP(KP(t,n).map(XP)).pipe($i(qP))}}(ZP(e)):null}function e8(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function S5(e){return e?Array.isArray(e)?e:[e]:[]}function SE(e,n){return Array.isArray(e)?e.includes(n):e===n}function i8(e,n){const t=S5(n);return S5(e).forEach(r=>{SE(t,r)||t.push(r)}),t}function r8(e,n){return S5(n).filter(t=>!SE(e,t))}class s8{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=x5(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=k5(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Id extends s8{get formDirective(){return null}get path(){return null}}class o_ extends s8{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class o8{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let M0=(()=>{class e extends o8{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||e)(lt(o_,2))};static#t=this.\u0275dir=li({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&ci("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[lo]})}return e})(),sD=(()=>{class e extends o8{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||e)(lt(Id,10))};static#t=this.\u0275dir=li({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&ci("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[lo]})}return e})();const oD="VALID",AE="INVALID",j2="PENDING",aD="DISABLED";function M5(e){return(ME(e)?e.validators:e)||null}function O5(e,n){return(ME(n)?n.asyncValidators:e)||null}function ME(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class I5{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===oD}get invalid(){return this.status===AE}get pending(){return this.status==j2}get disabled(){return this.status===aD}get enabled(){return this.status!==aD}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(i8(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(i8(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(r8(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(r8(n,this._rawAsyncValidators))}hasValidator(n){return SE(this._rawValidators,n)}hasAsyncValidator(n){return SE(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=j2,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=aD,this.errors=null,this._forEachChild(i=>{i.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=oD,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oD||this.status===j2)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?aD:oD}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=j2,this._hasOwnPendingAsyncValidator=!0;const t=XP(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(n,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new pi,this.statusChanges=new pi}_calculateStatus(){return this._allControlsDisabled()?aD:this.errors?AE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(j2)?j2:this._anyControlsHaveStatus(AE)?AE:oD}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){ME(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function QW(e){return Array.isArray(e)?x5(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function JW(e){return Array.isArray(e)?k5(e):e||null}(this._rawAsyncValidators)}}class qy extends I5{constructor(n,t,i){super(M5(t),O5(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,i={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){(function c8(e,n,t){e._forEachChild((i,r)=>{if(void 0===t[r])throw new qt(1002,"")})})(this,0,n),Object.keys(n).forEach(i=>{(function l8(e,n,t){const i=e.controls;if(!(n?Object.keys(i):i).length)throw new qt(1e3,"");if(!i[t])throw new qt(1001,"")})(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(i=>{const r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,i)=>(n[i]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&n(i,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&n(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(n,t){let i=n;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const Ky=new Ci("CallSetDisabledState",{providedIn:"root",factory:()=>lD}),lD="always";function cD(e,n,t=lD){N5(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function nG(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&u8(e,n)})}(e,n),function rG(e,n){const t=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function iG(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&u8(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function tG(e,n){if(n.valueAccessor.setDisabledState){const t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function NE(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function N5(e,n){const t=function t8(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(e8(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const i=function n8(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(e8(i,n.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const r=()=>e.updateValueAndValidity();NE(n._rawValidators,r),NE(n._rawAsyncValidators,r)}function u8(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}const cG={provide:Id,useExisting:Zi(()=>Zy)},uD=Promise.resolve();let Zy=(()=>{class e extends Id{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new pi,this.form=new qy({},x5(t),k5(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){uD.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),cD(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){uD.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){uD.then(()=>{const i=this._findContainer(t.path),r=new qy({});(function d8(e,n){N5(e,n)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){uD.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){uD.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function h8(e,n){e._syncPendingControls(),n.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||e)(lt(Wc,10),lt(s_,10),lt(Ky,8))};static#t=this.\u0275dir=li({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&ln("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:[ds.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[jo([cG]),lo]})}return e})();function f8(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function p8(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const g8=class extends I5{constructor(n=null,t,i){super(M5(t),O5(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ME(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=p8(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){f8(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){f8(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){p8(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},hG={provide:o_,useExisting:Zi(()=>om)},y8=Promise.resolve();let om=(()=>{class e extends o_{constructor(t,i,r,o,l,u){super(),this._changeDetectorRef=l,this.callSetDisabledState=u,this.control=new g8,this._registered=!1,this.name="",this.update=new pi,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function P5(e,n){if(!n)return null;let t,i,r;return Array.isArray(n),n.forEach(o=>{o.constructor===i_?t=o:function aG(e){return Object.getPrototypeOf(e.constructor)===Xy}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function L5(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){cD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){y8.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&E4(i);y8.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function OE(e,n){return[...n.path,e]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||e)(lt(Id,9),lt(Wc,10),lt(s_,10),lt(Od,10),lt(ef,8),lt(Ky,8))};static#t=this.\u0275dir=li({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ds.None,"disabled","isDisabled"],model:[ds.None,"ngModel","model"],options:[ds.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[jo([hG]),lo,Fa]})}return e})(),dD=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275dir=li({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})();const pG={provide:Od,useExisting:Zi(()=>F5),multi:!0};let gG=(()=>{class e{constructor(){this._accessors=[]}add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t)return void this._accessors.splice(i,1)}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return!!t[0].control&&t[0]._parent===i._control._parent&&t[1].name===i.name}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),F5=(()=>{class e extends Xy{constructor(t,i,r,o){super(t,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Wt(Ky,{optional:!0})??lD}ngOnInit(){this._control=this._injector.get(o_),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(i){return new(i||e)(lt(hl),lt(es),lt(gG),lt(Ko))};static#t=this.\u0275dir=li({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){1&i&&ln("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[jo([pG]),lo]})}return e})();const B5=new Ci(""),CG={provide:Od,useExisting:Zi(()=>U2),multi:!0};function D8(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let U2=(()=>{class e extends Xy{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=D8(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function TG(e){return e.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=qo(e)))(r||e)}})();static#t=this.\u0275dir=li({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&ln("change",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[jo([CG]),lo]})}return e})(),hD=(()=>{class e{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(D8(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||e)(lt(es),lt(hl),lt(U2,9))};static#t=this.\u0275dir=li({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})();const DG={provide:Od,useExisting:Zi(()=>U5),multi:!0};function x8(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let U5=(()=>{class e extends Xy{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(o=>this._getOptionId(o));i=(o,l)=>{o._setSelected(r.indexOf(l.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const l=o;for(let u=0;u<l.length;u++){const v=this._getOptionValue(l[u].value);r.push(v)}}else{const l=i.options;for(let u=0;u<l.length;u++){const g=l[u];if(g.selected){const v=this._getOptionValue(g.value);r.push(v)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function xG(e){return e.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=qo(e)))(r||e)}})();static#t=this.\u0275dir=li({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&ln("change",function(l){return r.onChange(l.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[jo([DG]),lo]})}return e})(),fD=(()=>{class e{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(x8(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(x8(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||e)(lt(es),lt(hl),lt(U5,9))};static#t=this.\u0275dir=li({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})(),Qy=(()=>{class e{constructor(){this._validator=kE}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):kE,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275dir=li({type:e,features:[Fa]})}return e})();const EG={provide:Wc,useExisting:Zi(()=>z2),multi:!0};let z2=(()=>{class e extends Qy{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=E4,this.createValidator=t=>jP}enabled(t){return t}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=qo(e)))(r||e)}})();static#t=this.\u0275dir=li({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&Zs("required",r._enabled?"":null)},inputs:{required:"required"},features:[jo([EG]),lo]})}return e})(),L8=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({})}return e})(),LG=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Ky,useValue:t.callSetDisabledState??lD}]}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({imports:[L8]})}return e})(),P8=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:B5,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ky,useValue:t.callSetDisabledState??lD}]}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({imports:[L8]})}return e})();!function(){function e(n,t,i){this.el=n,this.vcr=t,this.renderer=i,this.dtOptions={}}e.prototype.ngOnInit=function(){var n=this;this.dtTrigger?this.dtTrigger.subscribe(function(t){n.displayTable(t)}):this.displayTable(null)},e.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},e.prototype.displayTable=function(n){var t=this;n&&(this.dtOptions=n),this.dtInstance=new Promise(function(i,r){Promise.resolve(t.dtOptions).then(function(o){0===Object.keys(o).length&&0===$("tbody tr",t.el.nativeElement).length?r("Both the table and dtOptions cannot be empty"):setTimeout(function(){var u={rowCallback:function(g,v,D){if(o.columns){var L=o.columns;t.applyNgPipeTransform(g,L),t.applyNgRefTemplate(g,L,v)}o.rowCallback&&o.rowCallback(g,v,D)}};u=Object.assign({},o,u),t.dt=$(t.el.nativeElement).DataTable(u),i(t.dt)})})})},e.prototype.applyNgPipeTransform=function(n,t){t.filter(function(r){return r.ngPipeInstance&&!r.ngTemplateRef}).forEach(function(r){var o=r.ngPipeInstance,l=r.ngPipeArgs||[],u=t.findIndex(function(L){return L.data===r.data}),g=n.childNodes.item(u),v=$(g).text(),D=o.transform.apply(o,function(e,n,t){if(t||2===arguments.length)for(var o,i=0,r=n.length;i<r;i++)(o||!(i in n))&&(o||(o=Array.prototype.slice.call(n,0,i)),o[i]=n[i]);return e.concat(o||Array.prototype.slice.call(n))}([v],l,!1));$(g).text(D)})},e.prototype.applyNgRefTemplate=function(n,t,i){var r=this;t.filter(function(l){return l.ngTemplateRef&&!l.ngPipeInstance}).forEach(function(l){var u=l.ngTemplateRef,g=u.ref,v=u.context,D=t.findIndex(function(Se){return Se.data===l.data}),L=n.childNodes.item(D);$(L).html("");var ce=Object.assign({},v,v?.userData,{adtData:i}),ue=r.vcr.createEmbeddedView(g,ce);r.renderer.appendChild(L,ue.rootNodes[0])})},e.\u0275fac=function(t){return new(t||e)(lt(es),lt(Dc),lt(hl))},e.\u0275dir=li({type:e,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}})}();var FG=function(){function e(){}return e.forRoot=function(){return{ngModule:e}},e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ts({type:e}),e.\u0275inj=Sr({imports:[jy]}),e}();const VG=["gutterEls"],HG=["*"];function jG(e,n){if(1&e){const t=tt();B(0,"div",3,0),ln("keydown",function(r){At(t);const o=Ie().index;return St(Ie().startKeyboardDrag(r,2*o+1,o+1))})("mousedown",function(r){At(t);const o=Ie().index;return St(Ie().startMouseDrag(r,2*o+1,o+1))})("touchstart",function(r){At(t);const o=Ie().index;return St(Ie().startMouseDrag(r,2*o+1,o+1))})("mouseup",function(r){At(t);const o=Ie().index;return St(Ie().clickGutter(r,o+1))})("touchend",function(r){At(t);const o=Ie().index;return St(Ie().clickGutter(r,o+1))}),et(2,"div",4),P()}if(2&e){const t=Ie(),i=t.$implicit,r=t.index,o=Ie();Gh("flex-basis",o.gutterSize,"px")("order",2*r+1),Zs("aria-label",o.gutterAriaLabel)("aria-orientation",o.direction)("aria-valuemin",i.minSize)("aria-valuemax",i.maxSize)("aria-valuenow",i.size)("aria-valuetext",o.getAriaAreaSizeText(i.size))}}function UG(e,n){1&e&&Qt(0,jG,3,10,"div",2),2&e&&Pe("ngIf",!1===n.last)}function pD(e){if(void 0!==e.changedTouches&&e.changedTouches.length>0)return{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY};if(void 0!==e.clientX&&void 0!==e.clientY)return{x:e.clientX,y:e.clientY};if(void 0!==e.currentTarget){const n=e.currentTarget;return{x:n.offsetLeft,y:n.offsetTop}}return null}function F8(e,n,t){return Math.abs(e.x-n.x)<=t&&Math.abs(e.y-n.y)<=t}function B8(e,n){const t=e.nativeElement.getBoundingClientRect();return"horizontal"===n?t.width:t.height}function gD(e){return"boolean"==typeof e?e:"false"!==e}function a_(e,n){return null==e?n:(e=Number(e),!isNaN(e)&&e>=0?e:n)}function V8(e,n){if("percent"===e){const t=n.reduce((i,r)=>null!==r?i+r:i,0);return n.every(i=>null!==i)&&t>99.9&&t<100.1}if("pixel"===e)return 1===n.filter(t=>null===t).length}function LE(e){return null===e.size?null:!0===e.component.lockSize?e.size:null===e.component.minSize?null:e.component.minSize>e.size?e.size:e.component.minSize}function PE(e){return null===e.size?null:!0===e.component.lockSize?e.size:null===e.component.maxSize?null:e.component.maxSize<e.size?e.size:e.component.maxSize}function Y2(e,n,t,i){return n.reduce((r,o)=>{const l=function YG(e,n,t,i){return 0===t?{areaSnapshot:n,pixelAbsorb:0,percentAfterAbsorption:n.sizePercentAtStart,pixelRemain:0}:0===n.sizePixelAtStart&&t<0?{areaSnapshot:n,pixelAbsorb:0,percentAfterAbsorption:0,pixelRemain:t}:"percent"===e?function $G(e,n,t){const r=(e.sizePixelAtStart+n)/t*100;if(n>0){if(null!==e.area.maxSize&&r>e.area.maxSize){const o=e.area.maxSize/100*t;return{areaSnapshot:e,pixelAbsorb:o,percentAfterAbsorption:e.area.maxSize,pixelRemain:e.sizePixelAtStart+n-o}}return{areaSnapshot:e,pixelAbsorb:n,percentAfterAbsorption:r>100?100:r,pixelRemain:0}}if(n<0){if(null!==e.area.minSize&&r<e.area.minSize){const o=e.area.minSize/100*t;return{areaSnapshot:e,pixelAbsorb:o,percentAfterAbsorption:e.area.minSize,pixelRemain:e.sizePixelAtStart+n-o}}return r<0?{areaSnapshot:e,pixelAbsorb:-e.sizePixelAtStart,percentAfterAbsorption:0,pixelRemain:n+e.sizePixelAtStart}:{areaSnapshot:e,pixelAbsorb:n,percentAfterAbsorption:r,pixelRemain:0}}}(n,t,i):"pixel"===e?function WG(e,n,t){const i=e.sizePixelAtStart+n;return n>0?null!==e.area.maxSize&&i>e.area.maxSize?{areaSnapshot:e,pixelAbsorb:e.area.maxSize-e.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:i-e.area.maxSize}:{areaSnapshot:e,pixelAbsorb:n,percentAfterAbsorption:-1,pixelRemain:0}:n<0?null!==e.area.minSize&&i<e.area.minSize?{areaSnapshot:e,pixelAbsorb:e.area.minSize+n-i,percentAfterAbsorption:-1,pixelRemain:i-e.area.minSize}:i<0?{areaSnapshot:e,pixelAbsorb:-e.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:n+e.sizePixelAtStart}:{areaSnapshot:e,pixelAbsorb:n,percentAfterAbsorption:-1,pixelRemain:0}:void 0}(n,t):void 0}(e,o,r.remain,i);return r.list.push(l),r.remain=l.pixelRemain,r},{remain:t,list:[]})}function H8(e,n){"percent"===e?n.areaSnapshot.area.size=n.percentAfterAbsorption:"pixel"===e&&null!==n.areaSnapshot.area.size&&(n.areaSnapshot.area.size=n.areaSnapshot.sizePixelAtStart+n.pixelAbsorb)}const GG=new Ci("angular-split-global-config");let j8=(()=>{class e{constructor(t,i,r,o,l){this.ngZone=t,this.elRef=i,this.cdRef=r,this.renderer=o,this.gutterClickDeltaPx=2,this._config={direction:"horizontal",unit:"percent",gutterSize:11,gutterStep:1,restrictMove:!1,useTransition:!1,disabled:!1,dir:"ltr",gutterDblClickDuration:0},this.dragStart=new pi(!1),this.dragEnd=new pi(!1),this.gutterClick=new pi(!1),this.gutterDblClick=new pi(!1),this.dragProgressSubject=new yr,this.dragProgress$=this.dragProgressSubject.asObservable(),this.isDragging=!1,this.isWaitingClear=!1,this.isWaitingInitialMove=!1,this.dragListeners=[],this.snapshot=null,this.startPoint=null,this.endPoint=null,this.displayedAreas=[],this.hiddenAreas=[],this._clickTimeout=null,this.direction=this._direction,this._config=l?Object.assign(this._config,l):this._config,Object.keys(this._config).forEach(u=>{this[u]=this._config[u]})}set direction(t){this._direction="vertical"===t?"vertical":"horizontal",this.renderer.addClass(this.elRef.nativeElement,`as-${this._direction}`),this.renderer.removeClass(this.elRef.nativeElement,"as-"+("vertical"===this._direction?"horizontal":"vertical")),this.build(!1,!1)}get direction(){return this._direction}set unit(t){this._unit="pixel"===t?"pixel":"percent",this.renderer.addClass(this.elRef.nativeElement,`as-${this._unit}`),this.renderer.removeClass(this.elRef.nativeElement,"as-"+("pixel"===this._unit?"percent":"pixel")),this.build(!1,!0)}get unit(){return this._unit}set gutterSize(t){this._gutterSize=a_(t,11),this.build(!1,!1)}get gutterSize(){return this._gutterSize}set gutterStep(t){this._gutterStep=a_(t,1)}get gutterStep(){return this._gutterStep}set restrictMove(t){this._restrictMove=gD(t)}get restrictMove(){return this._restrictMove}set useTransition(t){this._useTransition=gD(t),this._useTransition?this.renderer.addClass(this.elRef.nativeElement,"as-transition"):this.renderer.removeClass(this.elRef.nativeElement,"as-transition")}get useTransition(){return this._useTransition}set disabled(t){this._disabled=gD(t),this._disabled?this.renderer.addClass(this.elRef.nativeElement,"as-disabled"):this.renderer.removeClass(this.elRef.nativeElement,"as-disabled")}get disabled(){return this._disabled}set dir(t){this._dir="rtl"===t?"rtl":"ltr",this.renderer.setAttribute(this.elRef.nativeElement,"dir",this._dir)}get dir(){return this._dir}set gutterDblClickDuration(t){this._gutterDblClickDuration=a_(t,0)}get gutterDblClickDuration(){return this._gutterDblClickDuration}get transitionEnd(){return new Yr(t=>this.transitionEndSubscriber=t).pipe(function BG(e,n=y5){return Ne((t,i)=>{let r=null,o=null,l=null;const u=()=>{if(r){r.unsubscribe(),r=null;const v=o;o=null,i.next(v)}};function g(){const v=l+e,D=n.now();if(D<v)return r=this.schedule(void 0,v-D),void i.add(r);u()}t.subscribe(ii(i,v=>{o=v,l=n.now(),r||(r=n.schedule(g,e),i.add(r))},()=>{u(),i.complete()},void 0,()=>{o=r=null}))})}(20))}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>this.renderer.addClass(this.elRef.nativeElement,"as-init"))})}getNbGutters(){return 0===this.displayedAreas.length?0:this.displayedAreas.length-1}addArea(t){const i={component:t,order:0,size:0,minSize:null,maxSize:null,sizeBeforeCollapse:null,gutterBeforeCollapse:0};!0===t.visible?(this.displayedAreas.push(i),this.build(!0,!0)):this.hiddenAreas.push(i)}removeArea(t){if(this.displayedAreas.some(i=>i.component===t)){const i=this.displayedAreas.find(r=>r.component===t);this.displayedAreas.splice(this.displayedAreas.indexOf(i),1),this.build(!0,!0)}else if(this.hiddenAreas.some(i=>i.component===t)){const i=this.hiddenAreas.find(r=>r.component===t);this.hiddenAreas.splice(this.hiddenAreas.indexOf(i),1)}}updateArea(t,i,r){!0===t.visible&&this.build(i,r)}showArea(t){const i=this.hiddenAreas.find(o=>o.component===t);if(void 0===i)return;const r=this.hiddenAreas.splice(this.hiddenAreas.indexOf(i),1);this.displayedAreas.push(...r),this.build(!0,!0)}hideArea(t){const i=this.displayedAreas.find(o=>o.component===t);if(void 0===i)return;const r=this.displayedAreas.splice(this.displayedAreas.indexOf(i),1);r.forEach(o=>{o.order=0,o.size=0}),this.hiddenAreas.push(...r),this.build(!0,!0)}getVisibleAreaSizes(){return this.displayedAreas.map(t=>null===t.size?"*":t.size)}setVisibleAreaSizes(t){if(t.length!==this.displayedAreas.length)return!1;const i=t.map(o=>a_(o,null));return!1!==V8(this.unit,i)&&(this.displayedAreas.forEach((o,l)=>o.component._size=i[l]),this.build(!1,!0),!0)}build(t,i){if(this.stopDragging(),!0===t&&(this.displayedAreas.every(r=>null!==r.component.order)&&this.displayedAreas.sort((r,o)=>r.component.order-o.component.order),this.displayedAreas.forEach((r,o)=>{r.order=2*o,r.component.setStyleOrder(r.order)})),!0===i){const r=V8(this.unit,this.displayedAreas.map(o=>o.component.size));switch(this.unit){case"percent":{const o=100/this.displayedAreas.length;this.displayedAreas.forEach(l=>{l.size=r?l.component.size:o,l.minSize=LE(l),l.maxSize=PE(l)});break}case"pixel":if(r)this.displayedAreas.forEach(o=>{o.size=o.component.size,o.minSize=LE(o),o.maxSize=PE(o)});else{const o=this.displayedAreas.filter(l=>null===l.component.size);if(0===o.length&&this.displayedAreas.length>0)this.displayedAreas.forEach((l,u)=>{l.size=0===u?null:l.component.size,l.minSize=0===u?null:LE(l),l.maxSize=0===u?null:PE(l)});else if(o.length>1){let l=!1;this.displayedAreas.forEach(u=>{null===u.component.size?!1===l?(u.size=null,u.minSize=null,u.maxSize=null,l=!0):(u.size=100,u.minSize=null,u.maxSize=null):(u.size=u.component.size,u.minSize=LE(u),u.maxSize=PE(u))})}}}}this.refreshStyleSizes(),this.cdRef.markForCheck()}refreshStyleSizes(){if("percent"===this.unit)if(1===this.displayedAreas.length)this.displayedAreas[0].component.setStyleFlex(0,0,"100%",!1,!1);else{const t=this.getNbGutters()*this.gutterSize;this.displayedAreas.forEach(i=>{i.component.setStyleFlex(0,0,`calc( ${i.size}% - ${i.size/100*t}px )`,null!==i.minSize&&i.minSize===i.size,null!==i.maxSize&&i.maxSize===i.size)})}else"pixel"===this.unit&&this.displayedAreas.forEach(t=>{null===t.size?t.component.setStyleFlex(1,1,1===this.displayedAreas.length?"100%":"auto",!1,!1):1===this.displayedAreas.length?t.component.setStyleFlex(0,0,"100%",!1,!1):t.component.setStyleFlex(0,0,`${t.size}px`,null!==t.minSize&&t.minSize===t.size,null!==t.maxSize&&t.maxSize===t.size)})}clickGutter(t,i){const r=pD(t);this.startPoint&&F8(this.startPoint,r,this.gutterClickDeltaPx)&&(!this.isDragging||this.isWaitingInitialMove)&&(null!==this._clickTimeout?(window.clearTimeout(this._clickTimeout),this._clickTimeout=null,this.notify("dblclick",i),this.stopDragging()):this._clickTimeout=window.setTimeout(()=>{this._clickTimeout=null,this.notify("click",i),this.stopDragging()},this.gutterDblClickDuration))}startKeyboardDrag(t,i,r){if(!0===this.disabled||!0===this.isWaitingClear)return;const o=function zG(e,n){if("horizontal"===n)switch(e.key){case"ArrowLeft":case"ArrowRight":case"PageUp":case"PageDown":break;default:return null}if("vertical"===n)switch(e.key){case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":break;default:return null}const t=e.currentTarget,i="PageUp"===e.key||"PageDown"===e.key?500:50;let r=t.offsetLeft,o=t.offsetTop;switch(e.key){case"ArrowLeft":r-=i;break;case"ArrowRight":r+=i;break;case"ArrowUp":o-=i;break;case"ArrowDown":o+=i;break;case"PageUp":"vertical"===n?o-=i:r+=i;break;case"PageDown":"vertical"===n?o+=i:r-=i;break;default:return null}return{x:r,y:o}}(t,this.direction);null!==o&&(this.endPoint=o,this.startPoint=pD(t),t.preventDefault(),t.stopPropagation(),this.setupForDragEvent(i,r),this.startDragging(),this.drag(),this.stopDragging())}startMouseDrag(t,i,r){t.preventDefault(),t.stopPropagation(),this.startPoint=pD(t),null!==this.startPoint&&!0!==this.disabled&&!0!==this.isWaitingClear&&(this.setupForDragEvent(i,r),this.dragListeners.push(this.renderer.listen("document","mouseup",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchend",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchcancel",this.stopDragging.bind(this))),this.ngZone.runOutsideAngular(()=>{this.dragListeners.push(this.renderer.listen("document","mousemove",this.mouseDragEvent.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchmove",this.mouseDragEvent.bind(this)))}),this.startDragging())}setupForDragEvent(t,i){this.snapshot={gutterNum:i,lastSteppedOffset:0,allAreasSizePixel:B8(this.elRef,this.direction)-this.getNbGutters()*this.gutterSize,allInvolvedAreasSizePercent:100,areasBeforeGutter:[],areasAfterGutter:[]},this.displayedAreas.forEach(r=>{const o={area:r,sizePixelAtStart:B8(r.component.elRef,this.direction),sizePercentAtStart:"percent"===this.unit?r.size:-1};r.order<t?!0===this.restrictMove?this.snapshot.areasBeforeGutter=[o]:this.snapshot.areasBeforeGutter.unshift(o):r.order>t&&(!0===this.restrictMove?0===this.snapshot.areasAfterGutter.length&&(this.snapshot.areasAfterGutter=[o]):this.snapshot.areasAfterGutter.push(o))}),this.snapshot.allInvolvedAreasSizePercent=[...this.snapshot.areasBeforeGutter,...this.snapshot.areasAfterGutter].reduce((r,o)=>r+o.sizePercentAtStart,0)}startDragging(){this.displayedAreas.forEach(t=>t.component.lockEvents()),this.isDragging=!0,this.isWaitingInitialMove=!0}mouseDragEvent(t){t.preventDefault(),t.stopPropagation();const i=pD(t);null!==this._clickTimeout&&!F8(this.startPoint,i,this.gutterClickDeltaPx)&&(window.clearTimeout(this._clickTimeout),this._clickTimeout=null),!1!==this.isDragging&&(this.endPoint=pD(t),null!==this.endPoint&&this.drag())}drag(){if(this.isWaitingInitialMove){if(this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y)return;this.ngZone.run(()=>{this.isWaitingInitialMove=!1,this.renderer.addClass(this.elRef.nativeElement,"as-dragging"),this.renderer.addClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.notify("start",this.snapshot.gutterNum)})}let t="horizontal"===this.direction?this.startPoint.x-this.endPoint.x:this.startPoint.y-this.endPoint.y;"rtl"===this.dir&&(t=-t);const i=Math.round(t/this.gutterStep)*this.gutterStep;if(i===this.snapshot.lastSteppedOffset)return;this.snapshot.lastSteppedOffset=i;let r=Y2(this.unit,this.snapshot.areasBeforeGutter,-i,this.snapshot.allAreasSizePixel),o=Y2(this.unit,this.snapshot.areasAfterGutter,i,this.snapshot.allAreasSizePixel);if(0!==r.remain&&0!==o.remain?Math.abs(r.remain)===Math.abs(o.remain)||(Math.abs(r.remain)>Math.abs(o.remain)?o=Y2(this.unit,this.snapshot.areasAfterGutter,i+r.remain,this.snapshot.allAreasSizePixel):r=Y2(this.unit,this.snapshot.areasBeforeGutter,-(i-o.remain),this.snapshot.allAreasSizePixel)):0!==r.remain?o=Y2(this.unit,this.snapshot.areasAfterGutter,i+r.remain,this.snapshot.allAreasSizePixel):0!==o.remain&&(r=Y2(this.unit,this.snapshot.areasBeforeGutter,-(i-o.remain),this.snapshot.allAreasSizePixel)),"percent"===this.unit){const l=[...r.list,...o.list],u=l.find(g=>0!==g.percentAfterAbsorption&&g.percentAfterAbsorption!==g.areaSnapshot.area.minSize&&g.percentAfterAbsorption!==g.areaSnapshot.area.maxSize);u&&(u.percentAfterAbsorption=this.snapshot.allInvolvedAreasSizePercent-l.filter(g=>g!==u).reduce((g,v)=>g+v.percentAfterAbsorption,0))}r.list.forEach(l=>H8(this.unit,l)),o.list.forEach(l=>H8(this.unit,l)),this.refreshStyleSizes(),this.notify("progress",this.snapshot.gutterNum)}stopDragging(t){if(t&&(t.preventDefault(),t.stopPropagation()),!1!==this.isDragging){for(this.displayedAreas.forEach(i=>i.component.unlockEvents());this.dragListeners.length>0;){const i=this.dragListeners.pop();i&&i()}this.isDragging=!1,!1===this.isWaitingInitialMove&&this.notify("end",this.snapshot.gutterNum),this.renderer.removeClass(this.elRef.nativeElement,"as-dragging"),this.renderer.removeClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.snapshot=null,this.isWaitingClear=!0,this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.startPoint=null,this.endPoint=null,this.isWaitingClear=!1})})}}notify(t,i){const r=this.getVisibleAreaSizes();"start"===t?this.dragStart.emit({gutterNum:i,sizes:r}):"end"===t?this.dragEnd.emit({gutterNum:i,sizes:r}):"click"===t?this.gutterClick.emit({gutterNum:i,sizes:r}):"dblclick"===t?this.gutterDblClick.emit({gutterNum:i,sizes:r}):"transitionEnd"===t?this.transitionEndSubscriber&&this.ngZone.run(()=>this.transitionEndSubscriber.next(r)):"progress"===t&&this.dragProgressSubject.next({gutterNum:i,sizes:r})}ngOnDestroy(){this.stopDragging()}collapseArea(t,i,r){const o=this.displayedAreas.find(g=>g.component===t);if(void 0===o)return;const l="right"===r?1:-1;o.sizeBeforeCollapse||(o.sizeBeforeCollapse=o.size,o.gutterBeforeCollapse=l),o.size=i;const u=this.gutterEls.find(g=>g.nativeElement.style.order===`${o.order+l}`);u&&this.renderer.addClass(u.nativeElement,"as-split-gutter-collapsed"),this.updateArea(t,!1,!1)}expandArea(t){const i=this.displayedAreas.find(o=>o.component===t);if(void 0===i||!i.sizeBeforeCollapse)return;i.size=i.sizeBeforeCollapse,i.sizeBeforeCollapse=null;const r=this.gutterEls.find(o=>o.nativeElement.style.order===`${i.order+i.gutterBeforeCollapse}`);r&&this.renderer.removeClass(r.nativeElement,"as-split-gutter-collapsed"),this.updateArea(t,!1,!1)}getAriaAreaSizeText(t){return null===t?null:t.toFixed(0)+" "+this.unit}}return e.\u0275fac=function(t){return new(t||e)(lt(Es),lt(es),lt(ef),lt(hl),lt(GG,8))},e.\u0275cmp=wr({type:e,selectors:[["as-split"]],viewQuery:function(t,i){if(1&t&&Xl(VG,5),2&t){let r;eo(r=to())&&(i.gutterEls=r)}},inputs:{direction:"direction",unit:"unit",gutterSize:"gutterSize",gutterStep:"gutterStep",restrictMove:"restrictMove",useTransition:"useTransition",disabled:"disabled",dir:"dir",gutterDblClickDuration:"gutterDblClickDuration",gutterClickDeltaPx:"gutterClickDeltaPx",gutterAriaLabel:"gutterAriaLabel"},outputs:{transitionEnd:"transitionEnd",dragStart:"dragStart",dragEnd:"dragEnd",gutterClick:"gutterClick",gutterDblClick:"gutterDblClick"},exportAs:["asSplit"],ngContentSelectors:HG,decls:2,vars:1,consts:[["gutterEls",""],["ngFor","",3,"ngForOf"],["role","slider","tabindex","0","class","as-split-gutter",3,"flex-basis","order","keydown","mousedown","touchstart","mouseup","touchend",4,"ngIf"],["role","slider","tabindex","0",1,"as-split-gutter",3,"keydown","mousedown","touchstart","mouseup","touchend"],[1,"as-split-gutter-icon"]],template:function(t,i){1&t&&(Fy(),G1(0),Qt(1,UG,1,1,"ng-template",1)),2&t&&(he(),Pe("ngForOf",i.displayedAreas))},dependencies:[ad,Yc],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch;overflow:hidden;width:100%;height:100%}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{border:none;flex-grow:0;flex-shrink:0;background-color:#eee;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%] > .as-split-gutter.as-split-gutter-collapsed[_ngcontent-%COMP%]{flex-basis:1px!important;pointer-events:none}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center center;background-repeat:no-repeat}[_nghost-%COMP%]    >.as-split-area{flex-grow:0;flex-shrink:0;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]    >.as-split-area.as-hidden{flex:0 1 0px!important;overflow-x:hidden;overflow-y:hidden}.as-horizontal[_nghost-%COMP%]{flex-direction:row}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:row;cursor:col-resize;height:100%}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-horizontal[_nghost-%COMP%]    >.as-split-area{height:100%}.as-vertical[_nghost-%COMP%]{flex-direction:column}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:column;cursor:row-resize;width:100%}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC)}.as-vertical[_nghost-%COMP%]    >.as-split-area{width:100%}.as-vertical[_nghost-%COMP%]    >.as-split-area.as-hidden{max-width:0}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{cursor:default}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-transition.as-init[_nghost-%COMP%]:not(.as-dragging) > .as-split-gutter[_ngcontent-%COMP%], .as-transition.as-init[_nghost-%COMP%]:not(.as-dragging)    >.as-split-area{transition:flex-basis .3s}"],changeDetection:0}),e})(),XG=(()=>{class e{constructor(t,i,r,o){this.ngZone=t,this.elRef=i,this.renderer=r,this.split=o,this._order=null,this._size=null,this._minSize=null,this._maxSize=null,this._lockSize=!1,this._visible=!0,this.lockListeners=[],this.renderer.addClass(this.elRef.nativeElement,"as-split-area")}set order(t){this._order=a_(t,null),this.split.updateArea(this,!0,!1)}get order(){return this._order}set size(t){this._size=a_(t,null),this.split.updateArea(this,!1,!0)}get size(){return this._size}set minSize(t){this._minSize=a_(t,null),this.split.updateArea(this,!1,!0)}get minSize(){return this._minSize}set maxSize(t){this._maxSize=a_(t,null),this.split.updateArea(this,!1,!0)}get maxSize(){return this._maxSize}set lockSize(t){this._lockSize=gD(t),this.split.updateArea(this,!1,!0)}get lockSize(){return this._lockSize}set visible(t){this._visible=gD(t),this._visible?(this.split.showArea(this),this.renderer.removeClass(this.elRef.nativeElement,"as-hidden")):(this.split.hideArea(this),this.renderer.addClass(this.elRef.nativeElement,"as-hidden"))}get visible(){return this._visible}ngOnInit(){this.split.addArea(this),this.ngZone.runOutsideAngular(()=>{this.transitionListener=this.renderer.listen(this.elRef.nativeElement,"transitionend",t=>{"flex-basis"===t.propertyName&&this.split.notify("transitionEnd",-1)})})}setStyleOrder(t){this.renderer.setStyle(this.elRef.nativeElement,"order",t)}setStyleFlex(t,i,r,o,l){this.renderer.setStyle(this.elRef.nativeElement,"flex-grow",t),this.renderer.setStyle(this.elRef.nativeElement,"flex-shrink",i),this.renderer.setStyle(this.elRef.nativeElement,"flex-basis",r),!0===o?this.renderer.addClass(this.elRef.nativeElement,"as-min"):this.renderer.removeClass(this.elRef.nativeElement,"as-min"),!0===l?this.renderer.addClass(this.elRef.nativeElement,"as-max"):this.renderer.removeClass(this.elRef.nativeElement,"as-max")}lockEvents(){this.ngZone.runOutsideAngular(()=>{this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement,"selectstart",()=>!1)),this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement,"dragstart",()=>!1))})}unlockEvents(){for(;this.lockListeners.length>0;){const t=this.lockListeners.pop();t&&t()}}ngOnDestroy(){this.unlockEvents(),this.transitionListener&&this.transitionListener(),this.split.removeArea(this)}collapse(t=0,i="right"){this.split.collapseArea(this,t,i)}expand(){this.split.expandArea(this)}}return e.\u0275fac=function(t){return new(t||e)(lt(Es),lt(es),lt(hl),lt(j8))},e.\u0275dir=li({type:e,selectors:[["as-split-area"],["","as-split-area",""]],inputs:{order:"order",size:"size",minSize:"minSize",maxSize:"maxSize",lockSize:"lockSize",visible:"visible"},exportAs:["asSplitArea"]}),e})(),qG=(()=>{class e{static forRoot(){return console.warn("AngularSplitModule.forRoot() is deprecated and will be removed in v6"),{ngModule:e,providers:[]}}static forChild(){return console.warn("AngularSplitModule.forChild() is deprecated and will be removed in v6"),{ngModule:e,providers:[]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ts({type:e}),e.\u0275inj=Sr({imports:[jy]}),e})(),Nd=(()=>{class e{constructor(){this.listRA=[],this.ID="",this.name="",this.step=0,this.status="",this.results=void 0,this.pending_tasks=[],this.workflow=void 0,this.notes=[],this.note={}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac})}return e})();class l_{constructor(){this.decisions=[],this.results=[]}}class c_{constructor(){this.decisions=[],this.results=[]}}let u_=(()=>{class e{constructor(){this.interfaceVisible=!1,this.editModeTasks=!1,this.editModeDecisions=!1}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac})}return e})(),FE=(()=>{class e{constructor(){this.status=!1}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac})}return e})();const xo_baseUrl="/namastox/v1/";let ah=(()=>{class e{constructor(t){this.http=t,this.generateForms=new yr,this.generateForms$=this.generateForms.asObservable(),this.refreshWorkflow=new yr,this.refreshWorklfow$=this.refreshWorkflow.asObservable(),this.updateOverviewCanvas=new Vn(!1),this.updateOverviewCanvas$=this.updateOverviewCanvas.asObservable()}AutoGenerateForm(t){this.generateForms.next(t)}updateWorkflow(){this.refreshWorkflow.next(!0)}drawOverviewCanvas(t){this.updateOverviewCanvas.next(t)}getRaList(){return this.http.get(xo_baseUrl+"list")}getSteps(t){return this.http.get(xo_baseUrl+"steps/"+t)}getGeneralInfo(t){return this.http.get(xo_baseUrl+"general_info/"+t)}getStatus(t){return this.http.get(xo_baseUrl+"status/"+t)}getStatusWithStep(t,i){return this.http.get(xo_baseUrl+"status/"+t+"/"+i)}getResults(t){return this.http.get(xo_baseUrl+"results/"+t)}getTask(t,i){return this.http.get(xo_baseUrl+"task/"+t+"/"+i)}getResultsWithStep(t,i){return this.http.get(xo_baseUrl+"results/"+t+"/"+i)}getWorkflowByStep(t,i){return this.http.get(xo_baseUrl+"workflow/"+t+"/"+i)}getPendingTasks(t){return this.http.get(xo_baseUrl+"pending_tasks/"+t)}getPendingTask(t,i){return this.http.get(xo_baseUrl+"pending_task/"+t+"/"+i)}getLink(t,i){return this.http.get(xo_baseUrl+"link/"+t+"/"+i,{responseType:"blob"})}getWorkflow(t){return this.http.get(xo_baseUrl+"workflow/"+t)}getInformBySubstanceName(t){return this.http.get(xo_baseUrl+"inform_name/"+t)}getInformByCASRN(t){return this.http.get(xo_baseUrl+"inform_casrn/"+t)}getUpstreamTasks(t,i){return this.http.get(xo_baseUrl+"upstream_tasks/"+t+"/"+i)}exportToFile(t,i){return this.http.get(xo_baseUrl+"report/"+t+"/"+i,"word"==i||"excel"==i?{responseType:"arraybuffer"}:{responseType:"text"})}attachments(t){return this.http.get(xo_baseUrl+"attachments/"+t,{responseType:"blob"})}getNotes(t,i){return this.http.get(xo_baseUrl+"notes/"+t)}saveNote(t,i,r){const o=new FormData;return o.append("title",i),o.append("text",r),this.http.put(xo_baseUrl+"note/"+t,o)}deleteNote(t,i){return this.http.delete(xo_baseUrl+"note/"+t+"/"+i)}static#e=this.\u0275fac=function(i){return new(i||e)(di(J1))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),d_=(()=>{class e{constructor(t,i,r,o){this.ra=t,this.pendingTasks=i,this.results=r,this.commonService=o}refreshRA(){this.clearRA();let t=this.commonService.getGeneralInfo(this.ra.name),i=this.commonService.getPendingTasks(this.ra.name);PP([t,this.commonService.getStatus(this.ra.name),this.commonService.getResults(this.ra.name),this.commonService.getWorkflow(this.ra.name),this.commonService.getNotes(this.ra.name)]).subscribe(v=>{this.ra.general_information=v[0],this.commonService.drawOverviewCanvas(!1),this.ra.status=v[1].ra,this.ra.results=v[2],this.separatePastTasks(),this.ra.workflow=v[3].result,$("#dtNotes").DataTable().destroy(),this.ra.notes=v[4],setTimeout(()=>{$("#dtNotes").DataTable()},200),this.commonService.updateWorkflow(),setTimeout(()=>{this.ra.status.step>0?i.subscribe({next:D=>{this.ra.pending_tasks=D,this.separatePendingTasks(),this.commonService.AutoGenerateForm()},error:D=>{console.log(D)}}):this.commonService.AutoGenerateForm()},500)})}clearRA(){this.ra.pending_tasks=[],this.pendingTasks.results=[],this.pendingTasks.decisions=[],this.results.resultSelected="",this.results.decisionSelected="",this.ra.note={},this.ra?.general_information?.general?.substances&&(this.ra.general_information.general.substances=[])}separatePendingTasks(){this.pendingTasks.results=[],this.pendingTasks.decisions=[];for(const t in this.ra.pending_tasks)"LOGICAL"==this.ra.pending_tasks[t].category?this.pendingTasks.decisions.push(this.ra.pending_tasks[t]):this.pendingTasks.results.push(this.ra.pending_tasks[t])}separatePastTasks(){$("#dtTasks").DataTable().destroy(),$("#dtDecisions").DataTable().destroy(),this.results.results=[],this.results.decisions=[];for(const t of this.ra.results)"values"in t?this.results.results.push(t):this.results.decisions.push(t);setTimeout(()=>{$("#dtTasks").DataTable(),$("#dtDecisions").DataTable()},500)}static#e=this.\u0275fac=function(i){return new(i||e)(di(Nd),di(c_),di(l_),di(ah))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),U8=(()=>{class e{constructor(t){this.http=t}getSessionUser(){return this.http.get(xo_baseUrl+"user_session/")}static#e=this.\u0275fac=function(i){return new(i||e)(di(J1))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var z8=N(179);const KG=["frameElement"],ZG=["panElement"],QG=["zoomElement"],JG=["panzoomOverlay"],eX=["*"];let tX=(()=>{class e{zone;constructor(t){this.zone=t}frameElementRef;panElementRef;zoomElementRef;panzoomOverlayRef;config;base;model;api;contentHeight;contentWidth;frameHeight;frameWidth;lastMouseEventTime;previousPosition;isDragging=!1;panVelocity;animationParams;animationFrameFunc;lastTick=0;isChrome=!1;willChangeNextFrame=!0;animationId;isMobile=!1;scale;isFirstSync=!0;lastClickPoint;zoomLevelIsChanging=!1;dragFinishing=!1;dragMouseButton;maxScale;minScale;minimumAllowedZoomLevel;resizeObserver;ngOnInit(){switch(this.base=this.config.initialZoomToFit?this.calcZoomToFit(this.config.initialZoomToFit):{zoomLevel:this.config.initialZoomLevel,pan:{x:this.config.initialPanX,y:this.config.initialPanY}},this.model={zoomLevel:this.base.zoomLevel,isPanning:!1,pan:{x:this.base.pan.x,y:this.base.pan.y}},this.config.modelChanged.next(this.model),this.api={model:this.model,config:this.config,changeZoomLevel:this.zoomToLevelAndPoint.bind(this),zoomIn:this.zoomIn.bind(this),zoomOut:this.zoomOut.bind(this),zoomToFit:this.zoomToFit.bind(this),resetView:this.resetView.bind(this),getViewPosition:this.getViewPosition.bind(this),getModelPosition:this.getModelPosition.bind(this),panToPoint:this.panToPoint.bind(this),panDelta:this.panDelta.bind(this),panDeltaPercent:this.panDeltaPercent.bind(this),panDeltaAbsolute:this.panDeltaAbsolute.bind(this),centerContent:this.centerContent.bind(this),centerX:this.centerX.bind(this),centerY:this.centerY.bind(this),centerTopLeft:this.centerTopLeftCorner.bind(this),centerBottomLeft:this.centerBottomLeftCorner.bind(this),centerTopRight:this.centerTopRightCorner.bind(this),centerBottomRight:this.centerBottomRightCorner.bind(this),updateContentDimensions:this.updateContentDimensions.bind(this),detectContentDimensions:this.detectContentDimensions.bind(this)},this.config.api.next(this.api),this.config.freeMouseWheel&&(this.scale=this.getCssScale(this.config.initialZoomLevel),this.maxScale=this.getCssScale(this.config.zoomLevels-1),this.minScale=this.getCssScale(0)),this.minimumAllowedZoomLevel=0,this.config.keepInBounds&&(this.minimumAllowedZoomLevel=this.config.neutralZoomLevel,this.minScale=this.getCssScale(this.config.neutralZoomLevel)),this.zoomElementRef.nativeElement.style.willChange="transform",navigator.userAgent.search("Chrome")>=0&&(this.isChrome=!0,this.zoomElementRef.nativeElement.style.transform="translateZ(0)"),this.config.acceleratePan&&(this.panElementRef.nativeElement.style.willChange="transform",navigator.userAgent.search("Chrome")>=0&&(this.isChrome=!0,this.panElementRef.nativeElement.style.transform="translateZ(0)")),this.animationTick(),this.scale=this.getCssScale(this.base.zoomLevel),this.isFirstSync=!1,this.config.dragMouseButton){case"left":default:this.dragMouseButton=0;break;case"middle":this.dragMouseButton=1,this.zone.runOutsideAngular(()=>this.frameElementRef.nativeElement.addEventListener("auxclick",this.preventDefault));break;case"right":this.zone.runOutsideAngular(()=>document.addEventListener("contextmenu",this.preventDefault)),this.dragMouseButton=2}}ngAfterViewInit(){this.detectContentDimensions();const t=getComputedStyle(this.frameElementRef.nativeElement);this.frameHeight=parseInt(t.getPropertyValue("height").split("px")[0]),this.frameWidth=parseInt(t.getPropertyValue("width").split("px")[0]),this.zone.runOutsideAngular(()=>this.animationFrameFunc=window.requestAnimationFrame),this.config.dynamicContentDimensions&&(window.ResizeObserver?(this.resizeObserver=new window.ResizeObserver(i=>this.onContentDimensionsChangeDetected(i)),this.zone.runOutsideAngular(()=>this.resizeObserver.observe(this.zoomElementRef.nativeElement))):console.error("ResizeObserver API is not supported by this browser.  See https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver for info on browser compatibility.")),this.isMobileDevice()?(this.isMobile=!0,this.zone.runOutsideAngular(()=>this.frameElementRef.nativeElement.addEventListener("touchstart",this.onTouchStart))):this.zone.runOutsideAngular(()=>{this.frameElementRef.nativeElement.addEventListener("mousedown",this.onMousedown),this.frameElementRef.nativeElement.addEventListener("dblclick",this.onDblClick),this.frameElementRef.nativeElement.addEventListener("wheel",i=>this.animationFrameFunc(()=>this.onMouseWheel(i)),{passive:!0})})}ngOnDestroy(){switch(this.isMobile?this.frameElementRef.nativeElement.removeEventListener("touchstart",this.onTouchStart):(this.frameElementRef.nativeElement.removeEventListener("mousedown",this.onMousedown),this.frameElementRef.nativeElement.removeEventListener("wheel",t=>this.animationFrameFunc(()=>this.onMouseWheel(t)),{passive:!0}),this.frameElementRef.nativeElement.removeEventListener("dblclick",this.onDblClick)),this.animationFrameFunc&&this.animationId&&window.cancelAnimationFrame(this.animationId),this.resizeObserver&&this.resizeObserver.disconnect(),this.config.dragMouseButton){case"middle":this.dragMouseButton=1,this.zone.runOutsideAngular(()=>this.frameElementRef.nativeElement.removeEventListener("auxclick",this.preventDefault));break;case"right":this.zone.runOutsideAngular(()=>document.removeEventListener("contextmenu",this.preventDefault)),this.dragMouseButton=2}}onMouseWheel=t=>{if(!(t&&t.pageX&&t.pageY))return;let i=t.deltaY;if(this.config.zoomOnMouseWheel){if(this.animationParams)return;this.config.invertMouseWheel||(i=-i);const r=this.getFrameElementOffset(),o={x:t.pageX-r.left,y:t.pageY-r.top};this.lastClickPoint=o,this.config.freeMouseWheel?this.freeZoom(o,i):i<0?this.zoomInToPoint(o):i>0&&this.zoomOutFromPoint(o)}};isParentElement(t,i){let r=i.parentNode;for(;null!==r;){if(r.classList&&r.classList.contains(t))return!0;r=r.parentNode}return!1}onMousedown=t=>{if(!(this.config.noDragFromElementClass&&this.isParentElement(this.config.noDragFromElementClass,t.srcElement)||t.button!==this.dragMouseButton&&"touchstart"!==t.type))return"touchstart"!==t.type&&t.preventDefault(),this.dragFinishing=!1,this.panVelocity=void 0,this.config.panOnClickDrag&&(this.previousPosition={x:t.pageX,y:t.pageY},this.lastMouseEventTime=t.timeStamp,this.isDragging=!0,this.model.isPanning=!1,this.isMobile?(this.zone.runOutsideAngular(()=>document.addEventListener("touchend",this.onTouchEnd,!1)),this.zone.runOutsideAngular(()=>document.addEventListener("touchmove",this.onTouchMove,{passive:!0,capture:!1}))):(this.zone.runOutsideAngular(()=>document.addEventListener("mousemove",this.onMouseMove,{passive:!0,capture:!1})),this.zone.runOutsideAngular(()=>document.addEventListener("mouseup",this.onMouseUp)))),!1};onTouchStart=t=>{if(1!==t.touches.length){const i=t.touches[0].pageX-t.touches[1].pageX,r=t.touches[0].pageY-t.touches[1].pageY;this.previousPosition={length:i*i+r*r}}this.onMousedown(t)};onMouseMove=t=>{let i;if(t&&t.pageX&&t.pageY)i=t;else{if("touchmove"!==t.type||!t.touches[0].pageX||!t.touches[0].pageY)return;i={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY}}const r=t.timeStamp,o=(r-this.lastMouseEventTime)/1e3;this.lastMouseEventTime=r;const l={x:i.pageX-this.previousPosition.x,y:i.pageY-this.previousPosition.y};if(this.config.keepInBounds){const D=this.getViewPosition({x:0,y:0}),L=this.getViewPosition({x:this.contentWidth,y:this.contentHeight});D.x>0&&l.x>0&&(l.x*=Math.min(1,Math.pow(D.x,-this.config.keepInBoundsDragPullback))),D.y>0&&l.y>0&&(l.y*=Math.min(1,Math.pow(D.y,-this.config.keepInBoundsDragPullback))),L.x<this.contentWidth&&l.x<0&&(l.x*=Math.min(1,Math.pow(this.contentWidth-L.x,-this.config.keepInBoundsDragPullback))),L.y<this.contentHeight&&l.y<0&&(l.y*=Math.min(1,Math.pow(this.contentHeight-L.y,-this.config.keepInBoundsDragPullback)))}const u_y=l.y||0;this.model.pan.x+=l.x||0,this.model.pan.y+=u_y,this.syncBaseToModel(),this.animationTick(),this.model.isPanning||(this.panzoomOverlayRef.nativeElement.style.display="block"),this.model.isPanning=!0;const g=l.x/o,v=l.y/o;this.panVelocity={x:Number.isFinite(g)?g:0,y:Number.isFinite(v)?v:0},this.previousPosition={x:i.pageX,y:i.pageY}};onTouchMove=t=>{if(1===t.touches.length)this.onMouseMove(t);else{const i=t.touches[0].pageX-t.touches[1].pageX,r=t.touches[0].pageY-t.touches[1].pageY,o=i*i+r*r,l=o-this.previousPosition.length;if(Math.abs(l)<100)return;const u=t.touches[1].pageX+i/2,g=t.touches[1].pageY+r/2,v=this.getFrameElementOffset(),D={x:u-v.left,y:g-v.top};this.lastClickPoint=D,this.changeZoomLevel(this.base.zoomLevel+1e-4*l,D),this.previousPosition={length:o}}};onMouseUp=t=>{if(t.button!==this.dragMouseButton&&"touchend"!==t.type)return;"touchend"!==t.type&&t.preventDefault();const r=(t.timeStamp-this.lastMouseEventTime)/1e3;if(!this.panVelocity||0===this.panVelocity.x&&0===this.panVelocity.y)this.panVelocity=void 0,this.dragFinishing=!1,this.model.isPanning=!1,this.config.modelChanged.next(this.model),this.syncBaseToModel();else{const o=Math.max(0,-.2+Math.pow(r+1,-4));this.panVelocity.x*=o,this.panVelocity.y*=o,this.dragFinishing=!0,this.zone.runOutsideAngular(()=>this.animationId=this.animationFrameFunc(this.animationTick))}this.isDragging=!1,this.isMobile?(this.zone.runOutsideAngular(()=>document.removeEventListener("touchend",this.onTouchEnd)),this.zone.runOutsideAngular(()=>document.removeEventListener("touchmove",this.onTouchMove,{passive:!0,capture:!1}))):(this.zone.runOutsideAngular(()=>document.removeEventListener("mousemove",this.onMouseMove,{passive:!0,capture:!1})),this.zone.runOutsideAngular(()=>document.removeEventListener("mouseup",this.onMouseUp,{passive:!0}))),this.panzoomOverlayRef.nativeElement.style.display="none"};onTouchEnd=t=>{this.onMouseUp(t)};onDblClick=t=>{if(t.preventDefault(),!this.config.zoomOnDoubleClick)return;const i=this.getFrameElementOffset(),r={x:t.pageX-i.left,y:t.pageY-i.top};this.lastClickPoint=r,this.zoomInToPoint(r)};preventDefault=t=>{t.preventDefault()};animationTick=(t=performance.now())=>{let i=0;if(0!==this.lastTick&&(i=t-this.lastTick),this.lastTick=t,this.animationParams&&(this.animationParams.progress+=Math.abs(i/this.animationParams.duration),this.animationParams.progress>=1&&(this.animationParams.progress=1,this.updateDOM(),this.animationParams=void 0)),this.panVelocity&&this.dragFinishing)for(i>0&&(i/=1e3);i>0;){const r=Math.min(.02,i);if(i-=r,this.model.pan.x=this.model.pan.x+this.panVelocity.x*r,this.panVelocity.x=this.panVelocity.x*(1-this.config.friction*r),this.model.pan.y=this.model.pan.y+this.panVelocity.y*r,this.panVelocity.y=this.panVelocity.y*(1-this.config.friction*r),this.length(this.panVelocity)<=this.config.haltSpeed){this.panVelocity=void 0,this.dragFinishing=!1;break}}if(this.config.keepInBounds||this.dragFinishing){const r=this.getViewPosition({x:0,y:0}),o=this.getViewPosition({x:this.contentWidth,y:this.contentHeight});r.x>0&&(this.base.pan.x-=this.config.keepInBoundsRestoreForce*r.x),r.y>0&&(this.base.pan.y-=this.config.keepInBoundsRestoreForce*r.y),o.x<this.contentWidth&&(this.base.pan.x-=this.config.keepInBoundsRestoreForce*(o.x-this.contentWidth)),o.y<this.contentHeight&&(this.base.pan.y-=this.config.keepInBoundsRestoreForce*(o.y-this.contentHeight))}if(this.updateDOM(),this.config.modelChanged.next(this.model),this.animationParams||this.panVelocity&&this.dragFinishing)this.isChrome&&this.zoomLevelIsChanging&&(this.zoomElementRef.nativeElement.style.willChange=this.willChangeNextFrame?"auto":"transform",this.willChangeNextFrame=!this.willChangeNextFrame),this.animationFrameFunc(this.animationTick);else{if(this.panVelocity&&!this.dragFinishing)return;this.model.isPanning&&(this.model.isPanning=!1),this.syncBaseToModel(),this.config.modelChanged.next(this.model),this.scale=this.getCssScale(this.base.zoomLevel),this.willChangeNextFrame=!0,this.zoomElementRef.nativeElement.style.willChange="transform",this.zoomLevelIsChanging=!1,this.lastTick=0}};updateDOM(){if(this.animationParams){this.model.zoomLevel=this.base.zoomLevel+this.animationParams.deltaZoomLevel*this.animationParams.progress;const i=this.animationParams.panStepFunc(this.model.zoomLevel);if(this.model.pan.x=this.base.pan.x+i.x,this.model.pan.y=this.base.pan.y+i.y,this.config.keepInBounds){const r=this.getViewPosition({x:0,y:0}),o=this.getViewPosition({x:this.contentWidth,y:this.contentHeight});r.x>0&&(this.model.pan.x=0),r.y>0&&(this.model.pan.y=0),o.x<this.contentWidth&&(this.model.pan.x-=o.x-this.contentWidth),o.y<this.contentHeight&&(this.model.pan.y-=o.y-this.contentHeight)}}if(this.animationParams||this.isFirstSync){const o=`transform-origin: 0 0; transform: scale(${this.getCssScale(this.model.zoomLevel)});`;this.zoomElementRef.nativeElement.setAttribute("style",o)}this.panElementRef.nativeElement.style.transform=`translate3d(${this.model.pan.x}px, ${this.model.pan.y}px, 0)`}freeZoom(t,i){if(this.isDragging)return;this.animationParams&&(this.animationParams=void 0),this.panVelocity&&(this.dragFinishing=!1,this.panVelocity=void 0);const r_x=this.model.pan.x,r_y=this.model.pan.y,o=this.scale;let l=this.scale+i*this.config.freeMouseWheelFactor*this.scale;l=Math.max(this.minScale,Math.min(this.maxScale,l)),this.scale=l;const u={x:t.x-l/o*(t.x-r_x),y:t.y-l/o*(t.y-r_y)};this.panElementRef.nativeElement.style.transform=`translate3d(${u.x}px, ${u.y}px, 0)`;let D=`transform-origin: 0 0; transform: scale(${this.scale});`;this.isChrome&&(D+=this.willChangeNextFrame?" will-change: auto;":" will-change: transform;",this.willChangeNextFrame=!this.willChangeNextFrame),this.zoomElementRef.nativeElement.setAttribute("style",D),this.model.pan.x=u.x,this.model.pan.y=u.y,this.model.zoomLevel=this.getZoomLevel(this.scale),this.config.modelChanged.next(this.model),this.syncBaseToModel()}isMobileDevice(){return typeof window.orientation<"u"||-1!==navigator.userAgent.indexOf("IEMobile")}syncBaseToModel(){this.base.pan.x=this.model.pan.x,this.base.pan.y=this.model.pan.y,this.base.zoomLevel=this.model.zoomLevel}length(t){return Math.sqrt(t.x*t.x+t.y*t.y)}getCentrePoint(){return{x:this.frameElementRef.nativeElement.offsetWidth/2,y:this.frameElementRef.nativeElement.offsetHeight/2}}getCssScale(t){return Math.pow(this.config.scalePerZoomLevel,t-this.config.neutralZoomLevel)}getZoomLevel(t){return Math.log10(t)/Math.log10(this.config.scalePerZoomLevel)+this.config.neutralZoomLevel}calcZoomToFit(t){const i=this.frameElementRef.nativeElement.offsetWidth,r=this.frameElementRef.nativeElement.offsetHeight,o=t.width,l=t.height,u=Math.min(i/o,r/l),v=this.getZoomLevel(u)*this.config.zoomToFitZoomLevelFactor,D=this.getCssScale(v);return{zoomLevel:v,pan:{x:-t.x*D+(i-o*D)/2,y:-t.y*D+(r-l*D)/2}}}zoomToFitModel(t,i=void 0){this.model.isPanning=!0,this.animateToTarget(t,i)}zoomToLevelAndPoint(t,i){this.changeZoomLevel(t,i)}zoomIn(t="lastPoint"){"lastPoint"===t?this.changeZoomLevel(this.base.zoomLevel+this.config.zoomButtonIncrement,this.lastClickPoint):"viewCenter"===t&&this.changeZoomLevel(this.base.zoomLevel+this.config.zoomButtonIncrement,this.getCentrePoint())}zoomOut(t="lastPoint"){"lastPoint"===t?this.changeZoomLevel(this.base.zoomLevel-this.config.zoomButtonIncrement,this.lastClickPoint):"viewCenter"===t&&this.changeZoomLevel(this.base.zoomLevel-this.config.zoomButtonIncrement,this.getCentrePoint())}startAnimation(){this.lastTick=performance.now(),this.zone.runOutsideAngular(()=>this.animationId=this.animationFrameFunc(this.animationTick))}getFrameElementOffset(){const t=this.frameElementRef.nativeElement.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX}}onContentDimensionsChangeDetected(t){this.contentHeight=t[0].contentRect.height,this.contentWidth=t[0].contentRect.width}getViewPosition(t){let i,r;if(this.animationParams){i=this.getCssScale(this.base.zoomLevel+this.animationParams.deltaZoomLevel*this.animationParams.progress);let o=this.animationParams.panStepFunc(this.model.zoomLevel);r={x:this.base.pan.x+o.x,y:this.base.pan.y+o.y}}else i=this.getCssScale(this.base.zoomLevel),r=this.base.pan;return{x:t.x*i+r.x,y:t.y*i+r.y}}getModelPosition(t){const i=t,r=this.getCssScale(this.base.zoomLevel),o=this.base.pan;return{x:1/r*(i.x-o.x),y:1/r*(i.y-o.y)}}resetView(){this.config.initialZoomToFit?this.zoomToFit(this.config.initialZoomToFit):void 0!==this.config.initialPanX&&void 0!==this.config.initialPanY&&void 0!==this.config.initialZoomLevel?this.zoomToFitModel({zoomLevel:this.config.initialZoomLevel,pan:{x:this.config.initialPanX,y:this.config.initialPanY}}):(console.error("PanZoomComponent: resetView() could not reset view as some vars were not set.  The culprits are either config.initialZoomLevel, config.initialPanX, or config.initialPanY.  Or just set panzoomConfig.initialZoomToFit"),console.log("config.initialZoomLevel: "+this.config.initialZoomLevel),console.log("config.initialPanX: "+this.config.initialPanX),console.log("config.initialPanY: "+this.config.initialPanY))}zoomToFit(t,i){const r=this.calcZoomToFit(t);this.model.isPanning=!0,this.animateToTarget(r,i)}zoomInToPoint(t){this.changeZoomLevel(this.base.zoomLevel+this.config.zoomButtonIncrement,t)}zoomOutFromPoint(t){this.changeZoomLevel(this.base.zoomLevel-this.config.zoomButtonIncrement,t)}panToPoint(t,i){const r={pan:{x:this.frameWidth/2-t.x*this.scale,y:this.frameHeight/2-t.y*this.scale},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(r,i)}panToPointCurrentScale(t,i){const r={pan:{x:this.frameWidth/2-t.x,y:this.frameHeight/2-t.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(r,i)}panDelta(t,i){const r={pan:{x:this.base.pan.x-this.scale*t.x,y:this.base.pan.y-this.scale*t.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(r,i)}panDeltaAbsolute(t,i){const r={pan:{x:this.base.pan.x-t.x,y:this.base.pan.y-t.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(r,i)}panDeltaPercent(t,i){let r=0,o=0;0!==t.x&&(r=this.contentWidth*(t.x/100)*this.scale),0!==t.y&&(o=this.contentHeight*(t.y/100)*this.scale);const l={pan:{x:this.base.pan.x-r,y:this.base.pan.y-o},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(l,i)}centerContent(t){this.panToPoint({x:this.contentWidth/2,y:this.contentHeight/2},t)}centerX(t){const i={pan:{x:this.frameWidth/2-this.contentWidth/2*this.scale,y:this.base.pan.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(i,t)}centerY(t){const i={pan:{x:this.base.pan.x,y:this.frameHeight/2-this.contentHeight/2*this.scale},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(i,t)}centerTopLeftCorner(t){this.panToPoint({x:0,y:0},t)}centerBottomLeftCorner(t){this.panToPoint({x:0,y:this.contentHeight},t)}centerTopRightCorner(t){this.panToPoint({x:this.contentWidth,y:0},t)}centerBottomRightCorner(t){this.panToPoint({x:this.contentWidth,y:this.contentHeight},t)}updateContentDimensions(t,i){void 0!==i&&(this.contentHeight=i),void 0!==t&&(this.contentWidth=t)}detectContentDimensions(){const t=getComputedStyle(this.zoomElementRef.nativeElement);this.contentHeight=parseInt(t.getPropertyValue("height").split("px")[0]),this.contentWidth=parseInt(t.getPropertyValue("width").split("px")[0])}animateToTarget(t,i=void 0){if(this.animationParams)return;this.zoomLevelIsChanging=!1,this.base.zoomLevel!==t.zoomLevel&&(this.zoomLevelIsChanging=!0);const r=t.zoomLevel-this.base.zoomLevel,o_x=this.base.pan.x,o_y=this.base.pan.y;this.model.pan.x=this.base.pan.x,this.model.pan.y=this.base.pan.y,this.animationParams={deltaZoomLevel:r,panStepFunc:u=>({x:-(o_x-t.pan.x)*this.animationParams.progress,y:-(o_y-t.pan.y)*this.animationParams.progress}),duration:i=i?1e3*i:1e3*this.config.zoomStepDuration,progress:0},this.startAnimation()}changeZoomLevel(t,i){if(this.animationParams)return;this.zoomLevelIsChanging=!0,t=Math.max(this.minimumAllowedZoomLevel,t);const r=(t=Math.min(this.config.zoomLevels-1,t))-this.base.zoomLevel;if(!r)return;const o_x=this.base.pan.x,o_y=this.base.pan.y,l=this.scale,u=i||this.getCentrePoint();this.animationParams={deltaZoomLevel:r,panStepFunc:v=>{const D=this.getCssScale(v);return{x:u.x-D/l*(u.x-o_x)-o_x,y:u.y-D/l*(u.y-o_y)-o_y}},duration:1e3*this.config.zoomStepDuration,progress:0},this.startAnimation()}static \u0275fac=function(i){return new(i||e)(lt(Es))};static \u0275cmp=wr({type:e,selectors:[["pan-zoom"]],viewQuery:function(i,r){if(1&i&&(Xl(KG,7),Xl(ZG,7),Xl(QG,7),Xl(JG,7)),2&i){let o;eo(o=to())&&(r.frameElementRef=o.first),eo(o=to())&&(r.panElementRef=o.first),eo(o=to())&&(r.zoomElementRef=o.first),eo(o=to())&&(r.panzoomOverlayRef=o.first)}},inputs:{config:"config"},standalone:!0,features:[Jh],ngContentSelectors:eX,decls:9,vars:0,consts:[["frameElement",""],["panElement",""],["zoomElement",""],["panzoomOverlay",""],[1,"pan-zoom-frame"],[1,"pan-element"],[1,"zoom-element"],[1,"pan-zoom-overlay"]],template:function(i,r){1&i&&(Fy(),B(0,"div",4,0)(2,"div",5,1)(4,"div",6,2),G1(6),P()()(),et(7,"div",7,3))},styles:[".pan-zoom-frame[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden}.pan-element[_ngcontent-%COMP%]{position:absolute;left:0;top:0}.pan-zoom-overlay[_ngcontent-%COMP%]{position:absolute;display:none;inset:0;opacity:0;pointer-events:none}"]})}return e})(),nX=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ts({type:e});static \u0275inj=Sr({})}return e})();class iX{zoomLevels=5;neutralZoomLevel=2;scalePerZoomLevel=2;initialZoomLevel=this.neutralZoomLevel;friction=10;haltSpeed=100;initialPanX=0;initialPanY=0;initialZoomToFit;keepInBounds=!1;keepInBoundsDragPullback=.7;keepInBoundsRestoreForce=.5;panOnClickDrag=!0;dragMouseButton="left";zoomButtonIncrement=1;zoomOnDoubleClick=!0;zoomOnMouseWheel=!0;invertMouseWheel=!1;zoomStepDuration=.2;zoomToFitZoomLevelFactor=.95;freeMouseWheel=!0;freeMouseWheelFactor=.08;noDragFromElementClass;modelChanged=new Vn({isPanning:null,zoomLevel:null,pan:{x:null,y:null}});api=new Vn({model:null,config:null,changeZoomLevel:null,zoomIn:null,zoomOut:null,zoomToFit:null,getViewPosition:null,getModelPosition:null,resetView:null,panToPoint:null,panDelta:null,panDeltaPercent:null,panDeltaAbsolute:null,centerContent:null,centerX:null,centerY:null,centerTopLeft:null,centerTopRight:null,centerBottomLeft:null,centerBottomRight:null,updateContentDimensions:null,detectContentDimensions:null});acceleratePan=!0;dynamicContentDimensions=!1;constructor(n){void 0!==n&&("zoomLevels"in n&&(this.zoomLevels=n.zoomLevels),"neutralZoomLevel"in n&&(this.neutralZoomLevel=n.neutralZoomLevel),"scalePerZoomLevel"in n&&(this.scalePerZoomLevel=n.scalePerZoomLevel),"initialZoomLevel"in n&&(this.initialZoomLevel=n.initialZoomLevel),"friction"in n&&(this.friction=n.friction),"haltSpeed"in n&&(this.haltSpeed=n.haltSpeed),"initialPanX"in n&&(this.initialPanX=n.initialPanX),"initialPanY"in n&&(this.initialPanY=n.initialPanY),"initialZoomToFit"in n&&(this.initialZoomToFit=n.initialZoomToFit),"keepInBounds"in n&&(this.keepInBounds=n.keepInBounds),"keepInBoundsDragPullback"in n&&(this.keepInBoundsDragPullback=n.keepInBoundsDragPullback),"keepInBoundsRestoreForce"in n&&(this.keepInBoundsRestoreForce=n.keepInBoundsRestoreForce),"panOnClickDrag"in n&&(this.panOnClickDrag=n.panOnClickDrag),"dragMouseButton"in n&&(this.dragMouseButton=n.dragMouseButton),"zoomButtonIncrement"in n&&(this.zoomButtonIncrement=n.zoomButtonIncrement),"zoomOnDoubleClick"in n&&(this.zoomOnDoubleClick=n.zoomOnDoubleClick),"zoomOnMouseWheel"in n&&(this.zoomOnMouseWheel=n.zoomOnMouseWheel),"invertMouseWheel"in n&&(this.invertMouseWheel=n.invertMouseWheel),"zoomStepDuration"in n&&(this.zoomStepDuration=n.zoomStepDuration),"zoomToFitZoomLevelFactor"in n&&(this.zoomToFitZoomLevelFactor=n.zoomToFitZoomLevelFactor),"freeMouseWheel"in n&&(this.freeMouseWheel=n.freeMouseWheel),"freeMouseWheelFactor"in n&&(this.freeMouseWheelFactor=n.freeMouseWheelFactor),this.keepInBounds&&0!==this.neutralZoomLevel&&console.warn("You have set keepInBounds to true and neutralZoomLevel to "+this.neutralZoomLevel+". Be aware that the zoom level cannot go below "+this.neutralZoomLevel),"noDragFromElementClass"in n&&(this.noDragFromElementClass=n.noDragFromElementClass),"acceleratePan"in n&&(this.acceleratePan=n.acceleratePan),"dynamicContentDimensions"in n&&(this.dynamicContentDimensions=n.dynamicContentDimensions))}}const rX=["mermaidDiv"];let sX=(()=>{class e{constructor(t,i,r,o,l,u){this.ra=t,this.commonService=i,this.pendingTasks=r,this.results=o,this.elementRef=l,this.renderer=u,this.controlWorkflow=0,this.panZoomConfig=new iX({freeMouseWheelFactor:.001,zoomOnDoubleClick:!1,dynamicContentDimensions:!0,initialZoomLevel:3}),this.getElementsByTableID=g=>{const v={btnTask:document.querySelector("#pastCollapseTasks"),btnSelectTask:document.querySelector("#tableCollapseTasks"),accordionbodySelector:document.querySelector("#flush-collapseOneTasks"),accordionbodyTask:document.querySelector("#flush-collapseTwoTasks")};return"#dtDecisions"===g&&(v.btnTask=document.querySelector("#pastCollapseDecisions"),v.btnSelectTask=document.querySelector("#tableCollapseDecisions"),v.accordionbodySelector=document.querySelector("#flush-collapseOneDecisions"),v.accordionbodyTask=document.querySelector("#flush-collapseTwoDecisions")),v}}flowchartRefresh(){const t=this.mermaidDiv.nativeElement;z8.o.render("graphDiv",this.ra.workflow,(i,r)=>{t.innerHTML=i,r(t)}),this.panZoomAPI.resetView()}selectTableRowByValue(t,i,r){const{btnTask:o,btnSelectTask:l,accordionbodySelector:u,accordionbodyTask:g}=this.getElementsByTableID(t);u.classList.contains("collapse")&&l.click(),setTimeout(()=>{document.querySelector(t).querySelectorAll("tr").forEach(D=>{const L=D.querySelectorAll("td");null!=L[i]&&L[i].textContent===r&&(D.click(),setTimeout(()=>{g.classList.contains("collapse")&&o.click()},100))})},300)}selectOptionBytaskID(t,i){document.getElementById(t).querySelectorAll("option").forEach(o=>{o.value.trim()===i&&(o.selected=!0,this.commonService.AutoGenerateForm(i))})}selectTask(t,i){this.selectOptionBytaskID("results"===t?"selectPendingResult":"selectPendingDecision",i)}selectPastTask(t,i){i=this.results[t].find(o=>o.id==i),this.selectTableRowByValue("results"===t?"#dtTasks":"#dtDecisions",1,i=i.label)}redirectToTask(t,i,r){"results"==t?($("#pills-tasks-tab").click(),i?($("#pills-pendingtask-tab").click(),this.selectTask(t,r)):($("#pills-pasttasks-tab").click(),this.selectPastTask(t,r))):($("#pills-decisions-tab").click(),i?($("#pills-pendingdecisions-tab").click(),this.selectTask(t,r)):($("#pills-pastdecisions-tab").click(),this.selectPastTask(t,r)))}checkType(t){this.controlWorkflow+=1;const i=this.pendingTasks.results.find(u=>u.id==t),r=this.results.results.find(u=>u.id==t);1==this.controlWorkflow&&r&&this.redirectToTask("results",!1,t),i&&this.redirectToTask("results",!0,t);const o=this.pendingTasks.decisions.find(u=>u.id==t),l=this.results.decisions.find(u=>u.id==t);o&&this.redirectToTask("decisions",!0,t),1==this.controlWorkflow&&l&&this.redirectToTask("decisions",!1,t),2==this.controlWorkflow&&(this.controlWorkflow=0)}zoomIn(){this.panZoomAPI.zoomIn()}zoomOut(){this.panZoomAPI.zoomOut()}reset(){this.panZoomAPI.resetView()}ngAfterViewInit(){this.apiSubscription=this.panZoomConfig.api.subscribe(t=>this.panZoomAPI=t),window.onA=t=>{this.checkType(t)},z8.o.initialize({securityLevel:"loose",flowchart:{useMaxWidth:!0,htmlLabels:!0}}),this.commonService.refreshWorklfow$.subscribe(()=>{this.flowchartRefresh()})}downloadFile(t,i,r){const o=document.createElement("a");o.download=r,o.href=t,o.type=i,o.click()}static#e=this.\u0275fac=function(i){return new(i||e)(lt(Nd),lt(ah),lt(c_),lt(l_),lt(es),lt(hl))};static#t=this.\u0275cmp=wr({type:e,selectors:[["app-workflow"]],viewQuery:function(i,r){if(1&i&&Xl(rX,5),2&i){let o;eo(o=to())&&(r.mermaidDiv=o.first)}},decls:10,vars:1,consts:[["mermaidDiv",""],[3,"config"],[1,"footer-container","d-flex","align-items-baseline"],["type","button",3,"click"],[1,"fa-solid","icon","fa-magnifying-glass-plus"],["id","btnReset",1,"btn",3,"click"],[1,"fa-solid","icon","fa-magnifying-glass-minus"]],template:function(i,r){if(1&i){const o=tt();B(0,"pan-zoom",1),et(1,"div",null,0),P(),B(3,"div",2)(4,"a",3),ln("click",function(){return At(o),St(r.zoomIn())}),et(5,"i",4),P(),B(6,"button",5),ln("click",function(){return At(o),St(r.reset())}),De(7,"Reset"),P(),B(8,"a",3),ln("click",function(){return At(o),St(r.zoomOut())}),et(9,"i",6),P()()}2&i&&Pe("config",r.panZoomConfig)},dependencies:[tX],styles:['@charset "UTF-8";.nav[_ngcontent-%COMP%]{background:linear-gradient(to right,#474286,#de6168)}.nav-link[_ngcontent-%COMP%]{color:#fff;font-size:1rem}.nav-link.active[_ngcontent-%COMP%]{background:none;color:#fff;font-weight:700;font-size:1rem;border-bottom:6px solid #734E81;border-radius:0}img[_ngcontent-%COMP%]{margin-left:auto;max-height:44px}.text[_ngcontent-%COMP%]{color:#734e81;font-size:22px}.footer-container[_ngcontent-%COMP%]{position:fixed;top:40px;right:0;margin:20px;width:90px}.footer-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;margin-bottom:10px}.icon[_ngcontent-%COMP%]{color:#474286;opacity:.4}.icon[_ngcontent-%COMP%]:hover{opacity:1}#btnReset[_ngcontent-%COMP%]:hover{color:#474286}']})}return e})();var rs=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(rs||{});const O0="*";function Y8(e,n){return{type:rs.Trigger,name:e,definitions:n,options:{}}}function mD(e,n=null){return{type:rs.Animate,styles:n,timings:e}}function I0(e){return{type:rs.Style,styles:e,offset:null}}function _D(e,n,t){return{type:rs.State,name:e,styles:n,options:t}}function yD(e,n,t=null){return{type:rs.Transition,expr:e,animation:n,options:t}}class bD{constructor(n=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class $8{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==o&&this._onFinish()}),l.onDestroy(()=>{++i==o&&this._onDestroy()}),l.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,u)=>Math.max(l,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const t=n*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const n=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const W8=["toast-component",""];function dX(e,n){if(1&e){const t=tt();B(0,"button",5),ln("click",function(){return At(t),St(Ie().remove())}),B(1,"span",6),De(2,"\xd7"),P()()}}function hX(e,n){if(1&e&&(xt(0),De(1),bn()),2&e){const t=Ie(2);he(),Ui("[",t.duplicatesCount+1,"]")}}function fX(e,n){if(1&e&&(B(0,"div"),De(1),Qt(2,hX,2,1,"ng-container",4),P()),2&e){const t=Ie();rd(t.options.titleClass),Zs("aria-label",t.title),he(),Ui(" ",t.title," "),he(),Pe("ngIf",t.duplicatesCount)}}function pX(e,n){if(1&e&&et(0,"div",7),2&e){const t=Ie();rd(t.options.messageClass),Pe("innerHTML",t.message,mo)}}function gX(e,n){if(1&e&&(B(0,"div",8),De(1),P()),2&e){const t=Ie();rd(t.options.messageClass),Zs("aria-label",t.message),he(),Ui(" ",t.message," ")}}function mX(e,n){if(1&e&&(B(0,"div"),et(1,"div",9),P()),2&e){const t=Ie();he(),Gh("width",t.width+"%")}}class TX{_attachedHost;component;viewContainerRef;injector;constructor(n,t){this.component=n,this.injector=t}attach(n,t){return this._attachedHost=n,n.attach(this,t)}detach(){const n=this._attachedHost;if(n)return this._attachedHost=void 0,n.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class DX{_attachedPortal;_disposeFn;attach(n,t){return this._attachedPortal=n,this.attachComponentPortal(n,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(n){this._disposeFn=n}}class xX{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new yr;_activate=new yr;_manualClose=new yr;_resetTimeout=new yr;_countDuplicate=new yr;constructor(n){this._overlayRef=n}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(n,t){n&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class BE{toastId;config;message;title;toastType;toastRef;_onTap=new yr;_onAction=new yr;constructor(n,t,i,r,o,l){this.toastId=n,this.config=t,this.message=i,this.title=r,this.toastType=o,this.toastRef=l,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(n){this._onAction.next(n)}onAction(){return this._onAction.asObservable()}}const X8=new Ci("ToastConfig");class kX extends DX{_hostDomElement;_componentFactoryResolver;_appRef;constructor(n,t,i){super(),this._hostDomElement=n,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(n,t){const i=this._componentFactoryResolver.resolveComponentFactory(n.component);let r;return r=i.create(n.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let SX=(()=>{class e{_document=Wt(cc);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(i){return new(i||e)};static \u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class EX{_portalHost;constructor(n){this._portalHost=n}attach(n,t=!0){return this._portalHost.attach(n,t)}detach(){return this._portalHost.detach()}}let AX=(()=>{class e{_overlayContainer=Wt(SX);_componentFactoryResolver=Wt(Wh);_appRef=Wt(ag);_document=Wt(cc);_paneElements=new Map;create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new kX(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new EX(this._createPortalHost(t))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),h_=(()=>{class e{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(t,i,r,o,l){this.overlay=i,this._injector=r,this.sanitizer=o,this.ngZone=l,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,i,r={},o=""){return this._preBuildNotification(o,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,o){const{includeTitleDuplicates:l}=this.toastrConfig;for(const u of this.toasts)if((!l||l&&u.title===t)&&u.message===i)return u.toastRef.onDuplicate(r,o),u;return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,o)):this._buildNotification(t,i,r,o)}_buildNotification(t,i,r,o){if(!o.toastComponent)throw new Error("toastComponent required");const l=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==l)return l;this.previousToastMessage=i;let u=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(u=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const g=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let v=i;i&&o.enableHtml&&(v=this.sanitizer.sanitize(wn.HTML,i));const D=new xX(g),L=new BE(this.index,o,v,r,t,D),ue=Ko.create({providers:[{provide:BE,useValue:L}],parent:this._injector}),Se=new TX(o.toastComponent,ue),Ve=g.attach(Se,o.newestOnTop);D.componentInstance=Ve.instance;const at={toastId:this.index,title:r||"",message:i||"",toastRef:D,onShown:D.afterActivate(),onHidden:D.afterClosed(),onTap:L.onTap(),onAction:L.onAction(),portal:Ve};return u||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{at.toastRef.activate()})),this.toasts.push(at),at}static \u0275fac=function(i){return new(i||e)(di(X8),di(AX),di(Ko),di(KT),di(Es))};static \u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const MX={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class e{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(i){return new(i||e)(lt(h_),lt(BE),lt(Es))};static \u0275cmp=wr({type:e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){1&i&&ln("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&i&&(Cn("@flyInOut",r.state),rd(r.toastClasses),Gh("display",r.displayStyle))},standalone:!0,features:[Jh],attrs:W8,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){1&i&&Qt(0,dX,3,0,"button",0)(1,fX,3,5,"div",1)(2,pX,1,3,"div",2)(3,gX,2,4,"div",3)(4,mX,2,2,"div",4),2&i&&(Pe("ngIf",r.options.closeButton),he(),Pe("ngIf",r.title),he(),Pe("ngIf",r.message&&r.options.enableHtml),he(),Pe("ngIf",r.message&&!r.options.enableHtml),he(),Pe("ngIf",r.options.progressBar))},dependencies:[Yc],encapsulation:2,data:{animation:[Y8("flyInOut",[_D("inactive",I0({opacity:0})),_D("active",I0({opacity:1})),_D("removed",I0({opacity:0})),yD("inactive => active",mD("{{ easeTime }}ms {{ easing }}")),yD("active => removed",mD("{{ easeTime }}ms {{ easing }}"))])]}})}return e})()},OX=(e={})=>Wu([{provide:X8,useValue:{default:MX,config:e}}]);let IX=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[OX(t)]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ts({type:e});static \u0275inj=Sr({})}return e})(),NX=(()=>{class e{constructor(t,i,r,o){this.toastr=t,this.ra=i,this.commonService=r,this.func=o,this.title="",this.text=""}ngOnInit(){}resetFields(){this.title="",this.text=""}onSubmit(){this.commonService.saveNote(this.ra.name,this.title,this.text).subscribe({next:t=>{this.toastr.success("Note "+this.title,"SUCCESSFULLY ADDED",{timeOut:5e3,positionClass:"toast-top-right"}),this.resetFields(),setTimeout(()=>{this.commonService.getNotes(this.ra.name).subscribe({next:i=>{this.ra.notes=i,1==this.ra.notes&&$("#dtNotes").DataTable(),this.commonService.getStatus(this.ra.name).subscribe({next:r=>{this.ra.status=r.ra},error:r=>{console.log(r)}})},error:i=>{console.log(i)}})},200)},error:t=>{console.log(t)}})}static#e=this.\u0275fac=function(i){return new(i||e)(lt(h_),lt(Nd),lt(ah),lt(d_))};static#t=this.\u0275cmp=wr({type:e,selectors:[["app-note-form"]],decls:16,vars:3,consts:[["addNoteForm","ngForm"],["id","addNoteForm",1,"container-form","mt-3",3,"ngSubmit"],[1,"row"],[1,"col"],[1,"col-12"],["placeholder","Insert title","type","text","id","title","name","title",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","mt-4"],["for","inputPassword3",1,"col-2","col-form-label"],["rows","4","required","","placeholder","Insert your text here","type","text","name","information","id","information",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","mt-4","ml-1"],[1,"col","d-flex","justify-content-end"],["type","submit",1,"btn","btn-ets-do","submit-button",3,"disabled"]],template:function(i,r){if(1&i){const o=tt();B(0,"form",1,0),ln("ngSubmit",function(){return At(o),St(r.onSubmit())}),B(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"input",5),Do("ngModelChange",function(u){return At(o),So(r.title,u)||(r.title=u),St(u)}),P()()()()(),B(7,"div",6),et(8,"label",7),B(9,"div",4)(10,"textarea",8),Do("ngModelChange",function(u){return At(o),So(r.text,u)||(r.text=u),St(u)}),De(11,"      "),P()()(),B(12,"div",9)(13,"div",10)(14,"button",11),De(15," Add "),P()()()()}if(2&i){const o=Ru(1);he(6),To("ngModel",r.title),he(4),To("ngModel",r.text),he(4),Pe("disabled",o.invalid)}},dependencies:[dD,i_,M0,sD,z2,om,Zy],styles:[".btn-ets-edit[_ngcontent-%COMP%]{background:#f6d268;color:#000;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-edit[_ngcontent-%COMP%]:hover, .btn-ets-edit[_ngcontent-%COMP%]:active, .btn-ets-edit[_ngcontent-%COMP%]:focus, .btn-ets-edit.active[_ngcontent-%COMP%]{background:#f1bf0a;color:#000}.btn-ets-do[_ngcontent-%COMP%]{background:#474286;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-do[_ngcontent-%COMP%]:hover, .btn-ets-do[_ngcontent-%COMP%]:active, .btn-ets-do[_ngcontent-%COMP%]:focus, .btn-ets-do.active[_ngcontent-%COMP%]{background:#734e81;color:#fff}.btn-ets-delete[_ngcontent-%COMP%]{background:#ff1818;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-delete[_ngcontent-%COMP%]:hover, .btn-ets-delete[_ngcontent-%COMP%]:active, .btn-ets-delete[_ngcontent-%COMP%]:focus, .btn-ets-delete.active[_ngcontent-%COMP%]{background:#9a0a0a;color:#fff}.btn-ets-bad[_ngcontent-%COMP%]{background-color:#646363;color:#fff;border-width:0;letter-spacing:.05em;border-radius:0}.btn-ets-bad[_ngcontent-%COMP%]:hover, .btn-ets-bad[_ngcontent-%COMP%]:focus, .btn-ets-bad.active[_ngcontent-%COMP%]{background-color:#9e9d9d;color:#fff}label[_ngcontent-%COMP%]{color:#734e81}"]})}return e})();function RX(e,n){if(1&e){const t=tt();B(0,"tr",15),ln("click",function(){const r=At(t).$implicit;return St(Ie().selectNote(r.id))}),B(1,"td"),De(2),P(),B(3,"td"),De(4),P(),B(5,"td"),De(6),fa(7,"slice"),P(),B(8,"td")(9,"a",16),ln("click",function(){const r=At(t).$implicit;return St(Ie().deleteNote(r))}),et(10,"i",17),P()()()}if(2&e){const t=n.$implicit;he(2),rr(t.title),he(2),rr(t.date),he(2),Ui("",Vy(7,3,t.text,0,20),"...")}}let LX=(()=>{class e{constructor(t,i,r){this.toastr=t,this.ra=i,this.commonService=r,this.note={}}selectNote(t){this.ra.note=this.ra.notes.find(i=>i.id===t)}deleteNote(t){this.commonService.deleteNote(this.ra.name,t.id).subscribe({next:i=>{this.toastr.success("Note "+t.title,"SUCCESSFULLY DELETED",{timeOut:5e3,positionClass:"toast-top-right"}),this.ra.note={},this.commonService.getNotes(this.ra.name).subscribe({next:r=>{this.ra.notes=r,this.commonService.getStatus(this.ra.name).subscribe({next:o=>{this.ra.status=o.ra},error:o=>{console.log(o)}})},error:r=>{console.log(r)}})},error:i=>{console.log(i)}})}static#e=this.\u0275fac=function(i){return new(i||e)(lt(h_),lt(Nd),lt(ah))};static#t=this.\u0275cmp=wr({type:e,selectors:[["app-notes"]],decls:36,vars:3,consts:[[1,"container"],[1,"col"],[1,"row"],["id","accordionFlushExample",1,"accordion","accordion-flush"],[1,"accordion-item"],["id","flush-headingOne",1,"accordion-header"],["id","tableCollapse","type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseOne","aria-expanded","false","aria-controls","flush-collapseOne",1,"accordion-button","collapsed"],["id","flush-collapseOne","aria-labelledby","flush-headingOne","data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse","show"],[1,"accordion-body"],["id","dtNotes",1,"display","compact"],[3,"click",4,"ngFor","ngForOf"],["id","flush-headingTwo",1,"accordion-header"],["id","pastCollapse","type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseTwo","aria-expanded","true","aria-controls","flush-collapseTwo",1,"accordion-button","collapsed"],["id","flush-collapseTwo","aria-labelledby","flush-headingTwo","data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse"],[1,"col-auto"],[3,"click"],["role","button",1,"btn","ms-auto",3,"click"],[1,"fa-solid","fa-circle-minus","fa-lg",2,"color","#e01b24"]],template:function(i,r){1&i&&(B(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5)(6,"button",6),De(7," List "),P()(),B(8,"div",7)(9,"div",8)(10,"div",2)(11,"div",1)(12,"table",9)(13,"thead")(14,"tr")(15,"th"),De(16,"Title"),P(),B(17,"th"),De(18,"Date"),P(),et(19,"th")(20,"th"),P()(),B(21,"tbody"),Qt(22,RX,11,7,"tr",10),P()()()()()()(),B(23,"div",4)(24,"h2",11)(25,"button",12),De(26),P()(),B(27,"div",13)(28,"div",8)(29,"div",2)(30,"div",14),De(31),P()()()()()()(),et(32,"hr"),B(33,"div",2)(34,"div",0),et(35,"app-note-form"),P()()()()),2&i&&(he(22),Pe("ngForOf",r.ra.notes),he(4),Ui(" ",r.ra.note.id," "),he(5),Ui(" ",r.ra.note.text," "))},dependencies:[ad,NX,WT],styles:[".btn-ets-edit[_ngcontent-%COMP%]{background:#f6d268;color:#000;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-edit[_ngcontent-%COMP%]:hover, .btn-ets-edit[_ngcontent-%COMP%]:active, .btn-ets-edit[_ngcontent-%COMP%]:focus, .btn-ets-edit.active[_ngcontent-%COMP%]{background:#f1bf0a;color:#000}.btn-ets-do[_ngcontent-%COMP%]{background:#474286;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-do[_ngcontent-%COMP%]:hover, .btn-ets-do[_ngcontent-%COMP%]:active, .btn-ets-do[_ngcontent-%COMP%]:focus, .btn-ets-do.active[_ngcontent-%COMP%]{background:#734e81;color:#fff}.btn-ets-delete[_ngcontent-%COMP%]{background:#ff1818;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-delete[_ngcontent-%COMP%]:hover, .btn-ets-delete[_ngcontent-%COMP%]:active, .btn-ets-delete[_ngcontent-%COMP%]:focus, .btn-ets-delete.active[_ngcontent-%COMP%]{background:#9a0a0a;color:#fff}.btn-ets-bad[_ngcontent-%COMP%]{background-color:#646363;color:#fff;border-width:0;letter-spacing:.05em;border-radius:0}.btn-ets-bad[_ngcontent-%COMP%]:hover, .btn-ets-bad[_ngcontent-%COMP%]:focus, .btn-ets-bad.active[_ngcontent-%COMP%]{background-color:#9e9d9d;color:#fff}hr[_ngcontent-%COMP%]{height:3px;background-color:#935277;border:None}.title[_ngcontent-%COMP%]{color:#474286;font-weight:700}#dtNotes[_ngcontent-%COMP%]{padding-top:10px}#dtNotes[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#474286;color:#fff}#dtNotes[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:20%!important}#dtNotes[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:10%!important}#dtNotes[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){width:30%!important}#dtNotes[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4){width:60%!important}#dtNotes[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top;text-align:left;padding:0 10px!important}.accordion-button[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#00000020}.accordion-button[_ngcontent-%COMP%]{background-color:#f8f6f6!important;color:#734e81!important;border:none!important;border-color:transparent!important}.accordion-button[_ngcontent-%COMP%]:not(.collapsed){background-color:#f8f6f6!important;color:#734e81!important}"]})}return e})();var vD=N(9182);let Y5=(()=>{class e{constructor(t){this.sanitizer=t}transform(t){const r=t?.replace(/(https?:\/\/[^\s]+)/g,o=>`<a href="${o}" target="_blank">${o}</a>`);return this.sanitizer.bypassSecurityTrustHtml(r)}static#e=this.\u0275fac=function(i){return new(i||e)(lt(KT,16))};static#t=this.\u0275pipe=ya({name:"autolinkPipe",type:e,pure:!0})}return e})();function PX(e,n){1&e&&et(0,"img",17)}function FX(e,n){if(1&e&&(B(0,"div",18)(1,"div",14),De(2),P(),et(3,"div",19),fa(4,"autolinkPipe"),P()),2&e){const t=n.$implicit;he(2),rr(t.label),he(),Pe("innerHTML",ql(4,2,t.name),mo)}}let BX=(()=>{class e{constructor(t,i,r){this.ra=t,this.commonService=i,this.results=r,this.objectKeys=Object.keys}ngOnInit(){this.commonService.updateOverviewCanvas$.subscribe(t=>{setTimeout(()=>{t||this.drawMol()},300)})}drawMol(){var t;const i=this.ra.general_information?.general?.substances;(t=i?.length>0?i[0].smiles:null)&&new vD.SmiDrawer({width:200,height:150},{}).draw(t,"#overviewCanvas")}static#e=this.\u0275fac=function(i){return new(i||e)(lt(Nd),lt(ah),lt(l_))};static#t=this.\u0275cmp=wr({type:e,selectors:[["app-overview"]],decls:81,vars:15,consts:[[1,"container-fluid"],[1,"card-body"],["id","headerOverview",1,"row","border-bottom"],[1,"col"],[1,"row","border-bottom"],[1,"col","text"],[1,"mt-2"],[1,"row","pt-1","pb-1","border-bottom"],[1,"col-3","text"],[1,"row"],[1,"col-4","text"],[1,"col-8"],["id","overviewCanvas",4,"ngIf"],[1,"col-3"],[1,"col-2","text"],[2,"text-align","center"],["class","row mb-1",4,"ngFor","ngForOf"],["id","overviewCanvas"],[1,"row","mb-1"],[1,"col-10",3,"innerHTML"]],template:function(i,r){1&i&&(B(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),De(4),P()(),B(5,"div",4)(6,"div",5)(7,"h6",6),De(8),P()()(),B(9,"div",7)(10,"div",8),De(11,"Substance"),P(),B(12,"div",3)(13,"div",9)(14,"div",10),De(15,"Name"),P(),B(16,"div",11),De(17),P()(),B(18,"div",9)(19,"div",10),De(20,"ID"),P(),B(21,"div",11),De(22),P()(),B(23,"div",9)(24,"div",10),De(25,"CAS-RN"),P(),B(26,"div",11),De(27),P()(),B(28,"div",9)(29,"div",10),De(30,"Structure"),P(),B(31,"div",11),Qt(32,PX,1,0,"img",12),P()()()(),B(33,"div",7)(34,"div",8),De(35,"Endpoint"),P(),B(36,"div",13)(37,"div",9),De(38),P()()(),B(39,"div",7)(40,"div",8),De(41,"AR"),P(),B(42,"div",3)(43,"div",9),De(44),P()()(),B(45,"div",7)(46,"div",8),De(47,"Species"),P(),B(48,"div",3)(49,"div",9),De(50),P()()(),B(51,"div",7)(52,"div",8),De(53,"Framework"),P(),B(54,"div",3)(55,"div",9),De(56),P()()(),B(57,"div",7)(58,"div",8),De(59,"Summary"),P(),B(60,"div",3)(61,"div",9),De(62),P()()(),B(63,"div",7)(64,"div",8),De(65,"Status"),P(),B(66,"div",14)(67,"div",9),De(68,"Workflow"),P(),B(69,"div",9),De(70,"Step"),P(),B(71,"div",9),De(72,"Active nodes"),P()(),B(73,"div",3)(74,"div",9)(75,"span",15),De(76),P()(),B(77,"div",9)(78,"span",15),De(79),P()(),Qt(80,FX,5,4,"div",16),P()()()()),2&i&&(he(4),n4("",null==r.ra?null:r.ra.name," (",null==r.ra||null==r.ra.status?null:r.ra.status.ID,")"),he(4),rr(null==r.ra||null==r.ra.general_information?null:r.ra.general_information.general.title),he(9),Ui(" ",null==r.ra||null==r.ra.general_information||null==r.ra.general_information.general||null==r.ra.general_information.general.substances[0]?null:r.ra.general_information.general.substances[0].name," "),he(5),Ui(" ",null==r.ra||null==r.ra.general_information||null==r.ra.general_information.general||null==r.ra.general_information.general.substances[0]?null:r.ra.general_information.general.substances[0].id," "),he(5),Ui(" ",null==r.ra||null==r.ra.general_information||null==r.ra.general_information.general||null==r.ra.general_information.general.substances[0]?null:r.ra.general_information.general.substances[0].casrn," "),he(5),Pe("ngIf",(null==r.ra.general_information||null==r.ra.general_information.general?null:r.ra.general_information.general.substances.length)>0),he(6),Ui(" ",null==r.ra||null==r.ra.general_information||null==r.ra.general_information.general?null:r.ra.general_information.general.endpoint," "),he(6),Ui(" ",null==r.ra||null==r.ra.general_information||null==r.ra.general_information.general?null:r.ra.general_information.general.administration_route," "),he(6),Ui(" ",null==r.ra||null==r.ra.general_information||null==r.ra.general_information.general?null:r.ra.general_information.general.species," "),he(6),Ui(" ",null==r.ra||null==r.ra.general_information||null==r.ra.general_information.general?null:r.ra.general_information.general.regulatory_framework," "),he(6),Ui(" ",null==r.ra||null==r.ra.general_information||null==r.ra.general_information.general?null:r.ra.general_information.general.general_description," "),he(14),rr(null==r.ra||null==r.ra.status?null:r.ra.status.workflow_name),he(3),rr(null==r.ra||null==r.ra.status?null:r.ra.status.step),he(),Pe("ngForOf",r.ra.pending_tasks))},dependencies:[ad,Yc,Y5],styles:[".title[_ngcontent-%COMP%]{margin-top:40px;font-size:45px;font-family:Verdana,sans-serif;color:#734e81}#headerOverview[_ngcontent-%COMP%]{background-color:#474286;color:#fff}.card-body[_ngcontent-%COMP%]{border-width:0px;padding:0;margin-bottom:5px}.text[_ngcontent-%COMP%]{color:#734e81}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:30%!important}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:20%!important}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){width:50%!important}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:150px}"]})}return e})(),VE=(()=>{class e{constructor(t){this.http=t}updateGeneralInformation(t,i,r){const o=new FormData;return o.append("general",JSON.stringify(i)),o.append("custom_workflow_file",r),this.http.put(xo_baseUrl+"general_info/"+t,o)}updateResult(t,i){const r=new FormData;return r.append("result",JSON.stringify(i)),this.http.put(xo_baseUrl+"result/"+t,r)}updateLink(t,i){const r=new FormData;return r.append("file",i),this.http.post(xo_baseUrl+"link/"+t,r)}updateTable(t,i){const r=new FormData;return r.append("file",i),this.http.post(xo_baseUrl+"table/"+t,r)}uploadSubstances(t){const i=new FormData;return i.append("file",t),this.http.put(xo_baseUrl+"substances",i)}static#e=this.\u0275fac=function(i){return new(i||e)(di(J1))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function VX(e,n){if(1&e){const t=tt();B(0,"div",4)(1,"label",15),De(2,"SMILES"),P(),B(3,"div",6)(4,"input",24),Do("ngModelChange",function(r){At(t);const o=Ie();return So(o.substance_SMILES,r)||(o.substance_SMILES=r),St(r)}),P()()()}if(2&e){const t=Ie();he(4),To("ngModel",t.substance_SMILES)}}function HX(e,n){if(1&e){const t=tt();B(0,"div",4)(1,"label",5),De(2,"Workflow custom:"),P(),B(3,"div",6)(4,"input",25),ln("change",function(r){return At(t),St(Ie().uploadCustomWorkflow(r))}),P()()()}if(2&e){const t=Ie();he(4),Pe("placeholder",t.ra.general_information.placeholders.workflow_custom)}}let jX=(()=>{class e{constructor(t,i,r,o,l){this.ra=t,this.commonService=i,this.updateService=r,this.func=o,this.toastr=l,this.loadForm=!1,this.substance_name="",this.substance_CASRN="",this.substance_SMILES="",this.substance_id="",this.substance_file=null,this.form=new qy({}),this.complete=!1,this.workflow_custom=null,this.generalInformationForm=new qy({})}ngOnInit(){this.commonService.generateForms$.subscribe(()=>{this.ra.status.step>0?(this.substance_name=this.ra.general_information.general.substances[0]?.name,this.substance_CASRN=this.ra.general_information.general.substances[0]?.casrn,this.substance_id=this.ra.general_information.general.substances[0]?.id,this.substance_SMILES=this.ra.general_information.general.substances[0]?.smiles):(this.substance_CASRN="",this.substance_id="",this.substance_SMILES="")})}uploadSubstance(t){const i=t.target.files[0];i&&(this.substance_file=i,this.updateService.uploadSubstances(this.substance_file).subscribe(r=>{r.success&&(this.ra.general_information.general.substances=[r.result[0]],this.substance_file=null)}))}uploadCustomWorkflow(t){const i=t.target.files[0];i&&(this.workflow_custom=i,this.ra.general_information.general.workflow_custom=i.name)}isObject(t){return"object"==typeof t}autocomplete(){if(!this.substance_name&&!this.substance_CASRN)return void this.toastr.warning("No input provided","WARNING",{timeOut:5e3,positionClass:"toast-top-right"});let t;t=this.substance_name?this.commonService.getInformBySubstanceName(this.substance_name).toPromise():this.commonService.getInformByCASRN(this.substance_CASRN).toPromise(),t.then(i=>{if(i&&i.length>0){const r=i[0],o=`dtxcid:${r.dtxcid},dtxsid:${r.dtxsid},pubchemcid:${r.pubchemCid}`;this.substance_name?(this.substance_CASRN=r.casrn,this.toastr.success("Name "+this.substance_name,"AUTOCOMPLETE SUCCESSFULLY",{timeOut:3e3,positionClass:"toast-top-right"})):this.toastr.success("CASRN "+this.substance_CASRN,"AUTOCOMPLETE SUCCESSFULLY",{timeOut:3e3,positionClass:"toast-top-right"}),this.substance_id=o,this.substance_SMILES=r.smiles}}).catch(i=>{this.toastr.warning(i.error,"WARNING",{timeOut:5e3,positionClass:"toast-top-right"}),console.log("Error:",i)})}onSubmit(){this.ra.general_information.general.substances[0]={id:this.substance_id,name:this.substance_name,casrn:this.substance_CASRN,smiles:this.substance_SMILES},setTimeout(()=>{this.updateService.updateGeneralInformation(this.ra.name,this.ra.general_information.general,this.workflow_custom).subscribe({next:i=>{i.success&&(this.func.refreshRA(),this.toastr.success("RA "+this.ra.name,"SUCCESSFULLY UPDATED",{timeOut:5e3,positionClass:"toast-top-right"}))},error:i=>{this.toastr.error("Check the console log to see more information","Unexpected ERROR",{timeOut:5e3,positionClass:"toast-top-right"}),console.log(i)},complete:()=>{setTimeout(()=>{this.workflow_custom=null;const i=document.getElementById("workflow_custom");i&&(i.value=null),document.getElementById("pills-overview-tab").click()},100)}}),this.generalInformationForm.reset()},500)}loadSubstances(t){}loadWorkflow(){}static#e=this.\u0275fac=function(i){return new(i||e)(lt(Nd),lt(ah),lt(VE),lt(d_),lt(h_))};static#t=this.\u0275cmp=wr({type:e,selectors:[["app-general-information"]],decls:76,vars:24,consts:[["generalInformationForm","ngForm"],[1,"container-fluid"],[1,"container-form","p-3"],["id","generalInformationForm",3,"ngSubmit"],[1,"row","mb-3"],["for","inputPassword3",1,"col-3","col-form-label"],[1,"col"],["name","title","type","text","id","title",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["name","general_description","type","text","id","general_description",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["name","background","type","text","id","background",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["name","endpoint","type","text","id","endpoint",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["name","administration_route","type","text","id","administration_route",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["name","regulatory_framework","type","text","id","regulatory_framework",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["name","species","type","text","id","species",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["name","uncertainty","type","text","id","uncertainty",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["for","inputPassword3",1,"col-2","col-form-label"],["name","substance_name","type","text","id","substance_name",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["name","substance_id","type","text","id","substance_id",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["name","substance_CASRN","type","text","id","substance_CASRN",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["class","row mb-3",4,"ngIf"],["name","substance_file","placeholder","","type","file","id","substance_file",1,"form-control","text-start",3,"change"],[1,"col","text-end"],["role","button",1,"btn","btn-ets-do",3,"click"],["type","submit",1,"btn","btn-ets-do","submit-button"],["name","substance_SMILES","id","substance_SMILES","type","text",1,"form-control",3,"ngModelChange","ngModel"],["name","workflow_custom","type","file","id","workflow_custom",1,"form-control",3,"change","placeholder"]],template:function(i,r){if(1&i){const o=tt();B(0,"div",1)(1,"div",2)(2,"form",3,0),ln("ngSubmit",function(){return At(o),St(r.onSubmit())}),B(4,"div",4)(5,"label",5),De(6,"Title:"),P(),B(7,"div",6)(8,"input",7),Do("ngModelChange",function(u){return At(o),So(r.ra.general_information.general.title,u)||(r.ra.general_information.general.title=u),St(u)}),P()()(),B(9,"div",4)(10,"label",5),De(11,"General description:"),P(),B(12,"div",6)(13,"input",8),Do("ngModelChange",function(u){return At(o),So(r.ra.general_information.general.general_description,u)||(r.ra.general_information.general.general_description=u),St(u)}),P()()(),B(14,"div",4)(15,"label",5),De(16,"Background:"),P(),B(17,"div",6)(18,"input",9),Do("ngModelChange",function(u){return At(o),So(r.ra.general_information.general.background,u)||(r.ra.general_information.general.background=u),St(u)}),P()()(),B(19,"div",4)(20,"label",5),De(21,"Endpoint:"),P(),B(22,"div",6)(23,"input",10),Do("ngModelChange",function(u){return At(o),So(r.ra.general_information.general.endpoint,u)||(r.ra.general_information.general.endpoint=u),St(u)}),P()()(),B(24,"div",4)(25,"label",5),De(26,"Administration route:"),P(),B(27,"div",6)(28,"input",11),Do("ngModelChange",function(u){return At(o),So(r.ra.general_information.general.administration_route,u)||(r.ra.general_information.general.administration_route=u),St(u)}),P()()(),B(29,"div",4)(30,"label",5),De(31,"Regulatory framework:"),P(),B(32,"div",6)(33,"input",12),Do("ngModelChange",function(u){return At(o),So(r.ra.general_information.general.regulatory_framework,u)||(r.ra.general_information.general.regulatory_framework=u),St(u)}),P()()(),B(34,"div",4)(35,"label",5),De(36,"Species:"),P(),B(37,"div",6)(38,"input",13),Do("ngModelChange",function(u){return At(o),So(r.ra.general_information.general.species,u)||(r.ra.general_information.general.species=u),St(u)}),P()()(),B(39,"div",4)(40,"label",5),De(41,"Uncertainty:"),P(),B(42,"div",6)(43,"input",14),Do("ngModelChange",function(u){return At(o),So(r.ra.general_information.general.uncertainty,u)||(r.ra.general_information.general.uncertainty=u),St(u)}),P()()(),B(44,"div",4)(45,"label",5),De(46,"Substance:"),P(),B(47,"div",6)(48,"div",4)(49,"label",15),De(50,"Name(s)"),P(),B(51,"div",6)(52,"input",16),Do("ngModelChange",function(u){return At(o),So(r.substance_name,u)||(r.substance_name=u),St(u)}),P()()(),B(53,"div",4)(54,"label",15),De(55,"ID(s)"),P(),B(56,"div",6)(57,"input",17),Do("ngModelChange",function(u){return At(o),So(r.substance_id,u)||(r.substance_id=u),St(u)}),P()()(),B(58,"div",4)(59,"label",15),De(60,"CAS-RN(s)"),P(),B(61,"div",6)(62,"input",18),Do("ngModelChange",function(u){return At(o),So(r.substance_CASRN,u)||(r.substance_CASRN=u),St(u)}),P()()(),Qt(63,VX,5,1,"div",19),B(64,"div",4)(65,"label",15),De(66,"Structure"),P(),B(67,"div",6)(68,"input",20),ln("change",function(u){return At(o),St(r.uploadSubstance(u))}),P()()(),B(69,"div",4)(70,"div",21)(71,"a",22),ln("click",function(){return At(o),St(r.autocomplete())}),De(72,"Autocomplete"),P()()()()(),Qt(73,HX,5,1,"div",19),B(74,"button",23),De(75," Submit "),P()()()()}2&i&&(he(8),Pe("placeholder",r.ra.general_information.placeholders.title),To("ngModel",r.ra.general_information.general.title),he(5),Pe("placeholder",r.ra.general_information.placeholders.general_description),To("ngModel",r.ra.general_information.general.general_description),he(5),Pe("placeholder",r.ra.general_information.placeholders.background),To("ngModel",r.ra.general_information.general.background),he(5),Pe("placeholder",r.ra.general_information.placeholders.endpoint),To("ngModel",r.ra.general_information.general.endpoint),he(5),Pe("placeholder",r.ra.general_information.placeholders.administration_route),To("ngModel",r.ra.general_information.general.administration_route),he(5),Pe("placeholder",r.ra.general_information.placeholders.regulatory_framework),To("ngModel",r.ra.general_information.general.regulatory_framework),he(5),Pe("placeholder",r.ra.general_information.placeholders.species),To("ngModel",r.ra.general_information.general.species),he(5),Pe("placeholder",r.ra.general_information.placeholders.uncertainty),To("ngModel",r.ra.general_information.general.uncertainty),he(9),Pe("placeholder",r.ra.general_information.placeholders.substances.name),To("ngModel",r.substance_name),he(5),Pe("placeholder",r.ra.general_information.placeholders.substances.id),To("ngModel",r.substance_id),he(5),Pe("placeholder",r.ra.general_information.placeholders.substances["cas-rn"]),To("ngModel",r.substance_CASRN),he(),Pe("ngIf",r.substance_SMILES),he(10),Pe("ngIf",0==(null==r.ra||null==r.ra.status?null:r.ra.status.step)))},dependencies:[Yc,dD,i_,M0,sD,om,Zy],styles:[".title[_ngcontent-%COMP%]{margin-top:40px;font-size:45px;font-family:Verdana,sans-serif;color:#734e81}.btn-ets-edit[_ngcontent-%COMP%]{background:#f6d268;color:#000;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-edit[_ngcontent-%COMP%]:hover, .btn-ets-edit[_ngcontent-%COMP%]:active, .btn-ets-edit[_ngcontent-%COMP%]:focus, .btn-ets-edit.active[_ngcontent-%COMP%]{background:#f1bf0a;color:#000}.btn-ets-do[_ngcontent-%COMP%]{background:#474286;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-do[_ngcontent-%COMP%]:hover, .btn-ets-do[_ngcontent-%COMP%]:active, .btn-ets-do[_ngcontent-%COMP%]:focus, .btn-ets-do.active[_ngcontent-%COMP%]{background:#734e81;color:#fff}.btn-ets-delete[_ngcontent-%COMP%]{background:#ff1818;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-delete[_ngcontent-%COMP%]:hover, .btn-ets-delete[_ngcontent-%COMP%]:active, .btn-ets-delete[_ngcontent-%COMP%]:focus, .btn-ets-delete.active[_ngcontent-%COMP%]{background:#9a0a0a;color:#fff}.btn-ets-bad[_ngcontent-%COMP%]{background-color:#646363;color:#fff;border-width:0;letter-spacing:.05em;border-radius:0}.btn-ets-bad[_ngcontent-%COMP%]:hover, .btn-ets-bad[_ngcontent-%COMP%]:focus, .btn-ets-bad.active[_ngcontent-%COMP%]{background-color:#9e9d9d;color:#fff}.container-form[_ngcontent-%COMP%]{color:#734e81}"]})}return e})();var wD=N(2578);let UX=(()=>{class e{constructor(t){this.http=t}getModels(){return this.http.get(xo_baseUrl+"models")}getPrediction(t,i,r){const o=new FormData;return o.append("models",i),o.append("versions",r),this.http.put(xo_baseUrl+"predict/"+t,o)}getModelDocumentation(t,i){return this.http.get(xo_baseUrl+"model_documentation/"+t+"/"+i)}static#e=this.\u0275fac=function(i){return new(i||e)(di(J1))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function zX(e,n){if(1&e&&(B(0,"div",15),De(1),P()),2&e){const t=Ie().$implicit,i=Ie();he(),Ui(" ",i.documentation[t]," ")}}function YX(e,n){if(1&e&&(B(0,"div",15),De(1),P()),2&e){const t=Ie().$implicit,i=Ie(2).$implicit,r=Ie();he(),Ui(" ",r.documentation[i][t]," ")}}function $X(e,n){if(1&e&&(B(0,"div",18)(1,"div",16),De(2),P(),Qt(3,YX,2,1,"div",13),P()),2&e){const t=n.$implicit,i=Ie(2).$implicit,r=Ie();he(2),rr(t.replaceAll("_"," ")),he(),Pe("ngIf","None"!==r.documentation[i][t])}}function WX(e,n){if(1&e&&(B(0,"div",16),Qt(1,$X,4,2,"div",17),P()),2&e){const t=Ie().$implicit,i=Ie();he(),Pe("ngForOf",i.objectKeys(i.documentation[t]))}}function GX(e,n){if(1&e&&(B(0,"div",11)(1,"div",12),De(2),P(),Qt(3,zX,2,1,"div",13)(4,WX,2,1,"div",14),P()),2&e){const t=n.$implicit,i=Ie();he(2),Ui(" ",t.replaceAll("_"," ")," "),he(),Pe("ngIf",!i.isObject(i.documentation[t])&&"None"!==i.documentation[t]),he(),Pe("ngIf",i.isObject(i.documentation[t]))}}function XX(e,n){if(1&e&&(B(0,"div",15),De(1),P()),2&e){const t=Ie().$implicit,i=Ie();he(),Ui(" ",i.documentation[t]," ")}}function qX(e,n){if(1&e&&(B(0,"div",15),De(1),P()),2&e){const t=Ie().$implicit,i=Ie(2).$implicit,r=Ie();he(),Ui(" ",r.documentation[i][t]," ")}}function KX(e,n){if(1&e&&(B(0,"div",18)(1,"div",16),De(2),P(),Qt(3,qX,2,1,"div",13),P()),2&e){const t=n.$implicit,i=Ie(2).$implicit,r=Ie();he(2),rr(t.replaceAll("_"," ")),he(),Pe("ngIf","None"!==r.documentation[i][t])}}function ZX(e,n){if(1&e&&(B(0,"div",16),Qt(1,KX,4,2,"div",17),P()),2&e){const t=Ie().$implicit,i=Ie();he(),Pe("ngForOf",i.objectKeys(i.documentation[t]))}}function QX(e,n){if(1&e&&(B(0,"div",11)(1,"div",12),De(2),P(),Qt(3,XX,2,1,"div",13)(4,ZX,2,1,"div",14),P()),2&e){const t=n.$implicit,i=Ie();he(2),Ui(" ",t.replaceAll("_"," ")," "),he(),Pe("ngIf",!i.isObject(i.documentation[t])&&"None"!==i.documentation[t]),he(),Pe("ngIf",i.isObject(i.documentation[t]))}}function JX(e,n){if(1&e&&(B(0,"div",15),De(1),P()),2&e){const t=Ie().$implicit,i=Ie();he(),Ui(" ",i.documentation[t]," ")}}function eq(e,n){if(1&e&&(B(0,"div",15),De(1),P()),2&e){const t=Ie().$implicit,i=Ie(2).$implicit,r=Ie();he(),Ui(" ",r.documentation[i][t]," ")}}function tq(e,n){if(1&e&&(B(0,"div",18)(1,"div",16),De(2),P(),Qt(3,eq,2,1,"div",13),P()),2&e){const t=n.$implicit,i=Ie(2).$implicit,r=Ie();he(2),rr(t.replaceAll("_"," ")),he(),Pe("ngIf","None"!==r.documentation[i][t])}}function nq(e,n){if(1&e&&(B(0,"div",16),Qt(1,tq,4,2,"div",17),P()),2&e){const t=Ie().$implicit,i=Ie();he(),Pe("ngForOf",i.objectKeys(i.documentation[t]))}}function iq(e,n){if(1&e&&(B(0,"div",11)(1,"div",19),De(2),P(),Qt(3,JX,2,1,"div",13)(4,nq,2,1,"div",14),P()),2&e){const t=n.$implicit,i=Ie();he(2),Ui(" ",t.replaceAll("_"," ")," "),he(),Pe("ngIf",!i.isObject(i.documentation[t])&&"None"!==i.documentation[t]),he(),Pe("ngIf",i.isObject(i.documentation[t]))}}let rq=(()=>{class e{constructor(){this.objectKeys=Object.keys,this.genInformationKeys=["ID","Version","Model_title","Model_description","Keywords","Contact","Institution","Date","Endpoint","Endpoint_units","Interpretation","Dependent_variable","Species","Limits_applicability","Experimental_protocol","Model_availability","Data_info"],this.algorithmKeys=["Algorithm","Software","Descriptors","Algorithm_settings","AD_method","AD_parameters","Goodness_of_fit_statistics","Internal_validation_1","Internal_validation_2","External_validation","Comments"],this.otherInformationKeys=["Other_related_models","Date_of_QMRF","Date_of_QMRF_updates","QMRF_updates","References","QMRF_same_models","Mechanistic_basis","Mechanistic_references","Supporting_information","Comment_on_the_endpoint","Endpoint_data_quality_and_variability","Descriptor_selection"]}ngOnInit(){}isObject(t){return"object"==typeof t}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=wr({type:e,selectors:[["model-documentation"]],inputs:{documentation:"documentation"},decls:20,vars:3,consts:[["id","pills-tab-model-information","role","tablist",1,"nav","nav-pills","mb-3"],["role","presentation",1,"nav-item"],["id","pills-gen-informationmodel-tab","data-bs-toggle","pill","data-bs-target","#pills-gen-informationmodel","type","button","role","tab","aria-controls","pills-gen-informationmodel","aria-selected","True",1,"nav-link","active"],["id","pills-algorithm-tab","data-bs-toggle","pill","data-bs-target","#pills-algorithm","type","button","role","tab","aria-controls","pills-algorithm","aria-selected","false",1,"nav-link"],["id","pills-other_information-tab","data-bs-toggle","pill","data-bs-target","#pills-other_information","type","button","role","tab","aria-controls","pills-other_information","aria-selected","false",1,"nav-link"],["id","pills-modelInformationtab",1,"tab-content","container-fluid"],["id","pills-gen-informationmodel","role","tabpanel","aria-labelledby","pills-gen-informationmodel-tab",1,"tab-pane","fade","show","active","mt-2"],[1,"card-body"],["class","row border-bottom","id","headerOverview",4,"ngFor","ngForOf"],["id","pills-algorithm","role","tabpanel","aria-labelledby","pills-algorithm-tab",1,"tab-pane","fade","mt-2"],["id","pills-other_information","role","tabpanel","aria-labelledby","pills-other_information-tab",1,"tab-pane","fade","mt-2"],["id","headerOverview",1,"row","border-bottom"],[1,"col-3","p-1"],["class","col text-dark",4,"ngIf"],["class","col",4,"ngIf"],[1,"col","text-dark"],[1,"col"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col-4","p-1"]],template:function(i,r){1&i&&(B(0,"ul",0)(1,"li",1)(2,"button",2),De(3," General Information "),P()(),B(4,"li",1)(5,"button",3),De(6," Algorithm and Software "),P()(),B(7,"li",1)(8,"button",4),De(9," Other Information "),P()()(),B(10,"div",5)(11,"div",6)(12,"div",7),Qt(13,GX,5,3,"div",8),P()(),B(14,"div",9)(15,"div",7),Qt(16,QX,5,3,"div",8),P()(),B(17,"div",10)(18,"div",7),Qt(19,iq,5,3,"div",8),P()()()),2&i&&(he(13),Pe("ngForOf",r.genInformationKeys),he(3),Pe("ngForOf",r.algorithmKeys),he(3),Pe("ngForOf",r.otherInformationKeys))},dependencies:[ad,Yc],styles:[".nav[_ngcontent-%COMP%]{background:none;font-size:1.1rem}.nav-link[_ngcontent-%COMP%]{color:#474286!important;font-size:1.1rem}.nav-link.active[_ngcontent-%COMP%]{background:none!important;color:#474286!important;font-weight:700!important;font-size:1.1rem!important;border-bottom:6px solid #734E81!important;border-radius:0!important}.secondary-color[_ngcontent-%COMP%]{color:#734e81}"]})}return e})();const sq=["DocumentFileInput"],oq=e=>({"is-invalid":e}),aq=e=>({"selected-row":e});function lq(e,n){if(1&e){const t=tt();B(0,"a",74),ln("click",function(){return At(t),St(Ie(2).addParameterMode())}),De(1," Add value "),P()}2&e&&ci("blink",Ie(2).isBlinking)}function cq(e,n){1&e&&(B(0,"a",75),De(1,"Import Table"),P())}function uq(e,n){if(1&e){const t=tt();B(0,"a",76),ln("click",function(){return At(t),St(Ie(2).openModal())}),De(1,"Predict"),P()}}function dq(e,n){if(1&e){const t=tt();B(0,"tr")(1,"td"),De(2),P(),B(3,"td"),De(4),P(),B(5,"td"),De(6),fa(7,"slice"),P(),B(8,"td",85),De(9),P(),B(10,"td",85),De(11),P(),B(12,"td"),De(13),P(),B(14,"td"),De(15),P(),B(16,"td")(17,"div",86)(18,"a",87),ln("click",function(){const r=At(t).index;return St(Ie(3).deleteParameter(r))}),De(19," Delete "),P(),B(20,"a",88),ln("click",function(){const r=At(t).index;return St(Ie(3).editFormParam(r))}),De(21," Edit "),P()()()()}if(2&e){const t=n.$implicit,i=n.index,r=Ie(3);he(2),rr(null==t?null:t.method),he(2),rr(null==t?null:t.parameter),he(2),rr(Vy(7,7,null==t?null:t.value.toString(),0,6)),he(3),rr(null==t?null:t.unit),he(2),rr(null==r.model||null==r.model.uncertainties[i]?null:r.model.uncertainties[i].uncertainty),he(2),rr(null==r.model||null==r.model.uncertainties[i]?null:r.model.uncertainties[i].p),he(2),rr(null==r.model||null==r.model.uncertainties[i]?null:r.model.uncertainties[i].term)}}function hq(e,n){if(1&e&&(B(0,"div",77)(1,"div",78)(2,"table",79)(3,"thead")(4,"tr")(5,"th",80),De(6,"Method"),P(),B(7,"th",80),De(8,"Parameter"),P(),B(9,"th",80),De(10,"Value"),P(),B(11,"th",81),De(12,"Unit"),P(),B(13,"th",82),De(14,"Uncertainty"),P(),B(15,"th",83),De(16,"Probability"),P(),B(17,"th",80),De(18,"Term"),P(),et(19,"th"),P()(),B(20,"tbody"),Qt(21,dq,22,11,"tr",84),P()()()()),2&e){const t=Ie(2);he(21),Pe("ngForOf",t.model.values)}}function fq(e,n){if(1&e){const t=tt();B(0,"div",26)(1,"label",12),De(2,"Results*:"),P(),B(3,"div",13)(4,"textarea",89),Do("ngModelChange",function(r){At(t);const o=Ie(2);return So(o.report,r)||(o.report=r),St(r)}),De(5,"        "),P()()()}if(2&e){const t=Ie(2);he(4),Pe("placeholder",t.pending_task["task description"].report),To("ngModel",t.report)}}function pq(e,n){1&e&&et(0,"i",95)}function gq(e,n){if(1&e){const t=tt();B(0,"div",11),et(1,"label",12),B(2,"div",13)(3,"div",14)(4,"div",58),et(5,"input",90),P(),B(6,"div",61)(7,"div",91),Qt(8,pq,1,0,"i",92),P()(),B(9,"div",61)(10,"a",93),ln("click",function(){const r=At(t).$implicit,o=Ie(2);return St(o.deleteFile(o.documents[r].label))}),et(11,"i",94),P()()()()()}if(2&e){const t=n.$implicit,i=Ie(2);he(5),Pe("value",i.documents[t].label),he(3),Pe("ngIf",i.documents[t].include)}}function mq(e,n){if(1&e){const t=tt();B(0,"button",96),ln("click",function(){return At(t),St(Ie(2).back())}),De(1," Back "),P()}}function _q(e,n){1&e&&(B(0,"div",97),De(1," No models available "),P())}function yq(e,n){if(1&e){const t=tt();B(0,"tr",102),ln("click",function(){const r=At(t).$implicit;return St(Ie(3).getModelDocumentation(r))}),B(1,"td")(2,"input",103),ln("change",function(r){const o=At(t).$implicit;return St(Ie(3).onChange(o,r))}),P()(),B(3,"td"),De(4),P(),B(5,"td"),De(6),P()()}if(2&e){const t=n.$implicit,i=Ie(3);Pe("ngClass",By(3,aq,t===i.selectedModel)),he(4),rr(t[1]),he(2),rr(t[0])}}function bq(e,n){if(1&e&&(B(0,"table",98)(1,"thead")(2,"tr"),et(3,"th",99),B(4,"th",99),De(5,"Version"),P(),B(6,"th",100),De(7,"Name"),P()()(),B(8,"tbody"),Qt(9,yq,7,5,"tr",101),P()()),2&e){const t=Ie(2);he(9),Pe("ngForOf",t.listAllModels)}}function vq(e,n){if(1&e&&(B(0,"div",104),et(1,"model-documentation",105),P()),2&e){const t=Ie(2);he(),Pe("documentation",t.ModelDocumentation)}}function wq(e,n){if(1&e&&(B(0,"option",106),De(1),P()),2&e){const t=n.$implicit;Pe("value",t),he(),Ui(" ",t," ")}}function Cq(e,n){1&e&&(B(0,"div",107),De(1," There are missing required fields to fill out "),P())}function Tq(e,n){if(1&e){const t=tt();B(0,"div")(1,"form",4,0),ln("ngSubmit",function(r){return At(t),St(Ie().onSubmit(r))}),B(3,"div",5),Qt(4,lq,2,2,"a",6)(5,cq,2,0,"a",7)(6,uq,2,0,"a",8),P(),Qt(7,hq,22,1,"div",9)(8,fq,6,2,"div",10),B(9,"div")(10,"div",11)(11,"label",12),De(12,"Documentation:"),P(),B(13,"div",13)(14,"div",14)(15,"div",15)(16,"input",16,1),ln("change",function(r){return At(t),St(Ie().sendlink(r))}),P()(),B(18,"div",17)(19,"div",18)(20,"input",19),Do("ngModelChange",function(r){At(t);const o=Ie();return So(o.includeDoc,r)||(o.includeDoc=r),St(r)}),P()(),B(21,"span",20),De(22,"Include"),P()(),B(23,"div",15)(24,"input",21),Do("ngModelChange",function(r){At(t);const o=Ie();return So(o.labelFile,r)||(o.labelFile=r),St(r)}),P()(),B(25,"div",22)(26,"a",23),ln("click",function(){return At(t),St(Ie().addDocument())}),et(27,"i",24),P()()()()(),Qt(28,gq,12,2,"div",25),P(),B(29,"div",26)(30,"label",12),De(31,"Summary:"),P(),B(32,"div",13)(33,"textarea",27),Do("ngModelChange",function(r){At(t);const o=Ie();return So(o.model.summary,r)||(o.model.summary=r),St(r)}),P()()(),B(34,"div",14)(35,"div",13),Qt(36,mq,2,0,"button",28),P(),B(37,"div",29)(38,"button",30),De(39," Submit "),P()()()(),B(40,"div",31)(41,"div",32)(42,"div",33)(43,"div",34)(44,"h5",35),De(45," Select Models "),P(),et(46,"button",36),P(),B(47,"div",37),Qt(48,_q,2,0,"div",38),B(49,"div",39),Qt(50,bq,10,1,"table",40),P(),Qt(51,vq,2,1,"div",41),P(),B(52,"div",42)(53,"button",43),De(54," Cancel "),P(),B(55,"button",44),ln("click",function(){return At(t),St(Ie().executePredict())}),De(56," Predict "),P()()()()(),B(57,"div",45)(58,"div",46)(59,"div",33)(60,"div",34)(61,"h5",47),De(62," Import Table "),P(),et(63,"button",36),P(),B(64,"div",48)(65,"input",16),ln("change",function(r){return At(t),St(Ie().importTable(r))}),P(),B(66,"span",49),De(67,"Use an excel format file with the same columns that are shown in the form"),P()(),B(68,"div",42)(69,"button",50),De(70," Cancel "),P()()()()(),B(71,"div",51)(72,"div",32)(73,"div",33)(74,"div",34)(75,"h5",52),De(76," Add new Value "),P(),et(77,"button",36),P(),B(78,"div",48)(79,"div",14)(80,"div",53)(81,"div",14)(82,"div",15)(83,"label",54),De(84,"Method"),P(),B(85,"input",55),Do("ngModelChange",function(r){At(t);const o=Ie();return So(o.method,r)||(o.method=r),St(r)}),P()(),B(86,"div",53)(87,"label",56),De(88,"Parameter*"),P(),B(89,"input",57),Do("ngModelChange",function(r){At(t);const o=Ie();return So(o.parameter,r)||(o.parameter=r),St(r)}),P()(),B(90,"div",58)(91,"label",59),De(92,"Value*"),P(),B(93,"input",60),Do("ngModelChange",function(r){At(t);const o=Ie();return So(o.value,r)||(o.value=r),St(r)}),P()(),B(94,"div",61)(95,"label",62),De(96,"Unit"),P(),B(97,"div",14)(98,"div",53)(99,"input",63),Do("ngModelChange",function(r){At(t);const o=Ie();return So(o.unit,r)||(o.unit=r),St(r)}),P()()()()()()(),B(100,"div",64)(101,"div",15)(102,"label",56),De(103,"Uncertainty"),P(),B(104,"input",65),Do("ngModelChange",function(r){At(t);const o=Ie();return So(o.uncertainty,r)||(o.uncertainty=r),St(r)}),P()(),B(105,"div",61)(106,"label",59),De(107,"Probability"),P(),B(108,"input",66,2),ln("blur",function(){return At(t),St(Ie().syncWithTerm())})("keydown",function(r){return At(t),St(Ie().onlyNumbers(r))}),Do("ngModelChange",function(r){At(t);const o=Ie();return So(o.uncertainty_p,r)||(o.uncertainty_p=r),St(r)}),P()(),B(110,"div",67)(111,"label",62),De(112,"Term"),P(),B(113,"div",14)(114,"div",67)(115,"select",68),ln("change",function(r){return At(t),St(Ie().selectedUncertaintyTerm(r.target))}),B(116,"option",69),De(117,"N/A"),P(),Qt(118,wq,2,2,"option",70),P()()()()(),Qt(119,Cq,2,0,"div",71),P(),B(120,"div",42)(121,"a",72),ln("click",function(){return At(t),St(Ie().addNewParameter())}),De(122),P(),B(123,"button",73),De(124),P()()()()()()}if(2&e){const t=Ru(2),i=Ru(109),r=Ie();he(4),Pe("ngIf","value"===r.pending_task.result.result_type),he(),Pe("ngIf","value"===r.pending_task.result.result_type),he(),Pe("ngIf","local_models"===r.pending_task["task description"].method_link[0]),he(),Pe("ngIf","value"===(null==r.pending_task?null:r.pending_task.result.result_type)&&r.model.values.length>0),he(),Pe("ngIf","text"===r.pending_task.result.result_type),he(12),To("ngModel",r.includeDoc),Pe("value",!0),he(4),To("ngModel",r.labelFile),he(4),Pe("ngForOf",r.objectKeys(r.documents)),he(5),Pe("placeholder",r.pending_task["task description"].summary),To("ngModel",r.model.summary),he(3),Pe("ngIf",r.editMode),he(2),Pe("disabled",t.invalid),he(10),Pe("ngIf",!r.listAllModels),he(2),Pe("ngIf",r.listAllModels),he(),Pe("ngIf",r.ModelDocumentation),he(4),Pe("disabled",0==r.listModelsSelected.length),he(30),To("ngModel",r.method),he(4),To("ngModel",r.parameter),he(4),To("ngModel",r.value),he(6),To("ngModel",r.unit),he(5),Pe("placeholder",r.pending_task["task description"].uncertainty),To("ngModel",r.uncertainty),he(4),Pe("ngClass",By(29,oq,r.invalidProbability()&&(i.dirty||i.touched))),To("ngModel",r.uncertainty_p),he(10),Pe("ngForOf",r.pending_task["task description"].uncertainty_term),he(),Pe("ngIf",!r.parameterInserted),he(3),Ui(" ",r.editParameterMode?"Update":"Add"," "),he(2),Ui(" ",r.editParameterMode?"Close":"Cancel"," ")}}let Dq=(()=>{class e{constructor(t,i,r,o,l,u,g,v,D){this.ra=t,this.commonService=i,this.pendingTasks=r,this.func=o,this.results=l,this.updateService=u,this.toastr=g,this.global=v,this.modelsService=D,this.idx=void 0,this.ModelDocumentation=void 0,this.editParameterMode=!1,this.loadForm=!1,this.labelFile="",this.objectKeys=Object.keys,this.report="",this.documents=[],this.pending_task_selected_id="",this.listModelsSelected=[],this.parameterInserted=!0,this.includeDoc=!0,this.isBlinking=!1}ngOnInit(){setTimeout(()=>{this.pending_task=this.task,this.model=this.task.result,this.editMode&&"text"==this.pending_task.result.result_type&&(this.report=this.model.values[0]),this.documents=this.model.links,this.uncertainty_p=0,this.uncertainty_term=""},100)}selectedUncertaintyTerm(t){this.uncertainty_term=t.value}deleteParameter(t){this.model.uncertainties.splice(t,1),this.model.values.splice(t,1)}editFormParam(t){const{method:i,parameter:r,value:o,unit:l}=this.model.values[t],{uncertainty:u,p:g,term:v}=this.model.uncertainties[t];Object.assign(this,{method:i,parameter:r,value:o,unit:l,uncertainty:u,p:g,term:v}),this.editParameterMode=!0,this.idx=t}addParameterMode(){this.editParameterMode=!1,this.resetFieldsParameter(),this.resetFieldsUncertainty()}back(){this.global.editModeTasks=!this.global.editModeTasks}getPendingTask(){this.commonService.getPendingTask(this.ra.name,this.pending_task_selected_id).subscribe({next:t=>{this.pending_task=t,this.model=this.pending_task.result,this.documents=this.model.links},error:t=>console.log(t)})}closeModal(){document.getElementById("btnclosePredModal").click()}executePredict(){this.resetFieldsUncertainty(),this.model.values=[],this.model.uncertainties=[];var t=[],i=[];for(let r=0;r<this.listModelsSelected.length;r++){const o=this.listModelsSelected[r];t.push(o[0]),i.push(o[1])}this.modelsService.getPrediction(this.ra.name,t,i).subscribe({next:r=>{for(let o=0;o<r.models.length;o++)this.model.values[o]={parameter:r.models[o][0]+"v"+r.models[o][1],value:r.results[o],unit:this.ModelDocumentation.Endpoint_units},this.model.uncertainties[o]={uncertainty:"",p:r.uncertainty[o],term:"N/A"};this.closeModal(),this.toastr.success("PREDICTION DONE","SUCCESSFUL PREDICTION",{timeOut:5e3,positionClass:"toast-top-right"})},error:r=>{this.toastr.error(r.error,"FAILED",{timeOut:5e3,positionClass:"toast-top-right"}),console.log(r)}}),this.listModelsSelected=[]}getModelDocumentation(t){this.selectedModel=t,this.ModelDocumentation=void 0,this.model.name=t[0],this.model.version=t[1],this.modelsService.getModelDocumentation(t[0],t[1]).subscribe({next:i=>{this.ModelDocumentation=i},error:i=>{console.log(i)}})}onChange(t,i){if(i.target.checked)this.listModelsSelected.push(t);else for(let o=0;o<this.listModelsSelected.length;o++){const l=this.listModelsSelected[o];l[0]==t[0]&&l[1]==t[1]&&this.listModelsSelected.splice(o,1)}}resetFieldsUncertainty(){this.uncertainty="",this.uncertainty_p=0,this.uncertainty_term=this.pending_task["task description"].uncertainty_term[0]}onlyNumbers(t){"ArrowLeft"===t.key||"ArrowRight"===t.key||"Delete"===t.key||"Backspace"===t.key||/[^0-9.]+$/.test(t.key)&&t.preventDefault()}invalidProbability(){return this.uncertainty_p.length>0&&(this.uncertainty_p=parseFloat(this.uncertainty_p)),this.uncertainty_p<0||this.uncertainty_p>1}onSubmit(t){this.loadForm=!1,this.report&&(this.model.values[0]=this.report),this.model.values.length>0?setTimeout(()=>{this.updateService.updateResult(this.ra.name,this.model).subscribe({next:i=>{i.success&&(this.pendingTasks.results=[],this.func.refreshRA(),this.editMode?this.global.editModeTasks=!1:setTimeout(()=>{this.pendingTasks.results.length&&(this.pending_task_selected_id=this.pendingTasks.results[0].id,this.getPendingTask())},1e3),this.toastr.success("RA "+this.ra.name,"SUCCESSFULLY UPDATED",{timeOut:5e3,positionClass:"toast-top-right"}))},error:i=>{this.toastr.error("Check the console to see more information","Unexpected Error",{timeOut:5e3,positionClass:"toast-top-right"}),console.error(i)}})},300):(this.alertUserAction(),this.toastr.warning("","value is required",{timeOut:5e3,positionClass:"toast-top-right"}),t.preventDefault())}alertUserAction(){this.isBlinking=!0,setTimeout(()=>{this.isBlinking=!this.isBlinking},4e3)}addNewParameter(){this.parameter&&this.value&&this.uncertainty_p>=0&&this.uncertainty_p<=1?(this.editParameterMode?(this.model.values[this.idx]={method:this.method,parameter:this.parameter,value:this.value,unit:this.unit},this.toastr.success("","Updated Successfully",{timeOut:5e3,positionClass:"toast-top-right"})):(this.model.values.push({method:this.method,parameter:this.parameter,value:this.value,unit:this.unit}),this.toastr.success("","Added Successfully",{timeOut:5e3,positionClass:"toast-top-right"}),this.resetFieldsParameter(),this.resetFieldsUncertainty()),this.parameterInserted=!0,this.addNewUncertainty()):this.parameterInserted=!1}syncWithTerm(){this.uncertainty_p||(this.uncertainty_p=0),this.uncertainty_p>.99&&this.uncertainty_p<=1?this.uncertainty_term=this.pending_task["task description"].uncertainty_term[0]:this.uncertainty_p>.95&&this.uncertainty_p<=.99?this.uncertainty_term=this.pending_task["task description"].uncertainty_term[1]:this.uncertainty_p>.9&&this.uncertainty_p<=.95?this.uncertainty_term=this.pending_task["task description"].uncertainty_term[2]:this.uncertainty_p>.66&&this.uncertainty_p<=.9?this.uncertainty_term=this.pending_task["task description"].uncertainty_term[3]:this.uncertainty_p>.33&&this.uncertainty_p<=.66?this.uncertainty_term=this.pending_task["task description"].uncertainty_term[4]:this.uncertainty_p>.1&&this.uncertainty_p<=.33?this.uncertainty_term=this.pending_task["task description"].uncertainty_term[5]:this.uncertainty_p>=.05&&this.uncertainty_p<=.1?this.uncertainty_term=this.pending_task["task description"].uncertainty_term[6]:this.uncertainty_p>.01&&this.uncertainty_p<=.05?this.uncertainty_term=this.pending_task["task description"].uncertainty_term[7]:this.uncertainty_p>=0&&this.uncertainty_p<=.01&&(this.uncertainty_term=this.pending_task["task description"].uncertainty_term[8]),this.changeSelectedOptionDOM()}changeSelectedOptionDOM(){var t=document.getElementById("uncertainty_term");const i=Array.from(t.options);for(const r of i)if(this.uncertainty_term==r.value){r.selected=!0;break}}resetFieldsParameter(){this.method="",this.unit="",this.value="",this.parameter=""}addNewUncertainty(){this.editParameterMode?this.model.uncertainties[this.idx]={uncertainty:this.uncertainty,p:this.uncertainty_p,term:this.uncertainty_term}:this.model.uncertainties[this.model.values.length-1]={uncertainty:this.uncertainty,p:this.uncertainty_p,term:this.uncertainty_term}}openModal(){this.ModelDocumentation=void 0,$("#modelsTable").DataTable().destroy(),this.modelsService.getModels().subscribe({next:t=>{this.listAllModels=t,setTimeout(()=>{$("#modelsTable").DataTable()},200)},error:t=>{console.log(t)}})}importTable(t){this.model.input_file=t.target.files[0],this.updateService.updateTable(this.ra.name,this.model.input_file).subscribe({next:i=>{console.log("result:"),console.log(i),i.success&&(this.model.values=i.values,this.model.uncertainties=i.uncertainties,this.toastr.success("","SUCCESSFULLY IMPORTED",{timeOut:5e3,positionClass:"toast-top-right"}),document.getElementById("btncloseImportTableModal").click())},error:i=>{console.log(i),this.toastr.error("",i.error.error,{timeOut:6e3,positionClass:"toast-top-right"})}})}setLabelDocumentName(t){return t.split(".").slice(0,-1).join(".")}addDocument(){this.labelFile&&this.model.result_link&&this.updateService.updateLink(this.ra.name,this.model.result_link).subscribe({next:t=>{this.toastr.success("Document "+this.labelFile,"SUCCESSFULLY UPDATED",{timeOut:5e3,positionClass:"toast-top-right"}),this.documents.push({label:this.labelFile,File:this.model.result_link.name,include:this.includeDoc}),this.model.links=this.documents,this.labelFile="",this.model.result_link="",this.DocumentFileInput.nativeElement.value=null},error:t=>{this.toastr.error("Check the console to see more information","Failed uploaded document",{timeOut:5e3,positionClass:"toast-top-right"}),console.log(t)}})}sendlink(t){this.model.result_link=t.target.files[0],this.labelFile=this.setLabelDocumentName(t.target.files[0].name)}deleteFile(t){this.documents=this.documents.filter(i=>i.label!==t),this.model.links=this.documents}static#e=this.\u0275fac=function(i){return new(i||e)(lt(Nd),lt(ah),lt(c_),lt(d_),lt(l_),lt(VE),lt(h_),lt(u_),lt(UX))};static#t=this.\u0275cmp=wr({type:e,selectors:[["task-form"]],viewQuery:function(i,r){if(1&i&&Xl(sq,5),2&i){let o;eo(o=to())&&(r.DocumentFileInput=o.first)}},inputs:{task:"task",editMode:"editMode"},decls:1,vars:1,consts:[["taskForm","ngForm"],["DocumentFileInput",""],["valueInputRef","ngModel"],[4,"ngIf"],["id","taskForm",1,"container-form","mt-3",3,"ngSubmit"],[1,"d-flex","justify-content-end"],["class","btn btn-ets-do mb-2","role","button","data-bs-toggle","modal","data-bs-target","#extraInformation",3,"blink","click",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#importTableModal","role","button","class","btn btn-ets-do mb-2",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#predModal","role","button","class","btn btn-ets-do mb-2",3,"click",4,"ngIf"],["class","mb-2",4,"ngIf"],["class","row mb-3",4,"ngIf"],[1,"row","mt-2","mb-3"],["for","inputPassword3",1,"col-2","col-form-label"],[1,"col-10"],[1,"row"],[1,"col-5"],["placeholder","","type","file",1,"form-control",3,"change"],[1,"col-auto","d-flex","flex-column"],[1,"d-flex","flex-row","justify-content-around"],["type","checkbox","name","inlineRadioOptions","id","inlineRadio1",1,"form-check-input",3,"ngModelChange","ngModel","value"],[1,"text-muted","sm-text"],["type","text","name","labelFile","placeholder","label",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-1","text-end",2,"margin-left","auto !important"],["role","button",1,"addbtn","btn","ms-auto",2,"background","rgb(250,250,250)",3,"click"],[1,"fa-solid","fa-arrow-turn-down","fa-rotate-90","fa-lg"],["class","row mt-2 mb-3",4,"ngFor","ngForOf"],[1,"row","mb-3"],["name","summary","id","summary","rows","4",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","submit","class","btn btn-ets-delete",3,"click",4,"ngIf"],[1,"col","d-flex","justify-content-end"],["type","submit",1,"btn","btn-ets-do","submit-button",3,"disabled"],["id","predModal","tabindex","-1","aria-labelledby","predModal","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","predModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","row"],["class","alert p-2 alert-warning","role","alert",4,"ngIf"],[1,"col-4"],["style","width: 100% !important","id","modelsTable","class","table display compact",4,"ngIf"],["class","col-8",4,"ngIf"],[1,"modal-footer"],["type","button","id","btnclosePredModal","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"btn","btn-ets-do",3,"click","disabled"],["id","importTableModal","tabindex","-1","aria-labelledby","importTableModal","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xs"],["id","importTableModalLabel",1,"modal-title"],[1,"modal-body"],[1,"info-import-table"],["type","button","id","btncloseImportTableModal","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","extraInformation","tabindex","-1","aria-labelledby","extraInformation","aria-hidden","true",1,"modal","fade"],["id","extraInformationLabel",1,"modal-title","fw-bold"],[1,"col"],["for","method",1,"form-label"],["name","method","placeholder","","type","text","id","method",1,"form-control",3,"ngModelChange","ngModel"],["for","Parameter",1,"form-label"],["name","parameter","placeholder","","type","text","id","parameter",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-3"],["for","value",1,"form-label"],["type","text","name","value","id","value",1,"form-control",3,"ngModelChange","placeholder","ngModel"],[1,"col-1"],["for","unit",1,"form-label"],["placeholder","","type","text","name","unit","id","unit",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","mt-2"],["name","uncertainty","type","text","id","uncertainty",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","text","name","uncertainty_p","id","uncertainty_p",1,"form-control",3,"blur","keydown","ngModelChange","placeholder","ngClass","ngModel"],[1,"col-auto"],["id","uncertainty_term",1,"form-control",3,"change"],["value","N/A"],[3,"value",4,"ngFor","ngForOf"],["class","text-danger mt-2",4,"ngIf"],["role","button",1,"btn","btn-ets-do",3,"click"],["type","button","id","btncloseImportTableModal","data-bs-dismiss","modal",1,"btn","btn-ets-bad"],["role","button","data-bs-toggle","modal","data-bs-target","#extraInformation",1,"btn","btn-ets-do","mb-2",3,"click"],["data-bs-toggle","modal","data-bs-target","#importTableModal","role","button",1,"btn","btn-ets-do","mb-2"],["data-bs-toggle","modal","data-bs-target","#predModal","role","button",1,"btn","btn-ets-do","mb-2",3,"click"],[1,"mb-2"],[1,"info-values"],[2,"width","100%"],[2,"width","15%"],[1,"text-center",2,"width","5%"],[1,"text-center",2,"width","15%"],[2,"width","10%"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"d-flex"],["role","button",1,"btn","btn-ets-delete",3,"click"],["role","button","data-bs-toggle","modal","data-bs-target","#extraInformation",1,"btn","btn-ets-do","pr-4",3,"click"],["rows","4","required","","type","text","name","report","id","report",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","text","readonly","",1,"form-control-plaintext","text-center",3,"value"],[2,"text-align","center !important","margin-top","7px"],["style","text-align: center;","class","fa-solid fa-check-to-slot fa-lg",4,"ngIf"],["role","button",1,"btn","ms-auto",3,"click"],[1,"fa-solid","fa-circle-minus","fa-lg",2,"color","#e01b24"],[1,"fa-solid","fa-check-to-slot","fa-lg",2,"text-align","center"],["type","submit",1,"btn","btn-ets-delete",3,"click"],["role","alert",1,"alert","p-2","alert-warning"],["id","modelsTable",1,"table","display","compact",2,"width","100% !important"],[2,"width","10% !important"],[2,"width","70% !important"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"click","ngClass"],["type","checkbox","id","flexCheckDefault",1,"form-check-input","text-center",3,"change"],[1,"col-8"],[3,"documentation"],[3,"value"],[1,"text-danger","mt-2"]],template:function(i,r){1&i&&Qt(0,Tq,125,31,"div",3),2&i&&Pe("ngIf",r.pending_task)},dependencies:[lE,ad,Yc,dD,hD,fD,i_,xE,M0,sD,z2,om,Zy,rq,WT],styles:[".title[_ngcontent-%COMP%]{margin-top:40px;font-size:45px;font-family:Verdana,sans-serif;color:#734e81}.btn-ets-edit[_ngcontent-%COMP%]{background:#f6d268;color:#000;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-edit[_ngcontent-%COMP%]:hover, .btn-ets-edit[_ngcontent-%COMP%]:active, .btn-ets-edit[_ngcontent-%COMP%]:focus, .btn-ets-edit.active[_ngcontent-%COMP%]{background:#f1bf0a;color:#000}.btn-ets-do[_ngcontent-%COMP%]{background:#474286;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-do[_ngcontent-%COMP%]:hover, .btn-ets-do[_ngcontent-%COMP%]:active, .btn-ets-do[_ngcontent-%COMP%]:focus, .btn-ets-do.active[_ngcontent-%COMP%]{background:#734e81;color:#fff}.btn-ets-delete[_ngcontent-%COMP%]{background:#ff1818;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-delete[_ngcontent-%COMP%]:hover, .btn-ets-delete[_ngcontent-%COMP%]:active, .btn-ets-delete[_ngcontent-%COMP%]:focus, .btn-ets-delete.active[_ngcontent-%COMP%]{background:#9a0a0a;color:#fff}.btn-ets-bad[_ngcontent-%COMP%]{background-color:#646363;color:#fff;border-width:0;letter-spacing:.05em;border-radius:0}.btn-ets-bad[_ngcontent-%COMP%]:hover, .btn-ets-bad[_ngcontent-%COMP%]:focus, .btn-ets-bad.active[_ngcontent-%COMP%]{background-color:#9e9d9d;color:#fff}.nav[_ngcontent-%COMP%]{background-color:none!important}.nav-link[_ngcontent-%COMP%]{color:#734e81;font-size:1rem}.nav-link.active[_ngcontent-%COMP%]{background:none!important;color:#734e81;font-weight:700;font-size:1rem;border-bottom:3px solid #935277;border-radius:0}@keyframes _ngcontent-%COMP%_blink{0%{background-color:#474286}50%{background-color:#ec8229}to{background-color:#474286}}.blink[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blink 2s 3}#taskForm[_ngcontent-%COMP%], #extraInformation[_ngcontent-%COMP%]{color:#734e81}.addbtn[_ngcontent-%COMP%]{color:#935277}.info-import-table[_ngcontent-%COMP%]{margin-left:5px;color:#734e81;font-weight:700}.info-values[_ngcontent-%COMP%]{background-color:#fafafa;margin-top:12px;padding-top:10px;padding-bottom:10px;border-radius:2px;padding-left:5px;margin-bottom:12px}#predModal[_ngcontent-%COMP%]{color:#474286}#predModal[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#734e81}.selected-row[_ngcontent-%COMP%]{background-color:#474286;color:#fff}.sm-text[_ngcontent-%COMP%]{font-size:13.5px!important}"]})}return e})(),q8=(()=>{class e{transform(t){if(t){const i=t.indexOf(" ");if(-1!==i)return t.substring(0,i)}return t}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275pipe=ya({name:"formatDate",type:e,pure:!0})}return e})();function xq(e,n){if(1&e&&(B(0,"option",27),De(1),P()),2&e){const t=n.$implicit,i=Ie(2);Pe("value",i.pendingTasks.results[t].id),he(),Ui(" ",i.pendingTasks.results[t].label," ")}}function kq(e,n){1&e&&(et(0,"div",34),fa(1,"autolinkPipe")),2&e&&Pe("innerHTML",ql(1,1,Ie(3).pending_task["task description"].description),mo)}function Sq(e,n){if(1&e&&(B(0,"span")(1,"a",36),De(2),P(),et(3,"br"),P()),2&e){const t=n.$implicit;he(),Pe("href",t,ha),he(),rr(t)}}function Eq(e,n){if(1&e&&(B(0,"div",31)(1,"div"),Qt(2,Sq,4,2,"span",35),P()()),2&e){const t=Ie(3);he(2),Pe("ngForOf",t.pending_task["task description"].method_link)}}function Aq(e,n){if(1&e&&et(0,"task-form",37),2&e){const t=Ie(3);Pe("editMode",!1)("task",t.pending_task)}}function Mq(e,n){if(1&e&&(B(0,"div",28)(1,"div",29)(2,"div",16)(3,"div",30)(4,"strong"),De(5,"Name"),P()(),B(6,"div",31),De(7),P()(),B(8,"div",16)(9,"div",30)(10,"strong"),De(11,"Description"),P()(),Qt(12,kq,2,3,"div",32),P(),B(13,"div",16)(14,"div",30)(15,"strong"),De(16,"Method links"),P()(),Qt(17,Eq,3,1,"div",33),P()(),Qt(18,Aq,1,2,"task-form",23),P()),2&e){const t=Ie(2);he(7),Ui(" ",t.pending_task["task description"].name," "),he(5),Pe("ngIf",t.pending_task["task description"].description),he(5),Pe("ngIf","local_models"!==t.pending_task["task description"].method_link[0]),he(),Pe("ngIf",t.pending_task)}}function Oq(e,n){if(1&e){const t=tt();B(0,"div")(1,"div",16)(2,"div",17)(3,"select",24),ln("change",function(){return At(t),St(Ie().getPendingTask())}),Do("ngModelChange",function(r){At(t);const o=Ie();return So(o.pending_task_selected,r)||(o.pending_task_selected=r),St(r)}),Qt(4,xq,2,2,"option",25),P(),Qt(5,Mq,19,4,"div",26),P()()()}if(2&e){const t=Ie();he(3),To("ngModel",t.pending_task_selected),he(),Pe("ngForOf",t.objectKeys(t.pendingTasks.results)),he(),Pe("ngIf",null==t.pending_task?null:t.pending_task.result)}}function Iq(e,n){1&e&&De(0,"No pending Tasks")}function Nq(e,n){1&e&&(B(0,"span"),De(1,"..."),P())}function Rq(e,n){if(1&e&&(B(0,"td"),De(1),Qt(2,Nq,2,0,"span",40),P()),2&e){const t=Ie().$implicit;he(),i4(" ",t.values[0].parameter,",",t.values[0].value,",",t.values[0].unit," "),he(),Pe("ngIf",t.values.length>0)}}function Lq(e,n){if(1&e&&(B(0,"td"),De(1),fa(2,"slice"),P()),2&e){const t=Ie().$implicit;he(),Ui(" ",Vy(2,1,t.values[0],0,20),"... ")}}function Pq(e,n){if(1&e){const t=tt();B(0,"tr",38),ln("click",function(){const r=At(t).$implicit;return St(Ie().selectTask(r.id))}),B(1,"td"),De(2),fa(3,"formatDate"),P(),B(4,"td",39),De(5),P(),B(6,"td"),De(7),P(),B(8,"td"),De(9),fa(10,"slice"),P(),Qt(11,Rq,3,4,"td",8)(12,Lq,3,5,"ng-template",null,1,oh),P()}if(2&e){const t=n.$implicit,i=Ru(13),r=Ie();he(2),rr(ql(3,7,t.date)),he(2),NS("id",t.id),he(),rr(t.label),he(2),rr(t.name),he(2),Ui("",Vy(10,9,t.summary,0,150),"..."),he(2),Pe("ngIf",r.isObject(t.values[0]))("ngIfElse",i)}}function Fq(e,n){1&e&&(et(0,"div",34),fa(1,"autolinkPipe")),2&e&&Pe("innerHTML",ql(1,1,Ie(2).results.resultSelected["task description"].description),mo)}function Bq(e,n){if(1&e&&(B(0,"span")(1,"a",36),De(2),P(),et(3,"br"),P()),2&e){const t=n.$implicit;he(),Pe("href",t,ha),he(),rr(t)}}function Vq(e,n){if(1&e&&(B(0,"div",31)(1,"div"),Qt(2,Bq,4,2,"span",35),P()()),2&e){const t=Ie(2);he(2),Pe("ngForOf",t.results.resultSelected["task description"].method_link)}}function Hq(e,n){1&e&&(B(0,"div",50),De(1," Report "),P())}function jq(e,n){1&e&&(B(0,"div",50),De(1," Values "),P())}function Uq(e,n){if(1&e&&(B(0,"tbody")(1,"tr")(2,"td"),De(3),P(),B(4,"td"),De(5),P(),B(6,"td"),De(7),fa(8,"slice"),P(),B(9,"td"),De(10),P(),B(11,"td"),De(12),P(),B(13,"td"),De(14),P(),B(15,"td"),De(16),P()()()),2&e){const t=n.$implicit,i=Ie(3);he(3),Ui(" ",i.results.resultSelected.result.values[t].method," "),he(2),Ui(" ",i.results.resultSelected.result.values[t].parameter," "),he(2),Ui(" ",Vy(8,7,i.results.resultSelected.result.values[t].value.toString(),0,8)," "),he(3),Ui(" ",i.results.resultSelected.result.values[t].unit," "),he(2),Ui(" ",null==i.results.resultSelected.result||null==i.results.resultSelected.result.uncertainties[t]?null:i.results.resultSelected.result.uncertainties[t].uncertainty," "),he(2),Ui(" ",null==i.results.resultSelected.result||null==i.results.resultSelected.result.uncertainties[t]?null:i.results.resultSelected.result.uncertainties[t].p," "),he(2),Ui(" ",null==i.results.resultSelected.result||null==i.results.resultSelected.result.uncertainties[t]?null:i.results.resultSelected.result.uncertainties[t].term," ")}}function zq(e,n){if(1&e&&(B(0,"table",53)(1,"thead",54)(2,"tr")(3,"th"),De(4,"Method"),P(),B(5,"th"),De(6,"Parameter"),P(),B(7,"th"),De(8,"Value"),P(),B(9,"th"),De(10,"Unit"),P(),B(11,"th"),De(12,"Uncertainty"),P(),B(13,"th"),De(14,"Probability"),P(),B(15,"th"),De(16,"Term"),P()()(),Qt(17,Uq,17,11,"tbody",35),P()),2&e){const t=Ie(2);he(17),Pe("ngForOf",t.objectKeys(t.results.resultSelected.result.values))}}function Yq(e,n){if(1&e&&(B(0,"div",55),De(1),P()),2&e){const t=Ie(2);he(),rr(t.results.resultSelected.result.values[0])}}function $q(e,n){1&e&&et(0,"div",50)}function Wq(e,n){if(1&e&&(B(0,"div",45)(1,"table",53)(2,"thead",54)(3,"th"),De(4,"Uncertainty"),P(),B(5,"th"),De(6,"Probability"),P(),B(7,"th"),De(8,"Term"),P()(),B(9,"tbody")(10,"tr")(11,"td"),De(12),P(),B(13,"td"),De(14),P(),B(15,"td"),De(16),P()()()()()),2&e){const t=Ie(3);he(12),Ui(" ",null==t.results.resultSelected.result||null==t.results.resultSelected.result.uncertainties[0]?null:t.results.resultSelected.result.uncertainties[0].uncertainty," "),he(2),Ui(" ",null==t.results.resultSelected.result||null==t.results.resultSelected.result.uncertainties[0]?null:t.results.resultSelected.result.uncertainties[0].p," "),he(2),Ui(" ",null==t.results.resultSelected.result||null==t.results.resultSelected.result.uncertainties[0]?null:t.results.resultSelected.result.uncertainties[0].term," ")}}function Gq(e,n){if(1&e&&(B(0,"div",43),Qt(1,$q,1,0,"div",44)(2,Wq,17,3,"div",56),P()),2&e){const t=Ie(2);he(),Pe("ngIf","text"!=t.results.resultSelected.result.result_type),he(),Pe("ngIf","text"!=t.results.resultSelected.result.result_type)}}function Xq(e,n){if(1&e&&(B(0,"div",43)(1,"div",50),De(2,"Uncertainty"),P(),B(3,"div",45),De(4),P()()),2&e){const t=Ie(2);he(4),Ui(" ",t.results.resultSelected.result.uncertainty," ")}}function qq(e,n){if(1&e){const t=tt();B(0,"div",59)(1,"button",60),ln("click",function(){const r=At(t).$implicit,o=Ie(3);return St(o.downloadFile(o.results.resultSelected.result.links[r].File))}),De(2),P()()}if(2&e){const t=n.$implicit,i=Ie(3);he(2),Ui(" ",i.results.resultSelected.result.links[t].label," ")}}function Kq(e,n){if(1&e&&(B(0,"div",43)(1,"div",57),De(2," Documentation "),P(),B(3,"div",45),Qt(4,qq,3,1,"div",58),P()()),2&e){const t=Ie(2);he(4),Pe("ngForOf",t.objectKeys(t.results.resultSelected.result.links))}}function Zq(e,n){if(1&e&&(B(0,"div")(1,"div",61),et(2,"img",62),B(3,"div",29)(4,"p",63),De(5),P()()()()),2&e){const t=n.$implicit;he(2),Pe("src",t.link,ha),he(3),rr(t.name)}}function Qq(e,n){if(1&e&&(B(0,"tr")(1,"td",66),De(2),P(),B(3,"td",66),De(4),P(),B(5,"td",65),et(6,"canvas",39),P()()),2&e){const t=n.$implicit,i=Ie(3);he(2),Ui(" ",i.results.resultSelected.result.substance[t].name," "),he(2),Ui(" ",i.results.resultSelected.result.substance[t].CASRN," "),he(2),Pe("id","taskCanvas"+t)}}function Jq(e,n){if(1&e&&(B(0,"div",43)(1,"div",30),De(2,"Substance"),P(),B(3,"div",17)(4,"table",64)(5,"thead",54)(6,"tr")(7,"th",65),De(8,"Name"),P(),B(9,"th",65),De(10,"CASRN"),P(),B(11,"th",65),De(12,"SMILES"),P()()(),B(13,"tbody"),Qt(14,Qq,7,3,"tr",35),P()()()()),2&e){const t=Ie(2);he(14),Pe("ngForOf",t.objectKeys(t.results.resultSelected.result.substance))}}function eK(e,n){if(1&e){const t=tt();B(0,"div",41),et(1,"hr"),B(2,"div",42)(3,"div",16)(4,"div",30)(5,"strong"),De(6,"Date"),P()(),B(7,"div",31),De(8),P()(),B(9,"div",16)(10,"div",30)(11,"strong"),De(12,"Name"),P()(),B(13,"div",31),De(14),P()(),B(15,"div",16)(16,"div",30)(17,"strong"),De(18,"Description"),P()(),Qt(19,Fq,2,3,"div",32),P(),B(20,"div",16)(21,"div",30)(22,"strong"),De(23,"Method links"),P()(),Qt(24,Vq,3,1,"div",33),P()(),B(25,"div",29)(26,"div",43),Qt(27,Hq,2,0,"div",44)(28,jq,2,0,"div",44),B(29,"div",45),Qt(30,zq,18,1,"table",46)(31,Yq,2,1,"div",47),P()(),Qt(32,Gq,3,2,"div",48)(33,Xq,5,1,"div",48)(34,Kq,5,1,"div",48),B(35,"div",49),Qt(36,Zq,6,2,"div",35),P(),B(37,"div",43)(38,"div",50),De(39,"Summary"),P(),B(40,"div",51),De(41),P()(),Qt(42,Jq,15,1,"div",48),B(43,"div",16)(44,"button",52),ln("click",function(){return At(t),St(Ie().editTask())}),De(45," Edit "),P()()()()}if(2&e){const t=Ie();he(8),Ui(" ",t.results.resultSelected.result.date," "),he(6),Ui(" ",t.results.resultSelected["task description"].name," "),he(5),Pe("ngIf",t.results.resultSelected["task description"].description),he(5),Pe("ngIf","local_models"!==t.results.resultSelected["task description"].method_link[0]),he(3),Pe("ngIf","text"===t.results.resultSelected.result.result_type),he(),Pe("ngIf","value"===t.results.resultSelected.result.result_type),he(2),Pe("ngIf",t.isObject(t.results.resultSelected.result.values[0])),he(),Pe("ngIf","text"===t.results.resultSelected.result.result_type),he(),Pe("ngIf","text"===t.results.resultSelected.result.result_type),he(),Pe("ngIf",t.results.resultSelected.result.uncertainty),he(),Pe("ngIf",t.results.resultSelected.result.links),he(2),Pe("ngForOf",t.listImages),he(5),rr(t.results.resultSelected.result.summary),he(),Pe("ngIf",(null==t.results.resultSelected||null==t.results.resultSelected.result||null==t.results.resultSelected.result.substance?null:t.results.resultSelected.result.substance.length)>1)}}function tK(e,n){if(1&e&&et(0,"task-form",37),2&e){const t=Ie();Pe("editMode",!0)("task",t.results.resultSelected)}}let nK=(()=>{class e{constructor(t,i,r,o,l){this.ra=t,this.commonService=i,this.pendingTasks=r,this.results=o,this.global=l,this.loadForm=!1,this.pending_task_selected="",this.objectKeys=Object.keys,this.parameters=[],this.files=[],this.labelFile="",this.documents=[],this.report="",this.listModelsSelected=[],this.loadEditForm=!1,this.listImages=[]}ngOnInit(){this.commonService.generateForms$.subscribe(t=>{this.pendingTasks.results[0]&&(this.pending_task_selected=t||this.pendingTasks.results[0].id,this.getPendingTask())})}isImage(){this.listImages=[],console.log(this.listImages);var t=["jpeg","png","jpg"];this.results.resultSelected.result.links.forEach(i=>{const r=i.File.split(".").pop();t.includes(r)&&this.commonService.getLink(this.ra.name,i.File).subscribe({next:o=>{const l=new Blob([o],{type:"application/octet-stream"}),u=new FileReader;u.readAsDataURL(l),u.onloadend=()=>{this.listImages.push({name:i.label,link:u.result})}},error:o=>console.log(o)})})}editTask(){this.global.editModeTasks=!this.global.editModeTasks}downloadFile(t){t&&this.commonService.getLink(this.ra.name,t).subscribe({next:i=>{const r=new Blob([i],{type:"application/octet-stream"});(0,wD.saveAs)(r,t)},error:i=>console.log(i)})}drawMol(){for(let t=0;t<this.results.resultSelected.substance.length;t++){let i=new vD.Drawer({width:200,height:150});vD.parse(this.results.resultSelected.substance[t].SMILES,function(r){i.draw(r,"taskCanvas"+t,"light",!1)},function(r){console.log(r)})}}selectTask(t){this.commonService.getTask(this.ra.name,t).subscribe(i=>{this.results.resultSelected=i,Array.isArray(this.results.resultSelected.substance)||(this.results.resultSelected.substance=[this.results.resultSelected.substance]),setTimeout(()=>{this.results.resultSelected?.substance.length>1&&this.drawMol(),this.isImage()},300)}),$("#tableCollapseTasks").click(),$("#pastCollapseTasks").click()}showTablePastTasks(){$("#tableCollapseTasks").click()}isObject(t){return"object"==typeof t}getPendingTask(){this.pending_task=!1,this.commonService.getPendingTask(this.ra.name,this.pending_task_selected).subscribe({next:t=>{this.pending_task=t},error:t=>console.log(t)})}static#e=this.\u0275fac=function(i){return new(i||e)(lt(Nd),lt(ah),lt(c_),lt(l_),lt(u_))};static#t=this.\u0275cmp=wr({type:e,selectors:[["app-tasks"]],decls:45,vars:6,consts:[["noTasks",""],["reportTD",""],["id","results-tab","role","tablist",1,"nav","nav-pills"],["role","presentation",1,"nav-item"],["id","pills-pendingtask-tab","data-bs-toggle","pill","data-bs-target","#pills-pendingtask","type","button","role","tab","aria-controls","pills-pendingtask","aria-selected","True",1,"nav-link","active"],["id","pills-pasttasks-tab","data-bs-toggle","pill","data-bs-target","#pills-pasttasks","type","button","role","tab","aria-controls","pills-pasttasks","aria-selected","false",1,"nav-link"],["id","pills-tabContent",1,"tab-content","container-fluid"],["id","pills-pendingtask","role","tabpanel","aria-labelledby","pills-pendingtask-tab",1,"tab-pane","fade","show","active","mt-2"],[4,"ngIf","ngIfElse"],["id","pills-pasttasks","role","tabpanel","aria-labelledby","pills-pasttasks-tab",1,"tab-pane","fade"],["id","accordionTasks",1,"accordion","accordion-flush"],[1,"accordion-item"],["id","flush-headingTwoTasks",1,"accordion-header"],["id","tableCollapseTasks","type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseOneTasks","aria-expanded","false","aria-controls","flush-collapseOneTasks",1,"accordion-button","collapsed"],["id","flush-collapseOneTasks","aria-labelledby","flush-headingOneTasks","data-bs-parent","#accordionTasks",1,"accordion-collapse","collapse","show"],[1,"accordion-body"],[1,"row"],[1,"col"],["id","dtTasks",1,"display","compact"],[3,"click",4,"ngFor","ngForOf"],["id","pastCollapseTasks","type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseTwoTasks","aria-expanded","true","aria-controls","flush-collapseTwoTasks",1,"accordion-button","collapsed",3,"click"],["id","flush-collapseTwoTasks","aria-labelledby","flush-headingTwoTasks","data-bs-parent","#accordionTasks",1,"accordion-collapse","collapse"],["class","mt-2",4,"ngIf"],[3,"editMode","task",4,"ngIf"],["id","selectPendingResult","aria-label","Default select example",1,"form-select",3,"change","ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","container-information mt-2 ml-2",4,"ngIf"],[3,"value"],[1,"container-information","mt-2","ml-2"],[1,"card-body"],[1,"col-2","text"],[1,"col-10"],["class","col-10",3,"innerHTML",4,"ngIf"],["class","col-10",4,"ngIf"],[1,"col-10",3,"innerHTML"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"],[3,"editMode","task"],[3,"click"],[3,"id"],[4,"ngIf"],[1,"mt-2"],[1,"card-body","mb-3"],[1,"row","pt-1","pb-1"],["class","col-2 text border-bottom",4,"ngIf"],[1,"col","border-bottom"],["class","table table-borderless",4,"ngIf"],["class","col formatted-text",4,"ngIf"],["class","row pt-1 pb-1",4,"ngIf"],[1,"d-flex","p-1","justify-content-around"],[1,"col-2","text","border-bottom"],[1,"col","border-bottom","formatted-text"],[1,"btn","btn-ets-edit",3,"click"],[1,"table","table-borderless"],[1,"text"],[1,"col","formatted-text"],["class","col border-bottom",4,"ngIf"],[1,"col-2","text","border-bottom","d-flex","align-items-center"],["class","d-inline mx-1",4,"ngFor","ngForOf"],[1,"d-inline","mx-1"],[1,"btn","btn-outline-success","mt-2","mb-2",3,"click"],[1,"card",2,"width","18rem"],["width","288","height","288","alt","",3,"src"],[1,"card-text","text"],["id","dtSubstancesTasks",1,"table","table-borderless"],[2,"text-align","center"],[2,"vertical-align","middle","text-align","center"]],template:function(i,r){if(1&i){const o=tt();B(0,"ul",2)(1,"li",3)(2,"button",4),De(3," Pending "),P()(),B(4,"li",3)(5,"button",5),De(6," Completed "),P()()(),B(7,"div",6)(8,"div",7),Qt(9,Oq,6,3,"div",8)(10,Iq,1,0,"ng-template",null,0,oh),P(),B(12,"div",9)(13,"div",10)(14,"div",11)(15,"h2",12)(16,"button",13),De(17," Completed Task "),P()(),B(18,"div",14)(19,"div",15)(20,"div",16)(21,"div",17)(22,"table",18)(23,"thead")(24,"tr")(25,"th"),De(26,"Date"),P(),B(27,"th"),De(28,"Label"),P(),B(29,"th"),De(30,"Name"),P(),B(31,"th"),De(32,"Summary"),P(),B(33,"th"),De(34,"Value"),P()()(),B(35,"tbody"),Qt(36,Pq,14,13,"tr",19),P()()()()()()(),B(37,"div",11)(38,"h2",12)(39,"button",20),ln("click",function(){return At(o),St(r.showTablePastTasks())}),De(40),P()(),B(41,"div",21)(42,"div",15),Qt(43,eK,46,14,"div",22)(44,tK,1,2,"task-form",23),P()()()()()()}if(2&i){const o=Ru(11);he(9),Pe("ngIf",r.pendingTasks.results.length>0)("ngIfElse",o),he(27),Pe("ngForOf",r.results.results),he(4),Ui(" ",null==r.results||null==r.results.resultSelected["task description"]?null:r.results.resultSelected["task description"].label," "),he(3),Pe("ngIf",r.results.resultSelected.result&&!r.global.editModeTasks),he(),Pe("ngIf",r.global.editModeTasks)}},dependencies:[ad,Yc,hD,fD,U2,M0,om,Dq,WT,q8,Y5],styles:[".title[_ngcontent-%COMP%]{margin-top:40px;font-size:45px;font-family:Verdana,sans-serif;color:#734e81}.btn-ets-edit[_ngcontent-%COMP%]{background:#f6d268;color:#000;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-edit[_ngcontent-%COMP%]:hover, .btn-ets-edit[_ngcontent-%COMP%]:active, .btn-ets-edit[_ngcontent-%COMP%]:focus, .btn-ets-edit.active[_ngcontent-%COMP%]{background:#f1bf0a;color:#000}.btn-ets-do[_ngcontent-%COMP%]{background:#474286;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-do[_ngcontent-%COMP%]:hover, .btn-ets-do[_ngcontent-%COMP%]:active, .btn-ets-do[_ngcontent-%COMP%]:focus, .btn-ets-do.active[_ngcontent-%COMP%]{background:#734e81;color:#fff}.btn-ets-delete[_ngcontent-%COMP%]{background:#ff1818;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-delete[_ngcontent-%COMP%]:hover, .btn-ets-delete[_ngcontent-%COMP%]:active, .btn-ets-delete[_ngcontent-%COMP%]:focus, .btn-ets-delete.active[_ngcontent-%COMP%]{background:#9a0a0a;color:#fff}.btn-ets-bad[_ngcontent-%COMP%]{background-color:#646363;color:#fff;border-width:0;letter-spacing:.05em;border-radius:0}.btn-ets-bad[_ngcontent-%COMP%]:hover, .btn-ets-bad[_ngcontent-%COMP%]:focus, .btn-ets-bad.active[_ngcontent-%COMP%]{background-color:#9e9d9d;color:#fff}.nav[_ngcontent-%COMP%]{background-color:none!important}.nav-link[_ngcontent-%COMP%]{color:#734e81;font-size:1rem}.nav-link.active[_ngcontent-%COMP%]{background:none!important;color:#734e81;font-weight:700;font-size:1rem;border-bottom:3px solid #935277;border-radius:0}.multiple-value[_ngcontent-%COMP%]{background-color:#f3f3f3!important}#dtTasks[_ngcontent-%COMP%]{padding-top:10px}#dtTasks[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#474286;color:#fff}#dtTasks[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:20%!important}#dtTasks[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:10%!important}#dtTasks[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){width:20%!important}#dtTasks[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(5){width:25%!important}#dtTasks[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top;padding:0 10px!important}#dtSubstancesTasks[_ngcontent-%COMP%]{table-layout:fixed;width:100%}#dtSubstancesTasks[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:30%!important}#dtSubstancesTasks[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:20%!important}#dtSubstancesTasks[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){width:50%!important}hr[_ngcontent-%COMP%]{height:3px;background-color:#935277;border:None}.text[_ngcontent-%COMP%], .container-form[_ngcontent-%COMP%], .modal-title[_ngcontent-%COMP%], #modelsTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#734e81}.accordion-button[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#00000020}.accordion-button[_ngcontent-%COMP%]{background-color:#f8f6f6!important;color:#734e81!important}.accordion-button[_ngcontent-%COMP%]:not(.collapsed){background-color:#f8f6f6!important;color:#734e81!important}li[_ngcontent-%COMP%]{padding-left:2px}.formatted-text[_ngcontent-%COMP%]{white-space:pre-wrap!important}"]})}return e})();const iK=["DocumentFile"];function rK(e,n){1&e&&et(0,"i",43)}function sK(e,n){if(1&e){const t=tt();B(0,"div",19),et(1,"label",8),B(2,"div",17)(3,"div",20)(4,"div",36),et(5,"input",37),P(),B(6,"div",38)(7,"div",39),Qt(8,rK,1,0,"i",40),P()(),B(9,"div",38)(10,"a",41),ln("click",function(){const r=At(t).$implicit,o=Ie(2);return St(o.deleteFile(o.documents[r].label))}),et(11,"i",42),P()()()()()}if(2&e){const t=n.$implicit,i=Ie(2);he(5),Pe("value",i.documents[t].label),he(3),Pe("ngIf",i.documents[t].include)}}function oK(e,n){if(1&e){const t=tt();B(0,"button",44),ln("click",function(){return At(t),St(Ie(2).back())}),De(1," Back "),P()}}function aK(e,n){if(1&e){const t=tt();B(0,"form",6,0),ln("ngSubmit",function(){return At(t),St(Ie().onSubmit())}),B(2,"div",7)(3,"label",8),De(4,"Decision:"),P(),B(5,"div",9)(6,"div",10)(7,"input",11),Do("ngModelChange",function(r){At(t);const o=Ie();return So(o.model.decision,r)||(o.model.decision=r),St(r)}),P(),B(8,"label",12),De(9,"Yes"),P()(),B(10,"div",10)(11,"input",13),Do("ngModelChange",function(r){At(t);const o=Ie();return So(o.model.decision,r)||(o.model.decision=r),St(r)}),P(),B(12,"label",14),De(13,"No"),P()()(),B(14,"div",15)(15,"a",16),ln("click",function(){return At(t),St(Ie().openSupportModal())}),De(16,"support"),P()()(),B(17,"div",7)(18,"label",8),De(19,"Justification*:"),P(),B(20,"div",17)(21,"textarea",18),Do("ngModelChange",function(r){At(t);const o=Ie();return So(o.model.justification,r)||(o.model.justification=r),St(r)}),P()()(),B(22,"div",19)(23,"label",8),De(24,"Documentation:"),P(),B(25,"div",17)(26,"div",20)(27,"div",21)(28,"input",22,1),ln("change",function(r){return At(t),St(Ie().sendlink(r))}),P()(),B(30,"div",23)(31,"div",24)(32,"input",25),Do("ngModelChange",function(r){At(t);const o=Ie();return So(o.includeDoc,r)||(o.includeDoc=r),St(r)}),P()(),B(33,"span",26),De(34,"Include"),P()(),B(35,"div",21)(36,"input",27),Do("ngModelChange",function(r){At(t);const o=Ie();return So(o.labelFile,r)||(o.labelFile=r),St(r)}),P()(),B(37,"div",28)(38,"a",29),ln("click",function(){return At(t),St(Ie().addDocument())}),et(39,"i",30),P()()()()(),Qt(40,sK,12,2,"div",31),B(41,"div",7)(42,"label",8),De(43,"Summary:"),P(),B(44,"div",17)(45,"textarea",32),Do("ngModelChange",function(r){At(t);const o=Ie();return So(o.model.summary,r)||(o.model.summary=r),St(r)}),P()()(),B(46,"div",20)(47,"div",17),Qt(48,oK,2,0,"button",33),P(),B(49,"div",34)(50,"button",35),De(51," Submit "),P()()()()}if(2&e){const t=Ru(1),i=Ie();he(7),Pe("disabled",i.editMode),To("ngModel",i.model.decision),Pe("value",!0),he(4),Pe("disabled",i.editMode),To("ngModel",i.model.decision),Pe("value",!1),he(10),Pe("placeholder",i.pending_task["task description"].justification),To("ngModel",i.model.justification),he(11),Pe("disabled",i.editMode),To("ngModel",i.includeDoc),Pe("value",!0),he(4),To("ngModel",i.labelFile),he(4),Pe("ngForOf",i.objectKeys(i.documents)),he(5),Pe("placeholder",i.pending_task["task description"].summary),To("ngModel",i.model.summary),he(3),Pe("ngIf",i.editMode),he(2),Pe("disabled",t.invalid)}}function lK(e,n){if(1&e&&(B(0,"td"),De(1),P()),2&e){const t=Ie().$implicit,i=Ie(2);he(),Ui(" ",i.upstream_tasks[t].values," ")}}function cK(e,n){if(1&e&&(B(0,"tr")(1,"td"),De(2),P(),B(3,"td"),De(4),P(),B(5,"td"),De(6),P()()),2&e){const t=n.$implicit;he(2),rr(t.parameter),he(2),rr(t.value),he(2),rr(t.unit)}}function uK(e,n){if(1&e&&(B(0,"td")(1,"table",57)(2,"thead")(3,"tr")(4,"th"),De(5,"Parameter"),P(),B(6,"th"),De(7,"Value"),P(),B(8,"th"),De(9,"Unit"),P()()(),B(10,"tbody"),Qt(11,cK,7,3,"tr",53),P()()()),2&e){const t=Ie().$implicit,i=Ie(2);he(11),Pe("ngForOf",i.upstream_tasks[t].values)}}function dK(e,n){if(1&e&&(xt(0),B(1,"td"),De(2),P(),B(3,"td"),De(4),P(),B(5,"td"),De(6),P(),bn()),2&e){const t=n.$implicit;he(2),rr(t.uncertainty),he(2),rr(t.term),he(2),rr(t.p)}}function hK(e,n){if(1&e&&(B(0,"tr")(1,"td"),De(2),P(),Qt(3,lK,2,1,"td",56)(4,uK,12,1,"td",56)(5,dK,7,3,"ng-container",53),P()),2&e){const t=n.$implicit,i=Ie(2);he(2),rr(i.upstream_tasks[t].name),he(),Pe("ngIf",i.isReportOrParameters(i.upstream_tasks[t].values)),he(),Pe("ngIf",!i.isReportOrParameters(i.upstream_tasks[t].values)),he(),Pe("ngForOf",i.upstream_tasks[t].uncertainties)}}function fK(e,n){if(1&e&&(B(0,"div",45)(1,"div",46)(2,"h1",47),De(3),B(4,"span",48),De(5),P()(),et(6,"button",49),P(),B(7,"div",50)(8,"div",20)(9,"table",51)(10,"thead",52)(11,"tr")(12,"th"),De(13,"Upstream task"),P(),B(14,"th"),De(15,"Result"),P(),B(16,"th"),De(17,"Variability / notes"),P(),B(18,"th"),De(19,"Uncertainty(text)"),P(),B(20,"th"),De(21,"Uncertainty(p)"),P()()(),B(22,"tbody"),Qt(23,hK,6,4,"tr",53),P()()()(),B(24,"div",54)(25,"button",55),De(26," Close "),P()()()),2&e){const t=Ie();he(3),Ui(" ",t.pending_task["task description"].name," "),he(2),Ui(" ",t.pending_task["task description"].description," "),he(18),Pe("ngForOf",t.objectKeys(t.upstream_tasks))}}let pK=(()=>{class e{constructor(t,i,r,o,l,u,g){this.commonService=t,this.ra=i,this.updateService=r,this.toastr=o,this.pendingTasks=l,this.func=u,this.global=g,this.documents=[],this.pending_task_selected_id="",this.labelFile="",this.objectKeys=Object.keys,this.popupX=300,this.popupY=450,this.includeDoc=!0,this.isDragging=!1,this.dragOffsetX=0,this.dragOffsetY=0}isReportOrParameters(t){return t.length>0&&"string"==typeof t[0]}ngOnInit(){setTimeout(()=>{this.pending_task=this.task,this.model=this.task.result,this.documents=this.model.links},100)}openSupportModal(){this.commonService.getUpstreamTasks(this.ra.name,this.pending_task.result.id).subscribe({next:t=>{this.upstream_tasks=t,console.log(this.upstream_tasks)},error:t=>{console.log(t)}})}onDrag(t){this.isDragging&&(this.popupX=t.clientX-this.dragOffsetX,this.popupY=t.clientY-this.dragOffsetY)}onDragStart(t){this.isDragging=!0,this.dragOffsetX=t.clientX-this.popupX,this.dragOffsetY=t.clientY-this.popupY}onMouseMove(t){this.isDragging&&(this.popupX=t.clientX-this.dragOffsetX,this.popupY=t.clientY-this.dragOffsetY)}onMouseUp(){this.isDragging=!1}setLabelDocumentName(t){return t.split(".").slice(0,-1).join(".")}sendlink(t){this.model.result_link=t.target.files[0],this.labelFile=this.setLabelDocumentName(t.target.files[0].name)}addDocument(){this.labelFile&&this.model.result_link&&this.updateService.updateLink(this.ra.name,this.model.result_link).subscribe({next:t=>{this.toastr.success("Document "+this.labelFile,"SUCCESSFULLY UPDATED",{timeOut:5e3,positionClass:"toast-top-right"}),this.documents.push({label:this.labelFile,File:this.model.result_link.name,include:this.includeDoc}),this.model.links=this.documents,this.labelFile="",this.model.result_link="",this.DocumentFileInput.nativeElement.value=null},error:t=>{this.toastr.error("Check the console to see more information","Failed uploaded document",{timeOut:5e3,positionClass:"toast-top-right"}),console.log(t)}})}deleteFile(t){this.documents=this.documents.filter(i=>i.label!==t),this.model.links=this.documents}back(){this.global.editModeDecisions=!this.global.editModeDecisions}getPendingTask(){this.commonService.getPendingTask(this.ra.name,this.pending_task_selected_id).subscribe({next:t=>{this.pending_task=t,this.model=this.pending_task.result,this.documents=this.model.links},error:t=>console.log(t)})}onSubmit(){setTimeout(()=>{this.updateService.updateResult(this.ra.name,this.model).subscribe({next:t=>{t.success&&(this.pendingTasks.results=[],this.func.refreshRA(),this.editMode?this.global.editModeDecisions=!1:setTimeout(()=>{this.pendingTasks.results.length&&(this.pending_task_selected_id=this.pendingTasks.results[0].id,this.getPendingTask())},1e3),this.toastr.success("RA "+this.ra.name,"SUCCESSFULLY UPDATED",{timeOut:5e3,positionClass:"toast-top-right"}))},error:t=>{this.toastr.error("Check the console to see more information","Unexpected Error",{timeOut:5e3,positionClass:"toast-top-right"}),console.error(t)}}),this.documents=[]},300)}static#e=this.\u0275fac=function(i){return new(i||e)(lt(ah),lt(Nd),lt(VE),lt(h_),lt(c_),lt(d_),lt(u_))};static#t=this.\u0275cmp=wr({type:e,selectors:[["decisions-form"]],viewQuery:function(i,r){if(1&i&&Xl(iK,5),2&i){let o;eo(o=to())&&(r.DocumentFileInput=o.first)}},hostBindings:function(i,r){1&i&&ln("mousemove",function(l){return r.onMouseMove(l)},0,yv)("mouseup",function(){return r.onMouseUp()},!1,yv)},inputs:{task:"task",editMode:"editMode"},decls:4,vars:6,consts:[["decisionForm","ngForm"],["DocumentFile",""],["id","decisionForm","class","container-form mt-3",3,"ngSubmit",4,"ngIf"],["data-bs-focus","false","show","false","id","exampleModal","tabindex","-1","data-bs-keyboard","false","data-bs-backdrop","false","aria-labelledby","exampleModalLabel","aria-hidden","false",1,"modal","fade",3,"mousedown","mousemove"],[1,"modal-dialog","modal-xl"],["class","modal-content",4,"ngIf"],["id","decisionForm",1,"container-form","mt-3",3,"ngSubmit"],[1,"row","mb-3"],["for","inputPassword3",1,"col-2","col-form-label"],[1,"col-8"],[1,"form-check","form-check-inline"],["type","radio","name","inlineRadioDecisionOptions","id","inlineRadioDecision1",1,"form-check-input",3,"ngModelChange","disabled","ngModel","value"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","inlineRadioDecisionOptions","id","inlineRadioDecision2",1,"form-check-input",3,"ngModelChange","disabled","ngModel","value"],["for","inlineRadio2",1,"form-check-label"],[1,"col-2","d-flex","justify-content-end"],["id","infobutton","data-bs-toggle","modal","data-bs-target","#exampleModal","role","button",1,"btn","ms-auto","btn-ets-do",3,"click"],[1,"col-10"],["required","","name","justification","id","justification","rows","4",1,"form-control",3,"ngModelChange","placeholder","ngModel"],[1,"row","mt-2","mb-3"],[1,"row"],[1,"col-5"],["placeholder","","type","file",1,"form-control",3,"change"],[1,"col-auto","d-flex","flex-column"],[1,"d-flex","flex-row","justify-content-around"],["type","checkbox","name","inlineRadioOptions","id","inlineRadio1",1,"form-check-input",3,"ngModelChange","disabled","ngModel","value"],[1,"text-muted","sm-text"],["type","text","name","labelFile","placeholder","label",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-1","text-end",2,"margin-left","auto !important"],["role","button",1,"addbtn","btn","ms-auto",2,"background","rgb(250,250,250)",3,"click"],[1,"fa-solid","fa-arrow-turn-down","fa-rotate-90","fa-lg"],["class","row mt-2 mb-3",4,"ngFor","ngForOf"],["name","summary","id","summary","rows","4",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","submit","class","btn btn-ets-delete",3,"click",4,"ngIf"],[1,"col","d-flex","justify-content-end"],["type","submit",1,"btn","btn-ets-do","submit-button",3,"disabled"],[1,"col-3"],["type","text","readonly","",1,"form-control-plaintext","text-center",3,"value"],[1,"col-1"],[2,"text-align","center !important",";margin-top","7px"],["style","text-align: center;margin-right: 18px;","class","fa-solid fa-check-to-slot fa-lg",4,"ngIf"],["role","button",1,"btn","ms-auto",3,"click"],[1,"fa-solid","fa-circle-minus","fa-lg",2,"color","#e01b24"],[1,"fa-solid","fa-check-to-slot","fa-lg",2,"text-align","center","margin-right","18px"],["type","submit",1,"btn","btn-ets-delete",3,"click"],[1,"modal-content"],[1,"modal-header"],["id","supportModalLabel",1,"modal-title","fs-2"],[1,"text-muted","fs-4","d-block"],["id","closeBtnModal","type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"table",2,"width","100%"],[1,""],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[4,"ngIf"],[1,"table","table-borderless"]],template:function(i,r){1&i&&(Qt(0,aK,52,17,"form",2),B(1,"div",3),ln("mousedown",function(l){return r.onDragStart(l)})("mousemove",function(l){return r.onDrag(l)}),B(2,"div",4),Qt(3,fK,27,3,"div",5),P()()),2&i&&(Pe("ngIf",r.pending_task),he(),Gh("left",r.popupX,"px")("top",r.popupY,"px"),he(2),Pe("ngIf",r.upstream_tasks))},dependencies:[ad,Yc,dD,i_,xE,F5,M0,sD,z2,om,Zy],styles:[".btn-ets-edit[_ngcontent-%COMP%]{background:#f6d268;color:#000;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-edit[_ngcontent-%COMP%]:hover, .btn-ets-edit[_ngcontent-%COMP%]:active, .btn-ets-edit[_ngcontent-%COMP%]:focus, .btn-ets-edit.active[_ngcontent-%COMP%]{background:#f1bf0a;color:#000}.btn-ets-do[_ngcontent-%COMP%]{background:#474286;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-do[_ngcontent-%COMP%]:hover, .btn-ets-do[_ngcontent-%COMP%]:active, .btn-ets-do[_ngcontent-%COMP%]:focus, .btn-ets-do.active[_ngcontent-%COMP%]{background:#734e81;color:#fff}.btn-ets-delete[_ngcontent-%COMP%]{background:#ff1818;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-delete[_ngcontent-%COMP%]:hover, .btn-ets-delete[_ngcontent-%COMP%]:active, .btn-ets-delete[_ngcontent-%COMP%]:focus, .btn-ets-delete.active[_ngcontent-%COMP%]{background:#9a0a0a;color:#fff}.btn-ets-bad[_ngcontent-%COMP%]{background-color:#646363;color:#fff;border-width:0;letter-spacing:.05em;border-radius:0}.btn-ets-bad[_ngcontent-%COMP%]:hover, .btn-ets-bad[_ngcontent-%COMP%]:focus, .btn-ets-bad.active[_ngcontent-%COMP%]{background-color:#9e9d9d;color:#fff}.container-form[_ngcontent-%COMP%]{color:#734e81}.addbtn[_ngcontent-%COMP%]{color:#935277}.modal-xl[_ngcontent-%COMP%]{--bs-modal-width: 70% !important}.sm-text[_ngcontent-%COMP%]{font-size:13.5px!important}.modal-dialog[_ngcontent-%COMP%]{position:absolute;cursor:move}#suppIDText[_ngcontent-%COMP%]{color:#bc8f8f;font-size:smaller;margin-left:5px!important}#supportModalLabel[_ngcontent-%COMP%], .primary-color[_ngcontent-%COMP%]{color:#474286}.secondary-color[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{color:#734e81}.modal-footer[_ngcontent-%COMP%]{border:none}"]})}return e})();function gK(e,n){if(1&e&&(B(0,"option",28),De(1),P()),2&e){const t=n.$implicit,i=Ie(2);Pe("value",i.pendingTasks.decisions[t].id),he(),Ui(" ",i.pendingTasks.decisions[t].label," ")}}function mK(e,n){1&e&&(et(0,"div",35),fa(1,"autolinkPipe")),2&e&&Pe("innerHTML",ql(1,1,Ie(3).pending_task["task description"].description),mo)}function _K(e,n){if(1&e&&(B(0,"span")(1,"a",37),De(2),P(),et(3,"br"),P()),2&e){const t=n.$implicit;he(),Pe("href",t,ha),he(),rr(t)}}function yK(e,n){if(1&e&&(B(0,"div",32)(1,"div"),Qt(2,_K,4,2,"span",36),P()()),2&e){const t=Ie(3);he(2),Pe("ngForOf",t.pending_task["task description"].method_link)}}function bK(e,n){if(1&e&&et(0,"decisions-form",38),2&e){const t=Ie(3);Pe("editMode",!1)("task",t.pending_task)}}function vK(e,n){if(1&e&&(B(0,"div",29)(1,"div",30)(2,"div",16)(3,"div",31)(4,"strong"),De(5,"Name"),P()(),B(6,"div",32),De(7),P()(),B(8,"div",16)(9,"div",31)(10,"strong"),De(11,"Description"),P()(),Qt(12,mK,2,3,"div",33),P(),B(13,"div",16)(14,"div",31)(15,"strong"),De(16,"Method links"),P()(),Qt(17,yK,3,1,"div",34),P()(),Qt(18,bK,1,2,"decisions-form",24),P()),2&e){const t=Ie(2);he(7),Ui(" ",t.pending_task["task description"].name," "),he(5),Pe("ngIf",t.pending_task["task description"].description),he(5),Pe("ngIf","local_models"!==t.pending_task["task description"].method_link[0]),he(),Pe("ngIf",t.pending_task)}}function wK(e,n){if(1&e){const t=tt();B(0,"div")(1,"div",16)(2,"div",17)(3,"select",25),ln("change",function(){return At(t),St(Ie().getPendingTask())}),Do("ngModelChange",function(r){At(t);const o=Ie();return So(o.pending_task_selected,r)||(o.pending_task_selected=r),St(r)}),Qt(4,gK,2,2,"option",26),P(),Qt(5,vK,19,4,"div",27),P()()()}if(2&e){const t=Ie();he(3),To("ngModel",t.pending_task_selected),he(),Pe("ngForOf",t.objectKeys(t.pendingTasks.decisions)),he(),Pe("ngIf",null==t.pending_task?null:t.pending_task.result)}}function CK(e,n){1&e&&De(0,"No pending decisions")}function TK(e,n){if(1&e){const t=tt();B(0,"tr",39),ln("click",function(){const r=At(t).$implicit;return St(Ie().selectDecision(r.id))}),B(1,"td"),De(2),fa(3,"formatDate"),P(),B(4,"td"),De(5),P(),B(6,"td"),De(7),P(),B(8,"td"),De(9),fa(10,"slice"),P(),B(11,"td"),De(12),P()()}if(2&e){const t=n.$implicit;he(2),rr(ql(3,5,t.date)),he(3),rr(t.label),he(2),rr(t.name),he(2),Ui("",Vy(10,7,t.summary,0,150),"..."),he(3),rr(t.decision?"Yes":"No")}}function DK(e,n){1&e&&(et(0,"div",35),fa(1,"autolinkPipe")),2&e&&Pe("innerHTML",ql(1,1,Ie(2).results.decisionSelected["task description"].description),mo)}function xK(e,n){if(1&e&&(B(0,"span")(1,"a",37),De(2),P(),et(3,"br"),P()),2&e){const t=n.$implicit;he(),Pe("href",t,ha),he(),rr(t)}}function kK(e,n){if(1&e&&(B(0,"div",32)(1,"div"),Qt(2,xK,4,2,"span",36),P()()),2&e){const t=Ie(2);he(2),Pe("ngForOf",t.results.decisionSelected["task description"].method_link)}}function SK(e,n){1&e&&(B(0,"span"),De(1," Yes "),P())}function EK(e,n){1&e&&De(0," No ")}function AK(e,n){if(1&e){const t=tt();B(0,"div",51)(1,"button",52),ln("click",function(){const r=At(t).$implicit,o=Ie(2);return St(o.downloadFile(o.results.decisionSelected.result.links[r].File))}),De(2),P()()}if(2&e){const t=n.$implicit,i=Ie(2);he(2),Ui(" ",i.results.decisionSelected.result.links[t].label," ")}}function MK(e,n){if(1&e&&(B(0,"div")(1,"div",53),et(2,"img",54),B(3,"div",30)(4,"p",55),De(5),P()()()()),2&e){const t=n.$implicit;he(2),Pe("src",t.link,ha),he(3),rr(t.name)}}function OK(e,n){if(1&e&&(B(0,"tr")(1,"td",59),De(2),P(),B(3,"td",59),De(4),P(),B(5,"td",58),et(6,"canvas",60),P()()),2&e){const t=n.$implicit,i=Ie(3);he(2),Ui(" ",i.results.decisionSelected.substance[t].name," "),he(2),Ui(" ",i.results.decisionSelected.substance[t].CASRN," "),he(2),Pe("id","decisionCanvas"+t)}}function IK(e,n){if(1&e&&(B(0,"div",42)(1,"div",31),De(2,"Substance"),P(),B(3,"div",17)(4,"table",56)(5,"thead",57)(6,"tr")(7,"th",58),De(8,"Name"),P(),B(9,"th",58),De(10,"CASRN"),P(),B(11,"th",58),De(12,"SMILES"),P()()(),B(13,"tbody"),Qt(14,OK,7,3,"tr",36),P()()()()),2&e){const t=Ie(2);he(14),Pe("ngForOf",t.objectKeys(t.results.decisionSelected.substance))}}function NK(e,n){if(1&e){const t=tt();B(0,"div",40),et(1,"hr"),B(2,"div",41)(3,"div",16)(4,"div",31)(5,"strong"),De(6,"Date"),P()(),B(7,"div",32),De(8),P()(),B(9,"div",16)(10,"div",31)(11,"strong"),De(12,"Name"),P()(),B(13,"div",32),De(14),P()(),B(15,"div",16)(16,"div",31)(17,"strong"),De(18,"Description"),P()(),Qt(19,DK,2,3,"div",33),P(),B(20,"div",16)(21,"div",31)(22,"strong"),De(23,"Method links"),P()(),Qt(24,kK,3,1,"div",34),P()(),B(25,"div",30)(26,"div",42)(27,"div",43),De(28,"Decision"),P(),B(29,"div",44),Qt(30,SK,2,0,"span",8)(31,EK,1,0,"ng-template",null,1,oh),P()(),B(33,"div",42)(34,"div",45),De(35," Documentation "),P(),B(36,"div",44),Qt(37,AK,3,1,"div",46),P()(),B(38,"div",47),Qt(39,MK,6,2,"div",36),P(),B(40,"div",42)(41,"div",43),De(42,"Summary"),P(),B(43,"div",48),De(44),P()(),B(45,"div",42)(46,"div",43),De(47,"Justification"),P(),B(48,"div",48),De(49),P()(),Qt(50,IK,15,1,"div",49),B(51,"div",16)(52,"button",50),ln("click",function(){return At(t),St(Ie().editDecision())}),De(53," Edit "),P()()()()}if(2&e){const t=Ru(32),i=Ie();he(8),Ui(" ",i.results.decisionSelected["task description"].date," "),he(6),Ui(" ",i.results.decisionSelected["task description"].name," "),he(5),Pe("ngIf",i.pending_task["task description"].description),he(5),Pe("ngIf","local_models"!==i.pending_task["task description"].method_link[0]),he(6),Pe("ngIf",i.results.decisionSelected.result.decision)("ngIfElse",t),he(7),Pe("ngForOf",i.objectKeys(i.results.decisionSelected.result.links)),he(2),Pe("ngForOf",i.listImages),he(5),rr(i.results.decisionSelected.result.summary),he(5),rr(i.results.decisionSelected.result.justification),he(),Pe("ngIf",i.results.decisionSelected.substance)}}function RK(e,n){if(1&e&&et(0,"decisions-form",38),2&e){const t=Ie();Pe("editMode",!0)("task",t.results.decisionSelected)}}let LK=(()=>{class e{constructor(t,i,r,o,l,u,g){this.ra=t,this.commonService=i,this.func=r,this.pendingTasks=o,this.results=l,this.updateService=u,this.global=g,this.loadForm=!1,this.form=new qy({}),this.formEdit=new qy({}),this.pending_task_selected="",this.objectKeys=Object.keys,this.loadEditForm=!1,this.listImages=[],this.optSelect=[{value:!0,label:"Yes"},{value:!1,label:"No"}]}ngOnInit(){this.pendingTasks.decisions[0]&&(this.pending_task_selected=this.pendingTasks.decisions[0].id),this.commonService.generateForms$.subscribe(t=>{this.pendingTasks.decisions[0]&&(this.pending_task_selected=t||this.pendingTasks.decisions[0].id,this.getPendingTask())})}getPendingTask(){this.pending_task=!1,this.commonService.getPendingTask(this.ra.name,this.pending_task_selected).subscribe({next:t=>{this.pending_task=t},error:t=>console.log(t)})}editDecision(){this.global.editModeDecisions=!this.global.editModeDecisions}downloadFile(t){t&&this.commonService.getLink(this.ra.name,t).subscribe({next:i=>{const r=new Blob([i],{type:"application/octet-stream"});(0,wD.saveAs)(r,t)},error:i=>console.log(i)})}isImage(){this.listImages=[];var t=["jpeg","png","jpg"];this.results.decisionSelected.result.links.forEach(i=>{const r=i.File.split(".").pop();t.includes(r)&&this.commonService.getLink(this.ra.name,i.File).subscribe({next:o=>{const l=new Blob([o],{type:"application/octet-stream"}),u=new FileReader;u.readAsDataURL(l),u.onloadend=()=>{this.listImages.push({name:i.label,link:u.result})}},error:o=>console.log(o)}),console.log(this.listImages)})}showTablePastDecisions(){$("#tableCollapse").click()}drawMol(){if(this.results.decisionSelected.substance.length>0)for(let t=0;t<this.results.decisionSelected.substance.length;t++){const i=new vD.Drawer({width:200,height:150}),r="decisionCanvas"+t;vD.parse(this.results.decisionSelected.substance[t].SMILES,function(o){i.draw(o,r,"light",!1)},function(o){console.log(o)})}}selectDecision(t){this.commonService.getTask(this.ra.name,t).subscribe({next:i=>{this.results.decisionSelected=i,this.isImage(),setTimeout(()=>{this.results.decisionSelected?.substance&&this.drawMol(),this.isImage()},300),this.results.decisionSelected.result_link&&this.commonService.getLink(this.ra.name,this.results.decisionSelected.result_link).subscribe({next:r=>{this.link=r},error:r=>console.log(r)})},error:i=>console.log(i)}),$("#tableCollapse").click(),$("#pastCollapse").click()}static#e=this.\u0275fac=function(i){return new(i||e)(lt(Nd),lt(ah),lt(d_),lt(c_),lt(l_),lt(VE),lt(u_))};static#t=this.\u0275cmp=wr({type:e,selectors:[["app-decisions"]],decls:45,vars:6,consts:[["noDecisions",""],["elseBlock",""],["id","results-tab","role","tablist",1,"nav","nav-pills"],["role","presentation",1,"nav-item"],["id","pills-pendingdecisions-tab","data-bs-toggle","pill","data-bs-target","#pills-pendingdecisions","type","button","role","tab","aria-controls","pills-pendingdecisions","aria-selected","True",1,"nav-link","active"],["id","pills-pastdecisions-tab","data-bs-toggle","pill","data-bs-target","#pills-pastdecisions","type","button","role","tab","aria-controls","pills-pastdecisions","aria-selected","false",1,"nav-link"],["id","pills-tabContent",1,"tab-content","container-fluid"],["id","pills-pendingdecisions","role","tabpanel","aria-labelledby","pills-pendingdecisions-tab",1,"tab-pane","fade","show","active","mt-2"],[4,"ngIf","ngIfElse"],["id","pills-pastdecisions","role","tabpanel","aria-labelledby","pills-pastdecisions-tab",1,"tab-pane","fade"],["id","accordionFlushExample",1,"accordion","accordion-flush"],[1,"accordion-item"],["id","flush-headingOne",1,"accordion-header"],["id","tableCollapseDecisions","type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseOneDecisions","aria-expanded","false","aria-controls","flush-collapseOneDecisions",1,"accordion-button","collapsed"],["id","flush-collapseOneDecisions","aria-labelledby","flush-headingOneDecisions","data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse","show"],[1,"accordion-body"],[1,"row"],[1,"col"],["id","dtDecisions",1,"display","compact"],[3,"click",4,"ngFor","ngForOf"],["id","flush-headingTwo",1,"accordion-header"],["id","pastCollapseDecisions","type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseTwoDecisions","aria-expanded","true","aria-controls","flush-collapseTwoDecisions",1,"accordion-button","collapsed",3,"click"],["id","flush-collapseTwoDecisions","aria-labelledby","flush-headingTwoDecisions","data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse"],["class","mt-2",4,"ngIf"],[3,"editMode","task",4,"ngIf"],["id","selectPendingDecision","aria-label","Default select example",1,"form-select",3,"change","ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","container-information mt-2",4,"ngIf"],[3,"value"],[1,"container-information","mt-2"],[1,"card-body"],[1,"col-2","text"],[1,"col-10"],["class","col-10",3,"innerHTML",4,"ngIf"],["class","col-10",4,"ngIf"],[1,"col-10",3,"innerHTML"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"],[3,"editMode","task"],[3,"click"],[1,"mt-2"],[1,"card-body","mb-3"],[1,"row","pt-1","pb-1"],[1,"col-2","text","border-bottom"],[1,"col","border-bottom"],[1,"col-2","text","border-bottom","d-flex","align-items-center"],["class","d-inline mx-1",4,"ngFor","ngForOf"],[1,"d-flex","p-1","justify-content-around"],[1,"col","border-bottom","formatted-text"],["class","row pt-1 pb-1",4,"ngIf"],[1,"btn","btn-ets-edit",3,"click"],[1,"d-inline","mx-1"],[1,"btn","btn-outline-success","mt-2","mb-2",3,"click"],[1,"card",2,"width","18rem"],["width","288","height","288","alt","",3,"src"],[1,"card-text","text"],["id","dtSubstancesDecisions",1,"table","table-borderless"],[1,"text"],[2,"text-align","center"],[2,"vertical-align","middle","text-align","center"],[3,"id"]],template:function(i,r){if(1&i){const o=tt();B(0,"ul",2)(1,"li",3)(2,"button",4),De(3," Pending "),P()(),B(4,"li",3)(5,"button",5),De(6," Completed "),P()()(),B(7,"div",6)(8,"div",7),Qt(9,wK,6,3,"div",8)(10,CK,1,0,"ng-template",null,0,oh),P(),B(12,"div",9)(13,"div",10)(14,"div",11)(15,"h2",12)(16,"button",13),De(17," Completed Task "),P()(),B(18,"div",14)(19,"div",15)(20,"div",16)(21,"div",17)(22,"table",18)(23,"thead")(24,"tr")(25,"th"),De(26,"Date"),P(),B(27,"th"),De(28,"Label"),P(),B(29,"th"),De(30,"Name"),P(),B(31,"th"),De(32,"summary"),P(),B(33,"th"),De(34,"decision"),P()()(),B(35,"tbody"),Qt(36,TK,13,11,"tr",19),P()()()()()()(),B(37,"div",11)(38,"h2",20)(39,"button",21),ln("click",function(){return At(o),St(r.showTablePastDecisions())}),De(40),P()(),B(41,"div",22)(42,"div",15),Qt(43,NK,54,11,"div",23)(44,RK,1,2,"decisions-form",24),P()()()()()()}if(2&i){const o=Ru(11);he(9),Pe("ngIf",r.pendingTasks.decisions.length>0)("ngIfElse",o),he(27),Pe("ngForOf",r.results.decisions),he(4),Ui(" ",null==r.results||null==r.results.decisionSelected["task description"]?null:r.results.decisionSelected["task description"].label," "),he(3),Pe("ngIf",r.results.decisionSelected&&!r.global.editModeDecisions),he(),Pe("ngIf",r.global.editModeDecisions)}},dependencies:[ad,Yc,hD,fD,U2,M0,om,pK,WT,q8,Y5],styles:[".title[_ngcontent-%COMP%]{margin-top:40px;font-size:45px;font-family:Verdana,sans-serif;color:#734e81}.btn-ets-edit[_ngcontent-%COMP%]{background:#f6d268;color:#000;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-edit[_ngcontent-%COMP%]:hover, .btn-ets-edit[_ngcontent-%COMP%]:active, .btn-ets-edit[_ngcontent-%COMP%]:focus, .btn-ets-edit.active[_ngcontent-%COMP%]{background:#f1bf0a;color:#000}.btn-ets-do[_ngcontent-%COMP%]{background:#474286;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-do[_ngcontent-%COMP%]:hover, .btn-ets-do[_ngcontent-%COMP%]:active, .btn-ets-do[_ngcontent-%COMP%]:focus, .btn-ets-do.active[_ngcontent-%COMP%]{background:#734e81;color:#fff}.btn-ets-delete[_ngcontent-%COMP%]{background:#ff1818;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-delete[_ngcontent-%COMP%]:hover, .btn-ets-delete[_ngcontent-%COMP%]:active, .btn-ets-delete[_ngcontent-%COMP%]:focus, .btn-ets-delete.active[_ngcontent-%COMP%]{background:#9a0a0a;color:#fff}.btn-ets-bad[_ngcontent-%COMP%]{background-color:#646363;color:#fff;border-width:0;letter-spacing:.05em;border-radius:0}.btn-ets-bad[_ngcontent-%COMP%]:hover, .btn-ets-bad[_ngcontent-%COMP%]:focus, .btn-ets-bad.active[_ngcontent-%COMP%]{background-color:#9e9d9d;color:#fff}.nav[_ngcontent-%COMP%]{background-color:none!important}.nav-link[_ngcontent-%COMP%]{color:#734e81;font-size:1rem}.nav-link.active[_ngcontent-%COMP%]{background:none!important;color:#734e81;font-weight:700;font-size:1rem;border-bottom:3px solid #935277;border-radius:0}#dtDecisions[_ngcontent-%COMP%]{padding-top:10px}#dtDecisions[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#474286;color:#fff}#dtDecisions[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:20%!important}#dtDecisions[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:10%!important}#dtDecisions[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){width:30%!important}#dtDecisions[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4){width:60%!important}#dtDecisions[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top;text-align:left;padding:0 10px!important}hr[_ngcontent-%COMP%]{height:3px;background-color:#935277;border:None}.text[_ngcontent-%COMP%], .container-form[_ngcontent-%COMP%]{color:#734e81}#dtSubstancesDecisions[_ngcontent-%COMP%]{table-layout:fixed;width:100%}#dtSubstancesDecisions[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:30%!important}#dtSubstancesDecisions[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:20%!important}#dtSubstancesDecisions[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){width:50%!important}.accordion-button[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#00000020}.accordion-button[_ngcontent-%COMP%]{background-color:#f8f6f6!important;color:#734e81!important;border:none!important;border-color:transparent!important}.accordion-button[_ngcontent-%COMP%]:not(.collapsed){background-color:#f8f6f6!important;color:#734e81!important}li[_ngcontent-%COMP%]{padding-left:2px}.formatted-text[_ngcontent-%COMP%]{white-space:pre-wrap!important}"]})}return e})(),PK=(()=>{class e{constructor(t){this.http=t}createRA(t){return this.http.put(xo_baseUrl+"new/"+t,null)}deleteRA(t){return this.http.put(xo_baseUrl+"delete/"+t,null)}deleteStep(t,i){return this.http.put(xo_baseUrl+"delete/"+t+"/"+i,null)}exportRA(t){return this.http.get(xo_baseUrl+"export/"+t,{responseType:"blob"})}importRA(t){const i=new FormData;return i.append("file",t),this.http.post(xo_baseUrl+"import",i)}static#e=this.\u0275fac=function(i){return new(i||e)(di(J1))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$5=(()=>{class e{constructor(t,i){this.document=t,this.platformId=i,this.documentIsAccessible=q1(this.platformId)}static getCookieRegExp(t){const i=t.replace(/([\[\]{}()|=;+?,.*^$])/gi,"\\$1");return new RegExp("(?:^"+i+"|;\\s*"+i+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(t){try{return decodeURIComponent(t)}catch{return t}}check(t){return!!this.documentIsAccessible&&(t=encodeURIComponent(t),e.getCookieRegExp(t).test(this.document.cookie))}get(t){if(this.documentIsAccessible&&this.check(t)){t=encodeURIComponent(t);const r=e.getCookieRegExp(t).exec(this.document.cookie);return r[1]?e.safeDecodeURIComponent(r[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const t={},i=this.document;return i.cookie&&""!==i.cookie&&i.cookie.split(";").forEach(r=>{const[o,l]=r.split("=");t[e.safeDecodeURIComponent(o.replace(/^ /,""))]=e.safeDecodeURIComponent(l)}),t}set(t,i,r,o,l,u,g,v){if(!this.documentIsAccessible)return;if("number"==typeof r||r instanceof Date||o||l||u||g)return void this.set(t,i,{expires:r,path:o,domain:l,secure:u,sameSite:g||"Lax",partitioned:v});let D=encodeURIComponent(t)+"="+encodeURIComponent(i)+";";const L=r||{};L.expires&&(D+="number"==typeof L.expires?"expires="+new Date((new Date).getTime()+1e3*L.expires*60*60*24).toUTCString()+";":"expires="+L.expires.toUTCString()+";"),L.path&&(D+="path="+L.path+";"),L.domain&&(D+="domain="+L.domain+";"),!1===L.secure&&"None"===L.sameSite&&(L.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${t} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),L.secure&&(D+="secure;"),L.sameSite||(L.sameSite="Lax"),D+="sameSite="+L.sameSite+";",L.partitioned&&(D+="Partitioned;"),this.document.cookie=D}delete(t,i,r,o,l="Lax"){this.documentIsAccessible&&this.set(t,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:i,domain:r,secure:o,sameSite:l})}deleteAll(t,i,r,o="Lax"){if(!this.documentIsAccessible)return;const l=this.getAll();for(const u in l)l.hasOwnProperty(u)&&this.delete(u,t,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||e)(di(cc),di(eh))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),FK=(()=>{class e{constructor(t,i,r){this.user=t,this.cookieService=i,this.keycloackService=r}logout(){this.keycloackService.getSessionUser().subscribe({next:t=>{t?(this.user.username=t.username,this.user.id_token=t.id_token,this.user.status=!0):(this.user.username="",this.user.id_token="",this.user.status=!1)},error:t=>{console.log(t)}})}static#e=this.\u0275fac=function(i){return new(i||e)(lt(FE),lt($5),lt(U8))};static#t=this.\u0275cmp=wr({type:e,selectors:[["app-user-info"]],decls:2,vars:0,consts:[["href","/logout",1,"pl-3","btn","btn-ets-do",3,"click"]],template:function(i,r){1&i&&(B(0,"a",0),ln("click",function(){return r.logout()}),De(1,"Logout"),P())},styles:[".btn-ets-edit[_ngcontent-%COMP%]{background:#f6d268;color:#000;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-edit[_ngcontent-%COMP%]:hover, .btn-ets-edit[_ngcontent-%COMP%]:active, .btn-ets-edit[_ngcontent-%COMP%]:focus, .btn-ets-edit.active[_ngcontent-%COMP%]{background:#f1bf0a;color:#000}.btn-ets-do[_ngcontent-%COMP%]{background:#474286;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-do[_ngcontent-%COMP%]:hover, .btn-ets-do[_ngcontent-%COMP%]:active, .btn-ets-do[_ngcontent-%COMP%]:focus, .btn-ets-do.active[_ngcontent-%COMP%]{background:#734e81;color:#fff}.btn-ets-delete[_ngcontent-%COMP%]{background:#ff1818;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-delete[_ngcontent-%COMP%]:hover, .btn-ets-delete[_ngcontent-%COMP%]:active, .btn-ets-delete[_ngcontent-%COMP%]:focus, .btn-ets-delete.active[_ngcontent-%COMP%]{background:#9a0a0a;color:#fff}.btn-ets-bad[_ngcontent-%COMP%]{background-color:#646363;color:#fff;border-width:0;letter-spacing:.05em;border-radius:0}.btn-ets-bad[_ngcontent-%COMP%]:hover, .btn-ets-bad[_ngcontent-%COMP%]:focus, .btn-ets-bad.active[_ngcontent-%COMP%]{background-color:#9e9d9d;color:#fff}"]})}return e})();const BK=["nameRAinput"],VK=["fileInput"];let HK=(()=>{class e{constructor(t,i,r,o,l,u){this.toastr=t,this.global=i,this.ra=r,this.commonService=o,this.func=l,this.manageRA=u,this.newRAname=""}ngAfterViewInit(){}newRA(){this.manageRA.createRA(this.newRAname).subscribe({next:t=>{t.success&&($("#pills-gen-information-tab").click(),this.commonService.getRaList().subscribe(i=>{this.ra.listRA=[...i],this.ra.name=this.newRAname,this.func.refreshRA(),this.nameRAinput.nativeElement.value=""}),setTimeout(()=>{document.getElementById("menubtn").click(),this.global.interfaceVisible=!0},500))},error:t=>{console.log(t),this.toastr.error(t.error,t.statusText,{timeOut:5e3,positionClass:"toast-top-right"})}})}focus(){setTimeout(()=>{this.nameRAinput.nativeElement.focus()},500)}deleteStep(){this.manageRA.deleteStep(this.ra.name,this.ra.status.step).subscribe({next:t=>{t.success&&this.toastr.success("STEP "+this.ra.status.step,"SUCCESSFULLY DELETED",{timeOut:5e3,positionClass:"toast-top-right"}),this.func.refreshRA(),document.getElementById("menubtn").click()},error:t=>console.log(t)})}deleteRA(){this.manageRA.deleteRA(this.ra.name).subscribe(t=>{t.success&&this.toastr.success("RA "+this.ra.name,"SUCCESSFULLY DELETED",{timeOut:5e3,positionClass:"toast-top-right"}),this.commonService.getRaList().subscribe(i=>{this.ra.listRA=[...i],this.ra.listRA.length>0?(this.ra.name=this.ra.listRA[this.ra.listRA.length-1],this.func.refreshRA(),this.global.interfaceVisible=!0):(this.ra.name="",this.global.interfaceVisible=!1),document.getElementById("menubtn").click(),document.getElementById("pills-overview-tab").click()})},t=>{console.log(t)})}exportRA(){this.manageRA.exportRA(this.ra.name).subscribe(t=>{const i=window.URL.createObjectURL(t),r=document.createElement("a");r.href=i,r.download=this.ra.name+".tgz",r.click(),window.URL.revokeObjectURL(i)})}importRA(){document.getElementById("fileinput").click()}handleFile(t){console.log();const i=t.target.files[0],r=i.name.split(".")[0];this.manageRA.importRA(i).subscribe(o=>{o.success&&(this.commonService.getRaList().subscribe({next:l=>{this.ra.listRA=[...l]}}),this.toastr.success("RA '"+r+"' imported","IMPORTED SUCCESFULLY",{timeOut:5e3,positionClass:"toast-top-right"})),this.resetFileInput()},o=>{console.log("Error while importing:"),console.log(o),this.resetFileInput()})}resetFileInput(){this.fileInput&&this.fileInput.nativeElement&&(this.fileInput.nativeElement.value="")}static#e=this.\u0275fac=function(i){return new(i||e)(lt(h_),lt(u_),lt(Nd),lt(ah),lt(d_),lt(PK))};static#t=this.\u0275cmp=wr({type:e,selectors:[["app-manage-ra"]],viewQuery:function(i,r){if(1&i&&(Xl(BK,5),Xl(VK,5)),2&i){let o;eo(o=to())&&(r.nameRAinput=o.first),eo(o=to())&&(r.fileInput=o.first)}},decls:39,vars:5,consts:[["fileInput",""],["nameRAinput",""],["id","navbarToggleExternalContent",1,"collapse"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button","data-bs-toggle","modal","data-bs-target","#newRA",1,"btn","btn-ets-do",3,"click"],["type","button",1,"btn","btn-ets-delete",3,"click","disabled"],["type","button",1,"btn","btn-ets-bad",3,"click"],["type","file","id","fileinput",2,"display","none",3,"change"],["type","button",1,"btn","btn-ets-bad",3,"click","disabled"],[1,"version-text"],["id","newRA","tabindex","-1","role","dialog","aria-labelledby","newModalLabel","aria-hidden","false",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","newModalLabel",1,"modal-title"],["data-bs-dismiss","modal","aria-label","Cancel",1,"btn","btn-danger","btn-sm"],["aria-hidden","true"],[1,"modal-body"],[1,"row","g-3","align-items-center"],[1,"col-auto"],["for","model_name",1,"col-form-label","label_name"],["type","text","placeholder","name",1,"form-control","ml-2",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-nam-bad"],["type","button","data-bs-dismiss","modal",1,"btn","btn-ets-do",3,"click","disabled"]],template:function(i,r){if(1&i){const o=tt();B(0,"div",2)(1,"div",3)(2,"button",4),ln("click",function(){return At(o),St(r.focus())}),De(3," New RA "),P(),B(4,"button",5),ln("click",function(){return At(o),St(r.deleteRA())}),De(5," Delete RA "),P(),B(6,"button",5),ln("click",function(){return At(o),St(r.deleteStep())}),De(7," Delete Step "),P(),B(8,"button",6),ln("click",function(){return At(o),St(r.importRA())}),De(9," Import RA "),P(),B(10,"input",7,0),ln("change",function(u){return At(o),St(r.handleFile(u))}),P(),B(12,"button",8),ln("click",function(){return At(o),St(r.exportRA())}),De(13," Export RA "),P()(),et(14,"app-user-info"),B(15,"span",9),De(16,"v0.3.0"),P()(),B(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13)(21,"h5",14),De(22,"New RA"),P(),B(23,"button",15)(24,"span",16),De(25,"\xd7"),P()()(),B(26,"div",17)(27,"div",18)(28,"div",19)(29,"label",20),De(30,"RA name:"),P()(),B(31,"div",19)(32,"input",21,1),Do("ngModelChange",function(u){return At(o),So(r.newRAname,u)||(r.newRAname=u),St(u)}),P()()()(),B(34,"div",22)(35,"button",23),De(36," Cancel "),P(),B(37,"button",24),ln("click",function(){return At(o),St(r.newRA())}),De(38," Create "),P()()()()()}2&i&&(he(4),Pe("disabled",r.ra.listRA.length<1),he(2),Pe("disabled",r.ra.listRA.length<1||r.ra.status.step<=1),he(6),Pe("disabled",r.ra.listRA.length<1),he(20),To("ngModel",r.newRAname),he(5),Pe("disabled",!r.newRAname))},dependencies:[i_,M0,om,FK],styles:[".btn-ets-edit[_ngcontent-%COMP%]{background:#f6d268;color:#000;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-edit[_ngcontent-%COMP%]:hover, .btn-ets-edit[_ngcontent-%COMP%]:active, .btn-ets-edit[_ngcontent-%COMP%]:focus, .btn-ets-edit.active[_ngcontent-%COMP%]{background:#f1bf0a;color:#000}.btn-ets-do[_ngcontent-%COMP%]{background:#474286;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-do[_ngcontent-%COMP%]:hover, .btn-ets-do[_ngcontent-%COMP%]:active, .btn-ets-do[_ngcontent-%COMP%]:focus, .btn-ets-do.active[_ngcontent-%COMP%]{background:#734e81;color:#fff}.btn-ets-delete[_ngcontent-%COMP%]{background:#ff1818;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-delete[_ngcontent-%COMP%]:hover, .btn-ets-delete[_ngcontent-%COMP%]:active, .btn-ets-delete[_ngcontent-%COMP%]:focus, .btn-ets-delete.active[_ngcontent-%COMP%]{background:#9a0a0a;color:#fff}.btn-ets-bad[_ngcontent-%COMP%]{background-color:#646363;color:#fff;border-width:0;letter-spacing:.05em;border-radius:0}.btn-ets-bad[_ngcontent-%COMP%]:hover, .btn-ets-bad[_ngcontent-%COMP%]:focus, .btn-ets-bad.active[_ngcontent-%COMP%]{background-color:#9e9d9d;color:#fff}.modal-title[_ngcontent-%COMP%], .label_name[_ngcontent-%COMP%]{color:#734e81}.version-text[_ngcontent-%COMP%]{vertical-align:bottom;margin-left:10px;color:gray;line-height:1}"]})}return e})();const jK=["mySplit"];function UK(e,n){if(1&e&&(B(0,"option",9),De(1),P()),2&e){const t=n.$implicit;Pe("value",t),he(),rr(t)}}function zK(e,n){if(1&e){const t=tt();B(0,"div",5)(1,"label",6),De(2,"RA "),P(),B(3,"select",7),ln("change",function(){return At(t),St(Ie().loadRA())}),Do("ngModelChange",function(r){At(t);const o=Ie();return So(o.ra.name,r)||(o.ra.name=r),St(r)}),Qt(4,UK,2,2,"option",8),P()()}if(2&e){const t=Ie();he(3),To("ngModel",t.ra.name),he(),Pe("ngForOf",t.ra.listRA)}}let YK=(()=>{class e{constructor(t,i,r,o,l,u){this.global=t,this.ra=i,this.commonService=r,this.func=o,this.pendingTasks=l,this.results=u,this._size1=0,this._size2=100}loadRA(){this.func.refreshRA()}loadStep(){this.results.resultSelected="",this.results.decisionSelected="",this.commonService.getStatusWithStep(this.ra.name,this.ra.status.step).subscribe({next:t=>this.ra.status=t.ra,error:t=>console.log(t)}),this.commonService.getResultsWithStep(this.ra.name,this.ra.status.step).subscribe({next:t=>{this.ra.results=t,this.func.separatePastTasks()},error:t=>console.log(t)}),this.commonService.getWorkflowByStep(this.ra.name,this.ra.status.step).subscribe({next:t=>{this.ra.workflow=t.result,this.commonService.updateWorkflow()}})}get size1(){return this._size1}set size1(t){this._size1=t}get size2(){return this._size2}set size2(t){this._size2=t}gutterClick(t){1===t.gutterNum&&(0==t.sizes[0]?(this.size1=30,this.size2=70):(this.size2=100,this.size1=0))}static#e=this.\u0275fac=function(i){return new(i||e)(lt(u_),lt(Nd),lt(ah),lt(d_),lt(c_),lt(l_))};static#t=this.\u0275cmp=wr({type:e,selectors:[["app-select-ra"]],viewQuery:function(i,r){if(1&i&&Xl(jK,5),2&i){let o;eo(o=to())&&(r.mySplitEl=o.first)}},decls:6,vars:1,consts:[[1,"mb-2",2,"display","flex"],[1,"d-inline-block"],["id","menubtn","data-bs-toggle","collapse","data-bs-target","#navbarToggleExternalContent","aria-controls","navbarToggleExternalContent","aria-expanded","false","aria-label","Toggle navigation","role","button",1,"btn"],[1,"fa-solid","fa-bars"],["class","form-inline d-inline-block position-relative",4,"ngIf"],[1,"form-inline","d-inline-block","position-relative"],["for","ra1"],["id","ra1","aria-label","Default select example",3,"change","ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,r){1&i&&(et(0,"app-manage-ra"),B(1,"div",0)(2,"div",1)(3,"a",2),et(4,"i",3),P()(),Qt(5,zK,5,2,"div",4),P()),2&i&&(he(5),Pe("ngIf",r.global.interfaceVisible))},dependencies:[ad,Yc,hD,fD,U2,M0,om,HK],styles:[".btn-ets-edit[_ngcontent-%COMP%]{background:#f6d268;color:#000;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-edit[_ngcontent-%COMP%]:hover, .btn-ets-edit[_ngcontent-%COMP%]:active, .btn-ets-edit[_ngcontent-%COMP%]:focus, .btn-ets-edit.active[_ngcontent-%COMP%]{background:#f1bf0a;color:#000}.btn-ets-do[_ngcontent-%COMP%]{background:#474286;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-do[_ngcontent-%COMP%]:hover, .btn-ets-do[_ngcontent-%COMP%]:active, .btn-ets-do[_ngcontent-%COMP%]:focus, .btn-ets-do.active[_ngcontent-%COMP%]{background:#734e81;color:#fff}.btn-ets-delete[_ngcontent-%COMP%]{background:#ff1818;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-delete[_ngcontent-%COMP%]:hover, .btn-ets-delete[_ngcontent-%COMP%]:active, .btn-ets-delete[_ngcontent-%COMP%]:focus, .btn-ets-delete.active[_ngcontent-%COMP%]{background:#9a0a0a;color:#fff}.btn-ets-bad[_ngcontent-%COMP%]{background-color:#646363;color:#fff;border-width:0;letter-spacing:.05em;border-radius:0}.btn-ets-bad[_ngcontent-%COMP%]:hover, .btn-ets-bad[_ngcontent-%COMP%]:focus, .btn-ets-bad.active[_ngcontent-%COMP%]{background-color:#9e9d9d;color:#fff}#menubtn[_ngcontent-%COMP%]{color:#474286}.form-inline[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:5px 10px 5px 0}.form-inline[_ngcontent-%COMP%]   inpselectut[_ngcontent-%COMP%]{vertical-align:middle;margin:5px 10px 5px 0;padding:10px;background-color:#fff;border:1px solid #ddd}select[_ngcontent-%COMP%]{border:.5px solid whitesmoke;background-color:#fff!important;color:#734e81}.btn-nam-good[_ngcontent-%COMP%]{background:#28328a;color:#fff;border-width:0;letter-spacing:.05em;border-radius:0}.btn-nam-good[_ngcontent-%COMP%]:hover, .btn-nam-good[_ngcontent-%COMP%]:focus, .btn-nam-good.active[_ngcontent-%COMP%]{background:#4251de;color:#fff}span[_ngcontent-%COMP%]:hover{background-color:red!important}#offcanvasExample[_ngcontent-%COMP%]{width:150px;height:150px;margin-top:75px;background:transparent!important;border:0px transparent}"]})}return e})(),$K=(()=>{class e{constructor(t,i){this.cookieService=t,this.user=i}ngOnInit(){this.getCookie()}setCookie(){this.cookieService.set("username",this.user.username,{expires:1,path:"/"})}getCookie(){this.user.username=this.cookieService.get("username"),this.user.username&&(this.user.status=!0,alert("Logged with user "+this.user.username))}onSubmit(){this.setCookie(),this.user.status=!0}static#e=this.\u0275fac=function(i){return new(i||e)(lt($5),lt(FE))};static#t=this.\u0275cmp=wr({type:e,selectors:[["app-login"]],decls:4,vars:0,consts:[[1,"container"],[1,"containerLogin"],["href","/login","role","button",1,"btn","btn-ets-do"]],template:function(i,r){1&i&&(B(0,"div",0)(1,"div",1)(2,"a",2),De(3,"Login"),P()()())},styles:[".btn-ets-edit[_ngcontent-%COMP%]{background:#f6d268;color:#000;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-edit[_ngcontent-%COMP%]:hover, .btn-ets-edit[_ngcontent-%COMP%]:active, .btn-ets-edit[_ngcontent-%COMP%]:focus, .btn-ets-edit.active[_ngcontent-%COMP%]{background:#f1bf0a;color:#000}.btn-ets-do[_ngcontent-%COMP%]{background:#474286;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-do[_ngcontent-%COMP%]:hover, .btn-ets-do[_ngcontent-%COMP%]:active, .btn-ets-do[_ngcontent-%COMP%]:focus, .btn-ets-do.active[_ngcontent-%COMP%]{background:#734e81;color:#fff}.btn-ets-delete[_ngcontent-%COMP%]{background:#ff1818;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-delete[_ngcontent-%COMP%]:hover, .btn-ets-delete[_ngcontent-%COMP%]:active, .btn-ets-delete[_ngcontent-%COMP%]:focus, .btn-ets-delete.active[_ngcontent-%COMP%]{background:#9a0a0a;color:#fff}.btn-ets-bad[_ngcontent-%COMP%]{background-color:#646363;color:#fff;border-width:0;letter-spacing:.05em;border-radius:0}.btn-ets-bad[_ngcontent-%COMP%]:hover, .btn-ets-bad[_ngcontent-%COMP%]:focus, .btn-ets-bad.active[_ngcontent-%COMP%]{background-color:#9e9d9d;color:#fff}.container[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:center;align-items:center;height:90vh}.containerLogin[_ngcontent-%COMP%]{padding:60px;border-radius:10px;--primary-color: #474286;border-width:4px;border-style:solid;border-image-source:linear-gradient(to right,var(--primary-color),#de6168);border-image-slice:1;box-shadow:0 2px 7px -1px #636363bf;-webkit-box-shadow:0px 2px 7px -1px rgba(99,99,99,.75);-moz-box-shadow:0px 2px 7px -1px rgba(99,99,99,.75)}"]})}return e})(),WK=(()=>{class e{constructor(t,i){this.ra=t,this.commonService=i}downloadFiles(){this.commonService.attachments(this.ra.name).subscribe(t=>{const i=window.URL.createObjectURL(t),r=document.createElement("a");r.href=i,r.download=this.ra.name+"_repo.tgz",r.click(),window.URL.revokeObjectURL(i)},t=>{console.error("error"),console.log(t)})}downloadExcel(){this.commonService.exportToFile(this.ra.name,"excel").subscribe(t=>{let i=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,wD.saveAs)(i,this.ra.name+".xlsx")},t=>{alert("Error downloading documentation in EXCEL format")})}downloadWord(){this.commonService.exportToFile(this.ra.name,"word").subscribe(t=>{let i=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});(0,wD.saveAs)(i,this.ra.name+".docx")},t=>{alert("Error downloading documentation in WORD format")})}downloadEFSA(){alert("Not implemented")}downloadREACH(){alert("Not implemented")}downloadEMA(){alert("Not implemented")}downloadFile(){this.commonService.exportToFile(this.ra.name,"yaml").subscribe(t=>{let i=new Blob([t],{type:"text/plain;charset=utf-8"});(0,wD.saveAs)(i,this.ra.name+".yaml")},t=>{alert("Error downloading documentation in YAML format")})}static#e=this.\u0275fac=function(i){return new(i||e)(lt(Nd),lt(ah))};static#t=this.\u0275cmp=wr({type:e,selectors:[["app-report"]],decls:48,vars:3,consts:[[1,"container"],[1,"div-style"],[1,"text-white","p-1",2,"padding-left","5px !important"],[1,"container-information","pt-2"],[1,"pl-2"],[1,"badge","number"],[1,"d-flex","p-2","justify-content-between"],[2,"margin-right","10px !important"],["type","button",1,"btn","btn-ets-bad",3,"click"],["role","group","aria-label","group1 ",1,"btn-group","ml-2"],[1,"align-bottom",2,"margin-right","10px !important"],["id","btnGroupDrop1","type","button","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-ets-bad","dropdown-toggle","ml-2"],["aria-labelledby","btnGroupDrop1",1,"dropdown-menu","column"],["type","button","data-toggle","modal",1,"btn-ets-do","dropdown-item","btn","btn-ets-down","ml-2",3,"click"],["role","group","aria-label","group2 ",1,"btn-group","ml-2"],["id","btnGroupDrop2","type","button","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-ets-bad","dropdown-toggle","ml-2"],["aria-labelledby","btnGroupDrop2",1,"dropdown-menu","column"]],template:function(i,r){1&i&&(B(0,"div",0)(1,"div",1)(2,"h5",2),De(3,"RA progress"),P()(),B(4,"div",3)(5,"span",4)(6,"span",5),De(7),P(),De(8,"Tasks completed"),P(),et(9,"br"),B(10,"span",4)(11,"span",5),De(12),P(),De(13,"Steps"),P(),et(14,"br"),B(15,"span",4)(16,"span",5),De(17),P(),De(18,"Notes"),P(),B(19,"div",6)(20,"div")(21,"span",7),De(22,"Download:"),P(),B(23,"button",8),ln("click",function(){return r.downloadFiles()}),De(24,"Attachments"),P()(),B(25,"div")(26,"div",9)(27,"span",10),De(28,"Generate report:"),P(),B(29,"button",11),De(30,"Generic formats"),P(),B(31,"div",12)(32,"button",13),ln("click",function(){return r.downloadExcel()}),De(33,"Excel"),P(),B(34,"button",13),ln("click",function(){return r.downloadWord()}),De(35,"Word"),P(),B(36,"button",13),ln("click",function(){return r.downloadFile()}),De(37,"YAML"),P()()(),B(38,"div",14)(39,"button",15),De(40," Template "),P(),B(41,"div",16)(42,"button",13),ln("click",function(){return r.downloadEFSA()}),De(43,"EFSA"),P(),B(44,"button",13),ln("click",function(){return r.downloadREACH()}),De(45,"REACH"),P(),B(46,"button",13),ln("click",function(){return r.downloadEMA()}),De(47,"EMA"),P()()()()()()()),2&i&&(he(7),Ui("",r.ra.status.tasks_completed," "),he(5),rr(r.ra.status.step),he(5),rr(r.ra.status.notes))},styles:[".btn-ets-edit[_ngcontent-%COMP%]{background:#f6d268;color:#000;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-edit[_ngcontent-%COMP%]:hover, .btn-ets-edit[_ngcontent-%COMP%]:active, .btn-ets-edit[_ngcontent-%COMP%]:focus, .btn-ets-edit.active[_ngcontent-%COMP%]{background:#f1bf0a;color:#000}.btn-ets-do[_ngcontent-%COMP%]{background:#474286;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-do[_ngcontent-%COMP%]:hover, .btn-ets-do[_ngcontent-%COMP%]:active, .btn-ets-do[_ngcontent-%COMP%]:focus, .btn-ets-do.active[_ngcontent-%COMP%]{background:#734e81;color:#fff}.btn-ets-delete[_ngcontent-%COMP%]{background:#ff1818;color:#fff;border-width:0;font-family:Barlow Semi Condensed,Arial,Helvetica;letter-spacing:.05em;border-radius:0}.btn-ets-delete[_ngcontent-%COMP%]:hover, .btn-ets-delete[_ngcontent-%COMP%]:active, .btn-ets-delete[_ngcontent-%COMP%]:focus, .btn-ets-delete.active[_ngcontent-%COMP%]{background:#9a0a0a;color:#fff}.btn-ets-bad[_ngcontent-%COMP%]{background-color:#646363;color:#fff;border-width:0;letter-spacing:.05em;border-radius:0}.btn-ets-bad[_ngcontent-%COMP%]:hover, .btn-ets-bad[_ngcontent-%COMP%]:focus, .btn-ets-bad.active[_ngcontent-%COMP%]{background-color:#9e9d9d;color:#fff}.div-style[_ngcontent-%COMP%]{width:67%;min-height:23px;background:#734e81;border-top-right-radius:2px;border-top-left-radius:2px}.dropdown-menu[_ngcontent-%COMP%]{background:#734e81}.container-information[_ngcontent-%COMP%]{background:#f8f6f6;border-bottom-left-radius:2px;border-bottom-right-radius:2px;width:67%}.number[_ngcontent-%COMP%]{color:#935277;font-weight:700}span[_ngcontent-%COMP%]{font-size:18px}.dropdown-item[_ngcontent-%COMP%]{text-align:center}.dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#734e81}.dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#935277}"]})}return e})();const GK=["mySplit"];function XK(e,n){1&e&&(B(0,"div",13),et(1,"app-login"),P())}function qK(e,n){1&e&&et(0,"app-overview")}function KK(e,n){1&e&&et(0,"app-general-information")}function ZK(e,n){1&e&&et(0,"app-tasks")}function QK(e,n){1&e&&et(0,"app-decisions")}function JK(e,n){if(1&e&&(B(0,"as-split",14)(1,"as-split-area",15)(2,"div",16),et(3,"app-select-ra"),B(4,"div",17),Qt(5,qK,1,0,"app-overview",18),P(),B(6,"div",19),Qt(7,KK,1,0,"app-general-information",18),P(),B(8,"div",20),Qt(9,ZK,1,0,"app-tasks",18),P(),B(10,"div",21),Qt(11,QK,1,0,"app-decisions",18),P(),B(12,"div",22),et(13,"app-notes"),P(),B(14,"div",23),et(15,"app-report"),P()()(),B(16,"as-split-area",15),et(17,"app-workflow"),P()()),2&e){const t=Ie();he(),Pe("size",t.navbarleft),he(4),Pe("ngIf",t.global.interfaceVisible),he(2),Pe("ngIf",t.global.interfaceVisible),he(2),Pe("ngIf",t.global.interfaceVisible),he(2),Pe("ngIf",t.global.interfaceVisible),he(5),Pe("size",t.navbarright)}}let eZ=(()=>{class e{constructor(t,i,r,o,l,u){this.global=t,this.ra=i,this.user=r,this.commonService=o,this.func=l,this.keycloackService=u,this.title="namastox_web",this.navbarleft=60,this.navbarright=40,this._size1=100,this._size2=0}ngOnInit(){this.keycloackService.getSessionUser().subscribe({next:t=>{t&&(this.user.username=t.username,this.user.id_token=t.id_token,this.user.status=!0)},error:t=>{console.log(t)}}),this.commonService.getRaList().subscribe({next:t=>{this.ra.listRA=[...t],this.ra.listRA.length>0&&(this.ra.name=this.ra.listRA[this.ra.listRA.length-1],this.commonService.getGeneralInfo(this.ra.name).subscribe({next:i=>{this.ra.general_information=i,this.func.refreshRA(),setTimeout(()=>{this.global.interfaceVisible=!0},500)},error:i=>{console.log(i)}}))},error:t=>{console.error(t)}})}loadOverviewCanvas(){this.commonService.drawOverviewCanvas(!1)}get size1(){return this._size1}set size1(t){this._size1=t}get size2(){return this._size2}set size2(t){this._size2=t}static#e=this.\u0275fac=function(i){return new(i||e)(lt(u_),lt(Nd),lt(FE),lt(ah),lt(d_),lt(U8))};static#t=this.\u0275cmp=wr({type:e,selectors:[["app-root"]],viewQuery:function(i,r){if(1&i&&Xl(GK,5),2&i){let o;eo(o=to())&&(r.mySplitEl=o.first)}},decls:23,vars:10,consts:[["id","pills-tab","role","tablist",1,"nav","nav-pills","mb-3"],["role","presentation",1,"nav-item"],["id","pills-overview-tab","data-bs-toggle","pill","data-bs-target","#pills-overview","type","button","role","tab","aria-controls","pills-overview","aria-selected","True",1,"nav-link","active",3,"click","disabled"],["id","pills-gen-information-tab","data-bs-toggle","pill","data-bs-target","#pills-gen-information","type","button","role","tab","aria-controls","pills-gen-information","aria-selected","false",1,"nav-link",3,"disabled"],["id","pills-tasks-tab","data-bs-toggle","pill","data-bs-target","#pills-tasks","type","button","role","tab","aria-controls","pills-tasks","aria-selected","false",1,"nav-link",3,"disabled"],["id","pills-decisions-tab","data-bs-toggle","pill","data-bs-target","#pills-decisions","type","button","role","tab","aria-controls","pills-decisions","aria-selected","false",1,"nav-link",3,"disabled"],["id","pills-notes-tab","data-bs-toggle","pill","data-bs-target","#pills-notes","type","button","role","tab","aria-controls","pills-notes","aria-selected","false",1,"nav-link",3,"disabled"],["role","presentation",1,"nav-item",2,"margin-right","auto !important"],["id","pills-report-tab","data-bs-toggle","pill","data-bs-target","#pills-report","type","button","role","tab","aria-controls","pills-report","aria-selected","false",1,"nav-link",3,"disabled"],["alt","",2,"height","44px",3,"src"],["alt","",2,"height","30px","margin-top","8px","margin-right","7px",3,"src"],["class","container",4,"ngIf"],["style","height: 93vh","class","","direction","horizontal",4,"ngIf"],[1,"container"],["direction","horizontal",1,"",2,"height","93vh"],[3,"size"],["id","pills-tabContent",1,"tab-content","container-fluid"],["id","pills-overview","role","tabpanel","aria-labelledby","pills-overview-tab",1,"tab-pane","fade","show","active","mt-2"],[4,"ngIf"],["id","pills-gen-information","role","tabpanel","aria-labelledby","pills-gen-information-tab",1,"tab-pane","fade","mt-2"],["id","pills-tasks","role","tabpanel","aria-labelledby","pills-tasks-tab",1,"tab-pane","fade","mt-2"],["id","pills-decisions","role","tabpanel","aria-labelledby","pills-decisions-tab",1,"tab-pane","fade","mt-2"],["id","pills-notes","role","tabpanel","aria-labelledby","pills-notes-tab",1,"tab-pane","fade","mt-2"],["id","pills-report","role","tabpanel","aria-labelledby","pills-report-tab",1,"tab-pane","fade","mt-2"]],template:function(i,r){1&i&&(B(0,"ul",0)(1,"li",1)(2,"button",2),ln("click",function(){return r.loadOverviewCanvas()}),De(3," Overview "),P()(),B(4,"li",1)(5,"button",3),De(6," General information "),P()(),B(7,"li",1)(8,"button",4),De(9," Tasks "),P()(),B(10,"li",1)(11,"button",5),De(12," Decisions "),P()(),B(13,"li",1)(14,"button",6),De(15," Notes "),P()(),B(16,"li",7)(17,"button",8),De(18," Report "),P()(),et(19,"img",9)(20,"img",10),P(),Qt(21,XK,2,0,"div",11)(22,JK,18,6,"as-split",12)),2&i&&(he(2),Pe("disabled",!r.user.status),he(3),Pe("disabled",!r.user.status),he(3),Pe("disabled",!r.user.status),he(3),Pe("disabled",!r.user.status),he(3),Pe("disabled",!r.user.status),he(3),Pe("disabled",!r.user.status),he(2),Pe("src","../../assets/img/aspis_logo.png",ha),he(),Pe("src","../../assets/img/riskhunterlogowhite.png",ha),he(),Pe("ngIf",!r.user.status),he(),Pe("ngIf",r.user.status))},dependencies:[Yc,j8,XG,sX,LX,BX,jX,nK,LK,YK,$K,WK],styles:[".nav[_ngcontent-%COMP%]{background:linear-gradient(to right,#474286,#de6168)}.nav-link[_ngcontent-%COMP%]{color:#fff;font-size:1rem}.nav-link.active[_ngcontent-%COMP%]{background:none;color:#fff;font-weight:700;font-size:1rem;border-bottom:6px solid #734E81;border-radius:0}.app-base[_ngcontent-%COMP%]{padding-left:0;padding-right:0;overflow-x:hidden}  .as-split-gutter-icon{background-color:#935277}"]})}return e})();function K8(e){return new qt(3e3,!1)}function f_(e){switch(e.length){case 0:return new bD;case 1:return e[0];default:return new $8(e)}}function Z8(e,n,t=new Map,i=new Map){const r=[],o=[];let l=-1,u=null;if(n.forEach(g=>{const v=g.get("offset"),D=v==l,L=D&&u||new Map;g.forEach((ce,ue)=>{let Se=ue,Ve=ce;if("offset"!==ue)switch(Se=e.normalizePropertyName(Se,r),Ve){case"!":Ve=t.get(ue);break;case O0:Ve=i.get(ue);break;default:Ve=e.normalizeStyleValue(ue,Se,Ve,r)}L.set(Se,Ve)}),D||o.push(L),u=L,l=v}),r.length)throw function TZ(e){return new qt(3502,!1)}();return o}function W5(e,n,t,i){switch(n){case"start":e.onStart(()=>i(t&&G5(t,"start",e)));break;case"done":e.onDone(()=>i(t&&G5(t,"done",e)));break;case"destroy":e.onDestroy(()=>i(t&&G5(t,"destroy",e)))}}function G5(e,n,t){const o=X5(e.element,e.triggerName,e.fromState,e.toState,n||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),l=e._data;return null!=l&&(o._data=l),o}function X5(e,n,t,i,r="",o=0,l){return{element:e,triggerName:n,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!l}}function rf(e,n,t){let i=e.get(n);return i||e.set(n,i=t),i}function Q8(e){const n=e.indexOf(":");return[e.substring(1,n),e.slice(n+1)]}const LZ=typeof document>"u"?null:document.documentElement;function q5(e){const n=e.parentNode||e.host||null;return n===LZ?null:n}let Jy=null,J8=!1;function eF(e,n){for(;n;){if(n===e)return!0;n=q5(n)}return!1}function tF(e,n,t){if(t)return Array.from(e.querySelectorAll(n));const i=e.querySelector(n);return i?[i]:[]}let K5=(()=>{class e{validateStyleProperty(t){return function FZ(e){Jy||(Jy=function BZ(){return typeof document<"u"?document.body:null}()||{},J8=!!Jy.style&&"WebkitAppearance"in Jy.style);let n=!0;return Jy.style&&!function PZ(e){return"ebkit"==e.substring(1,6)}(e)&&(n=e in Jy.style,!n&&J8&&(n="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Jy.style)),n}(t)}matchesElement(t,i){return!1}containsElement(t,i){return eF(t,i)}getParentElement(t){return q5(t)}query(t,i,r){return tF(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,l,u=[],g){return new bD(r,o)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac})}return e})();class Z5{static#e=this.NOOP=new K5}class Q5{}const HZ=1e3,J5="ng-enter",HE="ng-leave",jE="ng-trigger",UE=".ng-trigger",iF="ng-animating",eO=".ng-animating";function N0(e){if("number"==typeof e)return e;const n=e.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:tO(parseFloat(n[1]),n[2])}function tO(e,n){return"s"===n?e*HZ:e}function zE(e,n,t){return e.hasOwnProperty("duration")?e:function UZ(e,n,t){let r,o=0,l="";if("string"==typeof e){const u=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return n.push(K8()),{duration:0,delay:0,easing:""};r=tO(parseFloat(u[1]),u[2]);const g=u[3];null!=g&&(o=tO(parseFloat(g),u[4]));const v=u[5];v&&(l=v)}else r=e;if(!t){let u=!1,g=n.length;r<0&&(n.push(function tZ(){return new qt(3100,!1)}()),u=!0),o<0&&(n.push(function nZ(){return new qt(3101,!1)}()),u=!0),u&&n.splice(g,0,K8())}return{duration:r,delay:o,easing:l}}(e,n,t)}function am(e,n,t){n.forEach((i,r)=>{const o=iO(r);t&&!t.has(r)&&t.set(r,e.style[o]),e.style[o]=i})}function eb(e,n){n.forEach((t,i)=>{const r=iO(i);e.style[r]=""})}function CD(e){return Array.isArray(e)?1==e.length?e[0]:function oX(e,n=null){return{type:rs.Sequence,steps:e,options:n}}(e):e}const nO=new RegExp("{{\\s*(.+?)\\s*}}","g");function sF(e){let n=[];if("string"==typeof e){let t;for(;t=nO.exec(e);)n.push(t[1]);nO.lastIndex=0}return n}function TD(e,n,t){const i=`${e}`,r=i.replace(nO,(o,l)=>{let u=n[l];return null==u&&(t.push(function rZ(e){return new qt(3003,!1)}()),u=""),u.toString()});return r==i?e:r}const $Z=/-+([a-z0-9])/g;function iO(e){return e.replace($Z,(...n)=>n[1].toUpperCase())}function sf(e,n,t){switch(n.type){case rs.Trigger:return e.visitTrigger(n,t);case rs.State:return e.visitState(n,t);case rs.Transition:return e.visitTransition(n,t);case rs.Sequence:return e.visitSequence(n,t);case rs.Group:return e.visitGroup(n,t);case rs.Animate:return e.visitAnimate(n,t);case rs.Keyframes:return e.visitKeyframes(n,t);case rs.Style:return e.visitStyle(n,t);case rs.Reference:return e.visitReference(n,t);case rs.AnimateChild:return e.visitAnimateChild(n,t);case rs.AnimateRef:return e.visitAnimateRef(n,t);case rs.Query:return e.visitQuery(n,t);case rs.Stagger:return e.visitStagger(n,t);default:throw function sZ(e){return new qt(3004,!1)}()}}function rO(e,n){return window.getComputedStyle(e)[n]}const XZ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class oF extends Q5{normalizePropertyName(n,t){return iO(n)}normalizeStyleValue(n,t,i,r){let o="";const l=i.toString().trim();if(XZ.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(function oZ(e,n){return new qt(3005,!1)}())}return l+o}}const YE="*";const $E=new Set(["true","1"]),WE=new Set(["false","0"]);function aF(e,n){const t=$E.has(e)||WE.has(e),i=$E.has(n)||WE.has(n);return(r,o)=>{let l=e==YE||e==r,u=n==YE||n==o;return!l&&t&&"boolean"==typeof r&&(l=r?$E.has(e):WE.has(e)),!u&&i&&"boolean"==typeof o&&(u=o?$E.has(n):WE.has(n)),l&&u}}const QZ=new RegExp("s*:selfs*,?","g");function sO(e,n,t,i){return new JZ(e).build(n,t,i)}class JZ{constructor(n){this._driver=n}build(n,t,i){const r=new nQ(t);return this._resetContextStyleTimingState(r),sf(this,CD(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],l=[];return"@"==n.name.charAt(0)&&t.errors.push(function aZ(){return new qt(3006,!1)}()),n.definitions.forEach(u=>{if(this._resetContextStyleTimingState(t),u.type==rs.State){const g=u,v=g.name;v.toString().split(/\s*,\s*/).forEach(D=>{g.name=D,o.push(this.visitState(g,t))}),g.name=v}else if(u.type==rs.Transition){const g=this.visitTransition(u,t);i+=g.queryCount,r+=g.depCount,l.push(g)}else t.errors.push(function lZ(){return new qt(3007,!1)}())}),{type:rs.Trigger,name:n.name,states:o,transitions:l,queryCount:i,depCount:r,options:null}}visitState(n,t){const i=this.visitStyle(n.styles,t),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){const o=new Set,l=r||{};i.styles.forEach(u=>{u instanceof Map&&u.forEach(g=>{sF(g).forEach(v=>{l.hasOwnProperty(v)||o.add(v)})})}),o.size&&t.errors.push(function cZ(e,n){return new qt(3008,!1)}(0,o.values()))}return{type:rs.State,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,t){t.queryCount=0,t.depCount=0;const i=sf(this,CD(n.animation),t),r=function qZ(e,n){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(i=>function KZ(e,n,t){if(":"==e[0]){const g=function ZZ(e,n){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return n.push(function bZ(e){return new qt(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof g)return void n.push(g);e=g}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function yZ(e){return new qt(3015,!1)}()),n;const r=i[1],o=i[2],l=i[3];n.push(aF(r,l)),"<"==o[0]&&(r!=YE||l!=YE)&&n.push(aF(l,r))}(i,t,n)):t.push(e),t}(n.expr,t.errors);return{type:rs.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:tb(n.options)}}visitSequence(n,t){return{type:rs.Sequence,steps:n.steps.map(i=>sf(this,i,t)),options:tb(n.options)}}visitGroup(n,t){const i=t.currentTime;let r=0;const o=n.steps.map(l=>{t.currentTime=i;const u=sf(this,l,t);return r=Math.max(r,t.currentTime),u});return t.currentTime=r,{type:rs.Group,steps:o,options:tb(n.options)}}visitAnimate(n,t){const i=function rQ(e,n){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return oO(zE(e,n).duration,0,"");const t=e;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=oO(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=zE(t,n);return oO(r.duration,r.delay,r.easing)}(n.timings,t.errors);t.currentAnimateTimings=i;let r,o=n.styles?n.styles:I0({});if(o.type==rs.Keyframes)r=this.visitKeyframes(o,t);else{let l=n.styles,u=!1;if(!l){u=!0;const v={};i.easing&&(v.easing=i.easing),l=I0(v)}t.currentTime+=i.duration+i.delay;const g=this.visitStyle(l,t);g.isEmptyStep=u,r=g}return t.currentAnimateTimings=null,{type:rs.Animate,timings:i,style:r,options:null}}visitStyle(n,t){const i=this._makeStyleAst(n,t);return this._validateStyleAst(i,t),i}_makeStyleAst(n,t){const i=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let u of r)"string"==typeof u?u===O0?i.push(u):t.errors.push(new qt(3002,!1)):i.push(new Map(Object.entries(u)));let o=!1,l=null;return i.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(l=u.get("easing"),u.delete("easing")),!o))for(let g of u.values())if(g.toString().indexOf("{{")>=0){o=!0;break}}),{type:rs.Style,styles:i,easing:l,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),n.styles.forEach(l=>{"string"!=typeof l&&l.forEach((u,g)=>{const v=t.collectedStyles.get(t.currentQuerySelector),D=v.get(g);let L=!0;D&&(o!=r&&o>=D.startTime&&r<=D.endTime&&(t.errors.push(function dZ(e,n,t,i,r){return new qt(3010,!1)}()),L=!1),o=D.startTime),L&&v.set(g,{startTime:o,endTime:r}),t.options&&function YZ(e,n,t){const i=n.params||{},r=sF(e);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function iZ(e){return new qt(3001,!1)}())})}(u,t.options,t.errors)})})}visitKeyframes(n,t){const i={type:rs.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function hZ(){return new qt(3011,!1)}()),i;let o=0;const l=[];let u=!1,g=!1,v=0;const D=n.steps.map(dt=>{const yt=this._makeStyleAst(dt,t);let Dn=null!=yt.offset?yt.offset:function iQ(e){if("string"==typeof e)return null;let n=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;n=parseFloat(t.get("offset")),t.delete("offset")}return n}(yt.styles),In=0;return null!=Dn&&(o++,In=yt.offset=Dn),g=g||In<0||In>1,u=u||In<v,v=In,l.push(In),yt});g&&t.errors.push(function fZ(){return new qt(3012,!1)}()),u&&t.errors.push(function pZ(){return new qt(3200,!1)}());const L=n.steps.length;let ce=0;o>0&&o<L?t.errors.push(function gZ(){return new qt(3202,!1)}()):0==o&&(ce=1/(L-1));const ue=L-1,Se=t.currentTime,Ve=t.currentAnimateTimings,at=Ve.duration;return D.forEach((dt,yt)=>{const Dn=ce>0?yt==ue?1:ce*yt:l[yt],In=Dn*at;t.currentTime=Se+Ve.delay+In,Ve.duration=In,this._validateStyleAst(dt,t),dt.offset=Dn,i.styles.push(dt)}),i}visitReference(n,t){return{type:rs.Reference,animation:sf(this,CD(n.animation),t),options:tb(n.options)}}visitAnimateChild(n,t){return t.depCount++,{type:rs.AnimateChild,options:tb(n.options)}}visitAnimateRef(n,t){return{type:rs.AnimateRef,animation:this.visitReference(n.animation,t),options:tb(n.options)}}visitQuery(n,t){const i=t.currentQuerySelector,r=n.options||{};t.queryCount++,t.currentQuery=n;const[o,l]=function eQ(e){const n=!!e.split(/\s*,\s*/).find(t=>":self"==t);return n&&(e=e.replace(QZ,"")),e=e.replace(/@\*/g,UE).replace(/@\w+/g,t=>UE+"-"+t.slice(1)).replace(/:animating/g,eO),[e,n]}(n.selector);t.currentQuerySelector=i.length?i+" "+o:o,rf(t.collectedStyles,t.currentQuerySelector,new Map);const u=sf(this,CD(n.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:rs.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:u,originalSelector:n.selector,options:tb(n.options)}}visitStagger(n,t){t.currentQuery||t.errors.push(function mZ(){return new qt(3013,!1)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:zE(n.timings,t.errors,!0);return{type:rs.Stagger,animation:sf(this,CD(n.animation),t),timings:i,options:null}}}class nQ{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function tb(e){return e?(e={...e}).params&&(e.params=function tQ(e){return e?{...e}:null}(e.params)):e={},e}function oO(e,n,t){return{duration:e,delay:n,easing:t}}function aO(e,n,t,i,r,o,l=null,u=!1){return{type:1,element:e,keyframes:n,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:l,subTimeline:u}}class GE{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,t){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...t)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const aQ=new RegExp(":enter","g"),cQ=new RegExp(":leave","g");function lO(e,n,t,i,r,o=new Map,l=new Map,u,g,v=[]){return(new uQ).buildKeyframes(e,n,t,i,r,o,l,u,g,v)}class uQ{buildKeyframes(n,t,i,r,o,l,u,g,v,D=[]){v=v||new GE;const L=new cO(n,t,v,r,o,D,[]);L.options=g;const ce=g.delay?N0(g.delay):0;L.currentTimeline.delayNextStep(ce),L.currentTimeline.setStyles([l],null,L.errors,g),sf(this,i,L);const ue=L.timelines.filter(Se=>Se.containsAnimation());if(ue.length&&u.size){let Se;for(let Ve=ue.length-1;Ve>=0;Ve--){const at=ue[Ve];if(at.element===t){Se=at;break}}Se&&!Se.allowOnlyTimelineStyles()&&Se.setStyles([u],null,L.errors,g)}return ue.length?ue.map(Se=>Se.buildKeyframes()):[aO(t,[],[],[],0,ce,"",!1)]}visitTrigger(n,t){}visitState(n,t){}visitTransition(n,t){}visitAnimateChild(n,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(n.options),o=t.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);o!=l&&t.transformIntoNewTimeline(l)}t.previousNode=n}visitAnimateRef(n,t){const i=t.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],t,i),this.visitReference(n.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=n}_applyAnimationRefDelays(n,t,i){for(const r of n){const o=r?.delay;if(o){const l="number"==typeof o?o:N0(TD(o,r?.params??{},t.errors));i.delayNextStep(l)}}}_visitSubInstructions(n,t,i){let o=t.currentTimeline.currentTime;const l=null!=i.duration?N0(i.duration):null,u=null!=i.delay?N0(i.delay):null;return 0!==l&&n.forEach(g=>{const v=t.appendInstructionToTimeline(g,l,u);o=Math.max(o,v.duration+v.delay)}),o}visitReference(n,t){t.updateOptions(n.options,!0),sf(this,n.animation,t),t.previousNode=n}visitSequence(n,t){const i=t.subContextCount;let r=t;const o=n.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==rs.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=XE);const l=N0(o.delay);r.delayNextStep(l)}n.steps.length&&(n.steps.forEach(l=>sf(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=n}visitGroup(n,t){const i=[];let r=t.currentTimeline.currentTime;const o=n.options&&n.options.delay?N0(n.options.delay):0;n.steps.forEach(l=>{const u=t.createSubContext(n.options);o&&u.delayNextStep(o),sf(this,l,u),r=Math.max(r,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(r),t.previousNode=n}_visitTiming(n,t){if(n.dynamic){const i=n.strValue;return zE(t.params?TD(i,t.params,t.errors):i,t.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,t){const i=t.currentAnimateTimings=this._visitTiming(n.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=n.style;o.type==rs.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=n}visitStyle(n,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(o):i.setStyles(n.styles,o,t.errors,t.options),t.previousNode=n}visitKeyframes(n,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,u=t.createSubContext().currentTimeline;u.easing=i.easing,n.styles.forEach(g=>{u.forwardTime((g.offset||0)*o),u.setStyles(g.styles,g.easing,t.errors,t.options),u.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(u),t.transformIntoNewTimeline(r+o),t.previousNode=n}visitQuery(n,t){const i=t.currentTimeline.currentTime,r=n.options||{},o=r.delay?N0(r.delay):0;o&&(t.previousNode.type===rs.Style||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=XE);let l=i;const u=t.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=u.length;let g=null;u.forEach((v,D)=>{t.currentQueryIndex=D;const L=t.createSubContext(n.options,v);o&&L.delayNextStep(o),v===t.element&&(g=L.currentTimeline),sf(this,n.animation,L),L.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,L.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=n}visitStagger(n,t){const i=t.parentContext,r=t.currentTimeline,o=n.timings,l=Math.abs(o.duration),u=l*(t.currentQueryTotal-1);let g=l*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":g=u-g;break;case"full":g=i.currentStaggerTime}const D=t.currentTimeline;g&&D.delayNextStep(g);const L=D.currentTime;sf(this,n.animation,t),t.previousNode=n,i.currentStaggerTime=r.currentTime-L+(r.startTime-i.currentTimeline.startTime)}}const XE={};class cO{constructor(n,t,i,r,o,l,u,g){this._driver=n,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=l,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=XE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new qE(this._driver,t,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,t){if(!n)return;const i=n;let r=this.options;null!=i.duration&&(r.duration=N0(i.duration)),null!=i.delay&&(r.delay=N0(i.delay));const o=i.params;if(o){let l=r.params;l||(l=this.options.params={}),Object.keys(o).forEach(u=>{(!t||!l.hasOwnProperty(u))&&(l[u]=TD(o[u],l,this.errors))})}}_copyOptions(){const n={};if(this.options){const t=this.options.params;if(t){const i=n.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return n}createSubContext(n=null,t,i){const r=t||this.element,o=new cO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=XE,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,t,i){const r={duration:t??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},o=new dQ(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,t,i,r,o,l){let u=[];if(r&&u.push(this.element),n.length>0){n=(n=n.replace(aQ,"."+this._enterClassName)).replace(cQ,"."+this._leaveClassName);let v=this._driver.query(this.element,n,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),u.push(...v)}return!o&&0==u.length&&l.push(function _Z(e){return new qt(3014,!1)}()),u}}class qE{constructor(n,t,i,r){this._driver=n,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+n),t&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,t){return this.applyStylesToKeyframe(),new qE(this._driver,n,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,t){this._localTimelineStyles.set(n,t),this._globalTimelineStyles.set(n,t),this._styleSummary.set(n,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||O0),this._currentKeyframe.set(t,O0);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},l=function hQ(e,n){const t=new Map;let i;return e.forEach(r=>{if("*"===r){i??=n.keys();for(let o of i)t.set(o,O0)}else for(let[o,l]of r)t.set(o,l)}),t}(n,this._globalTimelineStyles);for(let[u,g]of l){const v=TD(g,o,i);this._pendingStyles.set(u,v),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??O0),this._updateStyle(u,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,t)=>{this._currentKeyframe.set(t,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,n)}))}snapshotCurrentStyles(){for(let[n,t]of this._localTimelineStyles)this._pendingStyles.set(n,t),this._updateStyle(n,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let t in this._currentKeyframe)n.push(t);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,g)=>{const v=new Map([...this._backFill,...u]);v.forEach((D,L)=>{"!"===D?n.add(L):D===O0&&t.add(L)}),i||v.set("offset",g/this.duration),r.push(v)});const o=[...n.values()],l=[...t.values()];if(i){const u=r[0],g=new Map(u);u.set("offset",0),g.set("offset",1),r=[u,g]}return aO(this.element,r,o,l,this.duration,this.startTime,this.easing,!1)}}class dQ extends qE{constructor(n,t,i,r,o,l,u=!1){super(n,t,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=u,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],l=i+t,u=t/l,g=new Map(n[0]);g.set("offset",0),o.push(g);const v=new Map(n[0]);v.set("offset",uF(u)),o.push(v);const D=n.length-1;for(let L=1;L<=D;L++){let ce=new Map(n[L]);const ue=ce.get("offset");ce.set("offset",uF((t+ue*i)/l)),o.push(ce)}i=l,t=0,r="",n=o}return aO(this.element,n,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function uF(e,n=3){const t=Math.pow(10,n-1);return Math.round(e*t)/t}function dF(e,n,t,i,r,o,l,u,g,v,D,L,ce){return{type:0,element:e,triggerName:n,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:l,timelines:u,queriedElements:g,preStyleProps:v,postStyleProps:D,totalTime:L,errors:ce}}const uO={};class hF{constructor(n,t,i){this._triggerName=n,this.ast=t,this._stateStyles=i}match(n,t,i,r){return function fQ(e,n,t,i,r){return e.some(o=>o(n,t,i,r))}(this.ast.matchers,n,t,i,r)}buildStyles(n,t,i){let r=this._stateStyles.get("*");return void 0!==n&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(t,i):new Map}build(n,t,i,r,o,l,u,g,v,D){const L=[],ce=this.ast.options&&this.ast.options.params||uO,Se=this.buildStyles(i,u&&u.params||uO,L),Ve=g&&g.params||uO,at=this.buildStyles(r,Ve,L),dt=new Set,yt=new Map,Dn=new Map,In="void"===r,oi={params:fF(Ve,ce),delay:this.ast.options?.delay},Ti=D?[]:lO(n,t,this.ast.animation,o,l,Se,at,oi,v,L);let lr=0;return Ti.forEach(Ur=>{lr=Math.max(Ur.duration+Ur.delay,lr)}),L.length?dF(t,this._triggerName,i,r,In,Se,at,[],[],yt,Dn,lr,L):(Ti.forEach(Ur=>{const oa=Ur.element,pa=rf(yt,oa,new Set);Ur.preStyleProps.forEach(Qc=>pa.add(Qc));const Zc=rf(Dn,oa,new Set);Ur.postStyleProps.forEach(Qc=>Zc.add(Qc)),oa!==t&&dt.add(oa)}),dF(t,this._triggerName,i,r,In,Se,at,Ti,[...dt.values()],yt,Dn,lr))}}function fF(e,n){const t={...n};return Object.entries(e).forEach(([i,r])=>{null!=r&&(t[i]=r)}),t}class pQ{constructor(n,t,i){this.styles=n,this.defaultParams=t,this.normalizer=i}buildStyles(n,t){const i=new Map,r=fF(n,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,u)=>{l&&(l=TD(l,r,t));const g=this.normalizer.normalizePropertyName(u,t);l=this.normalizer.normalizeStyleValue(u,g,l,t),i.set(u,l)})}),i}}class mQ{constructor(n,t,i){this.name=n,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new pQ(r.style,r.options&&r.options.params||{},i))}),pF(this.states,"true","1"),pF(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new hF(n,r,this.states))}),this.fallbackTransition=function _Q(e,n,t){return new hF(e,{type:rs.Transition,animation:{type:rs.Sequence,steps:[],options:null},matchers:[(l,u)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,t,i,r){return this.transitionFactories.find(l=>l.match(n,t,i,r))||null}matchStyles(n,t,i){return this.fallbackTransition.buildStyles(n,t,i)}}function pF(e,n,t){e.has(n)?e.has(t)||e.set(t,e.get(n)):e.has(t)&&e.set(n,e.get(t))}const yQ=new GE;class bQ{constructor(n,t,i){this.bodyNode=n,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,t){const i=[],o=sO(this._driver,t,i,[]);if(i.length)throw function DZ(e){return new qt(3503,!1)}();this._animations.set(n,o)}_buildPlayer(n,t,i){const r=n.element,o=Z8(this._normalizer,n.keyframes,t,i);return this._driver.animate(r,o,n.duration,n.delay,n.easing,[],!0)}create(n,t,i={}){const r=[],o=this._animations.get(n);let l;const u=new Map;if(o?(l=lO(this._driver,t,o,J5,HE,new Map,new Map,i,yQ,r),l.forEach(D=>{const L=rf(u,D.element,new Map);D.postStyleProps.forEach(ce=>L.set(ce,null))})):(r.push(function xZ(){return new qt(3300,!1)}()),l=[]),r.length)throw function kZ(e){return new qt(3504,!1)}();u.forEach((D,L)=>{D.forEach((ce,ue)=>{D.set(ue,this._driver.computeStyle(L,ue,O0))})});const v=f_(l.map(D=>{const L=u.get(D.element);return this._buildPlayer(D,new Map,L)}));return this._playersById.set(n,v),v.onDestroy(()=>this.destroy(n)),this.players.push(v),v}destroy(n){const t=this._getPlayer(n);t.destroy(),this._playersById.delete(n);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(n){const t=this._playersById.get(n);if(!t)throw function SZ(e){return new qt(3301,!1)}();return t}listen(n,t,i,r){const o=X5(t,"","","");return W5(this._getPlayer(n),i,o,r),()=>{}}command(n,t,i,r){if("register"==i)return void this.register(n,r[0]);if("create"==i)return void this.create(n,t,r[0]||{});const o=this._getPlayer(n);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n)}}}const gF="ng-animate-queued",dO="ng-animate-disabled",DQ=[],mF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xQ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ug="__ng_removed";class hO{get params(){return this.options.params}constructor(n,t=""){this.namespaceId=t;const i=n&&n.hasOwnProperty("value");if(this.value=function AQ(e){return e??null}(i?n.value:n),i){const{value:o,...l}=n;this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const t=n.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const DD="void",fO=new hO(DD);class kQ{constructor(n,t,i){this.id=n,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Zf(t,this._hostClassName)}listen(n,t,i,r){if(!this._triggers.has(t))throw function EZ(e,n){return new qt(3302,!1)}();if(null==i||0==i.length)throw function AZ(e){return new qt(3303,!1)}();if(!function MQ(e){return"start"==e||"done"==e}(i))throw function MZ(e,n){return new qt(3400,!1)}();const o=rf(this._elementListeners,n,[]),l={name:t,phase:i,callback:r};o.push(l);const u=rf(this._engine.statesByElement,n,new Map);return u.has(t)||(Zf(n,jE),Zf(n,jE+"-"+t),u.set(t,fO)),()=>{this._engine.afterFlush(()=>{const g=o.indexOf(l);g>=0&&o.splice(g,1),this._triggers.has(t)||u.delete(t)})}}register(n,t){return!this._triggers.has(n)&&(this._triggers.set(n,t),!0)}_getTrigger(n){const t=this._triggers.get(n);if(!t)throw function OZ(e){return new qt(3401,!1)}();return t}trigger(n,t,i,r=!0){const o=this._getTrigger(t),l=new pO(this.id,t,n);let u=this._engine.statesByElement.get(n);u||(Zf(n,jE),Zf(n,jE+"-"+t),this._engine.statesByElement.set(n,u=new Map));let g=u.get(t);const v=new hO(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&v.absorbOptions(g.options),u.set(t,v),g||(g=fO),v.value!==DD&&g.value===v.value){if(!function NQ(e,n){const t=Object.keys(e),i=Object.keys(n);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!n.hasOwnProperty(o)||e[o]!==n[o])return!1}return!0}(g.params,v.params)){const Ve=[],at=o.matchStyles(g.value,g.params,Ve),dt=o.matchStyles(v.value,v.params,Ve);Ve.length?this._engine.reportError(Ve):this._engine.afterFlush(()=>{eb(n,at),am(n,dt)})}return}const ce=rf(this._engine.playersByElement,n,[]);ce.forEach(Ve=>{Ve.namespaceId==this.id&&Ve.triggerName==t&&Ve.queued&&Ve.destroy()});let ue=o.matchTransition(g.value,v.value,n,v.params),Se=!1;if(!ue){if(!r)return;ue=o.fallbackTransition,Se=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:ue,fromState:g,toState:v,player:l,isFallbackTransition:Se}),Se||(Zf(n,gF),l.onStart(()=>{$2(n,gF)})),l.onDone(()=>{let Ve=this.players.indexOf(l);Ve>=0&&this.players.splice(Ve,1);const at=this._engine.playersByElement.get(n);if(at){let dt=at.indexOf(l);dt>=0&&at.splice(dt,1)}}),this.players.push(l),ce.push(l),l}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(t=>t.delete(n)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const t=this._engine.playersByElement.get(n);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,t){const i=this._engine.driver.query(n,UE,!0);i.forEach(r=>{if(r[ug])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(l=>l.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,t,i,r){const o=this._engine.statesByElement.get(n),l=new Map;if(o){const u=[];if(o.forEach((g,v)=>{if(l.set(v,g.value),this._triggers.has(v)){const D=this.trigger(n,v,DD,r);D&&u.push(D)}}),u.length)return this._engine.markElementAsRemoved(this.id,n,!0,t,l),i&&f_(u).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const t=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(t&&i){const r=new Set;t.forEach(o=>{const l=o.name;if(r.has(l))return;r.add(l);const g=this._triggers.get(l).fallbackTransition,v=i.get(l)||fO,D=new hO(DD),L=new pO(this.id,l,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:l,transition:g,fromState:v,toState:D,player:L,isFallbackTransition:!0})})}}removeNode(n,t){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,t),this.triggerLeaveAnimation(n,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(n):[];if(o&&o.length)r=!0;else{let l=n;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,t);else{const o=n[ug];(!o||o===mF)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,t))}}insertNode(n,t){Zf(n,this._hostClassName)}drainQueuedTransitions(n){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,l=this._elementListeners.get(o);l&&l.forEach(u=>{if(u.name==i.triggerName){const g=X5(o,i.triggerName,i.fromState.value,i.toState.value);g._data=n,W5(i.player,u.phase,g,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==o||0==l?o-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class SQ{_onRemovalComplete(n,t){this.onRemovalComplete(n,t)}constructor(n,t,i,r){this.bodyNode=n,this.driver=t,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,t){const i=new kQ(n,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,u=this.driver.getParentElement(t);for(;u;){const g=r.get(u);if(g){const v=i.indexOf(g);i.splice(v+1,0,n),l=!0;break}u=this.driver.getParentElement(u)}l||i.unshift(n)}else i.push(n);return r.set(t,n),n}register(n,t){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,t)),i}registerTrigger(n,t,i){let r=this._namespaceLookup[n];r&&r.register(t,i)&&this.totalAnimations++}destroy(n,t){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const t=new Set,i=this.statesByElement.get(n);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(n,t,i,r){if(KE(t)){const o=this._fetchNamespace(n);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(n,t,i,r){if(!KE(t))return;const o=t[ug];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(n){const l=this._fetchNamespace(n);l&&l.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,t){t?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Zf(n,dO)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),$2(n,dO))}removeNode(n,t,i){if(KE(t)){this.scheduler?.notify();const r=n?this._fetchNamespace(n):null;r?r.removeNode(t,i):this.markElementAsRemoved(n,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==n&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(n,t,i,r,o){this.collectedLeaveElements.push(t),t[ug]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,t,i,r,o){return KE(t)?this._fetchNamespace(n).listen(t,i,r,o):()=>{}}_buildInstruction(n,t,i,r,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,t,o)}destroyInnerAnimations(n){let t=this.driver.query(n,UE,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(n,eO,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const t=this.playersByElement.get(n);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const t=this.playersByQueriedElement.get(n);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return f_(this.players).onDone(()=>n());n()})}processLeaveNode(n){const t=n[ug];if(t&&t.setForRemoval){if(n[ug]=mF,t.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,t.setForRemoval)}n.classList?.contains(dO)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Zf(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?f_(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw function IZ(e){return new qt(3402,!1)}()}_flushAnimations(n,t){const i=new GE,r=[],o=new Map,l=[],u=new Map,g=new Map,v=new Map,D=new Set;this.disabledNodes.forEach(Bi=>{D.add(Bi);const dr=this.driver.query(Bi,".ng-animate-queued",!0);for(let zr=0;zr<dr.length;zr++)D.add(dr[zr])});const L=this.bodyNode,ce=Array.from(this.statesByElement.keys()),ue=bF(ce,this.collectedEnterElements),Se=new Map;let Ve=0;ue.forEach((Bi,dr)=>{const zr=J5+Ve++;Se.set(dr,zr),Bi.forEach(Gs=>Zf(Gs,zr))});const at=[],dt=new Set,yt=new Set;for(let Bi=0;Bi<this.collectedLeaveElements.length;Bi++){const dr=this.collectedLeaveElements[Bi],zr=dr[ug];zr&&zr.setForRemoval&&(at.push(dr),dt.add(dr),zr.hasAnimation?this.driver.query(dr,".ng-star-inserted",!0).forEach(Gs=>dt.add(Gs)):yt.add(dr))}const Dn=new Map,In=bF(ce,Array.from(dt));In.forEach((Bi,dr)=>{const zr=HE+Ve++;Dn.set(dr,zr),Bi.forEach(Gs=>Zf(Gs,zr))}),n.push(()=>{ue.forEach((Bi,dr)=>{const zr=Se.get(dr);Bi.forEach(Gs=>$2(Gs,zr))}),In.forEach((Bi,dr)=>{const zr=Dn.get(dr);Bi.forEach(Gs=>$2(Gs,zr))}),at.forEach(Bi=>{this.processLeaveNode(Bi)})});const oi=[],Ti=[];for(let Bi=this._namespaceList.length-1;Bi>=0;Bi--)this._namespaceList[Bi].drainQueuedTransitions(t).forEach(zr=>{const Gs=zr.player,Ol=zr.element;if(oi.push(Gs),this.collectedEnterElements.length){const uc=Ol[ug];if(uc&&uc.setForMove){if(uc.previousTriggersValues&&uc.previousTriggersValues.has(zr.triggerName)){const Ld=uc.previousTriggersValues.get(zr.triggerName),hd=this.statesByElement.get(zr.element);if(hd&&hd.has(zr.triggerName)){const yw=hd.get(zr.triggerName);yw.value=Ld,hd.set(zr.triggerName,yw)}}return void Gs.destroy()}}const uh=!L||!this.driver.containsElement(L,Ol),eu=Dn.get(Ol),hf=Se.get(Ol),Zo=this._buildInstruction(zr,i,hf,eu,uh);if(Zo.errors&&Zo.errors.length)return void Ti.push(Zo);if(uh)return Gs.onStart(()=>eb(Ol,Zo.fromStyles)),Gs.onDestroy(()=>am(Ol,Zo.toStyles)),void r.push(Gs);if(zr.isFallbackTransition)return Gs.onStart(()=>eb(Ol,Zo.fromStyles)),Gs.onDestroy(()=>am(Ol,Zo.toStyles)),void r.push(Gs);const yg=[];Zo.timelines.forEach(uc=>{uc.stretchStartingKeyframe=!0,this.disabledNodes.has(uc.element)||yg.push(uc)}),Zo.timelines=yg,i.append(Ol,Zo.timelines),l.push({instruction:Zo,player:Gs,element:Ol}),Zo.queriedElements.forEach(uc=>rf(u,uc,[]).push(Gs)),Zo.preStyleProps.forEach((uc,Ld)=>{if(uc.size){let hd=g.get(Ld);hd||g.set(Ld,hd=new Set),uc.forEach((yw,Ab)=>hd.add(Ab))}}),Zo.postStyleProps.forEach((uc,Ld)=>{let hd=v.get(Ld);hd||v.set(Ld,hd=new Set),uc.forEach((yw,Ab)=>hd.add(Ab))})});if(Ti.length){const Bi=[];Ti.forEach(dr=>{Bi.push(function NZ(e,n){return new qt(3505,!1)}())}),oi.forEach(dr=>dr.destroy()),this.reportError(Bi)}const lr=new Map,Ur=new Map;l.forEach(Bi=>{const dr=Bi.element;i.has(dr)&&(Ur.set(dr,dr),this._beforeAnimationBuild(Bi.player.namespaceId,Bi.instruction,lr))}),r.forEach(Bi=>{const dr=Bi.element;this._getPreviousPlayers(dr,!1,Bi.namespaceId,Bi.triggerName,null).forEach(Gs=>{rf(lr,dr,[]).push(Gs),Gs.destroy()})});const oa=at.filter(Bi=>wF(Bi,g,v)),pa=new Map;yF(pa,this.driver,yt,v,O0).forEach(Bi=>{wF(Bi,g,v)&&oa.push(Bi)});const Qc=new Map;ue.forEach((Bi,dr)=>{yF(Qc,this.driver,new Set(Bi),g,"!")}),oa.forEach(Bi=>{const dr=pa.get(Bi),zr=Qc.get(Bi);pa.set(Bi,new Map([...dr?.entries()??[],...zr?.entries()??[]]))});const Jc=[],gm=[],mm={};l.forEach(Bi=>{const{element:dr,player:zr,instruction:Gs}=Bi;if(i.has(dr)){if(D.has(dr))return zr.onDestroy(()=>am(dr,Gs.toStyles)),zr.disabled=!0,zr.overrideTotalTime(Gs.totalTime),void r.push(zr);let Ol=mm;if(Ur.size>1){let eu=dr;const hf=[];for(;eu=eu.parentNode;){const Zo=Ur.get(eu);if(Zo){Ol=Zo;break}hf.push(eu)}hf.forEach(Zo=>Ur.set(Zo,Ol))}const uh=this._buildAnimation(zr.namespaceId,Gs,lr,o,Qc,pa);if(zr.setRealPlayer(uh),Ol===mm)Jc.push(zr);else{const eu=this.playersByElement.get(Ol);eu&&eu.length&&(zr.parentPlayer=f_(eu)),r.push(zr)}}else eb(dr,Gs.fromStyles),zr.onDestroy(()=>am(dr,Gs.toStyles)),gm.push(zr),D.has(dr)&&r.push(zr)}),gm.forEach(Bi=>{const dr=o.get(Bi.element);if(dr&&dr.length){const zr=f_(dr);Bi.setRealPlayer(zr)}}),r.forEach(Bi=>{Bi.parentPlayer?Bi.syncPlayerEvents(Bi.parentPlayer):Bi.destroy()});for(let Bi=0;Bi<at.length;Bi++){const dr=at[Bi],zr=dr[ug];if($2(dr,HE),zr&&zr.hasAnimation)continue;let Gs=[];if(u.size){let uh=u.get(dr);uh&&uh.length&&Gs.push(...uh);let eu=this.driver.query(dr,eO,!0);for(let hf=0;hf<eu.length;hf++){let Zo=u.get(eu[hf]);Zo&&Zo.length&&Gs.push(...Zo)}}const Ol=Gs.filter(uh=>!uh.destroyed);Ol.length?OQ(this,dr,Ol):this.processLeaveNode(dr)}return at.length=0,Jc.forEach(Bi=>{this.players.push(Bi),Bi.onDone(()=>{Bi.destroy();const dr=this.players.indexOf(Bi);this.players.splice(dr,1)}),Bi.play()}),Jc}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,t,i,r,o){let l=[];if(t){const u=this.playersByQueriedElement.get(n);u&&(l=u)}else{const u=this.playersByElement.get(n);if(u){const g=!o||o==DD;u.forEach(v=>{v.queued||!g&&v.triggerName!=r||l.push(v)})}}return(i||r)&&(l=l.filter(u=>!(i&&i!=u.namespaceId||r&&r!=u.triggerName))),l}_beforeAnimationBuild(n,t,i){const o=t.element,l=t.isRemovalTransition?void 0:n,u=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const v=g.element,D=v!==o,L=rf(i,v,[]);this._getPreviousPlayers(v,D,l,u,t.toState).forEach(ue=>{const Se=ue.getRealPlayer();Se.beforeDestroy&&Se.beforeDestroy(),ue.destroy(),L.push(ue)})}eb(o,t.fromStyles)}_buildAnimation(n,t,i,r,o,l){const u=t.triggerName,g=t.element,v=[],D=new Set,L=new Set,ce=t.timelines.map(Se=>{const Ve=Se.element;D.add(Ve);const at=Ve[ug];if(at&&at.removedBeforeQueried)return new bD(Se.duration,Se.delay);const dt=Ve!==g,yt=function IQ(e){const n=[];return vF(e,n),n}((i.get(Ve)||DQ).map(lr=>lr.getRealPlayer())).filter(lr=>!!lr.element&&lr.element===Ve),Dn=o.get(Ve),In=l.get(Ve),oi=Z8(this._normalizer,Se.keyframes,Dn,In),Ti=this._buildPlayer(Se,oi,yt);if(Se.subTimeline&&r&&L.add(Ve),dt){const lr=new pO(n,u,Ve);lr.setRealPlayer(Ti),v.push(lr)}return Ti});v.forEach(Se=>{rf(this.playersByQueriedElement,Se.element,[]).push(Se),Se.onDone(()=>function EQ(e,n,t){let i=e.get(n);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&e.delete(n)}return i}(this.playersByQueriedElement,Se.element,Se))}),D.forEach(Se=>Zf(Se,iF));const ue=f_(ce);return ue.onDestroy(()=>{D.forEach(Se=>$2(Se,iF)),am(g,t.toStyles)}),L.forEach(Se=>{rf(r,Se,[]).push(ue)}),ue}_buildPlayer(n,t,i){return t.length>0?this.driver.animate(n.element,t,n.duration,n.delay,n.easing,i):new bD(n.duration,n.delay)}}class pO{constructor(n,t,i){this.namespaceId=n,this.triggerName=t,this.element=i,this._player=new bD,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>W5(n,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const t=this._player;t.triggerCallback&&n.onStart(()=>t.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,t){rf(this._queuedCallbacks,n,[]).push(t)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const t=this._player;t.triggerCallback&&t.triggerCallback(n)}}function KE(e){return e&&1===e.nodeType}function _F(e,n){const t=e.style.display;return e.style.display=n??"none",t}function yF(e,n,t,i,r){const o=[];t.forEach(g=>o.push(_F(g)));const l=[];i.forEach((g,v)=>{const D=new Map;g.forEach(L=>{const ce=n.computeStyle(v,L,r);D.set(L,ce),(!ce||0==ce.length)&&(v[ug]=xQ,l.push(v))}),e.set(v,D)});let u=0;return t.forEach(g=>_F(g,o[u++])),l}function bF(e,n){const t=new Map;if(e.forEach(u=>t.set(u,[])),0==n.length)return t;const r=new Set(n),o=new Map;function l(u){if(!u)return 1;let g=o.get(u);if(g)return g;const v=u.parentNode;return g=t.has(v)?v:r.has(v)?1:l(v),o.set(u,g),g}return n.forEach(u=>{const g=l(u);1!==g&&t.get(g).push(u)}),t}function Zf(e,n){e.classList?.add(n)}function $2(e,n){e.classList?.remove(n)}function OQ(e,n,t){f_(t).onDone(()=>e.processLeaveNode(n))}function vF(e,n){for(let t=0;t<e.length;t++){const i=e[t];i instanceof $8?vF(i.players,n):n.push(i)}}function wF(e,n,t){const i=t.get(e);if(!i)return!1;let r=n.get(e);return r?i.forEach(o=>r.add(o)):n.set(e,i),t.delete(e),!0}class xD{constructor(n,t,i,r){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new SQ(n.body,t,i,r),this._timelineEngine=new bQ(n.body,t,i),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(n,t,i,r,o){const l=n+"-"+r;let u=this._triggerCache[l];if(!u){const g=[],D=sO(this._driver,o,g,[]);if(g.length)throw function CZ(e,n){return new qt(3404,!1)}();u=function gQ(e,n,t){return new mQ(e,n,t)}(r,D,this._normalizer),this._triggerCache[l]=u}this._transitionEngine.registerTrigger(t,r,u)}register(n,t){this._transitionEngine.register(n,t)}destroy(n,t){this._transitionEngine.destroy(n,t)}onInsert(n,t,i,r){this._transitionEngine.insertNode(n,t,i,r)}onRemove(n,t,i){this._transitionEngine.removeNode(n,t,i)}disableAnimations(n,t){this._transitionEngine.markElementAsDisabled(n,t)}process(n,t,i,r){if("@"==i.charAt(0)){const[o,l]=Q8(i);this._timelineEngine.command(o,t,l,r)}else this._transitionEngine.trigger(n,t,i,r)}listen(n,t,i,r,o){if("@"==i.charAt(0)){const[l,u]=Q8(i);return this._timelineEngine.listen(l,t,u,o)}return this._transitionEngine.listen(n,t,i,r,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}class kD{static#e=this.initialStylesByElement=new WeakMap;constructor(n,t,i){this._element=n,this._startStyles=t,this._endStyles=i,this._state=0;let r=kD.initialStylesByElement.get(n);r||kD.initialStylesByElement.set(n,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&am(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(am(this._element,this._initialStyles),this._endStyles&&(am(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(kD.initialStylesByElement.delete(this._element),this._startStyles&&(eb(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(eb(this._element,this._endStyles),this._endStyles=null),am(this._element,this._initialStyles),this._state=3)}}function gO(e){let n=null;return e.forEach((t,i)=>{(function LQ(e){return"display"===e||"position"===e})(i)&&(n=n||new Map,n.set(i,t))}),n}class CF{constructor(n,t,i,r){this.element=n,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const t=[];return n.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(n,t,i){return n.animate(this._convertKeyframesToObject(t),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&n.set(r,this._finished?i:rO(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){const t="start"===n?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class TF{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,t){return!1}containsElement(n,t){return eF(n,t)}getParentElement(n){return q5(n)}query(n,t,i){return tF(n,t,i)}computeStyle(n,t,i){return rO(n,t)}animate(n,t,i,r,o,l=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(g.easing=o);const v=new Map,D=l.filter(ue=>ue instanceof CF);(function WZ(e,n){return 0===e||0===n})(i,r)&&D.forEach(ue=>{ue.currentSnapshot.forEach((Se,Ve)=>v.set(Ve,Se))});let L=function zZ(e){return e.length?e[0]instanceof Map?e:e.map(n=>new Map(Object.entries(n))):[]}(t).map(ue=>new Map(ue));L=function GZ(e,n,t){if(t.size&&n.length){let i=n[0],r=[];if(t.forEach((o,l)=>{i.has(l)||r.push(l),i.set(l,o)}),r.length)for(let o=1;o<n.length;o++){let l=n[o];r.forEach(u=>l.set(u,rO(e,u)))}}return n}(n,L,v);const ce=function RQ(e,n){let t=null,i=null;return Array.isArray(n)&&n.length?(t=gO(n[0]),n.length>1&&(i=gO(n[n.length-1]))):n instanceof Map&&(t=gO(n)),t||i?new kD(e,t,i):null}(n,L);return new CF(n,L,g,ce)}}const DF="@.disabled";class xF{constructor(n,t,i,r){this.namespaceId=n,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,t){this.delegate.appendChild(n,t),this.engine.onInsert(this.namespaceId,t,n,!1)}insertBefore(n,t,i,r=!0){this.delegate.insertBefore(n,t,i),this.engine.onInsert(this.namespaceId,t,n,r)}removeChild(n,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,i,r){this.delegate.setAttribute(n,t,i,r)}removeAttribute(n,t,i){this.delegate.removeAttribute(n,t,i)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,i,r){this.delegate.setStyle(n,t,i,r)}removeStyle(n,t,i){this.delegate.removeStyle(n,t,i)}setProperty(n,t,i){"@"==t.charAt(0)&&t==DF?this.disableAnimations(n,!!i):this.delegate.setProperty(n,t,i)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,i){return this.delegate.listen(n,t,i)}disableAnimations(n,t){this.engine.disableAnimations(n,t)}}class PQ extends xF{constructor(n,t,i,r,o){super(t,i,r,o),this.factory=n,this.namespaceId=t}setProperty(n,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==DF?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,t.slice(1),i):this.delegate.setProperty(n,t,i)}listen(n,t,i){if("@"==t.charAt(0)){const r=function FQ(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(n);let o=t.slice(1),l="";return"@"!=o.charAt(0)&&([o,l]=function BQ(e){const n=e.indexOf(".");return[e.substring(0,n),e.slice(n+1)]}(o)),this.engine.listen(this.namespaceId,r,o,l,u=>{this.factory.scheduleListenerCallback(u._data||-1,i,u)})}return this.delegate.listen(n,t,i)}}class VQ{constructor(n,t,i){this.delegate=n,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{const l=o?.parentNode(r);l&&o.removeChild(l,r)}}createRenderer(n,t){const r=this.delegate.createRenderer(n,t);if(!n||!t?.data?.animation){const v=this._rendererCache;let D=v.get(r);return D||(D=new xF("",r,this.engine,()=>v.delete(r)),v.set(r,D)),D}const o=t.id,l=t.id+"-"+this._currentId;this._currentId++,this.engine.register(l,n);const u=v=>{Array.isArray(v)?v.forEach(u):this.engine.registerTrigger(o,l,n,v.name,v)};return t.data.animation.forEach(u),new PQ(this,l,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,t,i){if(n>=0&&n<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[l,u]=o;l(u)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const kF=[{provide:Q5,useFactory:function jQ(){return new oF}},{provide:xD,useClass:(()=>{class e extends xD{constructor(t,i,r){super(t,i,r,Wt(LC,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||e)(di(cc),di(Z5),di(Q5))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac})}return e})()},{provide:td,useFactory:function UQ(e,n,t){return new VQ(e,n,t)},deps:[Z4,xD,Es]}],mO=[{provide:Z5,useFactory:()=>new TF},{provide:Gw,useValue:"BrowserAnimations"},...kF],SF=[{provide:Z5,useClass:K5},{provide:Gw,useValue:"NoopAnimations"},...kF];let zQ=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?SF:mO}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({providers:mO,imports:[CL]})}return e})();function nb(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Rd(e){return"string"==typeof e}function QE(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function p_(e){return e&&e.getTime&&!isNaN(e.getTime())}function ib(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function rb(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function ml(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function cd(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function sb(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function EF(e){return void 0===e}function _o(e){const n=+e;let t=0;return 0!==n&&isFinite(n)&&(t=nb(n)),t}const SD={},AF={date:"day",hour:"hours",minute:"minutes",second:"seconds",millisecond:"milliseconds"};function ud(e,n){const t=e.toLowerCase();let i=e;t in AF&&(i=AF[t]),SD[t]=SD[`${t}s`]=SD[n]=i}function MF(e){return Rd(e)?SD[e]||SD[e.toLowerCase()]:void 0}const dg=0,R0=1,lm=2,Gc=3,hg=4,L0=5,ob=6,GQ=7,XQ=8;function P0(e,n,t){const i=`${Math.abs(e)}`;return(e>=0?t?"+":"":"-")+Math.pow(10,Math.max(0,n-i.length)).toString().substr(1)+i}const _O={},W2={},OF=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;function _s(e,n,t,i){e&&(W2[e]=i),n&&(W2[n[0]]=function(){return P0(i.apply(null,arguments),n[1],n[2])}),t&&(W2[t]=function(r,o){return o.locale.ordinal(i.apply(null,arguments),e)})}function KQ(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function JE(e,n,t){const i=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(i.getUTCFullYear())&&i.setUTCFullYear(e),i}function eA(e,n=0,t=1,i=0,r=0,o=0,l=0){const u=new Date(e,n,t,i,r,o,l);return e<100&&e>=0&&isFinite(u.getFullYear())&&u.setFullYear(e),u}function yo(e,n=!1){return n?e.getUTCHours():e.getHours()}function G2(e,n=!1){return n?e.getUTCMinutes():e.getMinutes()}function yO(e,n=!1){return n?e.getUTCSeconds():e.getSeconds()}function F0(e,n=!1){return n?e.getUTCMilliseconds():e.getMilliseconds()}function cm(e,n=!1){return n?e.getUTCDay():e.getDay()}function ab(e,n=!1){return n?e.getUTCDate():e.getDate()}function bo(e,n=!1){return n?e.getUTCMonth():e.getMonth()}function Ml(e,n=!1){return n?e.getUTCFullYear():e.getFullYear()}function X2(e,n){return!(!e||!n)&&q2(e,n)&&bo(e)===bo(n)}function q2(e,n){return!(!e||!n)&&Ml(e)===Ml(n)}function g_(e,n){return!(!e||!n)&&q2(e,n)&&X2(e,n)&&ab(e)===ab(n)}const IF=/\d/,af=/\d\d/,NF=/\d{3}/,bO=/\d{4}/,tA=/[+-]?\d{6}/,Ja=/\d\d?/,RF=/\d\d\d\d?/,LF=/\d\d\d\d\d\d?/,nA=/\d{1,3}/,vO=/\d{1,4}/,iA=/[+-]?\d{1,6}/,nJ=/\d+/,rA=/[+-]?\d+/,sA=/Z|[+-]\d\d(?::?\d\d)?/gi,rJ=/[+-]?\d+(\.\d{1,3})?/,ED=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,oA={};function Ir(e,n,t){oA[e]=ib(n)?n:function(i,r){return i&&t?t:n}}function sJ(e,n){return cd(oA,e)?oA[e](!1,n):new RegExp(function oJ(e){return lb(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(n,t,i,r,o)=>t||i||r||o))}(e))}function lb(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}const wO={};function el(e,n){const t=Rd(e)?[e]:e;let i=n;if(rb(n)&&(i=function(r,o,l){return o[n]=_o(r),l}),ml(t)&&ib(i)){let r;for(r=0;r<t.length;r++)wO[t[r]]=i}}function AD(e,n){el(e,function(t,i,r,o){return r._w=r._w||{},n(t,r._w,r,o)})}function aJ(e,n,t){return null!=n&&cd(wO,e)&&wO[e](n,t._a,t,e),t}const lJ={};function dd(e,n){lJ[e]=n}function Ro(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function CO(e,n){return n.locale.getFullYear?n.locale.getFullYear(e,n.isUTC).toString():Ml(e,n.isUTC).toString()}function TO(e){return _o(e)+(_o(e)>68?1900:2e3)}function MD(e){return DO(e)?366:365}function DO(e){return e%4==0&&e%100!=0||e%400==0}function aA(e,n){if(isNaN(e)||isNaN(n))return NaN;const t=function YQ(e,n){return(e%n+n)%n}(n,12);return 1===t?DO(e+(n-t)/12)?29:28:31-t%7%2}const fJ={year:0,month:0,day:0,hour:0,minute:0,seconds:0};function _u(e,n){const t=Object.assign({},fJ,n),i=e.getFullYear()+(t.year||0),r=e.getMonth()+(t.month||0);let o=e.getDate()+(t.day||0);return t.month&&!t.day&&(o=Math.min(o,aA(i,r))),eA(i,r,o,e.getHours()+(t.hour||0),e.getMinutes()+(t.minute||0),e.getSeconds()+(t.seconds||0))}function K2(e,n){return rb(n)?n:e}function cb(e,n,t){const i=Math.min(ab(e),aA(Ml(e),n));return t?e.setUTCMonth(n,i):e.setMonth(n,i),e}function xO(e,n,t){return t?e.setUTCDate(n):e.setDate(n),e}function B0(e){return new Date(e.getTime())}function V0(e,n,t){const i=B0(e);switch(n){case"year":cb(i,0,t);case"quarter":case"month":xO(i,1,t);case"week":case"isoWeek":case"day":case"date":!function mJ(e,n,t){t?e.setUTCHours(n):e.setHours(n)}(i,0,t);case"hours":!function _J(e,n,t){t?e.setUTCMinutes(n):e.setMinutes(n)}(i,0,t);case"minutes":!function yJ(e,n,t){t?e.setUTCSeconds(n):e.setSeconds(n)}(i,0,t);case"seconds":!function bJ(e,n,t){t?e.setUTCMilliseconds(n):e.setMilliseconds(n)}(i,0,t)}return"week"===n&&function Iee(e,n,t={}){hm(e,n-BO(e,t.locale,t.isUTC),"day")}(i,0,{isUTC:t}),"isoWeek"===n&&function Nee(e,n,t={}){const i=function Oee(e,n=Xc()){return Rd(e)?n.weekdaysParse(e)%7||7:rb(e)&&isNaN(e)?null:e}(n,t.locale);LD(e,function Sc(e,n){return cm(e,n)}(e)%7?i:i-7)}(i,1),"quarter"===n&&cb(i,3*Math.floor(bo(i,t)/3),t),i}function lA(e,n,t){let i=n;return"date"===i&&(i="day"),function Eee(e,n,t,i){return c7(e,FO(n,t),-1,i)}(hm(V0(e,i,t),1,"isoWeek"===i?"week":i,t),1,"milliseconds",t)}function kO(e,n){const t=+V0(e,"day",n),i=+V0(e,"year",n);return Math.round((t-i)/864e5)+1}function cA(e,n,t){const i=n-t+7;return-(JE(e,0,i).getUTCDay()-n+7)%7+i-1}function Z2(e,n,t,i){const r=cA(Ml(e,i),n,t),o=Math.floor((kO(e,i)-r-1)/7)+1;let l,u;return o<1?(u=Ml(e,i)-1,l=o+ub(u,n,t)):o>ub(Ml(e,i),n,t)?(l=o-ub(Ml(e,i),n,t),u=Ml(e,i)+1):(u=Ml(e,i),l=o),{week:l,year:u}}function ub(e,n,t){const i=cA(e,n,t),r=cA(e+1,n,t);return(MD(e)-i+r)/7}const FF=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,CJ="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),BF="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),TJ="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),VF="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),DJ="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),HF={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},SJ=ED,EJ=ED;class jF{constructor(n){n&&this.set(n)}set(n){let t;for(t in n){if(!n.hasOwnProperty(t))continue;const i=n[t];this[ib(i)?t:`_${t}`]=i}this._config=n}calendar(n,t,i){const r=this._calendar[n]||this._calendar.sameElse;return ib(r)?r.call(null,t,i):r}longDateFormat(n){const t=this._longDateFormat[n],i=this._longDateFormat[n.toUpperCase()];return t||!i?t:(this._longDateFormat[n]=i.replace(/MMMM|MM|DD|dddd/g,function(r){return r.slice(1)}),this._longDateFormat[n])}get invalidDate(){return this._invalidDate}set invalidDate(n){this._invalidDate=n}ordinal(n,t){return this._ordinal.replace("%d",n.toString(10))}preparse(n,t){return n}getFullYear(n,t=!1){return Ml(n,t)}postformat(n){return n}relativeTime(n,t,i,r){const o=this._relativeTime[i];return ib(o)?o(n,t,i,r):o.replace(/%d/i,n.toString(10))}pastFuture(n,t){const i=this._relativeTime[n>0?"future":"past"];return ib(i)?i(t):i.replace(/%s/i,t)}months(n,t,i=!1){if(!n)return ml(this._months)?this._months:this._months.standalone;if(ml(this._months))return this._months[bo(n,i)];const r=(this._months.isFormat||FF).test(t)?"format":"standalone";return this._months[r][bo(n,i)]}monthsShort(n,t,i=!1){if(!n)return ml(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;if(ml(this._monthsShort))return this._monthsShort[bo(n,i)];const r=FF.test(t)?"format":"standalone";return this._monthsShort[r][bo(n,i)]}monthsParse(n,t,i){let r,o,l;if(this._monthsParseExact)return this.handleMonthStrictParse(n,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),l=0;l<12;l++){if(r=new Date(Date.UTC(2e3,l)),i&&!this._longMonthsParse[l]){const u=this.months(r,"",!0).replace(".",""),g=this.monthsShort(r,"",!0).replace(".","");this._longMonthsParse[l]=new RegExp(`^${u}$`,"i"),this._shortMonthsParse[l]=new RegExp(`^${g}$`,"i")}if(!i&&!this._monthsParse[l]&&(o=`^${this.months(r,"",!0)}|^${this.monthsShort(r,"",!0)}`,this._monthsParse[l]=new RegExp(o.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[l].test(n)||i&&"MMM"===t&&this._shortMonthsParse[l].test(n)||!i&&this._monthsParse[l].test(n))return l}}monthsRegex(n){return this._monthsParseExact?(cd(this,"_monthsRegex")||this.computeMonthsParse(),n?this._monthsStrictRegex:this._monthsRegex):(cd(this,"_monthsRegex")||(this._monthsRegex=EJ),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}monthsShortRegex(n){return this._monthsParseExact?(cd(this,"_monthsRegex")||this.computeMonthsParse(),n?this._monthsShortStrictRegex:this._monthsShortRegex):(cd(this,"_monthsShortRegex")||(this._monthsShortRegex=SJ),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}week(n,t){return Z2(n,this._week.dow,this._week.doy,t).week}firstDayOfWeek(){return this._week.dow}firstDayOfYear(){return this._week.doy}weekdays(n,t,i){if(!n)return ml(this._weekdays)?this._weekdays:this._weekdays.standalone;if(ml(this._weekdays))return this._weekdays[cm(n,i)];const r=this._weekdays.isFormat.test(t)?"format":"standalone";return this._weekdays[r][cm(n,i)]}weekdaysMin(n,t,i){return n?this._weekdaysMin[cm(n,i)]:this._weekdaysMin}weekdaysShort(n,t,i){return n?this._weekdaysShort[cm(n,i)]:this._weekdaysShort}weekdaysParse(n,t,i){let r,o;if(this._weekdaysParseExact)return this.handleWeekStrictParse(n,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){const l=LD(new Date(Date.UTC(2e3,1)),r,null,!0);if(i&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp(`^${this.weekdays(l,"",!0).replace(".",".?")}$`,"i"),this._shortWeekdaysParse[r]=new RegExp(`^${this.weekdaysShort(l,"",!0).replace(".",".?")}$`,"i"),this._minWeekdaysParse[r]=new RegExp(`^${this.weekdaysMin(l,"",!0).replace(".",".?")}$`,"i")),this._weekdaysParse[r]||(o=`^${this.weekdays(l,"",!0)}|^${this.weekdaysShort(l,"",!0)}|^${this.weekdaysMin(l,"",!0)}`,this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),!(ml(this._fullWeekdaysParse)&&ml(this._shortWeekdaysParse)&&ml(this._minWeekdaysParse)&&ml(this._weekdaysParse)))return;if(i&&"dddd"===t&&this._fullWeekdaysParse[r].test(n))return r;if(i&&"ddd"===t&&this._shortWeekdaysParse[r].test(n))return r;if(i&&"dd"===t&&this._minWeekdaysParse[r].test(n))return r;if(!i&&this._weekdaysParse[r].test(n))return r}}weekdaysRegex(n){return this._weekdaysParseExact?(cd(this,"_weekdaysRegex")||this.computeWeekdaysParse(),n?this._weekdaysStrictRegex:this._weekdaysRegex):(cd(this,"_weekdaysRegex")||(this._weekdaysRegex=ED),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}weekdaysShortRegex(n){return this._weekdaysParseExact?(cd(this,"_weekdaysRegex")||this.computeWeekdaysParse(),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(cd(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ED),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}weekdaysMinRegex(n){return this._weekdaysParseExact?(cd(this,"_weekdaysRegex")||this.computeWeekdaysParse(),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(cd(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ED),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}isPM(n){return"p"===n.toLowerCase().charAt(0)}meridiem(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"}formatLongDate(n){this._longDateFormat=this._longDateFormat?this._longDateFormat:HF;const t=this._longDateFormat[n],i=this._longDateFormat[n.toUpperCase()];return t||!i?t:(this._longDateFormat[n]=i.replace(/MMMM|MM|DD|dddd/g,r=>r.slice(1)),this._longDateFormat[n])}handleMonthStrictParse(n,t,i){const r=n.toLocaleLowerCase();let o,l,u;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;o<12;++o)u=new Date(2e3,o),this._shortMonthsParse[o]=this.monthsShort(u,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(u,"").toLocaleLowerCase();return i?"MMM"===t?(l=this._shortMonthsParse.indexOf(r),-1!==l?l:null):(l=this._longMonthsParse.indexOf(r),-1!==l?l:null):"MMM"===t?(l=this._shortMonthsParse.indexOf(r),-1!==l?l:(l=this._longMonthsParse.indexOf(r),-1!==l?l:null)):(l=this._longMonthsParse.indexOf(r),-1!==l?l:(l=this._shortMonthsParse.indexOf(r),-1!==l?l:null))}handleWeekStrictParse(n,t,i){let r;const o=n.toLocaleLowerCase();if(!this._weekdaysParse){let l;for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],l=0;l<7;++l){const u=LD(new Date(Date.UTC(2e3,1)),l,null,!0);this._minWeekdaysParse[l]=this.weekdaysMin(u).toLocaleLowerCase(),this._shortWeekdaysParse[l]=this.weekdaysShort(u).toLocaleLowerCase(),this._weekdaysParse[l]=this.weekdays(u,"").toLocaleLowerCase()}}if(ml(this._weekdaysParse)&&ml(this._shortWeekdaysParse)&&ml(this._minWeekdaysParse))return i?"dddd"===t?(r=this._weekdaysParse.indexOf(o),-1!==r?r:null):"ddd"===t?(r=this._shortWeekdaysParse.indexOf(o),-1!==r?r:null):(r=this._minWeekdaysParse.indexOf(o),-1!==r?r:null):"dddd"===t?(r=this._weekdaysParse.indexOf(o),-1!==r||(r=this._shortWeekdaysParse.indexOf(o),-1!==r)?r:(r=this._minWeekdaysParse.indexOf(o),-1!==r?r:null)):"ddd"===t?(r=this._shortWeekdaysParse.indexOf(o),-1!==r||(r=this._weekdaysParse.indexOf(o),-1!==r)?r:(r=this._minWeekdaysParse.indexOf(o),-1!==r?r:null)):(r=this._minWeekdaysParse.indexOf(o),-1!==r||(r=this._weekdaysParse.indexOf(o),-1!==r)?r:(r=this._shortWeekdaysParse.indexOf(o),-1!==r?r:null))}computeMonthsParse(){const n=[],t=[],i=[];let r,o;for(o=0;o<12;o++)r=new Date(2e3,o),n.push(this.monthsShort(r,"")),t.push(this.months(r,"")),i.push(this.months(r,"")),i.push(this.monthsShort(r,""));for(n.sort(db),t.sort(db),i.sort(db),o=0;o<12;o++)n[o]=lb(n[o]),t[o]=lb(t[o]);for(o=0;o<24;o++)i[o]=lb(i[o]);this._monthsRegex=new RegExp(`^(${i.join("|")})`,"i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._monthsShortStrictRegex=new RegExp(`^(${n.join("|")})`,"i")}computeWeekdaysParse(){const n=[],t=[],i=[],r=[];let o;for(o=0;o<7;o++){const l=LD(new Date(Date.UTC(2e3,1)),o,null,!0),u=this.weekdaysMin(l),g=this.weekdaysShort(l),v=this.weekdays(l);n.push(u),t.push(g),i.push(v),r.push(u),r.push(g),r.push(v)}for(n.sort(db),t.sort(db),i.sort(db),r.sort(db),o=0;o<7;o++)t[o]=lb(t[o]),i[o]=lb(i[o]),r[o]=lb(r[o]);this._weekdaysRegex=new RegExp(`^(${r.join("|")})`,"i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(`^(${i.join("|")})`,"i"),this._weekdaysShortStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._weekdaysMinStrictRegex=new RegExp(`^(${n.join("|")})`,"i")}}function db(e,n){return n.length-e.length}const UF={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:HF,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:CJ,monthsShort:BF,week:{dow:0,doy:6},weekdays:TJ,weekdaysMin:DJ,weekdaysShort:VF,meridiemParse:/[ap]\.?m?\.?/i};function AJ(e,n,t){const i=Math.min(e.length,n.length),r=Math.abs(e.length-n.length);let l,o=0;for(l=0;l<i;l++)(t&&e[l]!==n[l]||!t&&_o(e[l])!==_o(n[l]))&&o++;return o+r}function uA(e,n){_s(null,[e,e.length,!1],null,n)}function zF(e,n){return EO(e,n.locale).toString()}function YF(e){return $F(e).toString()}function EO(e,n=Xc(),t){return Z2(e,n.firstDayOfWeek(),n.firstDayOfYear(),t).year}function $F(e,n){return Z2(e,1,4,n).year}function GF(e,n){_s(e,null,null,function(t,i){let r=function fb(e,n={}){return n._isUTC?n._offset||0:function XF(e){return 15*-Math.round(e.getTimezoneOffset()/15)}(e)}(t,{_isUTC:i.isUTC,_offset:i.offset}),o="+";return r<0&&(r=-r,o="-"),o+P0(~~(r/60),2)+n+P0(~~r%60,2)})}const VJ=/([\+\-]|\d\d)/gi;const yu={},OD={};let ID;function qF(e){return e&&e.toLowerCase().replace("_","-")}function ZF(e){return yu[e]||console.error(`Khronos locale error: please load locale "${e}" before using it`),yu[e]}function MO(e,n){let t;return e&&(EF(n)?t=Xc(e):Rd(e)&&(t=QF(e,n)),t&&(ID=t)),ID&&ID._abbr}function QF(e,n){if(null===n)return delete yu[e],ID=Xc("en"),null;if(!n)return;let t=UF;if(n.abbr=e,null!=n.parentLocale){if(null==yu[n.parentLocale])return OD[n.parentLocale]||(OD[n.parentLocale]=[]),OD[n.parentLocale].push({name:e,config:n}),null;t=yu[n.parentLocale]._config}return yu[e]=new jF(function KF(e,n){const t=Object.assign({},e);for(const i in n)cd(n,i)&&(sb(e[i])&&sb(n[i])?(t[i]={},Object.assign(t[i],e[i]),Object.assign(t[i],n[i])):null!=n[i]?t[i]=n[i]:delete t[i]);for(const i in e)cd(e,i)&&!cd(n,i)&&sb(e[i])&&(t[i]=Object.assign({},t[i]));return t}(t,n)),OD[e]&&OD[e].forEach(function(i){QF(i.name,i.config)}),MO(e),yu[e]}function Xc(e){return function $J(){yu.en||(MO("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal(e){const n=e%10;return e+(1===_o(e%100/10)?"th":1===n?"st":2===n?"nd":3===n?"rd":"th")}}),function MJ(){_s("w",["ww",2,!1],"wo",function(e,n){return function hb(e,n=Xc(),t){return n.week(e,t)}(e,n.locale).toString(10)}),_s("W",["WW",2,!1],"Wo",function(e){return function SO(e,n){return Z2(e,1,4,n).week}(e).toString(10)}),ud("week","w"),ud("isoWeek","W"),dd("week",5),dd("isoWeek",5),Ir("w",Ja),Ir("ww",Ja,af),Ir("W",Ja),Ir("WW",Ja,af),AD(["w","ww","W","WW"],function(e,n,t,i){return n[i.substr(0,1)]=_o(e),t})}(),function OJ(){_s(null,["gg",2,!1],null,function(e,n){return(EO(e,n.locale)%100).toString()}),_s(null,["GG",2,!1],null,function(e){return($F(e)%100).toString()}),uA("gggg",zF),uA("ggggg",zF),uA("GGGG",YF),uA("GGGGG",YF),ud("weekYear","gg"),ud("isoWeekYear","GG"),dd("weekYear",1),dd("isoWeekYear",1),Ir("G",rA),Ir("g",rA),Ir("GG",Ja,af),Ir("gg",Ja,af),Ir("GGGG",vO,bO),Ir("gggg",vO,bO),Ir("GGGGG",iA,tA),Ir("ggggg",iA,tA),AD(["gggg","ggggg","GGGG","GGGGG"],function(e,n,t,i){return n[i.substr(0,2)]=_o(e),t}),AD(["gg","GG"],function(e,n,t,i){return n[i]=TO(e),t})}(),function dJ(){_s("Y",null,null,function(e,n){const t=Ml(e,n.isUTC);return t<=9999?t.toString(10):`+${t}`}),_s(null,["YY",2,!1],null,function(e,n){return(Ml(e,n.isUTC)%100).toString(10)}),_s(null,["YYYY",4,!1],null,CO),_s(null,["YYYYY",5,!1],null,CO),_s(null,["YYYYYY",6,!0],null,CO),ud("year","y"),dd("year",1),Ir("Y",rA),Ir("YY",Ja,af),Ir("YYYY",vO,bO),Ir("YYYYY",iA,tA),Ir("YYYYYY",iA,tA),el(["YYYYY","YYYYYY"],dg),el("YYYY",function(e,n,t){return n[dg]=2===e.length?TO(e):_o(e),t}),el("YY",function(e,n,t){return n[dg]=TO(e),t}),el("Y",function(e,n,t){return n[dg]=parseInt(e,10),t})}(),function NJ(){_s("z",null,null,function(e,n){return n.isUTC?"UTC":""}),_s("zz",null,null,function(e,n){return n.isUTC?"Coordinated Universal Time":""})}(),function RJ(){_s("X",null,null,function(e){return function QQ(e){return Math.floor(e.valueOf()/1e3)}(e).toString(10)}),_s("x",null,null,function(e){return e.valueOf().toString(10)}),Ir("x",rA),Ir("X",rJ),el("X",function(e,n,t){return t._d=new Date(1e3*parseFloat(e)),t}),el("x",function(e,n,t){return t._d=new Date(_o(e)),t})}(),function LJ(){_s("s",["ss",2,!1],null,function(e,n){return yO(e,n.isUTC).toString(10)}),ud("second","s"),dd("second",15),Ir("s",Ja),Ir("ss",Ja,af),el(["s","ss"],L0)}(),function PJ(){_s("Q",null,"Qo",function(e,n){return function FJ(e,n=!1){return Math.ceil((bo(e,n)+1)/3)}(e,n.isUTC).toString(10)}),ud("quarter","Q"),dd("quarter",7),Ir("Q",IF),el("Q",function(e,n,t){return n[R0]=3*(_o(e)-1),t})}(),function BJ(){GF("Z",":"),GF("ZZ",""),Ir("Z",sA),Ir("ZZ",sA),el(["Z","ZZ"],function(e,n,t){return t._useUTC=!0,t._tzm=function AO(e,n){const t=(n||"").match(e);if(null===t)return null;const r=t[t.length-1].match(VJ)||["-","0","0"],o=60*parseInt(r[1],10)+_o(r[2]);return 0===o?0:"+"===r[0]?o:-o}(sA,e),t})}(),function hJ(){_s("M",["MM",2,!1],"Mo",function(e,n){return(bo(e,n.isUTC)+1).toString(10)}),_s("MMM",null,null,function(e,n){return n.locale.monthsShort(e,n.format,n.isUTC)}),_s("MMMM",null,null,function(e,n){return n.locale.months(e,n.format,n.isUTC)}),ud("month","M"),dd("month",8),Ir("M",Ja),Ir("MM",Ja,af),Ir("MMM",function(e,n){return n.monthsShortRegex(e)}),Ir("MMMM",function(e,n){return n.monthsRegex(e)}),el(["M","MM"],function(e,n,t){return n[R0]=_o(e)-1,t}),el(["MMM","MMMM"],function(e,n,t,i){const r=t._locale.monthsParse(e,i,t._strict);return null!=r?n[R0]=r:Ro(t).invalidMonth=!!e,t})}(),function jJ(){_s("m",["mm",2,!1],null,function(e,n){return G2(e,n.isUTC).toString(10)}),ud("minute","m"),dd("minute",14),Ir("m",Ja),Ir("mm",Ja,af),el(["m","mm"],hg)}(),function UJ(){let e;for(_s("S",null,null,function(t,i){return(~~(F0(t,i.isUTC)/100)).toString(10)}),_s(null,["SS",2,!1],null,function(t,i){return(~~(F0(t,i.isUTC)/10)).toString(10)}),_s(null,["SSS",3,!1],null,function(t,i){return F0(t,i.isUTC).toString(10)}),_s(null,["SSSS",4,!1],null,function(t,i){return(10*F0(t,i.isUTC)).toString(10)}),_s(null,["SSSSS",5,!1],null,function(t,i){return(100*F0(t,i.isUTC)).toString(10)}),_s(null,["SSSSSS",6,!1],null,function(t,i){return(1e3*F0(t,i.isUTC)).toString(10)}),_s(null,["SSSSSSS",7,!1],null,function(t,i){return(1e4*F0(t,i.isUTC)).toString(10)}),_s(null,["SSSSSSSS",8,!1],null,function(t,i){return(1e5*F0(t,i.isUTC)).toString(10)}),_s(null,["SSSSSSSSS",9,!1],null,function(t,i){return(1e6*F0(t,i.isUTC)).toString(10)}),ud("millisecond","ms"),dd("millisecond",16),Ir("S",nA,IF),Ir("SS",nA,af),Ir("SSS",nA,NF),e="SSSS";e.length<=9;e+="S")Ir(e,nJ);function n(t,i,r){return i[ob]=_o(1e3*parseFloat(`0.${t}`)),r}for(e="S";e.length<=9;e+="S")el(e,n)}(),function zJ(){function e(r,o){return yo(r,o)%12||12}function t(r,o){_s(r,null,null,function(l,u){return u.locale.meridiem(yo(l,u.isUTC),G2(l,u.isUTC),o)})}function i(r,o){return o._meridiemParse}_s("H",["HH",2,!1],null,function(r,o){return yo(r,o.isUTC).toString(10)}),_s("h",["hh",2,!1],null,function(r,o){return e(r,o.isUTC).toString(10)}),_s("k",["kk",2,!1],null,function(r,o){return function n(r,o){return yo(r,o)||24}(r,o.isUTC).toString(10)}),_s("hmm",null,null,function(r,o){return`${e(r,o.isUTC)}${P0(G2(r,o.isUTC),2)}`}),_s("hmmss",null,null,function(r,o){return`${e(r,o.isUTC)}${P0(G2(r,o.isUTC),2)}${P0(yO(r,o.isUTC),2)}`}),_s("Hmm",null,null,function(r,o){return`${yo(r,o.isUTC)}${P0(G2(r,o.isUTC),2)}`}),_s("Hmmss",null,null,function(r,o){return`${yo(r,o.isUTC)}${P0(G2(r,o.isUTC),2)}${P0(yO(r,o.isUTC),2)}`}),t("a",!0),t("A",!1),ud("hour","h"),dd("hour",13),Ir("a",i),Ir("A",i),Ir("H",Ja),Ir("h",Ja),Ir("k",Ja),Ir("HH",Ja,af),Ir("hh",Ja,af),Ir("kk",Ja,af),Ir("hmm",RF),Ir("hmmss",LF),Ir("Hmm",RF),Ir("Hmmss",LF),el(["H","HH"],Gc),el(["k","kk"],function(r,o,l){const u=_o(r);return o[Gc]=24===u?0:u,l}),el(["a","A"],function(r,o,l){return l._isPm=l._locale.isPM(r),l._meridiem=r,l}),el(["h","hh"],function(r,o,l){return o[Gc]=_o(r),Ro(l).bigHour=!0,l}),el("hmm",function(r,o,l){const u=r.length-2;return o[Gc]=_o(r.substr(0,u)),o[hg]=_o(r.substr(u)),Ro(l).bigHour=!0,l}),el("hmmss",function(r,o,l){const u=r.length-4,g=r.length-2;return o[Gc]=_o(r.substr(0,u)),o[hg]=_o(r.substr(u,2)),o[L0]=_o(r.substr(g)),Ro(l).bigHour=!0,l}),el("Hmm",function(r,o,l){const u=r.length-2;return o[Gc]=_o(r.substr(0,u)),o[hg]=_o(r.substr(u)),l}),el("Hmmss",function(r,o,l){const u=r.length-4,g=r.length-2;return o[Gc]=_o(r.substr(0,u)),o[hg]=_o(r.substr(u,2)),o[L0]=_o(r.substr(g)),l})}(),function wJ(){_s("DDD",["DDDD",3,!1],"DDDo",function(e){return kO(e).toString(10)}),ud("dayOfYear","DDD"),dd("dayOfYear",4),Ir("DDD",nA),Ir("DDDD",NF),el(["DDD","DDDD"],function(e,n,t){return t._dayOfYear=_o(e),t})}(),function Aee(){_s("d",null,"do",function(e,n){return cm(e,n.isUTC).toString(10)}),_s("dd",null,null,function(e,n){return n.locale.weekdaysMin(e,n.format,n.isUTC)}),_s("ddd",null,null,function(e,n){return n.locale.weekdaysShort(e,n.format,n.isUTC)}),_s("dddd",null,null,function(e,n){return n.locale.weekdays(e,n.format,n.isUTC)}),_s("e",null,null,function(e,n){return BO(e,n.locale,n.isUTC).toString(10)}),_s("E",null,null,function(e,n){return function u7(e,n){return cm(e,n)||7}(e,n.isUTC).toString(10)}),ud("day","d"),ud("weekday","e"),ud("isoWeekday","E"),dd("day",11),dd("weekday",11),dd("isoWeekday",11),Ir("d",Ja),Ir("e",Ja),Ir("E",Ja),Ir("dd",function(e,n){return n.weekdaysMinRegex(e)}),Ir("ddd",function(e,n){return n.weekdaysShortRegex(e)}),Ir("dddd",function(e,n){return n.weekdaysRegex(e)}),AD(["dd","ddd","dddd"],function(e,n,t,i){const r=t._locale.weekdaysParse(e,i,t._strict);return null!=r?n.d=r:Ro(t).invalidWeekday=!!e,t}),AD(["d","e","E"],function(e,n,t,i){return n[i]=_o(e),t})}(),function cJ(){_s("D",["DD",2,!1],"Do",function(e,n){return ab(e,n.isUTC).toString(10)}),ud("date","D"),dd("date",9),Ir("D",Ja),Ir("DD",Ja,af),Ir("Do",function(e,n){return n._dayOfMonthOrdinalParse||n._ordinalParse}),el(["D","DD"],lm),el("Do",function(e,n,t){return n[lm]=_o(e.match(Ja)[0]),t})}())}(),e?function YJ(e){let n,t,i=0;for(;i<e.length;){const r=qF(e[i]).split("-");let o=r.length;for(n=qF(e[i+1]),n=n?n.split("-"):null;o>0;){if(t=ZF(r.slice(0,o).join("-")),t)return t;if(n&&n.length>=o&&AJ(r,n,!0)>=o-1)break;o--}i++}return null}(ml(e)?e:[e]):ID}const ND=["year","quarter","month","week","day","hours","minutes","seconds","milliseconds"],WJ=ND.reduce((e,n)=>(e[n]=!0,e),{});function JF(e){return e<0?Math.floor(e):Math.ceil(e)}function e7(e){return 4800*e/146097}function OO(e){return 146097*e/4800}let m_=Math.round;const um_ss=44,um_s=45,um_m=45,um_h=22,um_d=26,um_M=11;function qJ(e,n,t,i,r){return r.relativeTime(n||1,!!t,e,i)}class t7{constructor(n,t={}){this._data={},this._locale=Xc(),this._locale=t&&t._locale||Xc();const r=n.year||0,o=n.quarter||0,l=n.month||0,u=n.week||0,g=n.day||0,v=n.hours||0,D=n.minutes||0,L=n.seconds||0,ce=n.milliseconds||0;return this._isValid=function GJ(e){if(Object.keys(e).some(i=>i in WJ&&null===e[i]||isNaN(e[i])))return!1;let t=!1;for(let i=0;i<ND.length;++i)if(e[ND[i]]){if(t)return!1;e[ND[i]]!==_o(e[ND[i]])&&(t=!0)}return!0}(n),this._milliseconds=+ce+1e3*L+60*D*1e3+1e3*v*60*60,this._days=+g+7*u,this._months=+l+3*o+12*r,function XJ(e){let n=e._milliseconds,t=e._days,i=e._months;const r=e._data;n>=0&&t>=0&&i>=0||n<=0&&t<=0&&i<=0||(n+=864e5*JF(OO(i)+t),t=0,i=0),r.milliseconds=n%1e3;const o=nb(n/1e3);r.seconds=o%60;const l=nb(o/60);r.minutes=l%60;const u=nb(l/60);r.hours=u%24,t+=nb(u/24);const g=nb(e7(t));i+=g,t-=JF(OO(g));const v=nb(i/12);return i%=12,r.day=t,r.month=i,r.year=v,e}(this)}isValid(){return this._isValid}humanize(n){if(!this.isValid())return this.localeData().invalidDate;const t=this.localeData();let i=function KJ(e,n,t){const i=FO(e).abs(),r=m_(i.as("s")),o=m_(i.as("m")),l=m_(i.as("h")),u=m_(i.as("d")),g=m_(i.as("M")),v=m_(i.as("y")),D=r<=um_ss&&["s",r]||r<um_s&&["ss",r]||o<=1&&["m"]||o<um_m&&["mm",o]||l<=1&&["h"]||l<um_h&&["hh",l]||u<=1&&["d"]||u<um_d&&["dd",u]||g<=1&&["M"]||g<um_M&&["MM",g]||v<=1&&["y"]||["yy",v];return qJ.apply(null,[D[0],D[1],n,+e>0,t])}(this,!n,t);return n&&(i=t.pastFuture(+this,i)),t.postformat(i)}localeData(){return this._locale}locale(n){return n?(this._locale=Xc(n)||this._locale,this):this._locale._abbr}abs(){const n=Math.abs,t=this._data;return this._milliseconds=n(this._milliseconds),this._days=n(this._days),this._months=n(this._months),t.milliseconds=n(t.milliseconds),t.seconds=n(t.seconds),t.minutes=n(t.minutes),t.hours=n(t.hours),t.month=n(t.month),t.year=n(t.year),this}as(n){if(!this.isValid())return NaN;let t,i;const r=this._milliseconds,o=MF(n);if("month"===o||"year"===o)return t=this._days+r/864e5,i=this._months+e7(t),"month"===o?i:i/12;switch(t=this._days+Math.round(OO(this._months)),o){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hours":return 24*t+r/36e5;case"minutes":return 1440*t+r/6e4;case"seconds":return 86400*t+r/1e3;case"milliseconds":return Math.floor(864e5*t)+r;default:throw new Error(`Unknown unit ${o}`)}}valueOf(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_o(this._months/12):NaN}}function IO(e){if(null==e._isValid){const n=Ro(e),t=Array.prototype.some.call(n.parsedDateParts,function(r){return null!=r});let i=!isNaN(e._d&&e._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&t);if(e._strict&&(i=i&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function hA(e,n){return e._d=new Date(NaN),Object.assign(Ro(e),n||{userInvalidated:!0}),e}const JJ=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,eee=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tee=/Z|[+-]\d\d(?::?\d\d)?/,fA=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/,!0],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/,!0],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/,!0],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/,!0],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/,!0],["YYYYMMDD",/\d{8}/,!0],["GGGG[W]WWE",/\d{4}W\d{3}/,!0],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/,!0]],NO=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],nee=/^\/?Date\((\-?\d+)/i,iee={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},ree=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function n7(e){if(!Rd(e._i))return e;const n=e._i,t=JJ.exec(n)||eee.exec(n);let i,r,o,l,u,g;if(!t)return e._isValid=!1,e;for(u=0,g=fA.length;u<g;u++)if(fA[u][1].exec(t[1])){r=fA[u][0],i=!1!==fA[u][2];break}if(null==r)return e._isValid=!1,e;if(t[3]){for(u=0,g=NO.length;u<g;u++)if(NO[u][1].exec(t[3])){o=(t[2]||" ")+NO[u][0];break}if(null==o)return e._isValid=!1,e}if(!i&&null!=o)return e._isValid=!1,e;if(t[4]){if(!tee.exec(t[4]))return e._isValid=!1,e;l="Z"}return e._f=r+(o||"")+(l||""),LO(e)}function oee(e){const n=parseInt(e,10);return n<=49?n+2e3:n}function r7(e){if(!Rd(e._i))return e;const n=ree.exec(function aee(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e._i));if(!n)return function QJ(e){return e._isValid=!1,e}(e);const t=function see(e,n,t,i,r,o){const l=[oee(e),BF.indexOf(n),parseInt(t,10),parseInt(i,10),parseInt(r,10)];return o&&l.push(parseInt(o,10)),l}(n[4],n[3],n[2],n[5],n[6],n[7]);return function lee(e,n,t){return!e||VF.indexOf(e)===new Date(n[0],n[1],n[2]).getDay()||(Ro(t).weekdayMismatch=!0,t._isValid=!1,!1)}(n[1],t,e)&&(e._a=t,e._tzm=function cee(e,n,t){if(e)return iee[e];if(n)return 0;{const i=parseInt(t,10),r=i%100;return(i-r)/100*60+r}}(n[8],n[9],n[10]),e._d=JE.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Ro(e).rfc2822=!0),e}function Qf(e,n,t,i,r=0){const o=Xc(t||"en");if(!o)throw new Error(`Locale "${t}" is not defined, please add it with "defineLocale(...)"`);const u=function dee(e,n,t,i,r=0){if(!p_(e))return t.invalidDate;const o=s7(n,t);return _O[o]=_O[o]||function qQ(e){const n=e.match(OF),t=n.length,i=new Array(t);for(let r=0;r<t;r++)i[r]=W2[n[r]]?W2[n[r]]:KQ(n[r]);return function(r,o,l,u=0){let g="";for(let v=0;v<t;v++)g+=ib(i[v])?i[v].call(null,r,{format:e,locale:o,isUTC:l,offset:u}):i[v];return g}}(o),_O[o](e,t,i,r)}(e,n||(i?"YYYY-MM-DDTHH:mm:ss[Z]":"YYYY-MM-DDTHH:mm:ssZ"),o,i,r);return u&&o.postformat(u)}function s7(e,n){let t=e,i=5;const r=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,o=l=>n.formatLongDate(l)||l;for(r.lastIndex=0;i>=0&&r.test(t);)t=t.replace(r,o),r.lastIndex=0,i-=1;return t}function Q2(e,n,t){return e??n??t}function RO(e){const n=[];let t,i,r;if(e._d)return e;const o=function hee(e){const n=new Date;return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}(e);for(e._w&&null==e._a[lm]&&null==e._a[R0]&&function fee(e){let n,t,i,r,o,l,u;const g=e._w;if(null!=g.GG||null!=g.W||null!=g.E)r=1,o=4,n=Q2(g.GG,e._a[dg],Z2(new Date,1,4).year),t=Q2(g.W,1),i=Q2(g.E,1),(i<1||i>7)&&(u=!0);else{r=e._locale._week.dow,o=e._locale._week.doy;const v=Z2(new Date,r,o);n=Q2(g.gg,e._a[dg],v.year),t=Q2(g.w,v.week),null!=g.d?(i=g.d,(i<0||i>6)&&(u=!0)):null!=g.e?(i=g.e+r,(g.e<0||g.e>6)&&(u=!0)):i=r}t<1||t>ub(n,r,o)?Ro(e)._overflowWeeks=!0:null!=u?Ro(e)._overflowWeekday=!0:(l=function PF(e,n,t,i,r){const u=1+7*(n-1)+(7+t-i)%7+cA(e,i,r);let g,v;return u<=0?(g=e-1,v=MD(g)+u):u>MD(e)?(g=e+1,v=u-MD(e)):(g=e,v=u),{year:g,dayOfYear:v}}(n,t,i,r,o),e._a[dg]=l.year,e._dayOfYear=l.dayOfYear)}(e),null!=e._dayOfYear&&(r=Q2(e._a[dg],o[dg]),(e._dayOfYear>MD(r)||0===e._dayOfYear)&&(Ro(e)._overflowDayOfYear=!0),i=new Date(Date.UTC(r,0,e._dayOfYear)),e._a[R0]=i.getUTCMonth(),e._a[lm]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=n[t]=o[t];for(;t<7;t++)e._a[t]=n[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Gc]&&0===e._a[hg]&&0===e._a[L0]&&0===e._a[ob]&&(e._nextDay=!0,e._a[Gc]=0),e._d=(e._useUTC?JE:eA).apply(null,n);const l=e._useUTC?e._d.getUTCDay():e._d.getDay();return null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Gc]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==l&&(Ro(e).weekdayMismatch=!0),e}function o7(e){let n;const t=e._a;return t&&-2===Ro(e).overflow&&(n=t[R0]<0||t[R0]>11?R0:t[lm]<1||t[lm]>aA(t[dg],t[R0])?lm:t[Gc]<0||t[Gc]>24||24===t[Gc]&&(0!==t[hg]||0!==t[L0]||0!==t[ob])?Gc:t[hg]<0||t[hg]>59?hg:t[L0]<0||t[L0]>59?L0:t[ob]<0||t[ob]>999?ob:-1,Ro(e)._overflowDayOfYear&&(n<dg||n>lm)&&(n=lm),Ro(e)._overflowWeeks&&-1===n&&(n=GQ),Ro(e)._overflowWeekday&&-1===n&&(n=XQ),Ro(e).overflow=n),e}const pee="ISO_8601",gee="RFC_2822";function LO(e){if(e._f===pee)return n7(e);if(e._f===gee)return r7(e);if(e._a=[],Ro(e).empty=!0,ml(e._f)||!e._i&&0!==e._i)return e;let n=e._i.toString(),t=0;const i=n.length,r=s7(e._f,e._locale).match(OF)||[];let o,l,u,g;for(o=0;o<r.length;o++)l=r[o],u=(n.match(sJ(l,e._locale))||[])[0],u&&(g=n.substr(0,n.indexOf(u)),g.length>0&&Ro(e).unusedInput.push(g),n=n.slice(n.indexOf(u)+u.length),t+=u.length),W2[l]?(u?Ro(e).empty=!1:Ro(e).unusedTokens.push(l),aJ(l,u,e)):e._strict&&!u&&Ro(e).unusedTokens.push(l);return Ro(e).charsLeftOver=i-t,n.length>0&&Ro(e).unusedInput.push(n),e._a[Gc]<=12&&!0===Ro(e).bigHour&&e._a[Gc]>0&&(Ro(e).bigHour=void 0),Ro(e).parsedDateParts=e._a.slice(0),Ro(e).meridiem=e._meridiem,e._a[Gc]=function mee(e,n,t){let i=n;if(null==t)return i;if(null!=e.meridiemHour)return e.meridiemHour(i,t);if(null==e.isPM)return i;const r=e.isPM(t);return r&&i<12&&(i+=12),!r&&12===i&&(i=0),i}(e._locale,e._a[Gc],e._meridiem),RO(e),o7(e)}function bee(e){const n=o7(function vee(e){let n=e._i;const t=e._f;return e._locale=e._locale||Xc(e._l),null===n||void 0===t&&""===n?hA(e,{nullInput:!0}):(Rd(n)&&(e._i=n=e._locale.preparse(n,t)),QE(n)?(e._d=B0(n),e):(ml(t)?function _ee(e){let n,t,i,r,o;if(!e._f||0===e._f.length)return Ro(e).invalidFormat=!0,hA(e);for(o=0;o<e._f.length;o++)r=0,n=Object.assign({},e),null!=e._useUTC&&(n._useUTC=e._useUTC),n._f=e._f[o],LO(n),IO(n)&&(r+=Ro(n).charsLeftOver,r+=10*Ro(n).unusedTokens.length,Ro(n).score=r,(null==i||r<i)&&(i=r,t=n));Object.assign(e,t||n)}(e):t?LO(e):function wee(e){const n=e._i;if(EF(n))e._d=new Date;else if(QE(n))e._d=B0(n);else if(Rd(n))!function uee(e){if(!Rd(e._i))return e;const n=nee.exec(e._i);null!==n?e._d=new Date(+n[1]):(n7(e),!1!==e._isValid||(delete e._isValid,r7(e),!1!==e._isValid||(delete e._isValid,hA(e))))}(e);else if(ml(n)&&n.length){const t=n.slice(0);e._a=t.map(i=>Rd(i)?parseInt(i,10):i),RO(e)}else if(sb(n))!function yee(e){if(e._d)return e;const n=e._i;if(sb(n)){const t=function WQ(e){const n={};let t,i;for(i in e)cd(e,i)&&(t=MF(i),t&&(n[t]=e[i]));return n}(n);e._a=[t.year,t.month,t.day,t.hours,t.minutes,t.seconds,t.milliseconds].map(i=>Rd(i)?parseInt(i,10):i)}return RO(e)}(e);else{if(!rb(n))return hA(e);e._d=new Date(n)}}(e),IO(e)||(e._d=null),e))}(e));return n._d=new Date(null!=n._d?n._d.getTime():NaN),IO(Object.assign({},n,{_isValid:null}))||(n._d=new Date(NaN)),n}function RD(e,n,t,i,r){return QE(e)?e:function Cee(e,n,t,i,r){const o={};let l=e;return(sb(l)&&function $Q(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;let n;for(n in e)if(e.hasOwnProperty(n))return!1;return!0}(l)||ml(l)&&0===l.length)&&(l=void 0),o._useUTC=o._isUTC=r,o._l=t,o._i=l,o._f=n,o._strict=i,bee(o)}(e,n,t,i,r)._d}function a7(e){return e instanceof Date?new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()):null}function PO(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function fg(e,n,t="milliseconds"){return!(!e||!n)&&("milliseconds"===t?e.valueOf()>n.valueOf():n.valueOf()<V0(e,t).valueOf())}function dm(e,n,t="milliseconds"){return!(!e||!n)&&("milliseconds"===t?e.valueOf()<n.valueOf():lA(e,t).valueOf()<n.valueOf())}function J2(e,n,t="milliseconds"){if(!e||!n)return!1;if("milliseconds"===t)return e.valueOf()===n.valueOf();const i=n.valueOf();return V0(e,t).valueOf()<=i&&i<=lA(e,t).valueOf()}const Dee=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,xee=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function FO(e,n,t={}){const i=function kee(e,n){if(null==e)return{};if(function ZJ(e){return e instanceof t7}(e))return{milliseconds:e._milliseconds,day:e._days,month:e._months};if(rb(e))return n?{[n]:e}:{milliseconds:e};if(Rd(e)){let t=Dee.exec(e);if(t){const i="-"===t[1]?-1:1;return{year:0,day:_o(t[lm])*i,hours:_o(t[Gc])*i,minutes:_o(t[hg])*i,seconds:_o(t[L0])*i,milliseconds:_o(PO(1e3*_o(t[ob])))*i}}if(t=xee.exec(e),t){const i="-"===t[1]?-1:1;return{year:pb(t[2],i),month:pb(t[3],i),week:pb(t[4],i),day:pb(t[5],i),hours:pb(t[6],i),minutes:pb(t[7],i),seconds:pb(t[8],i)}}}if(sb(e)&&("from"in e||"to"in e)){const t=function See(e,n){if(!p_(e)||!p_(n))return{milliseconds:0,months:0};let t;const i=function HJ(e,n,t={}){if(!t._isUTC)return e;const i=B0(n),r=6e4*(t._offset||0),o=e.valueOf()-i.valueOf()+r;return i.setTime(i.valueOf()+o),i}(n,e,{_offset:e.getTimezoneOffset()});return dm(e,i)?t=l7(e,i):(t=l7(i,e),t.milliseconds=-t.milliseconds,t.months=-t.months),t}(RD(e.from),RD(e.to));return{milliseconds:t.milliseconds,month:t.months}}return e}(e,n);return new t7(i,t)}function pb(e,n){const t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n}function l7(e,n){const t={milliseconds:0,months:0};return t.months=bo(n)-bo(e)+12*(Ml(n)-Ml(e)),fg(hm(B0(e),t.months,"month"),n)&&--t.months,t.milliseconds=+n-+hm(B0(e),t.months,"month"),t}function hm(e,n,t,i){return c7(e,FO(n,t),1,i)}function c7(e,n,t,i){const r=n._milliseconds,o=PO(n._days),l=PO(n._months);return l&&cb(e,bo(e,i)+l*t,i),o&&xO(e,ab(e,i)+o*t,i),r&&function vJ(e,n){e.setTime(n)}(e,function ZQ(e){return e.getTime()}(e)+r*t),B0(e)}function LD(e,n,t=Xc(),i){const r=cm(e,i),o=function Mee(e,n){if(!Rd(e))return e;const t=parseInt(e,10);if(!isNaN(t))return t;const i=n.weekdaysParse(e);return rb(i)?i:null}(n,t);return hm(e,o-r,"day")}function BO(e,n=Xc(),t){return(cm(e,t)+7-n.firstDayOfWeek())%7}const d7=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},Pee={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},Jf=function(e){return function(n,t){const i=d7(n);let r=Pee[e][d7(n)];return 2===i&&(r=r[t?0:1]),r.replace(/%d/i,n.toString())}};"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),Jf("s"),Jf("s"),Jf("m"),Jf("m"),Jf("h"),Jf("h"),Jf("d"),Jf("d"),Jf("M"),Jf("M"),Jf("y"),Jf("y"),"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"gen._feb._mar._abr._mai._jun._jul._ago._set._oct._nov._des.".split("_"),"ene_feb_mar_abr_mai_jun_jul_ago_set_oct_nov_des".split("_"),"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),"diu._dil._dim._dix._dij._div._dis.".split("_"),"dg_dl_dt_dc_dj_dv_ds".split("_");const HO="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),jO="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_");(function(e,n){let t,i=[];for(t=0;t<12;t++)i[t]=new RegExp("^"+e[t]+"$|^"+n[t]+"$","i")})(HO,jO),function(e){let n,t=[];for(n=0;n<12;n++)t[n]=new RegExp("^"+e[n]+"$","i")}(jO),function(e){let n,t=[];for(n=0;n<12;n++)t[n]=new RegExp("^"+e[n]+"$","i")}(HO),"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"Januar_Februar_Marts_April_Maj_Juni_Juli_August_September_Oktober_November_December".split("_"),"Jan_Feb_Mar_Apr_Maj_Jun_Jul_Aug_Sep_Okt_Nov_Dec".split("_"),"S\xf8ndag_Mandag_Tirsdag_Onsdag_Torsdag_Fredag_L\xf8rdag".split("_"),"S\xf8n_Man_Tir_Ons_Tor_Fre_L\xf8r".split("_"),"S\xf8_Ma_Ti_On_To_Fr_L\xf8".split("_"),"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),"P_E_T_K_N_R_L".split("_"),"P_E_T_K_N_R_L".split("_"),"nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),"dim._lun._mar._mer._jeu._ven._sam.".split("_"),"di_lu_ma_me_je_ve_sa".split("_"),"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),"xan_feb_mar_abr_mai_xu\xf1_xul_ago_set_out_nov_dec".split("_"),"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),"vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" "),"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),"v_h_k_sze_cs_p_szo".split("_"),"Sije\u010danj_Velja\u010da_O\u017eujak_Travanj_Svibanj_Lipanj_Srpanj_Kolovoz_Rujan_Listopad_Studeni_Prosinac".split("_"),"Sij_Velj_O\u017eu_Tra_Svi_Lip_Srp_Kol_Ruj_Lis_Stu_Pro".split("_"),"Nedjelja_Ponedjeljak_Utorak_Srijeda_\u010cetvrtak_Petak_Subota".split("_"),"Ned_Pon_Uto_Sri_\u010cet_Pet_Sub".split("_"),"Ne_Po_Ut_Sr_\u010ce_Pe_Su".split("_"),"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),"dom_lun_mar_mer_gio_ven_sab".split("_"),"do_lu_ma_me_gi_ve_sa".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),"S_P_A_T_K_Pn_\u0160".split("_"),"Janv\u0101ris_Febru\u0101ris_Marts_Apr\u012blis_Maijs_J\u016bnijs_J\u016blijs_Augusts_Septembris_Oktobris_Novembris_Decembris".split("_"),"Jan_Feb_Mar_Apr_Mai_J\u016bn_J\u016bl_Aug_Sep_Okt_Nov_Dec".split("_"),"Sv\u0113tdiena_Pirmdiena_Otrdiena_Tre\u0161diena_Ceturtdiena_Piektdiena_Sestdiena".split("_"),"Sv\u0113td_Pirmd_Otrd_Tre\u0161d_Ceturtd_Piektd_Sestd".split("_"),"Sv_Pi_Ot_Tr_Ce_Pk_Se".split("_"),"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),"stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),"jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),"ne_po_to_sr_\u010de_pe_so".split("_"),"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),"E Diel\xeb_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),"Di_He_Ma_Me_En_Pr_Sh".split("_"),"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_");const M7={abbr:"th-be",months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:e=>"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===e,meridiem:(e,n,t)=>e<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07",calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"},preparse(e,n){const t=M7.longDateFormat[n]?M7.longDateFormat[n]:n;return-1!==t.indexOf("YYYY",t.length-4)?e.substr(0,e.length-4)+(parseInt(e.substr(e.length-4),10)-543):e},getFullYear:(e,n=!1)=>543+(n?e.getUTCFullYear():e.getFullYear())};function sw(e){return function(n){return e+"\u043e"+(11===yo(n)?"\u0431":"")+"] LT"}}"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_"),"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),sw("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),sw("[\u0417\u0430\u0432\u0442\u0440\u0430 "),sw("[\u0412\u0447\u043e\u0440\u0430 "),sw("[\u0423] dddd ["),"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_");class ite{constructor(n,t){this.open=n,this.close=t||n}isManual(){return"manual"===this.open||"manual"===this.close}}const rte={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function ZO(e,n=rte){const t=(e||"").trim();if(0===t.length)return[];const i=t.split(/\s+/).map(o=>o.split(":")).map(o=>{const l=n[o[0]]||o;return new ite(l[0],l[1])}),r=i.filter(o=>o.isManual());if(r.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===r.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}const qc=typeof window<"u"&&window||{};let H0;function I7(){const e=qc.document.createElement("span");e.innerText="testing bs version",e.classList.add("d-none"),e.classList.add("pl-1"),qc.document.head.appendChild(e);const n=qc.getComputedStyle(e).paddingLeft;return n&&parseFloat(n)?(qc.document.head.removeChild(e),"bs4"):(qc.document.head.removeChild(e),"bs5")}function ow(){return{isBs4:(H0||(H0=I7()),"bs4"===H0),isBs5:(H0||(H0=I7()),"bs5"===H0)}}function dte(){const e="Change";return function(t,i){const r=` __${i}Value`;Object.defineProperty(t,i,{get(){return this[r]},set(o){const l=this[r];this[r]=o,l!==o&&this[i+e]&&this[i+e].emit(o)}})}}typeof console>"u"||console;const fte=["addListener","removeListener"],pte=["addEventListener","removeEventListener"],gte=["on","off"];function Kc(e,n,t,i){if(ei(t)&&(i=t,t=void 0),i)return Kc(e,n,t).pipe(D5(i));const[r,o]=function yte(e){return ei(e.addEventListener)&&ei(e.removeEventListener)}(e)?pte.map(l=>u=>e[l](n,u,t)):function mte(e){return ei(e.addListener)&&ei(e.removeListener)}(e)?fte.map(R7(e,n)):function _te(e){return ei(e.on)&&ei(e.off)}(e)?gte.map(R7(e,n)):[];if(!r&&o5(e))return V2(l=>Kc(l,n,t))(Lu(e));if(!r)throw new TypeError("Invalid event target");return new Yr(l=>{const u=(...g)=>l.next(1<g.length?g:g[0]);return r(u),()=>o(u)})}function R7(e,n){return t=>i=>e[t](n,i)}const FD={schedule(e){let n=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=FD;i&&(n=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=n(o=>{t=void 0,e(o)});return new Pn(()=>t?.(r))},requestAnimationFrame(...e){const{delegate:n}=FD;return(n?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:n}=FD;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0},wte=new class vte extends _5{flush(n){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;n=n||i.shift();do{if(r=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===t&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===t&&i.shift();)n.unsubscribe();throw r}}}(class bte extends g5{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,i=0){return null!==i&&i>0?super.requestAsyncId(n,t,i):(n.actions.push(this),n._scheduled||(n._scheduled=FD.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(n,t,i);const{actions:o}=n;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(FD.cancelAnimationFrame(t),n._scheduled=void 0)}});var L7=function(e){return e.top="top",e.bottom="bottom",e.left="left",e.right="right",e.auto="auto",e.end="right",e.start="left",e["top left"]="top left",e["top right"]="top right",e["right top"]="right top",e["right bottom"]="right bottom",e["bottom right"]="bottom right",e["bottom left"]="bottom left",e["left bottom"]="left bottom",e["left top"]="left top",e["top start"]="top left",e["top end"]="top right",e["end top"]="right top",e["end bottom"]="right bottom",e["bottom end"]="bottom right",e["bottom start"]="bottom left",e["start bottom"]="start bottom",e["start top"]="left top",e}(L7||{}),gA=function(e){return e.top="top",e.bottom="bottom",e.left="start",e.right="end",e.auto="auto",e.end="end",e.start="start",e["top left"]="top start",e["top right"]="top end",e["right top"]="end top",e["right bottom"]="end bottom",e["bottom right"]="bottom end",e["bottom left"]="bottom start",e["left bottom"]="start bottom",e["left top"]="start top",e["top start"]="top start",e["top end"]="top end",e["end top"]="end top",e["end bottom"]="end bottom",e["bottom end"]="bottom end",e["bottom start"]="bottom start",e["start bottom"]="start bottom",e["start top"]="start top",e}(gA||{});function yb(e,n){if(1!==e.nodeType)return[];const i=e.ownerDocument.defaultView?.getComputedStyle(e,null);return n?i&&i[n]:i}function QO(e){if(!e)return document.documentElement;let i,t=e?.offsetParent;for(;null===t&&e.nextElementSibling&&i!==e.nextElementSibling;)i=e.nextElementSibling,t=i.offsetParent;const r=t&&t.nodeName;return r&&"BODY"!==r&&"HTML"!==r?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===yb(t,"position")?QO(t):t:i?i.ownerDocument.documentElement:document.documentElement}function JO(e){return null!==e.parentNode?JO(e.parentNode):e}function mA(e,n){if(!(e&&e.nodeType&&n&&n.nodeType))return document.documentElement;const t=e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING,i=t?e:n,r=t?n:e,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);const l=o.commonAncestorContainer;if(e!==l&&n!==l||i.contains(r))return function Cte(e){const{nodeName:n}=e;return"BODY"!==n&&("HTML"===n||QO(e.firstElementChild)===e)}(l)?l:QO(l);const u=JO(e);return u.host?mA(u.host,n):mA(e,JO(n).host)}function P7(e){if(!e||!e.parentElement)return document.documentElement;let n=e.parentElement;for(;n?.parentElement&&"none"===yb(n,"transform");)n=n.parentElement;return n||document.documentElement}function F7(e,n){const t="x"===n?"Left":"Top",i="Left"===t?"Right":"Bottom";return parseFloat(e[`border${t}Width`])+parseFloat(e[`border${i}Width`])}function B7(e,n,t){return Math.max(n[`offset${e}`],n[`scroll${e}`],t[`client${e}`],t[`offset${e}`],t[`scroll${e}`],0)}function V7(e){const n=e.body,t=e.documentElement;return{height:B7("Height",n,t),width:B7("Width",n,t)}}function BD(e){return{...e,right:(e.left||0)+e.width,bottom:(e.top||0)+e.height}}function _l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function H7(e){const n=e.getBoundingClientRect();if(!(n&&_l(n.top)&&_l(n.left)&&_l(n.bottom)&&_l(n.right)))return n;const t={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},i="HTML"===e.nodeName?V7(e.ownerDocument):void 0,r=i?.width||e.clientWidth||_l(n.right)&&_l(t.left)&&n.right-t.left||0,o=i?.height||e.clientHeight||_l(n.bottom)&&_l(t.top)&&n.bottom-t.top||0;let l=e.offsetWidth-r,u=e.offsetHeight-o;if(l||u){const g=yb(e);l-=F7(g,"x"),u-=F7(g,"y"),t.width-=l,t.height-=u}return BD(t)}function eI(e,n,t=!1){const i="HTML"===n.nodeName,r=H7(e),o=H7(n),l=yb(n),u=parseFloat(l.borderTopWidth),g=parseFloat(l.borderLeftWidth);t&&i&&(o.top=Math.max(o.top??0,0),o.left=Math.max(o.left??0,0));const v=BD({top:(r.top??0)-(o.top??0)-u,left:(r.left??0)-(o.left??0)-g,width:r.width,height:r.height});if(v.marginTop=0,v.marginLeft=0,i){const D=parseFloat(l.marginTop),L=parseFloat(l.marginLeft);_l(v.top)&&(v.top-=u-D),_l(v.bottom)&&(v.bottom-=u-D),_l(v.left)&&(v.left-=g-L),_l(v.right)&&(v.right-=g-L),v.marginTop=D,v.marginLeft=L}return v}function tI(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function j7(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}const{overflow:n,overflowX:t,overflowY:i}=yb(e);return/(auto|scroll|overlay)/.test(String(n)+String(i)+String(t))?e:j7(tI(e))}function U7(e,n="top"){const t="top"===n?"scrollTop":"scrollLeft",i=e.nodeName;return"BODY"===i||"HTML"===i?(e.ownerDocument.scrollingElement||e.ownerDocument.documentElement)[t]:e[t]}function z7(e){const n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===yb(e,"position")||z7(tI(e)))}function nI(e,n,t=0,i,r=!1){let o={top:0,left:0};const l=r?P7(e):mA(e,n);if("viewport"===i)o=function Dte(e,n=!1){const t=e.ownerDocument.documentElement,i=eI(e,t),r=Math.max(t.clientWidth,window.innerWidth||0),o=Math.max(t.clientHeight,window.innerHeight||0),l=n?0:U7(t),u=n?0:U7(t,"left");return BD({top:l-Number(i?.top)+Number(i?.marginTop),left:u-Number(i?.left)+Number(i?.marginLeft),width:r,height:o})}(l,r);else{let u;"scrollParent"===i?(u=j7(tI(n)),"BODY"===u.nodeName&&(u=e.ownerDocument.documentElement)):u="window"===i?e.ownerDocument.documentElement:i;const g=eI(u,l,r);if(g&&"HTML"===u.nodeName&&!z7(l)){const{height:v,width:D}=V7(e.ownerDocument);_l(o.top)&&_l(g.top)&&_l(g.marginTop)&&(o.top+=g.top-g.marginTop),_l(o.top)&&(o.bottom=Number(v)+Number(g.top)),_l(o.left)&&_l(g.left)&&_l(g.marginLeft)&&(o.left+=g.left-g.marginLeft),_l(o.top)&&(o.right=Number(D)+Number(g.left))}else g&&(o=g)}return _l(o.left)&&(o.left+=t),_l(o.top)&&(o.top+=t),_l(o.right)&&(o.right-=t),_l(o.bottom)&&(o.bottom-=t),o}function xte({width:e,height:n}){return e*n}function Y7(e,n,t,i,r=["top","bottom","right","left"],o="viewport",l=0){if(-1===e.indexOf("auto"))return e;const u=nI(t,i,l,o),g={top:{width:u?.width??0,height:(n?.top??0)-(u?.top??0)},right:{width:(u?.right??0)-(n?.right??0),height:u?.height??0},bottom:{width:u?.width??0,height:(u?.bottom??0)-(n?.bottom??0)},left:{width:(n.left??0)-(u?.left??0),height:u?.height??0}},v=Object.keys(g).map(ue=>({position:ue,...g[ue],area:xte(g[ue])})).sort((ue,Se)=>Se.area-ue.area);let D=v.filter(({width:ue,height:Se})=>ue>=t.clientWidth&&Se>=t.clientHeight);D=D.filter(({position:ue})=>r.some(Se=>Se===ue));const L=D.length>0?D[0].position:v[0].position,ce=e.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${ow().isBs5?gA[L]:L}`),L+(ce?`-${ce}`:"")}const _A=(e,n=0)=>e?parseFloat(e):n;function $7(e){const t=e.ownerDocument.defaultView?.getComputedStyle(e),i=_A(t?.marginTop)+_A(t?.marginBottom),r=_A(t?.marginLeft)+_A(t?.marginRight);return{width:Number(e.offsetWidth)+r,height:Number(e.offsetHeight)+i}}function W7(e,n,t){return eI(n,t?P7(e):mA(e,n),t)}function iI(e,n,t){const i=t.split(" ")[0],r=$7(e),o={width:r.width,height:r.height},l=-1!==["right","left"].indexOf(i),u=l?"top":"left",g=l?"left":"top",v=l?"height":"width",D=l?"width":"height";return o[u]=(n[u]??0)+n[v]/2-r[v]/2,o[g]=i===g?(n[g]??0)-r[D]:n[function Ste(e){const n={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,t=>n[t])}(g)]??0,o}function G7(e,n){return!!e.modifiers[n]?.enabled}const Ate={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function yA(e,n){return!!ow().isBs5&&Ate[n].includes(e)}function X7(e,n,t){!e||!n||Object.keys(n).forEach(i=>{let r="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&function Tte(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(Number(e))}(n[i])&&(r="px"),t?t.setStyle(e,i,`${String(n[i])}${r}`):e.style[i]=String(n[i])+r})}function Ite(e){let n=e.offsets.target;const t=e.instance.target.querySelector(".arrow");if(!t)return e;const i=-1!==["left","right"].indexOf(e.placement.split(" ")[0]),r=i?"height":"width",o=i?"Top":"Left",l=o.toLowerCase(),u=i?"left":"top",g=i?"bottom":"right",v=$7(t)[r],D=e.placement.split(" ")[1];(e.offsets.host[g]??0)-v<(n[l]??0)&&(n[l]-=(n[l]??0)-((e.offsets.host[g]??0)-v)),Number(e.offsets.host[l])+Number(v)>(n[g]??0)&&(n[l]+=Number(e.offsets.host[l])+Number(v)-Number(n[g])),n=BD(n);const L=yb(e.instance.target),ce=parseFloat(L[`margin${o}`])||0,ue=parseFloat(L[`border${o}Width`])||0;let Se;if(D){const at=parseFloat(L.borderRadius)||0,dt=Number(ce+ue+at);Se=l===D?Number(e.offsets.host[l])+dt:Number(e.offsets.host[l])+Number(e.offsets.host[r]-dt)}else Se=Number(e.offsets.host[l])+Number(e.offsets.host[r]/2-v/2);let Ve=Se-(n[l]??0)-ce-ue;return Ve=Math.max(Math.min(n[r]-(v+5),Ve),0),e.offsets.arrow={[l]:Math.round(Ve),[u]:""},e.instance.arrow=t,e}function Nte(e){if(e.offsets.target=BD(e.offsets.target),!G7(e.options,"flip"))return e.offsets.target={...e.offsets.target,...iI(e.instance.target,e.offsets.host,e.placement)},e;const n=nI(e.instance.target,e.instance.host,0,"viewport",!1);let t=e.placement.split(" ")[0],i=e.placement.split(" ")[1]||"";const u=Y7("auto",e.offsets.host,e.instance.target,e.instance.host,e.options.allowedPositions),g=[t,u];return g.forEach((v,D)=>{if(t!==v||g.length===D+1)return;t=e.placement.split(" ")[0];const L="left"===t&&Math.floor(e.offsets.target.right??0)>Math.floor(e.offsets.host.left??0)||"right"===t&&Math.floor(e.offsets.target.left??0)<Math.floor(e.offsets.host.right??0)||"top"===t&&Math.floor(e.offsets.target.bottom??0)>Math.floor(e.offsets.host.top??0)||"bottom"===t&&Math.floor(e.offsets.target.top??0)<Math.floor(e.offsets.host.bottom??0),ce=Math.floor(e.offsets.target.left??0)<Math.floor(n.left??0),ue=Math.floor(e.offsets.target.right??0)>Math.floor(n.right??0),Se=Math.floor(e.offsets.target.top??0)<Math.floor(n.top??0),Ve=Math.floor(e.offsets.target.bottom??0)>Math.floor(n.bottom??0),at="left"===t&&ce||"right"===t&&ue||"top"===t&&Se||"bottom"===t&&Ve,dt=-1!==["top","bottom"].indexOf(t),yt=dt&&"left"===i&&ce||dt&&"right"===i&&ue||!dt&&"left"===i&&Se||!dt&&"right"===i&&Ve;(L||at||yt)&&((L||at)&&(t=g[D+1]),yt&&(i=function Ete(e){return"right"===e?"left":"left"===e?"right":e}(i)),e.placement=t+(i?` ${i}`:""),e.offsets.target={...e.offsets.target,...iI(e.instance.target,e.offsets.host,e.placement)})}),e}function Lte(e){if(!G7(e.options,"preventOverflow"))return e;const n="transform",t=e.instance.target.style,{top:i,left:r,[n]:o}=t;t.top="",t.left="",t[n]="";const l=nI(e.instance.target,e.instance.host,0,e.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);t.top=i,t.left=r,t[n]=o;const g={primary(v){let D=e.offsets.target[v];return(e.offsets.target[v]??0)<(l[v]??0)&&(D=Math.max(e.offsets.target[v]??0,l[v]??0)),{[v]:D}},secondary(v){const D="right"===v,L=D?"left":"top";let ue=e.offsets.target[L];return(e.offsets.target[v]??0)>(l[v]??0)&&(ue=Math.min(e.offsets.target[L]??0,(l[v]??0)-e.offsets.target[D?"width":"height"])),{[L]:ue}}};return["left","right","top","bottom"].forEach(v=>{const D=-1!==["left","top","start"].indexOf(v)?g.primary:g.secondary;e.offsets.target={...e.offsets.target,...D(v)}}),e}function Pte(e){const n=e.placement,t=n.split(" ")[0],i=n.split(" ")[1];if(i){const{host:r,target:o}=e.offsets,l=-1!==["bottom","top"].indexOf(t),u=l?"left":"top",g=l?"width":"height",v={start:{[u]:r[u]},end:{[u]:(r[u]??0)+r[g]-o[g]}};e.offsets.target={...o,[u]:u===i?v.start[u]:v.end[u]}}return e}const Bte=new class Fte{position(n,t){return this.offset(n,t)}offset(n,t){return W7(t,n)}positionElements(n,t,i,r,o){const l=[Nte,Pte,Lte,Ite],g=function Rte(e,n,t,i){if(!e||!n)return;const r=W7(e,n);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const o=!!t.match(/auto/g);let l=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const u=l.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return u&&(l=u[1]+(u[2]?` ${u[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(l)&&(l="auto"),l=Y7(l,r,e,n,i?i.allowedPositions:void 0),{options:i||{modifiers:{}},instance:{target:e,host:n,arrow:void 0},offsets:{target:iI(e,r,l),host:r,arrow:void 0},positionFixed:!1,placement:l,placementAuto:o}}(t,n,L7[i],o);if(g)return l.reduce((v,D)=>D(v),g)}};function Vte(e,n,t,i,r,o){const l=Bte.positionElements(e,n,t,i,r);if(!l)return;const u=function kte(e){return{width:e.offsets.target.width,height:e.offsets.target.height,left:Math.floor(e.offsets.target.left??0),top:Math.round(e.offsets.target.top??0),bottom:Math.round(e.offsets.target.bottom??0),right:Math.floor(e.offsets.target.right??0)}}(l);X7(n,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${u.left}px, ${u.top}px, 0px)`},o),l.instance.arrow&&X7(l.instance.arrow,l.offsets.arrow,o),function Ote(e,n){const t=e.instance.target;let i=t.className;const r=ow().isBs5?gA[e.placement]:e.placement;e.placementAuto&&(i=i.replace(/bs-popover-auto/g,`bs-popover-${r}`),i=i.replace(/ms-2|me-2|mb-2|mt-2/g,""),i=i.replace(/bs-tooltip-auto/g,`bs-tooltip-${r}`),i=i.replace(/\sauto/g,` ${r}`),-1!==i.indexOf("popover")&&(i=i+" "+function Mte(e){return ow().isBs5?yA(e,"end")?"ms-2":yA(e,"start")?"me-2":yA(e,"top")?"mb-2":yA(e,"bottom")?"mt-2":"":""}(r)),-1!==i.indexOf("popover")&&-1===i.indexOf("popover-auto")&&(i+=" popover-auto"),-1!==i.indexOf("tooltip")&&-1===i.indexOf("tooltip-auto")&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom|end|start/g,`${r.split(" ")[0]}`),n?n.setAttribute(t,"class",i):t.className=i}(l,o)}let aw=(()=>{class e{constructor(t,i,r){this.update$$=new yr,this.positionElements=new Map,this.isDisabled=!1,q1(r)&&t.runOutsideAngular(()=>{this.triggerEvent$=p5(Kc(window,"scroll",{passive:!0}),Kc(window,"resize",{passive:!0}),zy(0,wte),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(o=>{Vte(bA(o.target),bA(o.element),o.attachment,o.appendToBody,this.options,i.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(bA(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete(bA(t))}setOptions(t){this.options=t}static#e=this.\u0275fac=function(i){return new(i||e)(di(Es),di(td),di(eh))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bA(e){return"string"==typeof e?document.querySelector(e):e instanceof es?e.nativeElement:e??null}const Ute=new class jte extends _5{}(class Hte extends g5{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}schedule(n,t=0){return t>0?super.schedule(n,t):(this.delay=t,this.state=n,this.scheduler.flush(this),this)}execute(n,t){return t>0||this.closed?super.execute(n,t):this._execute(n,t)}requestAsyncId(n,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(n,t,i):(n.flush(this),0)}});class q7 extends Vn{constructor(n,t,i){super(n),t.pipe(a5(Ute)).pipe(function Yte(e,n){return Ne(function zte(e,n,t,i,r){return(o,l)=>{let u=t,g=n,v=0;o.subscribe(ii(l,D=>{const L=v++;g=u?e(g,D,L):(u=!0,D),i&&l.next(g)},r&&(()=>{u&&l.next(g),l.complete()})))}}(e,n,arguments.length>=2,!0))}((l,u)=>u?i(l,u):l,n)).subscribe(l=>this.next(l))}}class vA extends Yr{constructor(n,t,i){super(),this._dispatcher=n,this._reducer=t,this.source=i}select(n){return(this.source?.pipe($i(n))||(new Yr).pipe($i(n))).pipe(rD())}lift(n){const t=new vA(this._dispatcher,this._reducer,this);return t.operator=n,t}dispatch(n){this._dispatcher.next(n)}next(n){this._dispatcher.next(n)}error(n){this._dispatcher.error(n)}complete(){}}function $te(e,n){1&e&&(B(0,"td"),De(1,"\xa0\xa0\xa0"),P())}function Wte(e,n){if(1&e){const t=tt();B(0,"td")(1,"a",1),ln("click",function(){At(t);const r=Ie();return St(r.changeMinutes(r.minuteStep))}),et(2,"span",2),P()()}if(2&e){const t=Ie();he(),ci("disabled",!t.canIncrementMinutes||!t.isEditable)}}function Gte(e,n){1&e&&(B(0,"td"),De(1,"\xa0"),P())}function Xte(e,n){if(1&e){const t=tt();B(0,"td")(1,"a",1),ln("click",function(){At(t);const r=Ie();return St(r.changeSeconds(r.secondsStep))}),et(2,"span",2),P()()}if(2&e){const t=Ie();he(),ci("disabled",!t.canIncrementSeconds||!t.isEditable)}}function qte(e,n){1&e&&(B(0,"td"),De(1,"\xa0\xa0\xa0"),P())}function Kte(e,n){1&e&&et(0,"td")}function Zte(e,n){1&e&&(B(0,"td"),De(1,"\xa0:\xa0"),P())}function Qte(e,n){if(1&e){const t=tt();B(0,"td",4)(1,"input",5),ln("wheel",function(r){At(t);const o=Ie();return o.prevDef(r),St(o.changeMinutes(o.minuteStep*o.wheelSign(r),"wheel"))})("keydown.ArrowUp",function(){At(t);const r=Ie();return St(r.changeMinutes(r.minuteStep,"key"))})("keydown.ArrowDown",function(){At(t);const r=Ie();return St(r.changeMinutes(-r.minuteStep,"key"))})("change",function(r){return At(t),St(Ie().updateMinutes(r.target))}),P()()}if(2&e){const t=Ie();ci("has-error",t.invalidMinutes),he(),ci("is-invalid",t.invalidMinutes),Pe("placeholder",t.minutesPlaceholder)("readonly",t.readonlyInput)("disabled",t.disabled)("value",t.minutes),Zs("aria-label",t.labelMinutes)}}function Jte(e,n){1&e&&(B(0,"td"),De(1,"\xa0:\xa0"),P())}function ene(e,n){if(1&e){const t=tt();B(0,"td",4)(1,"input",5),ln("wheel",function(r){At(t);const o=Ie();return o.prevDef(r),St(o.changeSeconds(o.secondsStep*o.wheelSign(r),"wheel"))})("keydown.ArrowUp",function(){At(t);const r=Ie();return St(r.changeSeconds(r.secondsStep,"key"))})("keydown.ArrowDown",function(){At(t);const r=Ie();return St(r.changeSeconds(-r.secondsStep,"key"))})("change",function(r){return At(t),St(Ie().updateSeconds(r.target))}),P()()}if(2&e){const t=Ie();ci("has-error",t.invalidSeconds),he(),ci("is-invalid",t.invalidSeconds),Pe("placeholder",t.secondsPlaceholder)("readonly",t.readonlyInput)("disabled",t.disabled)("value",t.seconds),Zs("aria-label",t.labelSeconds)}}function tne(e,n){1&e&&(B(0,"td"),De(1,"\xa0\xa0\xa0"),P())}function nne(e,n){if(1&e){const t=tt();B(0,"td")(1,"button",8),ln("click",function(){return At(t),St(Ie().toggleMeridian())}),De(2),P()()}if(2&e){const t=Ie();he(),ci("disabled",!t.isEditable||!t.canToggleMeridian),Pe("disabled",!t.isEditable||!t.canToggleMeridian),he(),Ui("",t.meridian," ")}}function ine(e,n){1&e&&(B(0,"td"),De(1,"\xa0\xa0\xa0"),P())}function rne(e,n){if(1&e){const t=tt();B(0,"td")(1,"a",1),ln("click",function(){At(t);const r=Ie();return St(r.changeMinutes(-r.minuteStep))}),et(2,"span",7),P()()}if(2&e){const t=Ie();he(),ci("disabled",!t.canDecrementMinutes||!t.isEditable)}}function sne(e,n){1&e&&(B(0,"td"),De(1,"\xa0"),P())}function one(e,n){if(1&e){const t=tt();B(0,"td")(1,"a",1),ln("click",function(){At(t);const r=Ie();return St(r.changeSeconds(-r.secondsStep))}),et(2,"span",7),P()()}if(2&e){const t=Ie();he(),ci("disabled",!t.canDecrementSeconds||!t.isEditable)}}function ane(e,n){1&e&&(B(0,"td"),De(1,"\xa0\xa0\xa0"),P())}function lne(e,n){1&e&&et(0,"td")}let j0=(()=>{class e{static#e=this.WRITE_VALUE="[timepicker] write value from ng model";static#t=this.CHANGE_HOURS="[timepicker] change hours";static#n=this.CHANGE_MINUTES="[timepicker] change minutes";static#i=this.CHANGE_SECONDS="[timepicker] change seconds";static#r=this.SET_TIME_UNIT="[timepicker] set time unit";static#s=this.UPDATE_CONTROLS="[timepicker] update controls";writeValue(t){return{type:e.WRITE_VALUE,payload:t}}changeHours(t){return{type:e.CHANGE_HOURS,payload:t}}changeMinutes(t){return{type:e.CHANGE_MINUTES,payload:t}}changeSeconds(t){return{type:e.CHANGE_SECONDS,payload:t}}setTime(t){return{type:e.SET_TIME_UNIT,payload:t}}updateControls(t){return{type:e.UPDATE_CONTROLS,payload:t}}static#o=this.\u0275fac=function(i){return new(i||e)};static#a=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const cne=10,une=24,K7=12,dne=60,hne=60;function rI(e){return!(!e||e instanceof Date&&isNaN(e.getHours()))&&("string"!=typeof e||rI(new Date(e)))}function sI(e,n){return!(e.min&&n<e.min||e.max&&n>e.max)}function bb(e){return typeof e>"u"?NaN:"number"==typeof e?e:parseInt(e,cne)}function Z7(e,n=!1){const t=bb(e);return isNaN(t)||t<0||t>(n?K7:une)?NaN:t}function Q7(e){const n=bb(e);return isNaN(n)||n<0||n>dne?NaN:n}function J7(e){const n=bb(e);return isNaN(n)||n<0||n>hne?NaN:n}function eB(e){return"string"==typeof e?new Date(e):e}function op(e,n){if(!e)return op(wA(new Date,0,0,0),n);if(!n)return e;let t=e.getHours(),i=e.getMinutes(),r=e.getSeconds();return n.hour&&(t+=bb(n.hour)),n.minute&&(i+=bb(n.minute)),n.seconds&&(r+=bb(n.seconds)),wA(e,t,i,r)}function tB(e,n){let t=Z7(n.hour);const i=Q7(n.minute),r=J7(n.seconds)||0;return n.isPM&&12!==t&&(t+=K7),e?isNaN(t)||isNaN(i)?e:wA(e,t,i,r):isNaN(t)||isNaN(i)?e:wA(new Date,t,i,r)}function wA(e,n,t,i){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),n,t,i,e.getMilliseconds());return r.setFullYear(e.getFullYear()),r.setMonth(e.getMonth()),r.setDate(e.getDate()),r}function oI(e){const n=e.toString();return n.length>1?n:`0${n}`}function nB(e,n){return!isNaN(Z7(e,n))}function iB(e){return!isNaN(Q7(e))}function rB(e){return!isNaN(J7(e))}function sB(e,n="0",t="0",i){return nB(e,i)&&iB(n)&&rB(t)}function CA(e,n){return!(e.readonlyInput||e.disabled||n&&("wheel"===n.source&&!e.mousewheel||"key"===n.source&&!e.arrowkeys))}function oB(e){const{hourStep:n,minuteStep:t,secondsStep:i,readonlyInput:r,disabled:o,mousewheel:l,arrowkeys:u,showSpinners:g,showMeridian:v,showSeconds:D,meridians:L,min:ce,max:ue}=e;return{hourStep:n,minuteStep:t,secondsStep:i,readonlyInput:r,disabled:o,mousewheel:l,arrowkeys:u,showSpinners:g,showMeridian:v,showSeconds:D,meridians:L,min:ce,max:ue}}let aB=(()=>{class e{constructor(){this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.showMeridian=!0,this.meridians=["AM","PM"],this.readonlyInput=!1,this.disabled=!1,this.allowEmptyTime=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showSeconds=!1,this.showMinutes=!0,this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.ariaLabelHours="hours",this.ariaLabelMinutes="minutes",this.ariaLabelSeconds="seconds"}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const lB={value:void 0,config:new aB,controls:{canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0}};function cB(e=lB,n){switch(n.type){case j0.WRITE_VALUE:return Object.assign({},e,{value:n.payload});case j0.CHANGE_HOURS:{if(!CA(e.config,n.payload)||!function gne(e,n){return!(!e.step||e.step>0&&!n.canIncrementHours||e.step<0&&!n.canDecrementHours)}(n.payload,e.controls))return e;const t=op(e.value,{hour:n.payload.step});return!e.config.max&&!e.config.min||sI(e.config,t)?Object.assign({},e,{value:t}):e}case j0.CHANGE_MINUTES:{if(!CA(e.config,n.payload)||!function mne(e,n){return!(!e.step||e.step>0&&!n.canIncrementMinutes||e.step<0&&!n.canDecrementMinutes)}(n.payload,e.controls))return e;const t=op(e.value,{minute:n.payload.step});return!e.config.max&&!e.config.min||sI(e.config,t)?Object.assign({},e,{value:t}):e}case j0.CHANGE_SECONDS:{if(!CA(e.config,n.payload)||!function _ne(e,n){return!(!e.step||e.step>0&&!n.canIncrementSeconds||e.step<0&&!n.canDecrementSeconds)}(n.payload,e.controls))return e;const t=op(e.value,{seconds:n.payload.step});return!e.config.max&&!e.config.min||sI(e.config,t)?Object.assign({},e,{value:t}):e}case j0.SET_TIME_UNIT:{if(!CA(e.config))return e;const t=tB(e.value,n.payload);return Object.assign({},e,{value:t})}case j0.UPDATE_CONTROLS:{const t=function yne(e,n){const{min:r,max:o,hourStep:l,minuteStep:u,secondsStep:g,showSeconds:v}=n,D={canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0};if(!e)return D;if(o){const L=op(e,{hour:l});if(D.canIncrementHours=o>L&&e.getHours()+l<24,!D.canIncrementHours){const ce=op(e,{minute:u});D.canIncrementMinutes=v?o>ce:o>=ce}if(!D.canIncrementMinutes){const ce=op(e,{seconds:g});D.canIncrementSeconds=o>=ce}e.getHours()<12&&(D.canToggleMeridian=op(e,{hour:12})<o)}if(r){const L=op(e,{hour:-l});if(D.canDecrementHours=r<L,!D.canDecrementHours){const ce=op(e,{minute:-u});D.canDecrementMinutes=v?r<ce:r<=ce}if(!D.canDecrementMinutes){const ce=op(e,{seconds:-g});D.canDecrementSeconds=r<=ce}e.getHours()>=12&&(D.canToggleMeridian=op(e,{hour:-12})>r)}return D}(e.value,n.payload),i={value:e.value,config:n.payload,controls:t};return e.config.showMeridian!==i.config.showMeridian&&e.value&&(i.value=new Date(e.value)),Object.assign({},e,i)}default:return e}}let TA=(()=>{class e extends vA{constructor(){const t=new Vn({type:"[mini-ngrx] dispatcher init"});super(t,cB,new q7(lB,t,cB))}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const bne={provide:Od,useExisting:Zi(()=>aI),multi:!0};let aI=(()=>{class e{constructor(t,i,r,o){this._cd=i,this._store=r,this._timepickerActions=o,this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.readonlyInput=!1,this.disabled=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showMeridian=!0,this.showMinutes=!0,this.showSeconds=!1,this.meridians=["AM","PM"],this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.isValid=new pi,this.meridianChange=new pi,this.hours="",this.minutes="",this.seconds="",this.meridian="",this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1,this.labelHours="hours",this.labelMinutes="minutes",this.labelSeconds="seconds",this.canIncrementHours=!0,this.canIncrementMinutes=!0,this.canIncrementSeconds=!0,this.canDecrementHours=!0,this.canDecrementMinutes=!0,this.canDecrementSeconds=!0,this.canToggleMeridian=!0,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.config=t,Object.assign(this,this.config),this.timepickerSub=r.select(l=>l.value).subscribe(l=>{this._renderTime(l),this.onChange(l),this._store.dispatch(this._timepickerActions.updateControls(oB(this)))}),r.select(l=>l.controls).subscribe(l=>{const u=sB(this.hours,this.minutes,this.seconds,this.isPM()),g=this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||u;this.isValid.emit(g),Object.assign(this,l),i.markForCheck()})}get isSpinnersVisible(){return this.showSpinners&&!this.readonlyInput}get isEditable(){return!(this.readonlyInput||this.disabled)}resetValidation(){this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1}isPM(){return this.showMeridian&&this.meridian===this.meridians[1]}prevDef(t){t.preventDefault()}wheelSign(t){return-1*Math.sign(t.deltaY||0)}ngOnChanges(){this._store.dispatch(this._timepickerActions.updateControls(oB(this)))}changeHours(t,i=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeHours({step:t,source:i}))}changeMinutes(t,i=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeMinutes({step:t,source:i}))}changeSeconds(t,i=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeSeconds({step:t,source:i}))}updateHours(t){this.resetValidation(),this.hours=t.value;const i=nB(this.hours,this.isPM())&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.invalidHours=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateMinutes(t){this.resetValidation(),this.minutes=t.value;const i=iB(this.minutes)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.invalidMinutes=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateSeconds(t){this.resetValidation(),this.seconds=t.value;const i=rB(this.seconds)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.invalidSeconds=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}isValidLimit(){return function fne(e,n,t){const i=tB(new Date,e);return!(!i||n&&i>n||t&&i<t)}({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()},this.max,this.min)}isOneOfDatesIsEmpty(){return function pne(e,n,t){return 0===e.length||0===n.length||0===t.length}(this.hours,this.minutes,this.seconds)}_updateTime(){const r=sB(this.hours,this.showMinutes?this.minutes:void 0,this.showSeconds?this.seconds:void 0,this.isPM());if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.isValid.emit(!1),void this.onChange(null);this._store.dispatch(this._timepickerActions.setTime({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()}))}toggleMeridian(){this.showMeridian&&this.isEditable&&this._store.dispatch(this._timepickerActions.changeHours({step:12,source:""}))}writeValue(t){rI(t)?(this.resetValidation(),this._store.dispatch(this._timepickerActions.writeValue(eB(t)))):null==t&&this._store.dispatch(this._timepickerActions.writeValue())}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._cd.markForCheck()}ngOnDestroy(){this.timepickerSub?.unsubscribe()}_renderTime(t){if(!t||!rI(t))return this.hours="",this.minutes="",this.seconds="",this.meridian=this.meridians[0],void this.meridianChange.emit(this.meridian);const i=eB(t);if(!i)return;let o=i.getHours();this.showMeridian&&(this.meridian=this.meridians[o>=12?1:0],this.meridianChange.emit(this.meridian),o%=12,0===o&&(o=12)),this.hours=oI(o),this.minutes=oI(i.getMinutes()),this.seconds=oI(i.getUTCSeconds())}static#e=this.\u0275fac=function(i){return new(i||e)(lt(aB),lt(ef),lt(TA),lt(j0))};static#t=this.\u0275cmp=wr({type:e,selectors:[["timepicker"]],inputs:{hourStep:"hourStep",minuteStep:"minuteStep",secondsStep:"secondsStep",readonlyInput:"readonlyInput",disabled:"disabled",mousewheel:"mousewheel",arrowkeys:"arrowkeys",showSpinners:"showSpinners",showMeridian:"showMeridian",showMinutes:"showMinutes",showSeconds:"showSeconds",meridians:"meridians",min:"min",max:"max",hoursPlaceholder:"hoursPlaceholder",minutesPlaceholder:"minutesPlaceholder",secondsPlaceholder:"secondsPlaceholder"},outputs:{isValid:"isValid",meridianChange:"meridianChange"},features:[jo([bne,TA]),Fa],decls:31,vars:33,consts:[[1,"text-center",3,"hidden"],["href","javascript:void(0);",1,"btn","btn-link",3,"click"],[1,"bs-chevron","bs-chevron-up"],[4,"ngIf"],[1,"form-group","mb-3"],["type","text","maxlength","2",1,"form-control","text-center","bs-timepicker-field",3,"wheel","keydown.ArrowUp","keydown.ArrowDown","change","placeholder","readonly","disabled","value"],["class","form-group mb-3",3,"has-error",4,"ngIf"],[1,"bs-chevron","bs-chevron-down"],["type","button",1,"btn","btn-default","text-center",3,"click","disabled"]],template:function(i,r){1&i&&(B(0,"table")(1,"tbody")(2,"tr",0)(3,"td")(4,"a",1),ln("click",function(){return r.changeHours(r.hourStep)}),et(5,"span",2),P()(),Qt(6,$te,2,0,"td",3)(7,Wte,3,2,"td",3)(8,Gte,2,0,"td",3)(9,Xte,3,2,"td",3)(10,qte,2,0,"td",3)(11,Kte,1,0,"td",3),P(),B(12,"tr")(13,"td",4)(14,"input",5),ln("wheel",function(l){return r.prevDef(l),r.changeHours(r.hourStep*r.wheelSign(l),"wheel")})("keydown.ArrowUp",function(){return r.changeHours(r.hourStep,"key")})("keydown.ArrowDown",function(){return r.changeHours(-r.hourStep,"key")})("change",function(l){return r.updateHours(l.target)}),P()(),Qt(15,Zte,2,0,"td",3)(16,Qte,2,9,"td",6)(17,Jte,2,0,"td",3)(18,ene,2,9,"td",6)(19,tne,2,0,"td",3)(20,nne,3,4,"td",3),P(),B(21,"tr",0)(22,"td")(23,"a",1),ln("click",function(){return r.changeHours(-r.hourStep)}),et(24,"span",7),P()(),Qt(25,ine,2,0,"td",3)(26,rne,3,2,"td",3)(27,sne,2,0,"td",3)(28,one,3,2,"td",3)(29,ane,2,0,"td",3)(30,lne,1,0,"td",3),P()()()),2&i&&(he(2),Pe("hidden",!r.showSpinners),he(2),ci("disabled",!r.canIncrementHours||!r.isEditable),he(2),Pe("ngIf",r.showMinutes),he(),Pe("ngIf",r.showMinutes),he(),Pe("ngIf",r.showSeconds),he(),Pe("ngIf",r.showSeconds),he(),Pe("ngIf",r.showMeridian),he(),Pe("ngIf",r.showMeridian),he(2),ci("has-error",r.invalidHours),he(),ci("is-invalid",r.invalidHours),Pe("placeholder",r.hoursPlaceholder)("readonly",r.readonlyInput)("disabled",r.disabled)("value",r.hours),Zs("aria-label",r.labelHours),he(),Pe("ngIf",r.showMinutes),he(),Pe("ngIf",r.showMinutes),he(),Pe("ngIf",r.showSeconds),he(),Pe("ngIf",r.showSeconds),he(),Pe("ngIf",r.showMeridian),he(),Pe("ngIf",r.showMeridian),he(),Pe("hidden",!r.showSpinners),he(2),ci("disabled",!r.canDecrementHours||!r.isEditable),he(2),Pe("ngIf",r.showMinutes),he(),Pe("ngIf",r.showMinutes),he(),Pe("ngIf",r.showSeconds),he(),Pe("ngIf",r.showSeconds),he(),Pe("ngIf",r.showMeridian),he(),Pe("ngIf",r.showMeridian))},dependencies:[Yc],styles:[".bs-chevron{border-style:solid;display:block;width:9px;height:9px;position:relative;border-width:3px 0px 0 3px}.bs-chevron-up{transform:rotate(45deg);top:2px}.bs-chevron-down{transform:rotate(-135deg);top:-2px}.bs-timepicker-field{width:65px;padding:.375rem .55rem}\n"],encapsulation:2,changeDetection:0})}return e})(),vne=(()=>{class e{static forRoot(){return{ngModule:e,providers:[j0,TA]}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({providers:[TA],imports:[jy]})}return e})();function uB(e,n,t){e?A0(t,e,n):n()}class VD{constructor(n,t,i){this.nodes=n,this.viewRef=t,this.componentRef=i}}class Tne{constructor(n,t,i,r,o,l,u,g,v){this._viewContainerRef=n,this._renderer=t,this._elementRef=i,this._injector=r,this._componentFactoryResolver=o,this._ngZone=l,this._applicationRef=u,this._posService=g,this._document=v,this.onBeforeShow=new pi,this.onShown=new pi,this.onBeforeHide=new pi,this.onHidden=new pi,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(n){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(n),this}to(n){return this.container=n||this.container,this}position(n){return n?(this.attachment=n.attachment||this.attachment,this._elementRef=n.target||this._elementRef,this):this}provide(n){return this._providers.push(n),this}show(n={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(n.content,n.context,n.initialState);const t=Ko.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,n),this.container instanceof es&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const i=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!i)return;i.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(n.id?{id:n.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(n){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const t=this._componentRef.location.nativeElement;return t.parentNode?.removeChild(t),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(n?{id:n}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(n){this.triggers=n.triggers||this.triggers,this._listenOpts.outsideClick=n.outsideClick,this._listenOpts.outsideEsc=n.outsideEsc,n.target=n.target||this._elementRef?.nativeElement;const t=this._listenOpts.hide=()=>n.hide?n.hide():void this.hide(),i=this._listenOpts.show=o=>{n.show?n.show(o):this.show(o),o()};return this._renderer&&(this._unregisterListenersFn=function ste(e,n){const t=ZO(n.triggers),i=n.target;if(1===t.length&&t[0].isManual())return Function.prototype;const r=[],o=[],l=()=>{o.forEach(u=>r.push(u())),o.length=0};return t.forEach(u=>{const g=u.open===u.close,v=g?n.toggle:n.show;if(!g&&u.close&&n.hide){const D=u.close,L=n.hide;o.push(()=>e.listen(i,D,L))}v&&r.push(e.listen(i,u.open,()=>v(l)))}),()=>{r.forEach(u=>u())}}(this._renderer,{target:n.target,triggers:n.triggers,show:i,hide:t,toggle:o=>{this.isShown?t():i(o)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(n,t){return n&&t&&(this._inlineViewRef=n.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const n=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function ote(e,n){return n.outsideClick?e.listen("document","click",t=>{n.target&&n.target.contains(t.target)||n.targets&&n.targets.some(i=>i.contains(t.target))||n.hide&&n.hide()}):Function.prototype}(this._renderer,{targets:[n,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function ate(e,n){return n.outsideEsc?e.listen("document","keyup.esc",t=>{n.target&&n.target.contains(t.target)||n.targets&&n.targets.some(i=>i.contains(t.target))||n.hide&&n.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(n,t,i){if(!n)return new VD([]);if(n instanceof Yl){if(this._viewContainerRef){const l=this._viewContainerRef.createEmbeddedView(n,t);return l.markForCheck(),new VD([l.rootNodes],l)}const o=n.createEmbeddedView({});return this._applicationRef.attachView(o),new VD([o.rootNodes],o)}if("function"==typeof n){const o=this._componentFactoryResolver.resolveComponentFactory(n),l=Ko.create({providers:this._providers,parent:this._injector}),u=o.create(l);return Object.assign(u.instance,i),this._applicationRef.attachView(u.hostView),new VD([[u.location.nativeElement]],u.hostView,u)}const r=this._renderer?[this._renderer.createText(`${n}`)]:[];return new VD([r])}}let HD=(()=>{class e{constructor(t,i,r,o,l,u){this._componentFactoryResolver=t,this._ngZone=i,this._injector=r,this._posService=o,this._applicationRef=l,this._document=u}createLoader(t,i,r){return new Tne(i,r,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static#e=this.\u0275fac=function(i){return new(i||e)(di(Wh),di(Es),di(Ko),di(aw),di(ag),di(cc))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Dne=["*"];let lI=(()=>{class e{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xne=(()=>{class e{get _bsVersions(){return ow()}constructor(t){Object.assign(this,t)}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=gA[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}static#e=this.\u0275fac=function(i){return new(i||e)(lt(lI))};static#t=this.\u0275cmp=wr({type:e,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(i,r){2&i&&(Zs("id",r.id),rd("show tooltip in tooltip-"+r.placement+" bs-tooltip-"+r.placement+" "+r.placement+" "+r.containerClass))},ngContentSelectors:Dne,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(i,r){1&i&&(Fy(),et(0,"div",0),B(1,"div",1),G1(2),P())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none;position:absolute}.tooltip[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute}"],changeDetection:0})}return e})(),kne=0,Sne=(()=>{class e{get isOpen(){return this._tooltip.isShown}set isOpen(t){t?this.show():this.hide()}set htmlContent(t){this.tooltip=t}set _placement(t){this.placement=t}set _isOpen(t){this.isOpen=t}get _isOpen(){return this.isOpen}set _enable(t){this.isDisabled=!t}get _enable(){return this.isDisabled}set _appendToBody(t){this.container=t?"body":this.container}get _appendToBody(){return"body"===this.container}set _popupClass(t){}set _tooltipContext(t){}set _tooltipPopupDelay(t){this.delay=t}get _tooltipTrigger(){return this.triggers}set _tooltipTrigger(t){this.triggers=(t||"").toString()}constructor(t,i,r,o,l,u){this._elementRef=o,this._renderer=l,this._positionService=u,this.tooltipId=kne++,this.adaptivePosition=!0,this.tooltipChange=new pi,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new pi,this._tooltip=i.createLoader(this._elementRef,t,this._renderer).provide({provide:lI,useValue:r}),Object.assign(this,r),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(t=>{t||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const t=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(xne).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},i=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=vE(this.delay).subscribe(()=>{t(),i()}),this.triggers&&ZO(this.triggers).forEach(r=>{r.close&&(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,r.close,()=>{this._delaySubscription?.unsubscribe(),i()}))})):t()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance?.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||e)(lt(Dc),lt(HD),lt(lI),lt(es),lt(hl),lt(aw))};static#t=this.\u0275dir=li({type:e,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:[ds.None,"tooltipHtml","htmlContent"],_placement:[ds.None,"tooltipPlacement","_placement"],_isOpen:[ds.None,"tooltipIsOpen","_isOpen"],_enable:[ds.None,"tooltipEnable","_enable"],_appendToBody:[ds.None,"tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:[ds.None,"tooltipClass","_popupClass"],_tooltipContext:[ds.None,"tooltipContext","_tooltipContext"],_tooltipPopupDelay:[ds.None,"tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:[ds.None,"tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]})}return function SL(e,n,t,i){var l,r=arguments.length,o=r<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,i);else for(var u=e.length-1;u>=0;u--)(l=e[u])&&(o=(r<3?l(o):r>3?l(n,t,o):l(n,t))||o);return r>3&&o&&Object.defineProperty(n,t,o),o}([dte(),EL("design:type",Object)],e.prototype,"tooltip",void 0),e})(),Ene=(()=>{class e{static forRoot(){return{ngModule:e,providers:[HD,aw]}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({imports:[jy]})}return e})();function Ane(e,n){if(1&e){const t=tt();B(0,"button",2),ln("click",function(){const r=At(t).$implicit;return St(Ie().selectFromRanges(r))}),De(1),P()}if(2&e){const t=n.$implicit,i=Ie();ci("selected",t.value===i.selectedRange),he(),Ui(" ",t.label," ")}}const Mne=[[["bs-datepicker-navigation-view"]],"*"],One=["bs-datepicker-navigation-view","*"];function Ine(e,n){1&e&&et(0,"bs-current-date",4)}function Nne(e,n){1&e&&et(0,"bs-timepicker")}const Rne=["bsDatepickerDayDecorator",""];function Lne(e,n){if(1&e){const t=tt();xt(0),De(1," \u200b "),B(2,"button",2),ln("click",function(){return At(t),St(Ie().view("month"))}),B(3,"span"),De(4),P()(),bn()}if(2&e){const t=Ie();he(2),Pe("disabled",t.isDisabled),he(2),rr(t.calendar.monthTitle)}}function Pne(e,n){1&e&&et(0,"th")}function Fne(e,n){if(1&e&&(B(0,"th",5),De(1),P()),2&e){const t=n.index,i=Ie();he(),Ui("",i.calendar.weekdays[t]," ")}}function Bne(e,n){if(1&e){const t=tt();B(0,"span",11),ln("click",function(){At(t);const r=Ie(2).$implicit;return St(Ie().selectWeek(r))}),De(1),P()}if(2&e){const t=Ie(2).index,i=Ie();he(),rr(i.calendar.weekNumbers[t])}}function Vne(e,n){if(1&e){const t=tt();B(0,"span",12),ln("click",function(){At(t);const r=Ie(2).$implicit;return St(Ie().selectWeek(r))})("mouseenter",function(){At(t);const r=Ie(2).$implicit;return St(Ie().weekHoverHandler(r,!0))})("mouseleave",function(){At(t);const r=Ie(2).$implicit;return St(Ie().weekHoverHandler(r,!1))}),De(1),P()}if(2&e){const t=Ie(2).index,i=Ie();he(),rr(i.calendar.weekNumbers[t])}}function Hne(e,n){if(1&e&&(B(0,"td",8),Qt(1,Bne,2,1,"span",9)(2,Vne,2,1,"span",10),P()),2&e){const t=Ie(2);ci("active-week",t.isWeekHovered),he(),Pe("ngIf",t.isiOS),he(),Pe("ngIf",!t.isiOS)}}function jne(e,n){if(1&e){const t=tt();B(0,"span",17),ln("click",function(){At(t);const r=Ie().$implicit;return St(Ie(2).selectDay(r))})("mouseenter",function(){At(t);const r=Ie().$implicit;return St(Ie(2).hoverDay(r,!0))})("mouseleave",function(){At(t);const r=Ie().$implicit;return St(Ie(2).hoverDay(r,!1))}),De(1),P()}if(2&e){const t=Ie().$implicit;NS("tooltip",t.tooltipText),Pe("day",t),he(),Ui("",t.label," 3")}}function Une(e,n){if(1&e){const t=tt();B(0,"span",18),ln("click",function(){At(t);const r=Ie().$implicit;return St(Ie(2).selectDay(r))})("mouseenter",function(){At(t);const r=Ie().$implicit;return St(Ie(2).hoverDay(r,!0))})("mouseleave",function(){At(t);const r=Ie().$implicit;return St(Ie(2).hoverDay(r,!1))}),De(1),P()}if(2&e){const t=Ie().$implicit;Pe("day",t),he(),Ui("",t.label," 2")}}function zne(e,n){if(1&e){const t=tt();B(0,"span",19),ln("click",function(){At(t);const r=Ie().$implicit;return St(Ie(2).selectDay(r))}),De(1),P()}if(2&e){const t=Ie().$implicit;Pe("day",t),he(),Ui("",t.label," 1")}}function Yne(e,n){if(1&e&&(B(0,"td",13),Qt(1,jne,2,3,"span",14)(2,Une,2,2,"span",15)(3,zne,2,2,"span",16),P()),2&e){const t=Ie(2);he(),Pe("ngIf",!t.isiOS&&t.isShowTooltip),he(),Pe("ngIf",!t.isiOS&&!t.isShowTooltip),he(),Pe("ngIf",t.isiOS)}}function $ne(e,n){if(1&e&&(B(0,"tr"),Qt(1,Hne,3,4,"td",6)(2,Yne,4,3,"td",7),P()),2&e){const t=n.$implicit,i=Ie();he(),Pe("ngIf",i.options&&i.options.showWeekNumbers),he(),Pe("ngForOf",t.days)}}function Wne(e,n){if(1&e){const t=tt();B(0,"td",4),ln("click",function(){const r=At(t).$implicit;return St(Ie(2).viewMonth(r))})("mouseenter",function(){const r=At(t).$implicit;return St(Ie(2).hoverMonth(r,!0))})("mouseleave",function(){const r=At(t).$implicit;return St(Ie(2).hoverMonth(r,!1))}),B(1,"span"),De(2),P()()}if(2&e){const t=n.$implicit;ci("disabled",t.isDisabled)("is-highlighted",t.isHovered),he(),ci("selected",t.isSelected),he(),rr(t.label)}}function Gne(e,n){if(1&e&&(B(0,"tr"),Qt(1,Wne,3,7,"td",3),P()),2&e){const t=n.$implicit;he(),Pe("ngForOf",t)}}function Xne(e,n){if(1&e){const t=tt();B(0,"td",4),ln("click",function(){const r=At(t).$implicit;return St(Ie(2).viewYear(r))})("mouseenter",function(){const r=At(t).$implicit;return St(Ie(2).hoverYear(r,!0))})("mouseleave",function(){const r=At(t).$implicit;return St(Ie(2).hoverYear(r,!1))}),B(1,"span"),De(2),P()()}if(2&e){const t=n.$implicit;ci("disabled",t.isDisabled)("is-highlighted",t.isHovered),he(),ci("selected",t.isSelected),he(),rr(t.label)}}function qne(e,n){if(1&e&&(B(0,"tr"),Qt(1,Xne,3,7,"td",3),P()),2&e){const t=n.$implicit;he(),Pe("ngForOf",t)}}const dB=["startTP"];function Kne(e,n){if(1&e){const t=tt();B(0,"bs-days-calendar-view",13),fa(1,"async"),ln("onNavigate",function(r){return At(t),St(Ie(3).navigateTo(r))})("onViewMode",function(r){return At(t),St(Ie(3).setViewMode(r))})("onHover",function(r){return At(t),St(Ie(3).dayHoverHandler(r))})("onHoverWeek",function(r){return At(t),St(Ie(3).weekHoverHandler(r))})("onSelect",function(r){return At(t),St(Ie(3).daySelectHandler(r))}),P()}if(2&e){const t=n.$implicit,i=Ie(3);ci("bs-datepicker-multiple",i.multipleCalendars),Pe("calendar",t)("isDisabled",i.isDatePickerDisabled)("options",ql(1,5,i.options$))}}function Zne(e,n){1&e&&et(0,"timepicker",15,1),2&e&&Pe("disabled",Ie(4).isDatePickerDisabled)}function Qne(e,n){if(1&e&&(B(0,"div",14),et(1,"timepicker",15,0),Qt(3,Zne,2,1,"timepicker",16),P()),2&e){const t=Ie(3);he(),Pe("disabled",t.isDatePickerDisabled),he(2),Pe("ngIf",t.isRangePicker)}}function Jne(e,n){if(1&e&&(xt(0),B(1,"div",10),Qt(2,Kne,2,7,"bs-days-calendar-view",11),fa(3,"async"),P(),Qt(4,Qne,4,2,"div",12),bn()),2&e){const t=Ie(2);he(2),Pe("ngForOf",ql(3,2,t.daysCalendar$)),he(2),Pe("ngIf",t.withTimepicker)}}function eie(e,n){if(1&e){const t=tt();B(0,"bs-month-calendar-view",18),ln("onNavigate",function(r){return At(t),St(Ie(3).navigateTo(r))})("onViewMode",function(r){return At(t),St(Ie(3).setViewMode(r))})("onHover",function(r){return At(t),St(Ie(3).monthHoverHandler(r))})("onSelect",function(r){return At(t),St(Ie(3).monthSelectHandler(r))}),P()}if(2&e){const t=n.$implicit;ci("bs-datepicker-multiple",Ie(3).multipleCalendars),Pe("calendar",t)}}function tie(e,n){if(1&e&&(B(0,"div",10),Qt(1,eie,1,3,"bs-month-calendar-view",17),fa(2,"async"),P()),2&e){const t=Ie(2);he(),Pe("ngForOf",ql(2,1,t.monthsCalendar))}}function nie(e,n){if(1&e){const t=tt();B(0,"bs-years-calendar-view",18),ln("onNavigate",function(r){return At(t),St(Ie(3).navigateTo(r))})("onViewMode",function(r){return At(t),St(Ie(3).setViewMode(r))})("onHover",function(r){return At(t),St(Ie(3).yearHoverHandler(r))})("onSelect",function(r){return At(t),St(Ie(3).yearSelectHandler(r))}),P()}if(2&e){const t=n.$implicit;ci("bs-datepicker-multiple",Ie(3).multipleCalendars),Pe("calendar",t)}}function iie(e,n){if(1&e&&(B(0,"div",10),Qt(1,nie,1,3,"bs-years-calendar-view",17),fa(2,"async"),P()),2&e){const t=Ie(2);he(),Pe("ngForOf",ql(2,1,t.yearsCalendar))}}function rie(e,n){1&e&&(B(0,"div",19)(1,"button",20),De(2,"Apply"),P(),B(3,"button",21),De(4,"Cancel"),P()())}function sie(e,n){if(1&e){const t=tt();B(0,"div",24)(1,"button",25),ln("click",function(){return At(t),St(Ie(3).setToday())}),De(2),P()()}if(2&e){const t=Ie(3);ci("today-left","left"===t.todayPos)("today-right","right"===t.todayPos)("today-center","center"===t.todayPos),he(2),rr(t.todayBtnLbl)}}function oie(e,n){if(1&e){const t=tt();B(0,"div",26)(1,"button",25),ln("click",function(){return At(t),St(Ie(3).clearDate())}),De(2),P()()}if(2&e){const t=Ie(3);ci("clear-left","left"===t.clearPos)("clear-right","right"===t.clearPos)("clear-center","center"===t.clearPos),he(2),rr(t.clearBtnLbl)}}function aie(e,n){if(1&e&&(B(0,"div",19),Qt(1,sie,3,7,"div",22)(2,oie,3,7,"div",23),P()),2&e){const t=Ie(2);he(),Pe("ngIf",t.showTodayBtn),he(),Pe("ngIf",t.showClearBtn)}}function lie(e,n){if(1&e){const t=tt();B(0,"div",27)(1,"bs-custom-date-view",28),ln("onSelect",function(r){return At(t),St(Ie(2).setRangeOnCalendar(r))}),P()()}if(2&e){const t=Ie(2);he(),Pe("selectedRange",t.chosenRange)("ranges",t.customRanges)("customRangeLabel",t.customRangeBtnLbl)}}function cie(e,n){if(1&e){const t=tt();B(0,"div",3)(1,"div",4),ln("@datepickerAnimation.done",function(){return At(t),St(Ie().positionServiceEnable())}),B(2,"div",5),fa(3,"async"),Qt(4,Jne,5,4,"ng-container",6)(5,tie,3,3,"div",7)(6,iie,3,3,"div",7),P(),Qt(7,rie,5,0,"div",8)(8,aie,3,2,"div",8),P(),Qt(9,lie,2,3,"div",9),P()}if(2&e){const t=Ie();Pe("ngClass",t.containerClass),he(),Pe("@datepickerAnimation",t.animationState),he(),Pe("ngSwitch",ql(3,9,t.viewMode)),he(2),Pe("ngSwitchCase","day"),he(),Pe("ngSwitchCase","month"),he(),Pe("ngSwitchCase","year"),he(),Pe("ngIf",!1),he(),Pe("ngIf",t.showTodayBtn||t.showClearBtn),he(),Pe("ngIf",t.customRanges&&t.customRanges.length>0)}}const Tie=["endTP"];function Die(e,n){if(1&e){const t=tt();B(0,"bs-days-calendar-view",13),fa(1,"async"),ln("onNavigate",function(r){return At(t),St(Ie(3).navigateTo(r))})("onViewMode",function(r){return At(t),St(Ie(3).setViewMode(r))})("onHover",function(r){return At(t),St(Ie(3).dayHoverHandler(r))})("onHoverWeek",function(r){return At(t),St(Ie(3).weekHoverHandler(r))})("onSelect",function(r){return At(t),St(Ie(3).daySelectHandler(r))}),P()}if(2&e){const t=n.$implicit,i=Ie(3);ci("bs-datepicker-multiple",i.multipleCalendars),Pe("calendar",t)("isDisabled",i.isDatePickerDisabled)("options",ql(1,5,i.options$))}}function xie(e,n){1&e&&et(0,"timepicker",15,1),2&e&&Pe("disabled",Ie(4).isDatePickerDisabled)}function kie(e,n){if(1&e&&(B(0,"div",14),et(1,"timepicker",15,0),Qt(3,xie,2,1,"timepicker",16),P()),2&e){const t=Ie(3);he(),Pe("disabled",t.isDatePickerDisabled),he(2),Pe("ngIf",t.isRangePicker)}}function Sie(e,n){if(1&e&&(xt(0),B(1,"div",10),Qt(2,Die,2,7,"bs-days-calendar-view",11),fa(3,"async"),P(),Qt(4,kie,4,2,"div",12),bn()),2&e){const t=Ie(2);he(2),Pe("ngForOf",ql(3,2,t.daysCalendar$)),he(2),Pe("ngIf",t.withTimepicker)}}function Eie(e,n){if(1&e){const t=tt();B(0,"bs-month-calendar-view",18),ln("onNavigate",function(r){return At(t),St(Ie(3).navigateTo(r))})("onViewMode",function(r){return At(t),St(Ie(3).setViewMode(r))})("onHover",function(r){return At(t),St(Ie(3).monthHoverHandler(r))})("onSelect",function(r){return At(t),St(Ie(3).monthSelectHandler(r))}),P()}if(2&e){const t=n.$implicit;ci("bs-datepicker-multiple",Ie(3).multipleCalendars),Pe("calendar",t)}}function Aie(e,n){if(1&e&&(B(0,"div",10),Qt(1,Eie,1,3,"bs-month-calendar-view",17),fa(2,"async"),P()),2&e){const t=Ie(2);he(),Pe("ngForOf",ql(2,1,t.monthsCalendar))}}function Mie(e,n){if(1&e){const t=tt();B(0,"bs-years-calendar-view",18),ln("onNavigate",function(r){return At(t),St(Ie(3).navigateTo(r))})("onViewMode",function(r){return At(t),St(Ie(3).setViewMode(r))})("onHover",function(r){return At(t),St(Ie(3).yearHoverHandler(r))})("onSelect",function(r){return At(t),St(Ie(3).yearSelectHandler(r))}),P()}if(2&e){const t=n.$implicit;ci("bs-datepicker-multiple",Ie(3).multipleCalendars),Pe("calendar",t)}}function Oie(e,n){if(1&e&&(B(0,"div",10),Qt(1,Mie,1,3,"bs-years-calendar-view",17),fa(2,"async"),P()),2&e){const t=Ie(2);he(),Pe("ngForOf",ql(2,1,t.yearsCalendar))}}function Iie(e,n){1&e&&(B(0,"div",19)(1,"button",20),De(2,"Apply"),P(),B(3,"button",21),De(4,"Cancel"),P()())}function Nie(e,n){if(1&e){const t=tt();B(0,"div",24)(1,"button",25),ln("click",function(){return At(t),St(Ie(3).setToday())}),De(2),P()()}if(2&e){const t=Ie(3);ci("today-left","left"===t.todayPos)("today-right","right"===t.todayPos)("today-center","center"===t.todayPos),he(2),rr(t.todayBtnLbl)}}function Rie(e,n){if(1&e){const t=tt();B(0,"div",26)(1,"button",25),ln("click",function(){return At(t),St(Ie(3).clearDate())}),De(2),P()()}if(2&e){const t=Ie(3);ci("clear-left","left"===t.clearPos)("clear-right","right"===t.clearPos)("clear-center","center"===t.clearPos),he(2),rr(t.clearBtnLbl)}}function Lie(e,n){if(1&e&&(B(0,"div",19),Qt(1,Nie,3,7,"div",22)(2,Rie,3,7,"div",23),P()),2&e){const t=Ie(2);he(),Pe("ngIf",t.showTodayBtn),he(),Pe("ngIf",t.showClearBtn)}}function Pie(e,n){if(1&e){const t=tt();B(0,"div",27)(1,"bs-custom-date-view",28),ln("onSelect",function(r){return At(t),St(Ie(2).setRangeOnCalendar(r))}),P()()}if(2&e){const t=Ie(2);he(),Pe("selectedRange",t.chosenRange)("ranges",t.customRanges)("customRangeLabel",t.customRangeBtnLbl)}}function Fie(e,n){if(1&e){const t=tt();B(0,"div",3)(1,"div",4),ln("@datepickerAnimation.done",function(){return At(t),St(Ie().positionServiceEnable())}),B(2,"div",5),fa(3,"async"),Qt(4,Sie,5,4,"ng-container",6)(5,Aie,3,3,"div",7)(6,Oie,3,3,"div",7),P(),Qt(7,Iie,5,0,"div",8)(8,Lie,3,2,"div",8),P(),Qt(9,Pie,2,3,"div",9),P()}if(2&e){const t=Ie();Pe("ngClass",t.containerClass),he(),Pe("@datepickerAnimation",t.animationState),he(),Pe("ngSwitch",ql(3,9,t.viewMode)),he(2),Pe("ngSwitchCase","day"),he(),Pe("ngSwitchCase","month"),he(),Pe("ngSwitchCase","year"),he(),Pe("ngIf",!1),he(),Pe("ngIf",t.showTodayBtn||t.showClearBtn),he(),Pe("ngIf",t.customRanges&&t.customRanges.length>0)}}let U0=(()=>{class e{constructor(){this.adaptivePosition=!1,this.useUtc=!1,this.isAnimated=!1,this.startView="day",this.returnFocusToInput=!1,this.containerClass="theme-green",this.displayMonths=1,this.showWeekNumbers=!0,this.dateInputFormat="L",this.rangeSeparator=" - ",this.rangeInputFormat="L",this.monthTitle="MMMM",this.yearTitle="YYYY",this.dayLabel="D",this.monthLabel="MMMM",this.yearLabel="YYYY",this.weekNumbers="w",this.showTodayButton=!1,this.showClearButton=!1,this.todayPosition="center",this.clearPosition="right",this.todayButtonLabel="Today",this.clearButtonLabel="Clear",this.customRangeButtonLabel="Custom Range",this.withTimepicker=!1,this.allowedPositions=["top","bottom"],this.keepDatepickerOpened=!1,this.keepDatesOutOfRules=!1}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const hB="220ms cubic-bezier(0, 0, 0.2, 1)",fB=Y8("datepickerAnimation",[_D("animated-down",I0({height:"*",overflow:"hidden"})),yD("* => animated-down",[I0({height:0,overflow:"hidden"}),mD(hB)]),_D("animated-up",I0({height:"*",overflow:"hidden"})),yD("* => animated-up",[I0({height:"*",overflow:"hidden"}),mD(hB)]),yD("* => unanimated",mD("0s"))]);class pB{constructor(){this.containerClass="",this.customRanges=[],this.chosenRange=[],this._daysCalendarSub=new Pn,this.selectedTimeSub=new Pn}set minDate(n){this._effects?.setMinDate(n)}set maxDate(n){this._effects?.setMaxDate(n)}set daysDisabled(n){this._effects?.setDaysDisabled(n)}set datesDisabled(n){this._effects?.setDatesDisabled(n)}set datesEnabled(n){this._effects?.setDatesEnabled(n)}set isDisabled(n){this._effects?.setDisabled(n)}set dateCustomClasses(n){this._effects?.setDateCustomClasses(n)}set dateTooltipTexts(n){this._effects?.setDateTooltipTexts(n)}set daysCalendar$(n){this._daysCalendar$=n,this._daysCalendarSub.unsubscribe(),this._daysCalendarSub.add(this._daysCalendar$.subscribe(t=>{this.multipleCalendars=!!t&&t.length>1}))}get daysCalendar$(){return this._daysCalendar$}setViewMode(n){}navigateTo(n){}dayHoverHandler(n){}weekHoverHandler(n){}monthHoverHandler(n){}yearHoverHandler(n){}timeSelectHandler(n,t){}daySelectHandler(n){}monthSelectHandler(n){}yearSelectHandler(n){}setRangeOnCalendar(n){}setToday(){}clearDate(){}_stopPropagation(n){n.stopPropagation()}}let Ec=(()=>{class e{static#e=this.CALCULATE="[datepicker] calculate dates matrix";static#t=this.FORMAT="[datepicker] format datepicker values";static#n=this.FLAG="[datepicker] set flags";static#i=this.SELECT="[datepicker] select date";static#r=this.NAVIGATE_OFFSET="[datepicker] shift view date";static#s=this.NAVIGATE_TO="[datepicker] change view date";static#o=this.SET_OPTIONS="[datepicker] update render options";static#a=this.HOVER="[datepicker] hover date";static#l=this.CHANGE_VIEWMODE="[datepicker] switch view mode";static#c=this.SET_MIN_DATE="[datepicker] set min date";static#u=this.SET_MAX_DATE="[datepicker] set max date";static#d=this.SET_DAYSDISABLED="[datepicker] set days disabled";static#h=this.SET_DATESDISABLED="[datepicker] set dates disabled";static#f=this.SET_DATESENABLED="[datepicker] set dates enabled";static#p=this.SET_IS_DISABLED="[datepicker] set is disabled";static#g=this.SET_DATE_CUSTOM_CLASSES="[datepicker] set date custom classes";static#m=this.SET_DATE_TOOLTIP_TEXTS="[datepicker] set date tooltip texts";static#_=this.SET_LOCALE="[datepicker] set datepicker locale";static#y=this.SELECT_TIME="[datepicker] select time";static#b=this.SELECT_RANGE="[daterangepicker] select dates range";calculate(){return{type:e.CALCULATE}}format(){return{type:e.FORMAT}}flag(){return{type:e.FLAG}}select(t){return{type:e.SELECT,payload:t}}selectTime(t,i){return{type:e.SELECT_TIME,payload:{date:t,index:i}}}changeViewMode(t){return{type:e.CHANGE_VIEWMODE,payload:t}}navigateTo(t){return{type:e.NAVIGATE_TO,payload:t}}navigateStep(t){return{type:e.NAVIGATE_OFFSET,payload:t}}setOptions(t){return{type:e.SET_OPTIONS,payload:t}}selectRange(t){return{type:e.SELECT_RANGE,payload:t}}hoverDay(t){return{type:e.HOVER,payload:t.isHovered?t.cell.date:null}}minDate(t){return{type:e.SET_MIN_DATE,payload:t}}maxDate(t){return{type:e.SET_MAX_DATE,payload:t}}daysDisabled(t){return{type:e.SET_DAYSDISABLED,payload:t}}datesDisabled(t){return{type:e.SET_DATESDISABLED,payload:t}}datesEnabled(t){return{type:e.SET_DATESENABLED,payload:t}}isDisabled(t){return{type:e.SET_IS_DISABLED,payload:t}}setDateCustomClasses(t){return{type:e.SET_DATE_CUSTOM_CLASSES,payload:t}}setDateTooltipTexts(t){return{type:e.SET_DATE_TOOLTIP_TEXTS,payload:t}}setLocale(t){return{type:e.SET_LOCALE,payload:t}}static#v=this.\u0275fac=function(i){return new(i||e)};static#w=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),DA=(()=>{class e{constructor(){this._defaultLocale="en",this._locale=new Vn(this._defaultLocale),this._localeChange=this._locale.asObservable()}get locale(){return this._locale}get localeChange(){return this._localeChange}get currentLocale(){return this._locale.getValue()}use(t){t!==this.currentLocale&&this._locale.next(t)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),jD=(()=>{class e{constructor(t,i){this._actions=t,this._localeService=i,this._subs=[]}init(t){return this._store=t,this}setValue(t){this._store?.dispatch(this._actions.select(t))}setRangeValue(t){this._store?.dispatch(this._actions.selectRange(t))}setMinDate(t){return this._store?.dispatch(this._actions.minDate(t)),this}setMaxDate(t){return this._store?.dispatch(this._actions.maxDate(t)),this}setDaysDisabled(t){return this._store?.dispatch(this._actions.daysDisabled(t)),this}setDatesDisabled(t){return this._store?.dispatch(this._actions.datesDisabled(t)),this}setDatesEnabled(t){return this._store?.dispatch(this._actions.datesEnabled(t)),this}setDisabled(t){return this._store?.dispatch(this._actions.isDisabled(t)),this}setDateCustomClasses(t){return this._store?.dispatch(this._actions.setDateCustomClasses(t)),this}setDateTooltipTexts(t){return this._store?.dispatch(this._actions.setDateTooltipTexts(t)),this}setOptions(t){const i=Object.assign({locale:this._localeService.currentLocale},t);return this._store?.dispatch(this._actions.setOptions(i)),this}setBindings(t){return this._store?(t.selectedTime=this._store.select(i=>i.selectedTime).pipe(Sa(i=>!!i)),t.daysCalendar$=this._store.select(i=>i.flaggedMonths).pipe(Sa(i=>!!i)),t.monthsCalendar=this._store.select(i=>i.flaggedMonthsCalendar).pipe(Sa(i=>!!i)),t.yearsCalendar=this._store.select(i=>i.yearsCalendarFlagged).pipe(Sa(i=>!!i)),t.viewMode=this._store.select(i=>i.view?.mode),t.options$=function wne(...e){const n=QT(e),t=fE(e),{args:i,keys:r}=RP(e);if(0===i.length)return Uy([],n);const o=new Yr(function Cne(e,n,t=la){return i=>{uB(n,()=>{const{length:r}=e,o=new Array(r);let l=r,u=r;for(let g=0;g<r;g++)uB(n,()=>{const v=Uy(e[g],n);let D=!1;v.subscribe(ii(i,L=>{o[g]=L,D||(D=!0,u--),u||i.next(t(o.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,n,r?l=>LP(r,l):la));return t?o.pipe(D5(t)):o}([this._store.select(i=>i.showWeekNumbers),this._store.select(i=>i.displayMonths)]).pipe($i(i=>({showWeekNumbers:i[0],displayMonths:i[1]}))),this):this}setEventHandlers(t){return t.setViewMode=i=>{this._store?.dispatch(this._actions.changeViewMode(i))},t.navigateTo=i=>{this._store?.dispatch(this._actions.navigateStep(i.step))},t.dayHoverHandler=i=>{const r=i.cell;r.isOtherMonth||r.isDisabled||(this._store?.dispatch(this._actions.hoverDay(i)),r.isHovered=i.isHovered)},t.monthHoverHandler=i=>{i.cell.isHovered=i.isHovered},t.yearHoverHandler=i=>{i.cell.isHovered=i.isHovered},this}registerDatepickerSideEffects(){return this._store?(this._subs.push(this._store.select(t=>t.view).subscribe(()=>{this._store?.dispatch(this._actions.calculate())})),this._subs.push(this._store.select(t=>t.monthsModel).pipe(Sa(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.format()))),this._subs.push(this._store.select(t=>t.formattedMonths).pipe(Sa(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.selectedDate).pipe(Sa(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.selectedRange).pipe(Sa(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.monthsCalendar).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.yearsCalendarModel).pipe(Sa(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.hoveredDate).pipe(Sa(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.dateCustomClasses).pipe(Sa(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.dateTooltipTexts).pipe(Sa(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._localeService.localeChange.subscribe(t=>this._store?.dispatch(this._actions.setLocale(t)))),this):this}destroy(){for(const t of this._subs)t.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||e)(di(Ec),di(DA))};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Jie={date:new Date,mode:"day"},gB=Object.assign(new U0,{locale:"en",view:Jie,selectedRange:[],selectedTime:[],monthViewOptions:{width:7,height:6}});function cI(e,n,t){const i=n&&dm(lA(e,"month"),n,"day"),r=t&&fg(V0(e,"month"),t,"day");return i||r||!1}function UD(e,n,t){const i=n&&dm(lA(e,"year"),n,"day"),r=t&&fg(V0(e,"year"),t,"day");return i||r||!1}function uI(e,n,t){return!!(n&&ml(n)&&n.length)&&(t&&"year"===t&&!n[0].getDate()?n.some(i=>J2(e,i,"year")):n.some(i=>J2(e,i,"date")))}function dI(e,n,t){return!!(n&&ml(n)&&n.length)&&!n.some(i=>J2(e,i,t||"date"))}function mB(e,n=0){const t=e&&e.yearsCalendarModel&&e.yearsCalendarModel[n];return t?.years[0]&&t.years[0][0]&&t.years[0][0].date}function nre(e,n){return!e||!n||!e.length&&!e[0].value||e.forEach(t=>(!t||!t.value||t.value instanceof Date||!(t.value instanceof Array&&t.value.length)||(t.value=yB(t.value,n)),e)),e}function _B(e,n){return!e||!n||e instanceof Array&&!e.length||e instanceof Date?e:yB(e,n)}function yB(e,n){return e instanceof Array?e.map(i=>i&&(fg(i,n,"date")&&(i=n),i)):e}function bB(e){return e&&wB(e)}function vB(e){return e?.length&&e.map(n=>n&&wB(n)),e}function wB(e){const n=new Date;return e.setMilliseconds(n.getMilliseconds()),e.setSeconds(n.getSeconds()),e.setMinutes(n.getMinutes()),e.setHours(n.getHours()),e}function hI(e,n){let t=e.initialDate;const i=new Array(e.height);for(let r=0;r<e.height;r++){i[r]=new Array(e.width);for(let o=0;o<e.width;o++)i[r][o]=n(t),t=_u(t,e.shift)}return i}function fI(e,n){const t=function JQ(e){return eA(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds())}(e),i=function ere(e,n){if(function tJ(e,n){return e.getDay()===Number(n)}(e,n.firstDayOfWeek))return e;const i=function tre(e,n){const t=Number(n);if(isNaN(t))return 0;if(0===t)return e;const i=e-t%7;return i<0?i+7:i}(cm(e),n.firstDayOfWeek);return _u(e,{day:-i})}(t,n);return{daysMatrix:hI({width:n.width||0,height:n.height||0,initialDate:i,shift:{day:1}},l=>l),month:t}}function rre(e,n,t){return e.map(i=>i[0]?Qf(i[0],n,t):"")}function sre(e){const n=Xc(e),t=n.weekdaysShort(),i=n.firstDayOfWeek();return[...t.slice(i),...t.slice(0,i)]}function CB(e,n){return!n||e>=n}const lre=4,cre=3,ure={month:1};function TB(e,n){const t=V0(e,"year");return{months:hI({width:cre,height:lre,initialDate:t,shift:ure},o=>({date:o,label:Qf(o,n.monthLabel,n.locale)})),monthTitle:"",yearTitle:Qf(e,n.yearTitle,n.locale),hideRightArrow:!1,hideLeftArrow:!1,disableRightArrow:!1,disableLeftArrow:!1}}const pI=4,gI=4,xA=pI*gI,DB=-1*(Math.floor(xA/2)-1),hre={year:1};function xB(e,n,t){const i=function fre(e,n){return n&&e.getFullYear()>=n.getFullYear()&&e.getFullYear()<n.getFullYear()+xA?n:_u(e,{year:DB})}(e,t),o=hI({width:gI,height:pI,initialDate:i,shift:hre},u=>({date:u,label:Qf(u,n.yearLabel,n.locale)})),l=function pre(e,n){return`${Qf(e[0][0].date,n.yearTitle,n.locale)} - ${Qf(e[pI-1][gI-1].date,n.yearTitle,n.locale)}`}(o,n);return{years:o,monthTitle:"",yearTitle:l,hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}function mI(e,n){!e||!isNaN(e.getTime())||(e.setHours(n.getHours()),e.setMinutes(n.getMinutes()),e.setSeconds(n.getSeconds()),e.setMilliseconds(n.getMilliseconds()))}function kB(e=gB,n){switch(n.type){case Ec.CALCULATE:return function mre(e){if(!e.view)return e;let n;n=e.displayOneMonthRange&&SB(e.view.date,e.minDate,e.maxDate)?1:e.displayMonths||1;let t=e.view.date;if("day"===e.view.mode&&e.monthViewOptions){e.showPreviousMonth&&e.selectedRange&&0===e.selectedRange.length&&(t=_u(t,{month:-1})),e.monthViewOptions.firstDayOfWeek=Xc(e.locale).firstDayOfWeek();let i=new Array(n);for(let r=0;r<n;r++)i[r]=fI(t,e.monthViewOptions),t=_u(t,{month:1});if(e.preventChangeToNextMonth&&e.flaggedMonths&&e.hoveredDate){const r=fI(e.view.date,e.monthViewOptions);e.flaggedMonths.length&&e.flaggedMonths[1].month.getMonth()===r.month.getMonth()&&(i=e.flaggedMonths.map(o=>e.monthViewOptions?fI(o.month,e.monthViewOptions):null).filter(o=>null!==o))}return Object.assign({},e,{monthsModel:i})}if("month"===e.view.mode){const i=new Array(n);for(let r=0;r<n;r++)i[r]=TB(t,zD(e)),t=_u(t,{year:1});return Object.assign({},e,{monthsCalendar:i})}if("year"===e.view.mode){const i=new Array(n);for(let r=0;r<n;r++)i[r]=xB(t,zD(e),"year"===e.minMode?mB(e,r):void 0),t=_u(t,{year:xA});return Object.assign({},e,{yearsCalendarModel:i})}return e}(e);case Ec.FORMAT:return function _re(e){if(!e.view)return e;if("day"===e.view.mode&&e.monthsModel){const i=e.monthsModel.map((r,o)=>function ire(e,n,t){return{month:e.month,monthTitle:Qf(e.month,n.monthTitle,n.locale),yearTitle:Qf(e.month,n.yearTitle,n.locale),weekNumbers:rre(e.daysMatrix,n.weekNumbers,n.locale),weekdays:sre(n.locale),weeks:e.daysMatrix.map((i,r)=>({days:i.map((o,l)=>({date:o,label:Qf(o,n.dayLabel,n.locale),monthIndex:t,weekIndex:r,dayIndex:l}))})),hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}(r,zD(e),o));return Object.assign({},e,{formattedMonths:i})}const n=e.displayMonths||1;let t=e.view.date;if("month"===e.view.mode){const i=new Array(n);for(let r=0;r<n;r++)i[r]=TB(t,zD(e)),t=_u(t,{year:1});return Object.assign({},e,{monthsCalendar:i})}if("year"===e.view.mode){const i=new Array(n);for(let r=0;r<n;r++)i[r]=xB(t,zD(e)),t=_u(t,{year:16});return Object.assign({},e,{yearsCalendarModel:i})}return e}(e);case Ec.FLAG:return function yre(e){if(!e.view)return e;const n=SB(e.view.date,e.minDate,e.maxDate)?1:e.displayMonths;if(e.formattedMonths&&"day"===e.view.mode){const t=e.formattedMonths.map((i,r)=>function ore(e,n){return e.weeks.forEach(t=>{t.days.forEach((i,r)=>{const o=!X2(i.date,e.month),l=!o&&g_(i.date,n.hoveredDate),u=!o&&n.selectedRange&&g_(i.date,n.selectedRange[0]),g=!o&&n.selectedRange&&g_(i.date,n.selectedRange[1]),v=!o&&g_(i.date,n.selectedDate)||u||g,D=!o&&n.selectedRange&&function are(e,n,t){return!!(e&&n&&n[0])&&(n[1]?e>n[0]&&e<=n[1]:!!t&&e>n[0]&&e<=t)}(i.date,n.selectedRange,n.hoveredDate),L=n.isDisabled||dm(i.date,n.minDate,"day")||fg(i.date,n.maxDate,"day")||function Tee(e,n){return!(typeof n>"u"||!n||!n.length)&&n.some(t=>t===e.getDay())}(i.date,n.daysDisabled)||uI(i.date,n.datesDisabled)||dI(i.date,n.datesEnabled),ue=!o&&g_(i.date,new Date),Se=n.dateCustomClasses&&n.dateCustomClasses.map(dt=>g_(i.date,dt.date)?dt.classes:[]).reduce((dt,yt)=>dt.concat(yt),[]).join(" ")||"",Ve=n.dateTooltipTexts&&n.dateTooltipTexts.map(dt=>g_(i.date,dt.date)?dt.tooltipText:"").reduce((dt,yt)=>(dt.push(yt),dt),[]).join(" ")||"",at=Object.assign({},i,{isOtherMonth:o,isHovered:l,isSelected:v,isSelectionStart:u,isSelectionEnd:g,isInRange:D,isDisabled:L,isToday:ue,customClasses:Se,tooltipText:Ve});(i.isOtherMonth!==at.isOtherMonth||i.isHovered!==at.isHovered||i.isSelected!==at.isSelected||i.isSelectionStart!==at.isSelectionStart||i.isSelectionEnd!==at.isSelectionEnd||i.isDisabled!==at.isDisabled||i.isInRange!==at.isInRange||i.customClasses!==at.customClasses||i.tooltipText!==at.tooltipText)&&(t.days[r]=at)})}),e.hideLeftArrow=n.isDisabled||!!n.monthIndex&&n.monthIndex>0&&n.monthIndex!==n.displayMonths,e.hideRightArrow=n.isDisabled||(!!n.monthIndex||0===n.monthIndex)&&!!n.displayMonths&&n.monthIndex<n.displayMonths&&n.monthIndex+1!==n.displayMonths,e.disableLeftArrow=cI(_u(e.month,{month:-1}),n.minDate,n.maxDate),e.disableRightArrow=cI(_u(e.month,{month:1}),n.minDate,n.maxDate),e}(i,{isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,daysDisabled:e.daysDisabled,datesDisabled:e.datesDisabled,datesEnabled:e.datesEnabled,hoveredDate:e.hoveredDate,selectedDate:e.selectedDate,selectedRange:e.selectedRange,displayMonths:n,dateCustomClasses:e.dateCustomClasses,dateTooltipTexts:e.dateTooltipTexts,monthIndex:r}));return Object.assign({},e,{flaggedMonths:t})}if("month"===e.view.mode&&e.monthsCalendar){const t=e.monthsCalendar.map((i,r)=>function dre(e,n){return e.months.forEach((t,i)=>{t.forEach((r,o)=>{let l;const u=X2(r.date,n.hoveredMonth),g=n.isDisabled||uI(r.date,n.datesDisabled)||dI(r.date,n.datesEnabled,"month")||cI(r.date,n.minDate,n.maxDate);!n.selectedDate&&n.selectedRange?(l=X2(r.date,n.selectedRange[0]),l||(l=X2(r.date,n.selectedRange[1]))):l=X2(r.date,n.selectedDate);const v=Object.assign(r,{isHovered:u,isDisabled:g,isSelected:l});(r.isHovered!==v.isHovered||r.isDisabled!==v.isDisabled||r.isSelected!==v.isSelected)&&(e.months[i][o]=v)})}),e.hideLeftArrow=!!n.monthIndex&&n.monthIndex>0&&n.monthIndex!==n.displayMonths,e.hideRightArrow=(!!n.monthIndex||0===n.monthIndex)&&(!!n.displayMonths||0===n.displayMonths)&&n.monthIndex<n.displayMonths&&n.monthIndex+1!==n.displayMonths,e.disableLeftArrow=UD(_u(e.months[0][0].date,{year:-1}),n.minDate,n.maxDate),e.disableRightArrow=UD(_u(e.months[0][0].date,{year:1}),n.minDate,n.maxDate),e}(i,{isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,hoveredMonth:e.hoveredMonth,selectedDate:e.selectedDate,datesDisabled:e.datesDisabled,datesEnabled:e.datesEnabled,selectedRange:e.selectedRange,displayMonths:n,monthIndex:r}));return Object.assign({},e,{flaggedMonthsCalendar:t})}if("year"===e.view.mode&&e.yearsCalendarModel){const t=e.yearsCalendarModel.map((i,r)=>function gre(e,n){e.years.forEach((r,o)=>{r.forEach((l,u)=>{let g;const v=q2(l.date,n.hoveredYear),D=n.isDisabled||uI(l.date,n.datesDisabled,"year")||dI(l.date,n.datesEnabled,"year")||UD(l.date,n.minDate,n.maxDate);!n.selectedDate&&n.selectedRange?(g=q2(l.date,n.selectedRange[0]),g||(g=q2(l.date,n.selectedRange[1]))):g=q2(l.date,n.selectedDate);const L=Object.assign(l,{isHovered:v,isDisabled:D,isSelected:g});(l.isHovered!==L.isHovered||l.isDisabled!==L.isDisabled||l.isSelected!==L.isSelected)&&(e.years[o][u]=L)})}),e.hideLeftArrow=!!n.yearIndex&&n.yearIndex>0&&n.yearIndex!==n.displayMonths,e.hideRightArrow=!!n.yearIndex&&!!n.displayMonths&&n.yearIndex<n.displayMonths&&n.yearIndex+1!==n.displayMonths,e.disableLeftArrow=UD(_u(e.years[0][0].date,{year:-1}),n.minDate,n.maxDate);const t=e.years.length-1;return e.disableRightArrow=UD(_u(e.years[t][e.years[t].length-1].date,{year:1}),n.minDate,n.maxDate),e}(i,{isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,hoveredYear:e.hoveredYear,selectedDate:e.selectedDate,datesDisabled:e.datesDisabled,datesEnabled:e.datesEnabled,selectedRange:e.selectedRange,displayMonths:n,yearIndex:r}));return Object.assign({},e,{yearsCalendarFlagged:t})}return e}(e);case Ec.NAVIGATE_OFFSET:return function bre(e,n){if(!e.view)return e;const t=function vre(e,n){if(e.view){if("year"===e.view.mode&&"year"===e.minMode){const t=mB(e,0);if(t){const i=_u(t,{year:-DB});return _u(i,n.payload)}}return _u(V0(e.view.date,"month"),n.payload)}}(e,n);if(!t)return e;return Object.assign({},e,{view:{mode:e.view.mode,date:t}})}(e,n);case Ec.NAVIGATE_TO:{const t=n.payload;if(!e.view||!t.unit)return e;const i=function pJ(e,n){return eA(K2(e.getFullYear(),n.year),K2(e.getMonth(),n.month),1,K2(e.getHours(),n.hour),K2(e.getMinutes(),n.minute),K2(e.getSeconds(),n.seconds),K2(e.getMilliseconds(),n.milliseconds))}(e.view.date,t.unit);let r,o;return CB(t.viewMode,e.minMode)?(o=t.viewMode,r={view:{date:i,mode:o}}):(o=e.view.mode,r={selectedDate:i,view:{date:i,mode:o}}),Object.assign({},e,r)}case Ec.CHANGE_VIEWMODE:return CB(n.payload,e.minMode)&&e.view?Object.assign({},e,{view:{date:e.view.date,mode:n.payload}}):e;case Ec.HOVER:return Object.assign({},e,{hoveredDate:n.payload});case Ec.SELECT:{if(!e.view)return e;const t={selectedDate:n.payload,view:e.view};if(Array.isArray(e.selectedTime)){const l=e.selectedTime[0];t.selectedDate&&l&&mI(t.selectedDate,l)}const i=e.view.mode,o=_I(n.payload||e.view.date,e.minDate,e.maxDate);return t.view={mode:i,date:o},Object.assign({},e,t)}case Ec.SELECT_TIME:{const{date:t,index:i}=n.payload,r=e.selectedTime?[...e.selectedTime]:[];return r[i]=t,Object.assign({},e,{selectedTime:r})}case Ec.SET_OPTIONS:{if(!e.view)return e;const t=n.payload,i=t.minMode?t.minMode:e.view.mode,o=_I(p_(t.value)&&t.value||ml(t.value)&&p_(t.value[0])&&t.value[0]||e.view.date,t.minDate,t.maxDate);return t.view={mode:i,date:o},t.value&&(ml(t.value)&&(t.selectedRange=t.value,t.selectedTime=t.value.map(l=>l)),t.value instanceof Date&&(t.selectedDate=t.value,t.selectedTime=[t.value])),Object.assign({},e,t)}case Ec.SELECT_RANGE:{if(!e.view)return e;const t={selectedRange:n.payload,view:e.view};t.selectedRange?.forEach((l,u)=>{if(Array.isArray(e.selectedTime)){const g=e.selectedTime[u];g&&mI(l,g)}});const i=e.view.mode,o=_I(n.payload&&n.payload[0]||e.view.date,e.minDate,e.maxDate);return t.view={mode:i,date:o},Object.assign({},e,t)}case Ec.SET_MIN_DATE:return Object.assign({},e,{minDate:n.payload});case Ec.SET_MAX_DATE:return Object.assign({},e,{maxDate:n.payload});case Ec.SET_IS_DISABLED:return Object.assign({},e,{isDisabled:n.payload});case Ec.SET_DATE_CUSTOM_CLASSES:return Object.assign({},e,{dateCustomClasses:n.payload});case Ec.SET_DATE_TOOLTIP_TEXTS:return Object.assign({},e,{dateTooltipTexts:n.payload});default:return e}}function zD(e){return{locale:e.locale,monthTitle:e.monthTitle,yearTitle:e.yearTitle,dayLabel:e.dayLabel,monthLabel:e.monthLabel,yearLabel:e.yearLabel,weekNumbers:e.weekNumbers}}function _I(e,n,t){const i=Array.isArray(e)?e[0]:e;return n&&fg(n,i,"day")?n:t&&dm(t,i,"day")?t:i}function SB(e,n,t){return!(!t||!J2(t,e,"day"))||n&&t&&n.getMonth()===t.getMonth()}let YD=(()=>{class e extends vA{constructor(){const t=new Vn({type:"[datepicker] dispatcher init"});super(t,kB,new q7(gB,t,kB))}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),EB=(()=>{class e{constructor(){this.onSelect=new pi}selectFromRanges(t){this.onSelect.emit(t)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=wr({type:e,selectors:[["bs-custom-date-view"]],inputs:{ranges:"ranges",selectedRange:"selectedRange",customRangeLabel:"customRangeLabel"},outputs:{onSelect:"onSelect"},decls:2,vars:1,consts:[[1,"bs-datepicker-predefined-btns"],["type","button","class","btn",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"btn",3,"click"]],template:function(i,r){1&i&&(B(0,"div",0),Qt(1,Ane,2,3,"button",1),P()),2&i&&(he(),Pe("ngForOf",r.ranges))},dependencies:[ad],encapsulation:2,changeDetection:0})}return e})();var lw=function(e){return e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e}(lw||{});let cw,wre=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=wr({type:e,selectors:[["bs-current-date"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"current-timedate"]],template:function(i,r){1&i&&(B(0,"div",0)(1,"span"),De(2),P()()),2&i&&(he(2),rr(r.title))},encapsulation:2})}return e})(),Cre=(()=>{class e{constructor(){this.ampm="ok",this.hours=0,this.minutes=0}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=wr({type:e,selectors:[["bs-timepicker"]],decls:16,vars:3,consts:[[1,"bs-timepicker-container"],[1,"bs-timepicker-controls"],["type","button",1,"bs-decrease"],["type","text","placeholder","00",3,"value"],["type","button",1,"bs-increase"],["type","button",1,"switch-time-format"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==","alt",""]],template:function(i,r){1&i&&(B(0,"div",0)(1,"div",1)(2,"button",2),De(3,"-"),P(),et(4,"input",3),B(5,"button",4),De(6,"+"),P()(),B(7,"div",1)(8,"button",2),De(9,"-"),P(),et(10,"input",3),B(11,"button",4),De(12,"+"),P()(),B(13,"button",5),De(14),et(15,"img",6),P()()),2&i&&(he(4),Pe("value",r.hours),he(6),Pe("value",r.minutes),he(4),Ui("",r.ampm," "))},encapsulation:2})}return e})(),yI=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=wr({type:e,selectors:[["bs-calendar-layout"]],ngContentSelectors:One,decls:6,vars:2,consts:[["title","hey there",4,"ngIf"],[1,"bs-datepicker-head"],[1,"bs-datepicker-body"],[4,"ngIf"],["title","hey there"]],template:function(i,r){1&i&&(Fy(Mne),Qt(0,Ine,1,0,"bs-current-date",0),B(1,"div",1),G1(2),P(),B(3,"div",2),G1(4,1),P(),Qt(5,Nne,1,0,"bs-timepicker",3)),2&i&&(Pe("ngIf",!1),he(5),Pe("ngIf",!1))},dependencies:[Yc,wre,Cre],encapsulation:2})}return e})(),Tre=(()=>{class e{constructor(t,i,r){this._config=t,this._elRef=i,this._renderer=r,this.day={date:new Date,label:""}}ngOnInit(){this.day?.isToday&&this._config&&this._config.customTodayClass&&this._renderer.addClass(this._elRef.nativeElement,this._config.customTodayClass),"string"==typeof this.day?.customClasses&&this.day?.customClasses.split(" ").filter(t=>t).forEach(t=>{this._renderer.addClass(this._elRef.nativeElement,t)})}static#e=this.\u0275fac=function(i){return new(i||e)(lt(U0),lt(es),lt(hl))};static#t=this.\u0275cmp=wr({type:e,selectors:[["","bsDatepickerDayDecorator",""]],hostVars:16,hostBindings:function(i,r){2&i&&ci("disabled",r.day.isDisabled)("is-highlighted",r.day.isHovered)("is-other-month",r.day.isOtherMonth)("is-active-other-month",r.day.isOtherMonthHovered)("in-range",r.day.isInRange)("select-start",r.day.isSelectionStart)("select-end",r.day.isSelectionEnd)("selected",r.day.isSelected)},inputs:{day:"day"},attrs:Rne,decls:1,vars:1,template:function(i,r){1&i&&De(0),2&i&&rr(r.day&&r.day.label||"")},encapsulation:2,changeDetection:0})}return e})(),bI=(()=>{class e{constructor(){this.isDisabled=!1,this.onNavigate=new pi,this.onViewMode=new pi}navTo(t){this.onNavigate.emit(t?lw.DOWN:lw.UP)}view(t){this.isDisabled||this.onViewMode.emit(t)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=wr({type:e,selectors:[["bs-datepicker-navigation-view"]],inputs:{calendar:"calendar",isDisabled:"isDisabled"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode"},decls:12,vars:9,consts:[["type","button",1,"previous",3,"click","disabled"],[4,"ngIf"],["type","button",1,"current",3,"click","disabled"],["type","button",1,"next",3,"click","disabled"]],template:function(i,r){1&i&&(B(0,"button",0),ln("click",function(){return r.navTo(!0)}),B(1,"span"),De(2,"\u2039"),P()(),Qt(3,Lne,5,2,"ng-container",1),De(4," \u200b "),B(5,"button",2),ln("click",function(){return r.view("year")}),B(6,"span"),De(7),P()(),De(8," \u200b "),B(9,"button",3),ln("click",function(){return r.navTo(!1)}),B(10,"span"),De(11,"\u203a"),P()()),2&i&&(Gh("visibility",r.calendar.hideLeftArrow?"hidden":"visible"),Pe("disabled",r.calendar.disableLeftArrow),he(3),Pe("ngIf",r.calendar&&r.calendar.monthTitle),he(2),Pe("disabled",r.isDisabled),he(2),rr(r.calendar.yearTitle),he(2),Gh("visibility",r.calendar.hideRightArrow?"hidden":"visible"),Pe("disabled",r.calendar.disableRightArrow))},dependencies:[Yc],encapsulation:2,changeDetection:0})}return e})(),AB=(()=>{class e{constructor(t){this._config=t,this.onNavigate=new pi,this.onViewMode=new pi,this.onSelect=new pi,this.onHover=new pi,this.onHoverWeek=new pi,this.isiOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,this._config.dateTooltipTexts&&this._config.dateTooltipTexts.length>0&&(this.isShowTooltip=!0)}navigateTo(t){this.onNavigate.emit({step:{month:lw.DOWN===t?-1:1}})}changeViewMode(t){this.onViewMode.emit(t)}selectDay(t){this.onSelect.emit(t)}selectWeek(t){if(!this._config.selectWeek&&!this._config.selectWeekDateRange||0===t.days.length)return;if(this._config.selectWeek&&t.days[0]&&!t.days[0].isDisabled&&this._config.selectFromOtherMonth)return void this.onSelect.emit(t.days[0]);const i=t.days.find(r=>(this._config.selectFromOtherMonth||!r.isOtherMonth)&&!r.isDisabled);if(this.onSelect.emit(i),this._config.selectWeekDateRange){const o=t.days.slice(0).reverse().find(l=>(this._config.selectFromOtherMonth||!l.isOtherMonth)&&!l.isDisabled);this.onSelect.emit(o)}}weekHoverHandler(t,i){(this._config.selectWeek||this._config.selectWeekDateRange)&&t.days.find(o=>(this._config.selectFromOtherMonth||!o.isOtherMonth)&&!o.isDisabled)&&(t.isHovered=i,this.isWeekHovered=i,this.onHoverWeek.emit(t))}hoverDay(t,i){this._config.selectFromOtherMonth&&t.isOtherMonth&&(t.isOtherMonthHovered=i),this._config.dateTooltipTexts&&(t.tooltipText="",this._config.dateTooltipTexts.forEach(r=>{g_(r.date,t.date)&&(t.tooltipText=r.tooltipText)})),this.onHover.emit({cell:t,isHovered:i})}static#e=this.\u0275fac=function(i){return new(i||e)(lt(U0))};static#t=this.\u0275cmp=wr({type:e,selectors:[["bs-days-calendar-view"]],inputs:{calendar:"calendar",options:"options",isDisabled:"isDisabled"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"},decls:9,vars:5,consts:[[3,"onNavigate","onViewMode","calendar","isDisabled"],["role","grid",1,"days","weeks"],[4,"ngIf"],["aria-label","weekday",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["aria-label","weekday"],["class","week",3,"active-week",4,"ngIf"],["role","gridcell",4,"ngFor","ngForOf"],[1,"week"],[3,"click",4,"ngIf"],[3,"click","mouseenter","mouseleave",4,"ngIf"],[3,"click"],[3,"click","mouseenter","mouseleave"],["role","gridcell"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click",4,"ngIf"],["bsDatepickerDayDecorator","",3,"click","mouseenter","mouseleave","day","tooltip"],["bsDatepickerDayDecorator","",3,"click","mouseenter","mouseleave","day"],["bsDatepickerDayDecorator","",3,"click","day"]],template:function(i,r){1&i&&(B(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),ln("onNavigate",function(l){return r.navigateTo(l)})("onViewMode",function(l){return r.changeViewMode(l)}),P(),B(2,"table",1)(3,"thead")(4,"tr"),Qt(5,Pne,1,0,"th",2)(6,Fne,2,1,"th",3),P()(),B(7,"tbody"),Qt(8,$ne,3,2,"tr",4),P()()()),2&i&&(he(),Pe("calendar",r.calendar)("isDisabled",!!r.isDisabled),he(4),Pe("ngIf",r.options&&r.options.showWeekNumbers),he(),Pe("ngForOf",r.calendar.weekdays),he(2),Pe("ngForOf",r.calendar.weeks))},dependencies:[ad,Yc,Sne,yI,Tre,bI],encapsulation:2})}return e})(),MB=(()=>{class e{constructor(){this.onNavigate=new pi,this.onViewMode=new pi,this.onSelect=new pi,this.onHover=new pi}navigateTo(t){this.onNavigate.emit({step:{year:lw.DOWN===t?-1:1}})}viewMonth(t){this.onSelect.emit(t)}hoverMonth(t,i){this.onHover.emit({cell:t,isHovered:i})}changeViewMode(t){this.onViewMode.emit(t)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=wr({type:e,selectors:[["bs-month-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"onNavigate","onViewMode","calendar"],["role","grid",1,"months"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(i,r){1&i&&(B(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),ln("onNavigate",function(l){return r.navigateTo(l)})("onViewMode",function(l){return r.changeViewMode(l)}),P(),B(2,"table",1)(3,"tbody"),Qt(4,Gne,2,1,"tr",2),P()()()),2&i&&(he(),Pe("calendar",r.calendar),he(3),Pe("ngForOf",null==r.calendar?null:r.calendar.months))},dependencies:[ad,yI,bI],encapsulation:2})}return e})(),OB=(()=>{class e{constructor(){this.onNavigate=new pi,this.onViewMode=new pi,this.onSelect=new pi,this.onHover=new pi}navigateTo(t){this.onNavigate.emit({step:{year:(lw.DOWN===t?-1:1)*xA}})}viewYear(t){this.onSelect.emit(t)}hoverYear(t,i){this.onHover.emit({cell:t,isHovered:i})}changeViewMode(t){this.onViewMode.emit(t)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=wr({type:e,selectors:[["bs-years-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"onNavigate","onViewMode","calendar"],["role","grid",1,"years"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(i,r){1&i&&(B(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),ln("onNavigate",function(l){return r.navigateTo(l)})("onViewMode",function(l){return r.changeViewMode(l)}),P(),B(2,"table",1)(3,"tbody"),Qt(4,qne,2,1,"tr",2),P()()()),2&i&&(he(),Pe("calendar",r.calendar),he(3),Pe("ngForOf",null==r.calendar?null:r.calendar.years))},dependencies:[ad,yI,bI],encapsulation:2})}return e})(),Dre=(()=>{class e extends pB{set value(t){this._effects?.setValue(t)}get isDatePickerDisabled(){return!!this._config.isDisabled}get isDatepickerDisabled(){return this.isDatePickerDisabled?"":null}get isDatepickerReadonly(){return this.isDatePickerDisabled?"":null}constructor(t,i,r,o,l,u,g){super(),this._config=i,this._store=r,this._element=o,this._actions=l,this._positionService=g,this.valueChange=new pi,this.animationState="void",this.isRangePicker=!1,this._subs=[],this._effects=u,t.setStyle(o.nativeElement,"display","block"),t.setStyle(o.nativeElement,"position","absolute")}ngOnInit(){let t;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),this._positionService.event$?.pipe(nf(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.containerClass=this._config.containerClass,this.showTodayBtn=this._config.showTodayButton,this.todayBtnLbl=this._config.todayButtonLabel,this.todayPos=this._config.todayPosition,this.showClearBtn=this._config.showClearButton,this.clearBtnLbl=this._config.clearButtonLabel,this.clearPos=this._config.clearPosition,this.customRangeBtnLbl=this._config.customRangeButtonLabel,this.withTimepicker=this._config.withTimepicker,this._effects?.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedDate).subscribe(i=>{t=i,this.valueChange.emit(i)})),this._subs.push(this._store.select(i=>i.selectedTime).subscribe(i=>{!i||!i[0]||!(i[0]instanceof Date)||i[0]===t||this.valueChange.emit(i[0])})),this._store.dispatch(this._actions.changeViewMode(this._config.startView))}ngAfterViewInit(){this.selectedTimeSub.add(this.selectedTime?.subscribe(t=>{Array.isArray(t)&&t.length>=1&&this.startTimepicker?.writeValue(t[0])})),this.startTimepicker?.registerOnChange(t=>{this.timeSelectHandler(t,0)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(t,i){this._store.dispatch(this._actions.selectTime(t,i))}daySelectHandler(t){!t||(this.isOtherMonthsActive?t.isDisabled:t.isOtherMonth||t.isDisabled)||this._store.dispatch(this._actions.select(t.date))}monthSelectHandler(t){!t||t.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{month:bo(t.date),year:Ml(t.date)},viewMode:"day"}))}yearSelectHandler(t){!t||t.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{year:Ml(t.date)},viewMode:"month"}))}setToday(){this._store.dispatch(this._actions.select(new Date))}clearDate(){this._store.dispatch(this._actions.select(void 0))}ngOnDestroy(){for(const t of this._subs)t.unsubscribe();this.selectedTimeSub.unsubscribe(),this._effects?.destroy()}static#e=this.\u0275fac=function(i){return new(i||e)(lt(hl),lt(U0),lt(YD),lt(es),lt(Ec),lt(jD),lt(aw))};static#t=this.\u0275cmp=wr({type:e,selectors:[["bs-datepicker-container"]],viewQuery:function(i,r){if(1&i&&Xl(dB,5),2&i){let o;eo(o=to())&&(r.startTimepicker=o.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostVars:2,hostBindings:function(i,r){1&i&&ln("click",function(l){return r._stopPropagation(l)}),2&i&&Zs("disabled",r.isDatepickerDisabled)("readonly",r.isDatepickerReadonly)},features:[jo([YD,jD]),lo],decls:2,vars:3,consts:[["startTP",""],["endTP",""],["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"onNavigate","onViewMode","onHover","onHoverWeek","onSelect","calendar","isDisabled","options"],[1,"bs-timepicker-in-datepicker-container"],[3,"disabled"],[3,"disabled",4,"ngIf"],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"onNavigate","onViewMode","onHover","onSelect","calendar"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"onSelect","selectedRange","ranges","customRangeLabel"]],template:function(i,r){1&i&&(Qt(0,cie,10,11,"div",2),fa(1,"async")),2&i&&Pe("ngIf",ql(1,1,r.viewMode))},dependencies:[lE,ad,Yc,YT,U4,aI,EB,AB,MB,OB,cE],encapsulation:2,data:{animation:[fB]}})}return e})(),xre=(()=>{class e{get readonlyValue(){return this.isDisabled?"":null}constructor(t,i,r,o,l){this._config=t,this._elementRef=i,this._renderer=r,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new yr,this.isDisabled=!1,this.bsValueChange=new pi,this._subs=[],this._dateInputFormat$=new yr,Object.assign(this,this._config),this._datepicker=l.createLoader(i,o,r),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new Vn(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(t){this.isOpen$.next(t)}set bsValue(t){this._bsValue&&t&&this._bsValue.getTime()===t.getTime()||(!this._bsValue&&t&&!this._config.withTimepicker&&mI(t,new Date),t&&this.bsConfig?.initCurrentTime&&(t=bB(t)),this.initPreviousValue(),this._bsValue=t,this.bsValueChange.emit(t))}get dateInputFormat$(){return this._dateInputFormat$}ngOnInit(){this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig(),this.initPreviousValue()}initPreviousValue(){cw=this._bsValue}ngOnChanges(t){t.bsConfig&&(t.bsConfig.currentValue?.initCurrentTime&&t.bsConfig.currentValue?.initCurrentTime!==t.bsConfig.previousValue?.initCurrentTime&&this._bsValue&&(this.initPreviousValue(),this._bsValue=bB(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._dateInputFormat$.next(this.bsConfig&&this.bsConfig.dateInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(t.minDate&&(this._datepickerRef.instance.minDate=this.minDate),t.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),t.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),t.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),t.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),t.isDisabled&&(this._datepickerRef.instance.isDisabled=this.isDisabled),t.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses),t.dateTooltipTexts&&(this._datepickerRef.instance.dateTooltipTexts=this.dateTooltipTexts))}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(t=>{this._datepickerRef&&(this._datepickerRef.instance.value=t)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.subscribe(t=>{this.initPreviousValue(),this.bsValue=t,!this.keepDatepickerModalOpened()&&this.hide()}))}keepDatepickerModalOpened(){return!!(cw&&this.bsConfig?.keepDatepickerOpened&&this._config.withTimepicker)&&this.isDateSame()}isDateSame(){return cw instanceof Date&&this._bsValue?.getDate()===cw?.getDate()&&this._bsValue?.getMonth()===cw?.getMonth()&&this._bsValue?.getFullYear()===cw?.getFullYear()}ngAfterViewInit(){this.isOpen$.pipe(Sa(t=>t!==this.isOpen),$c(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:U0,useValue:this._config}).attach(Dre).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}hide(){this.isOpen&&this._datepicker.hide();for(const t of this._subs)t.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}setConfig(){this._config=Object.assign({},this._config,this.bsConfig,{value:this._config.keepDatesOutOfRules?this._bsValue:_B(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,dateTooltipTexts:this.dateTooltipTexts||this.bsConfig&&this.bsConfig.dateTooltipTexts,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,minMode:this.minMode||this.bsConfig&&this.bsConfig.minMode,initCurrentTime:this.bsConfig?.initCurrentTime,keepDatepickerOpened:this.bsConfig?.keepDatepickerOpened,keepDatesOutOfRules:this.bsConfig?.keepDatesOutOfRules})}unsubscribeSubscriptions(){this._subs?.length&&(this._subs.map(t=>t.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}static#e=this.\u0275fac=function(i){return new(i||e)(lt(U0),lt(es),lt(hl),lt(Dc),lt(HD))};static#t=this.\u0275dir=li({type:e,selectors:[["","bsDatepicker",""]],hostVars:1,hostBindings:function(i,r){2&i&&Zs("readonly",r.readonlyValue)},inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled",dateCustomClasses:"dateCustomClasses",dateTooltipTexts:"dateTooltipTexts",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDatepicker"],features:[Fa]})}return e})(),kre=(()=>{class e extends pB{set value(t){this._effects?.setRangeValue(t)}get isDatePickerDisabled(){return!!this._config.isDisabled}get isDatepickerDisabled(){return this.isDatePickerDisabled?"":null}get isDatepickerReadonly(){return this.isDatePickerDisabled?"":null}constructor(t,i,r,o,l,u,g){super(),this._config=i,this._store=r,this._element=o,this._actions=l,this._positionService=g,this.valueChange=new pi,this.animationState="void",this._rangeStack=[],this.chosenRange=[],this._subs=[],this.isRangePicker=!0,this._effects=u,this.customRanges=this._config.ranges||[],this.customRangeBtnLbl=this._config.customRangeButtonLabel,t.setStyle(o.nativeElement,"display","block"),t.setStyle(o.nativeElement,"position","absolute")}ngOnInit(){let t;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),this._positionService.event$?.pipe(nf(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.containerClass=this._config.containerClass,this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.withTimepicker=this._config.withTimepicker,this._effects?.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedRange).subscribe(i=>{t=i,this.valueChange.emit(i),this.chosenRange=i||[]})),this._subs.push(this._store.select(i=>i.selectedTime).subscribe(i=>{!i||!i[0]||!i[1]||!(i[0]instanceof Date)||!(i[1]instanceof Date)||t&&i[0]===t[0]&&i[1]===t[1]||(this.valueChange.emit(i),this.chosenRange=i||[])}))}ngAfterViewInit(){this.selectedTimeSub.add(this.selectedTime?.subscribe(t=>{Array.isArray(t)&&t.length>=2&&(this.startTimepicker?.writeValue(t[0]),this.endTimepicker?.writeValue(t[1]))})),this.startTimepicker?.registerOnChange(t=>{this.timeSelectHandler(t,0)}),this.endTimepicker?.registerOnChange(t=>{this.timeSelectHandler(t,1)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(t,i){this._store.dispatch(this._actions.selectTime(t,i))}daySelectHandler(t){!t||(this.isOtherMonthsActive?t.isDisabled:t.isOtherMonth||t.isDisabled)||this.rangesProcessing(t)}monthSelectHandler(t){if(t&&!t.isDisabled){if(t.isSelected=!0,"month"!==this._config.minMode){if(t.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{month:bo(t.date),year:Ml(t.date)},viewMode:"day"}))}this.rangesProcessing(t)}}yearSelectHandler(t){if(t&&!t.isDisabled){if(t.isSelected=!0,"year"!==this._config.minMode){if(t.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{year:Ml(t.date)},viewMode:"month"}))}this.rangesProcessing(t)}}rangesProcessing(t){1===this._rangeStack.length&&(this._rangeStack=t.date>=this._rangeStack[0]?[this._rangeStack[0],t.date]:[t.date]),this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(t.date),0===this._rangeStack.length&&(this._rangeStack=[t.date],this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(t.date)),this._store.dispatch(this._actions.selectRange(this._rangeStack)),2===this._rangeStack.length&&(this._rangeStack=[])}ngOnDestroy(){for(const t of this._subs)t.unsubscribe();this.selectedTimeSub.unsubscribe(),this._effects?.destroy()}setRangeOnCalendar(t){t&&(this._rangeStack=t.value instanceof Date?[t.value]:t.value),this._store.dispatch(this._actions.selectRange(this._rangeStack))}setMaxDateRangeOnCalendar(t){let i=new Date(t);if(this._config.maxDate){const r=this._config.maxDate.getTime(),o=t.getTime()+864e5*(this._config.maxDateRange||0);i=o>r?new Date(this._config.maxDate):new Date(o)}else i.setDate(t.getDate()+(this._config.maxDateRange||0));this._effects?.setMaxDate(i)}static#e=this.\u0275fac=function(i){return new(i||e)(lt(hl),lt(U0),lt(YD),lt(es),lt(Ec),lt(jD),lt(aw))};static#t=this.\u0275cmp=wr({type:e,selectors:[["bs-daterangepicker-container"]],viewQuery:function(i,r){if(1&i&&(Xl(dB,5),Xl(Tie,5)),2&i){let o;eo(o=to())&&(r.startTimepicker=o.first),eo(o=to())&&(r.endTimepicker=o.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostVars:2,hostBindings:function(i,r){1&i&&ln("click",function(l){return r._stopPropagation(l)}),2&i&&Zs("disabled",r.isDatepickerDisabled)("readonly",r.isDatepickerReadonly)},features:[jo([YD,jD]),lo],decls:2,vars:3,consts:[["startTP",""],["endTP",""],["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"onNavigate","onViewMode","onHover","onHoverWeek","onSelect","calendar","isDisabled","options"],[1,"bs-timepicker-in-datepicker-container"],[3,"disabled"],[3,"disabled",4,"ngIf"],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"onNavigate","onViewMode","onHover","onSelect","calendar"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"onSelect","selectedRange","ranges","customRangeLabel"]],template:function(i,r){1&i&&(Qt(0,Fie,10,11,"div",2),fa(1,"async")),2&i&&Pe("ngIf",ql(1,1,r.viewMode))},dependencies:[lE,ad,Yc,YT,U4,aI,EB,AB,MB,OB,cE],encapsulation:2,data:{animation:[fB]}})}return e})();const Sre={provide:Od,useExisting:Zi(()=>IB),multi:!0},Ere={provide:Wc,useExisting:Zi(()=>IB),multi:!0};let b_,IB=(()=>{class e{constructor(t,i,r,o,l){this._picker=t,this._localeService=i,this._renderer=r,this._elRef=o,this.changeDetection=l,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new Pn}onChange(t){this.writeValue(t.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}ngOnInit(){const t=i=>{this._setInputValue(i),this._value!==i&&(this._value=i,this._onChange(i),this._onTouched()),this.changeDetection.markForCheck()};this._picker._bsValue&&t(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(t)),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.dateInputFormat$.pipe(rD()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}_setInputValue(t){const i=t?Qf(t,this._picker._config.dateInputFormat,this._localeService.currentLocale):"";this._renderer.setProperty(this._elRef.nativeElement,"value",i)}validate(t){const i=t.value;if(null==i||""===i)return null;if(QE(i)){if(!p_(i))return{bsDate:{invalid:i}};if(this._picker&&this._picker.minDate&&dm(i,this._picker.minDate,"date"))return this.writeValue(this._picker.minDate),{bsDate:{minDate:this._picker.minDate}};if(this._picker&&this._picker.maxDate&&fg(i,this._picker.maxDate,"date"))return this.writeValue(this._picker.maxDate),{bsDate:{maxDate:this._picker.maxDate}}}return null}registerOnValidatorChange(t){this._validatorChange=t}writeValue(t){if(t){const i=this._localeService.currentLocale;if(!Xc(i))throw new Error(`Locale "${i}" is not defined, please add it with "defineLocale(...)"`);if(this._value=RD(t,this._picker._config.dateInputFormat,this._localeService.currentLocale),this._picker._config.useUtc){const o=a7(this._value);this._value=null===o?void 0:o}}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(t){this._picker.isDisabled=t,t?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}static#e=this.\u0275fac=function(i){return new(i||e)(lt(xre,1),lt(DA),lt(hl),lt(es),lt(ef))};static#t=this.\u0275dir=li({type:e,selectors:[["input","bsDatepicker",""]],hostBindings:function(i,r){1&i&&ln("change",function(l){return r.onChange(l)})("blur",function(){return r.onBlur()})("keyup.esc",function(){return r.hide()})("keydown.enter",function(){return r.hide()})},features:[jo([Sre,Ere])]})}return e})(),Are=(()=>{class e extends U0{constructor(){super(...arguments),this.displayMonths=2}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=qo(e)))(r||e)}})();static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Mre=(()=>{class e{get isOpen(){return this._datepicker.isShown}set isOpen(t){this.isOpen$.next(t)}set bsValue(t){this._bsValue!==t&&(t&&this.bsConfig?.initCurrentTime&&(t=vB(t)),this.initPreviousValue(),this._bsValue=t,this.bsValueChange.emit(t))}get isDatepickerReadonly(){return this.isDisabled?"":null}get rangeInputFormat$(){return this._rangeInputFormat$}constructor(t,i,r,o,l){this._config=t,this._elementRef=i,this._renderer=r,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new yr,this.isDisabled=!1,this.bsValueChange=new pi,this._subs=[],this._rangeInputFormat$=new yr,this._datepicker=l.createLoader(i,o,r),Object.assign(this,t),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new Vn(this.isOpen)}ngOnInit(){this.isDestroy$=new yr,this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.initPreviousValue(),this.setConfig()}ngOnChanges(t){t.bsConfig&&(t.bsConfig.currentValue?.initCurrentTime&&t.bsConfig.currentValue?.initCurrentTime!==t.bsConfig.previousValue?.initCurrentTime&&this._bsValue&&(this.initPreviousValue(),this._bsValue=vB(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._rangeInputFormat$.next(t.bsConfig.currentValue&&t.bsConfig.currentValue.rangeInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(t.minDate&&(this._datepickerRef.instance.minDate=this.minDate),t.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),t.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),t.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),t.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),t.isDisabled&&(this._datepickerRef.instance.isDisabled=this.isDisabled),t.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses))}ngAfterViewInit(){this.isOpen$.pipe(Sa(t=>t!==this.isOpen),$c(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:U0,useValue:this._config}).attach(kre).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(t=>{this._datepickerRef&&(this._datepickerRef.instance.value=t)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.pipe(Sa(t=>t&&t[0]&&!!t[1])).subscribe(t=>{this.initPreviousValue(),this.bsValue=t,!this.keepDatepickerModalOpened()&&this.hide()}))}initPreviousValue(){b_=this._bsValue}keepDatepickerModalOpened(){return!!(b_&&this.bsConfig?.keepDatepickerOpened&&this._config.withTimepicker)&&this.isDateSame()}isDateSame(){return this._bsValue?.[0]?.getDate()===b_?.[0]?.getDate()&&this._bsValue?.[0]?.getMonth()===b_?.[0]?.getMonth()&&this._bsValue?.[0]?.getFullYear()===b_?.[0]?.getFullYear()&&this._bsValue?.[1]?.getDate()===b_?.[1]?.getDate()&&this._bsValue?.[1]?.getMonth()===b_?.[1]?.getMonth()&&this._bsValue?.[1]?.getFullYear()===b_?.[1]?.getFullYear()}setConfig(){this._config=Object.assign({},this._config,this.bsConfig,{value:this.bsConfig?.keepDatesOutOfRules?this._bsValue:_B(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,ranges:nre(this.bsConfig&&this.bsConfig.ranges,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),maxDateRange:this.bsConfig&&this.bsConfig.maxDateRange,initCurrentTime:this.bsConfig?.initCurrentTime,keepDatepickerOpened:this.bsConfig?.keepDatepickerOpened,keepDatesOutOfRules:this.bsConfig?.keepDatesOutOfRules})}hide(){this.isOpen&&this._datepicker.hide();for(const t of this._subs)t.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}unsubscribeSubscriptions(){this._subs?.length&&(this._subs.map(t=>t.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}static#e=this.\u0275fac=function(i){return new(i||e)(lt(Are),lt(es),lt(hl),lt(Dc),lt(HD))};static#t=this.\u0275dir=li({type:e,selectors:[["","bsDaterangepicker",""]],hostVars:1,hostBindings:function(i,r){2&i&&Zs("readonly",r.isDatepickerReadonly)},inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",dateCustomClasses:"dateCustomClasses",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDaterangepicker"],features:[Fa]})}return e})();const Ore={provide:Od,useExisting:Zi(()=>NB),multi:!0},Ire={provide:Wc,useExisting:Zi(()=>NB),multi:!0};let NB=(()=>{class e{constructor(t,i,r,o,l){this._picker=t,this._localeService=i,this._renderer=r,this._elRef=o,this.changeDetection=l,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new Pn}ngOnInit(){this._picker._bsValue&&(i=>{this._setInputValue(i),this._value!==i&&(this._value=i,this._onChange(i),this._onTouched()),this.changeDetection.markForCheck()})(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(i=>{this._setInputValue(i),this._value!==i&&(this._value=i,this._onChange(i),this._onTouched()),this.changeDetection.markForCheck()})),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.rangeInputFormat$.pipe(rD()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(t){(13===t.keyCode||"Enter"===t.code)&&this.hide()}_setInputValue(t){let i="";if(t){const r=t[0]?Qf(t[0],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"",o=t[1]?Qf(t[1],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"";i=r&&o?r+this._picker._config.rangeSeparator+o:""}this._renderer.setProperty(this._elRef.nativeElement,"value",i)}onChange(t){this.writeValue(t.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(t){let i=t.value;const r=[];if(null==i||!ml(i))return null;i=i.slice().sort((u,g)=>u.getTime()-g.getTime());const o=p_(i[0]),l=p_(i[1]);return o?l?(this._picker&&this._picker.minDate&&dm(i[0],this._picker.minDate,"date")&&(i[0]=this._picker.minDate,r.push({bsDate:{minDate:this._picker.minDate}})),this._picker&&this._picker.maxDate&&fg(i[1],this._picker.maxDate,"date")&&(i[1]=this._picker.maxDate,r.push({bsDate:{maxDate:this._picker.maxDate}})),r.length>0?(this.writeValue(i),r):null):{bsDate:{invalid:i[1]}}:{bsDate:{invalid:i[0]}}}registerOnValidatorChange(t){this._validatorChange=t}writeValue(t){if(t){const i=this._localeService.currentLocale;if(!Xc(i))throw new Error(`Locale "${i}" is not defined, please add it with "defineLocale(...)"`);let o=[];if("string"==typeof t){const l=this._picker._config.rangeSeparator.trim();o=t.replace(/[^-]/g,"").length>1?t.split(this._picker._config.rangeSeparator):t.split(l.length>0?l:this._picker._config.rangeSeparator).map(u=>u.trim())}Array.isArray(t)&&(o=t),this._value=o.map(l=>this._picker._config.useUtc?a7(RD(l,this._picker._config.rangeInputFormat,this._localeService.currentLocale)):RD(l,this._picker._config.rangeInputFormat,this._localeService.currentLocale)).map(l=>isNaN(l.valueOf())?void 0:l)}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(t){this._picker.isDisabled=t,t?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}static#e=this.\u0275fac=function(i){return new(i||e)(lt(Mre,1),lt(DA),lt(hl),lt(es),lt(ef))};static#t=this.\u0275dir=li({type:e,selectors:[["input","bsDaterangepicker",""]],hostBindings:function(i,r){1&i&&ln("change",function(l){return r.onChange(l)})("keyup.esc",function(){return r.hide()})("keydown",function(l){return r.onKeydownEvent(l)})("blur",function(){return r.onBlur()})},features:[jo([Ore,Ire])]})}return e})(),Nre=(()=>{class e{static forRoot(){return{ngModule:e,providers:[HD,aw,YD,Ec,jD,DA,j0]}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({imports:[jy,Ene,vne]})}return e})();const{isArray:Fre}=Array;function RB(e){return 1===e.length&&Fre(e[0])?e[0]:e}function vI(...e){const n=fE(e),t=RB(e);return t.length?new Yr(i=>{let r=t.map(()=>[]),o=t.map(()=>!1);i.add(()=>{r=o=null});for(let l=0;!i.closed&&l<t.length;l++)Lu(t[l]).subscribe(ii(i,u=>{if(r[l].push(u),r.every(g=>g.length)){const g=r.map(v=>v.shift());i.next(n?n(...g):g),r.some((v,D)=>!v.length&&o[D])&&i.complete()}},()=>{o[l]=!0,!r[l].length&&i.complete()}));return()=>{r=o=null}}):nD}function wI(...e){const n=fE(e);return Ne((t,i)=>{const r=e.length,o=new Array(r);let l=e.map(()=>!1),u=!1;for(let g=0;g<r;g++)Lu(e[g]).subscribe(ii(i,v=>{o[g]=v,!u&&!l[g]&&(l[g]=!0,(u=l.every(la))&&(l=null))},Hn));t.subscribe(ii(i,g=>{if(u){const v=[g,...o];i.next(n?n(...v):v)}}))})}Math,Math,Math;const Wse=["*"],Coe=["dialog"],t9={animation:!0,transitionTimerDelayMs:5};let MA=(()=>{class e{constructor(){this.animation=t9.animation}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function pw(e){return"string"==typeof e}function Cb(e){return null!=e}function gw(e){return(e||document.body).getBoundingClientRect()}const gae=()=>{},{transitionTimerDelayMs:mae}=t9,ZD=new Map,lp=(e,n,t,i)=>{let r=i.context||{};const o=ZD.get(n);if(o)switch(i.runningTransition){case"continue":return nD;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),ZD.delete(n)}const l=t(n,i.animation,r)||gae;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return e.run(()=>l()),zy(void 0).pipe(function pae(e){return n=>new Yr(t=>n.subscribe({next:l=>e.run(()=>t.next(l)),error:l=>e.run(()=>t.error(l)),complete:()=>e.run(()=>t.complete())}))}(e));const u=new yr,g=new yr,v=u.pipe(function Vre(...e){return n=>wE(n,zy(...e))}(!0));ZD.set(n,{transition$:u,complete:()=>{g.next(),g.complete()},context:r});const D=function dae(e){const{transitionDelay:n,transitionDuration:t}=window.getComputedStyle(e);return 1e3*(parseFloat(n)+parseFloat(t))}(n);return e.runOutsideAngular(()=>{const L=Kc(n,"transitionend").pipe($c(v),Sa(({target:ue})=>ue===n));(function LB(...e){return 1===(e=RB(e)).length?Lu(e[0]):new Yr(function Bre(e){return n=>{let t=[];for(let i=0;t&&!n.closed&&i<e.length;i++)t.push(Lu(e[i]).subscribe(ii(n,r=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}n.next(r)})))}}(e))})(vE(D+mae).pipe($c(v)),L,g).pipe($c(v)).subscribe(()=>{ZD.delete(n),e.run(()=>{l(),u.next(),u.complete()})})}),u.asObservable()};let l9=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({})}return e})(),c9=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({})}return e})(),h9=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({})}return e})(),f9=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({})}return e})();var Aa=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}(Aa||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const v9=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function w9(e){const n=Array.from(e.querySelectorAll(v9)).filter(t=>-1!==t.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let F9=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({})}return e})(),V9=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({})}return e})(),ble=(()=>{class e{constructor(){this._ngbConfig=Wt(MA),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class Sb{constructor(n,t,i){this.nodes=n,this.viewRef=t,this.componentRef=i}}let vle=(()=>{class e{constructor(){this._document=Wt(cc)}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:l}=r;if(t>0){const u=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${u+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=l),r.overflow=o}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wle=(()=>{class e{constructor(){this._nativeElement=Wt(es).nativeElement,this._zone=Wt(Es)}ngOnInit(){this._zone.onStable.asObservable().pipe(nf(1)).subscribe(()=>{lp(this._zone,this._nativeElement,(t,i)=>{i&&gw(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return lp(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=wr({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(rd("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),ci("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Jh],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return e})();class H9{update(n){}close(n){}dismiss(n){}}const Cle=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Tle=["animation","backdropClass"];class Dle{_applyWindowOptions(n,t){Cle.forEach(i=>{Cb(t[i])&&(n[i]=t[i])})}_applyBackdropOptions(n,t){Tle.forEach(i=>{Cb(t[i])&&(n[i]=t[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe($c(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe($c(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,t,i,r){this._windowCmptRef=n,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new yr,this._dismissed=new yr,this._hidden=new yr,n.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,l)=>{this._resolve=o,this._reject=l}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function n9(e){return e&&e.then}(t)?!1!==t&&this._dismiss(n):t.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():zy(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),vI(n,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var $I=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}($I||{});let xle=(()=>{class e{constructor(){this._document=Wt(cc),this._elRef=Wt(es),this._zone=Wt(Es),this._closed$=new yr,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new pi,this.shown=new yr,this.hidden=new yr}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":pw(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(nf(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},l=vI(lp(this._zone,t,()=>t.classList.remove("show"),i),lp(this._zone,this._dialogEl.nativeElement,()=>{},i));return l.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),l}_show(){const t={animation:this.animation,runningTransition:"continue"};vI(lp(this._zone,this._elRef.nativeElement,(o,l)=>{l&&gw(o),o.classList.add("show")},t),lp(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Kc(t,"keydown").pipe($c(this._closed$),Sa(r=>r.which===Aa.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss($I.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Kc(this._dialogEl.nativeElement,"mousedown").pipe($c(this._closed$),function PB(e,n,t){const i=ei(e)||n||t?{next:e,error:n,complete:t}:e;return i?Ne((r,o)=>{var l;null===(l=i.subscribe)||void 0===l||l.call(i);let u=!0;r.subscribe(ii(o,g=>{var v;null===(v=i.next)||void 0===v||v.call(i,g),o.next(g)},()=>{var g;u=!1,null===(g=i.complete)||void 0===g||g.call(i),o.complete()},g=>{var v;u=!1,null===(v=i.error)||void 0===v||v.call(i,g),o.error(g)},()=>{var g,v;u&&(null===(g=i.unsubscribe)||void 0===g||g.call(i)),null===(v=i.finalize)||void 0===v||v.call(i)}))}):la}(()=>i=!1),l5(()=>Kc(t,"mouseup").pipe($c(this._closed$),nf(1))),Sa(({target:r})=>t===r)).subscribe(()=>{i=!0}),Kc(t,"click").pipe($c(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss($I.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=w9(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&lp(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=wr({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&Xl(Coe,7),2&i){let o;eo(o=to())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(Zs("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),rd("modal d-block"+(r.windowClass?" "+r.windowClass:"")),ci("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Jh],ngContentSelectors:Wse,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){1&i&&(Fy(),B(0,"div",1,0)(2,"div",2),G1(3),P()()),2&i&&rd("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return e})(),kle=(()=>{class e{constructor(){this._applicationRef=Wt(ag),this._injector=Wt(Ko),this._environmentInjector=Wt(Hl),this._document=Wt(cc),this._scrollBar=Wt(vle),this._activeWindowCmptHasChanged=new yr,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new pi;const t=Wt(Es);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const i=this._windowCmpts[this._windowCmpts.length-1];((e,n,t,i=!1)=>{e.runOutsideAngular(()=>{const r=Kc(n,"focusin").pipe($c(t),$i(o=>o.target));Kc(n,"keydown").pipe($c(t),Sa(o=>o.which===Aa.Tab),wI(r)).subscribe(([o,l])=>{const[u,g]=w9(n);(l===u||l===n)&&o.shiftKey&&(g.focus(),o.preventDefault()),l===g&&!o.shiftKey&&(u.focus(),o.preventDefault())}),i&&Kc(n,"click").pipe($c(t),wI(r),$i(o=>o[1])).subscribe(o=>o.focus())})})(t,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const o=r.container instanceof HTMLElement?r.container:Cb(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const l=new H9,u=(t=r.injector||t).get(Hl,null)||this._environmentInjector,g=this._getContentRef(t,u,i,l,r);let v=!1!==r.backdrop?this._attachBackdrop(o):void 0,D=this._attachWindowComponent(o,g.nodes),L=new Dle(D,g,v,r.beforeDismiss);return this._registerModalRef(L),this._registerWindowCmpt(D),L.hidden.pipe(nf(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),l.close=ce=>{L.close(ce)},l.dismiss=ce=>{L.dismiss(ce)},l.update=ce=>{L.update(ce)},L.update(r),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),v&&v.instance&&v.changeDetectorRef.detectChanges(),D.changeDetectorRef.detectChanges(),L}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=A4(wle,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=A4(xle,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_getContentRef(t,i,r,o,l){return r?r instanceof Yl?this._createFromTemplateRef(r,o):pw(r)?this._createFromString(r):this._createFromComponent(t,i,r,o,l):new Sb([])}_createFromTemplateRef(t,i){const o=t.createEmbeddedView({$implicit:i,close(l){i.close(l)},dismiss(l){i.dismiss(l)}});return this._applicationRef.attachView(o),new Sb([o.rootNodes],o)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new Sb([[i]])}_createFromComponent(t,i,r,o,l){const g=A4(r,{environmentInjector:i,elementInjector:Ko.create({providers:[{provide:H9,useValue:o}],parent:t})}),v=g.location.nativeElement;return l.scrollable&&v.classList.add("component-host-scrollable"),this._applicationRef.attachView(g.hostView),new Sb([[v]],g.hostView,g)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Sle=(()=>{class e{constructor(){this._injector=Wt(Ko),this._modalStack=Wt(kle),this._config=Wt(ble)}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=En({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),j9=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({providers:[Sle]})}return e})(),Y9=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({})}return e})(),Q9=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({})}return e})(),J9=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({})}return e})(),eV=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({})}return e})(),tV=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({})}return e})(),nV=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({})}return e})(),iV=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({})}return e})(),rV=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({})}return e})(),sV=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({})}return e})();new Ci("live announcer delay",{providedIn:"root",factory:()=>100});let oV=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({})}return e})(),aV=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({})}return e})();const Ule=[l9,c9,h9,f9,F9,V9,j9,Y9,aV,Q9,J9,eV,tV,nV,iV,rV,sV,oV];let zle=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e});static#n=this.\u0275inj=Sr({imports:[Ule,l9,c9,h9,f9,F9,V9,j9,Y9,aV,Q9,J9,eV,tV,nV,iV,rV,sV,oV]})}return e})(),Yle=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ts({type:e,bootstrap:[eZ]});static#n=this.\u0275inj=Sr({providers:[$5,Nd,u_,c_,l_,FE],imports:[zle,CL,FG,qG,U$,P8,P8,LG,nX,zQ,Nre.forRoot(),IX.forRoot(),LW.forRoot({loader:J1,markedOptions:{provide:OP,useFactory:$le}})]})}return e})();function $le(){const e=new Gy;return e.code=function(n,t){return t.match(/^mermaid/)?'<div class="mermaid">'+n+"</div>":"<pre><code>"+n+"</code></pre>"},{renderer:e,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}}EY().bootstrapModule(Yle).catch(e=>console.error(e))},7374:function(Nt){Nt.exports=function(){"use strict";var N=6e4,R=36e5,H="millisecond",q="second",te="minute",re="hour",S="day",F="week",ne="month",x="quarter",E="year",O="date",k="Invalid Date",j=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ee=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Q={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(He){var Be=["th","st","nd","rd"],Ke=He%100;return"["+He+(Be[(Ke-20)%10]||Be[Ke]||Be[0])+"]"}},we=function(He,Be,Ke){var bt=String(He);return!bt||bt.length>=Be?He:""+Array(Be+1-bt.length).join(Ke)+He},U={s:we,z:function(He){var Be=-He.utcOffset(),Ke=Math.abs(Be),bt=Math.floor(Ke/60),gt=Ke%60;return(Be<=0?"+":"-")+we(bt,2,"0")+":"+we(gt,2,"0")},m:function He(Be,Ke){if(Be.date()<Ke.date())return-He(Ke,Be);var bt=12*(Ke.year()-Be.year())+(Ke.month()-Be.month()),gt=Be.clone().add(bt,ne),en=Ke-gt<0,Dt=Be.clone().add(bt+(en?-1:1),ne);return+(-(bt+(Ke-gt)/(en?gt-Dt:Dt-gt))||0)},a:function(He){return He<0?Math.ceil(He)||0:Math.floor(He)},p:function(He){return{M:ne,y:E,w:F,d:S,D:O,h:re,m:te,s:q,ms:H,Q:x}[He]||String(He||"").toLowerCase().replace(/s$/,"")},u:function(He){return void 0===He}},W="en",K={};K[W]=Q;var ie="$isDayjsObject",me=function(He){return He instanceof st||!(!He||!He[ie])},ve=function He(Be,Ke,bt){var gt;if(!Be)return W;if("string"==typeof Be){var en=Be.toLowerCase();K[en]&&(gt=en),Ke&&(K[en]=Ke,gt=en);var Dt=Be.split("-");if(!gt&&Dt.length>1)return He(Dt[0])}else{var Ln=Be.name;K[Ln]=Be,gt=Ln}return!bt&&gt&&(W=gt),gt||!bt&&W},pe=function(He,Be){if(me(He))return He.clone();var Ke="object"==typeof Be?Be:{};return Ke.date=He,Ke.args=arguments,new st(Ke)},Ce=U;Ce.l=ve,Ce.i=me,Ce.w=function(He,Be){return pe(He,{locale:Be.$L,utc:Be.$u,x:Be.$x,$offset:Be.$offset})};var st=function(){function He(Ke){this.$L=ve(Ke.locale,null,!0),this.parse(Ke),this.$x=this.$x||Ke.x||{},this[ie]=!0}var Be=He.prototype;return Be.parse=function(Ke){this.$d=function(bt){var gt=bt.date,en=bt.utc;if(null===gt)return new Date(NaN);if(Ce.u(gt))return new Date;if(gt instanceof Date)return new Date(gt);if("string"==typeof gt&&!/Z$/i.test(gt)){var Dt=gt.match(j);if(Dt){var Ln=Dt[2]-1||0,wi=(Dt[7]||"0").substring(0,3);return en?new Date(Date.UTC(Dt[1],Ln,Dt[3]||1,Dt[4]||0,Dt[5]||0,Dt[6]||0,wi)):new Date(Dt[1],Ln,Dt[3]||1,Dt[4]||0,Dt[5]||0,Dt[6]||0,wi)}}return new Date(gt)}(Ke),this.init()},Be.init=function(){var Ke=this.$d;this.$y=Ke.getFullYear(),this.$M=Ke.getMonth(),this.$D=Ke.getDate(),this.$W=Ke.getDay(),this.$H=Ke.getHours(),this.$m=Ke.getMinutes(),this.$s=Ke.getSeconds(),this.$ms=Ke.getMilliseconds()},Be.$utils=function(){return Ce},Be.isValid=function(){return this.$d.toString()!==k},Be.isSame=function(Ke,bt){var gt=pe(Ke);return this.startOf(bt)<=gt&&gt<=this.endOf(bt)},Be.isAfter=function(Ke,bt){return pe(Ke)<this.startOf(bt)},Be.isBefore=function(Ke,bt){return this.endOf(bt)<pe(Ke)},Be.$g=function(Ke,bt,gt){return Ce.u(Ke)?this[bt]:this.set(gt,Ke)},Be.unix=function(){return Math.floor(this.valueOf()/1e3)},Be.valueOf=function(){return this.$d.getTime()},Be.startOf=function(Ke,bt){var gt=this,en=!!Ce.u(bt)||bt,Dt=Ce.p(Ke),Ln=function(Oi,Ni){var cr=Ce.w(gt.$u?Date.UTC(gt.$y,Ni,Oi):new Date(gt.$y,Ni,Oi),gt);return en?cr:cr.endOf(S)},wi=function(Oi,Ni){return Ce.w(gt.toDate()[Oi].apply(gt.toDate("s"),(en?[0,0,0,0]:[23,59,59,999]).slice(Ni)),gt)},ki=this.$W,Pi=this.$M,Ki=this.$D,vr="set"+(this.$u?"UTC":"");switch(Dt){case E:return en?Ln(1,0):Ln(31,11);case ne:return en?Ln(1,Pi):Ln(0,Pi+1);case F:var Wn=this.$locale().weekStart||0,Fi=(ki<Wn?ki+7:ki)-Wn;return Ln(en?Ki-Fi:Ki+(6-Fi),Pi);case S:case O:return wi(vr+"Hours",0);case re:return wi(vr+"Minutes",1);case te:return wi(vr+"Seconds",2);case q:return wi(vr+"Milliseconds",3);default:return this.clone()}},Be.endOf=function(Ke){return this.startOf(Ke,!1)},Be.$set=function(Ke,bt){var gt,en=Ce.p(Ke),Dt="set"+(this.$u?"UTC":""),Ln=(gt={},gt[S]=Dt+"Date",gt[O]=Dt+"Date",gt[ne]=Dt+"Month",gt[E]=Dt+"FullYear",gt[re]=Dt+"Hours",gt[te]=Dt+"Minutes",gt[q]=Dt+"Seconds",gt[H]=Dt+"Milliseconds",gt)[en],wi=en===S?this.$D+(bt-this.$W):bt;if(en===ne||en===E){var ki=this.clone().set(O,1);ki.$d[Ln](wi),ki.init(),this.$d=ki.set(O,Math.min(this.$D,ki.daysInMonth())).$d}else Ln&&this.$d[Ln](wi);return this.init(),this},Be.set=function(Ke,bt){return this.clone().$set(Ke,bt)},Be.get=function(Ke){return this[Ce.p(Ke)]()},Be.add=function(Ke,bt){var gt,en=this;Ke=Number(Ke);var Dt=Ce.p(bt),Ln=function(Pi){var Ki=pe(en);return Ce.w(Ki.date(Ki.date()+Math.round(Pi*Ke)),en)};if(Dt===ne)return this.set(ne,this.$M+Ke);if(Dt===E)return this.set(E,this.$y+Ke);if(Dt===S)return Ln(1);if(Dt===F)return Ln(7);var wi=(gt={},gt[te]=N,gt[re]=R,gt[q]=1e3,gt)[Dt]||1,ki=this.$d.getTime()+Ke*wi;return Ce.w(ki,this)},Be.subtract=function(Ke,bt){return this.add(-1*Ke,bt)},Be.format=function(Ke){var bt=this,gt=this.$locale();if(!this.isValid())return gt.invalidDate||k;var en=Ke||"YYYY-MM-DDTHH:mm:ssZ",Dt=Ce.z(this),Ln=this.$H,wi=this.$m,ki=this.$M,Pi=gt.weekdays,Ki=gt.months,Wn=function(Ni,cr,Qi,Js){return Ni&&(Ni[cr]||Ni(bt,en))||Qi[cr].slice(0,Js)},Fi=function(Ni){return Ce.s(Ln%12||12,Ni,"0")},Oi=gt.meridiem||function(Ni,cr,Qi){var Js=Ni<12?"AM":"PM";return Qi?Js.toLowerCase():Js};return en.replace(ee,function(Ni,cr){return cr||function(Qi){switch(Qi){case"YY":return String(bt.$y).slice(-2);case"YYYY":return Ce.s(bt.$y,4,"0");case"M":return ki+1;case"MM":return Ce.s(ki+1,2,"0");case"MMM":return Wn(gt.monthsShort,ki,Ki,3);case"MMMM":return Wn(Ki,ki);case"D":return bt.$D;case"DD":return Ce.s(bt.$D,2,"0");case"d":return String(bt.$W);case"dd":return Wn(gt.weekdaysMin,bt.$W,Pi,2);case"ddd":return Wn(gt.weekdaysShort,bt.$W,Pi,3);case"dddd":return Pi[bt.$W];case"H":return String(Ln);case"HH":return Ce.s(Ln,2,"0");case"h":return Fi(1);case"hh":return Fi(2);case"a":return Oi(Ln,wi,!0);case"A":return Oi(Ln,wi,!1);case"m":return String(wi);case"mm":return Ce.s(wi,2,"0");case"s":return String(bt.$s);case"ss":return Ce.s(bt.$s,2,"0");case"SSS":return Ce.s(bt.$ms,3,"0");case"Z":return Dt}return null}(Ni)||Dt.replace(":","")})},Be.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Be.diff=function(Ke,bt,gt){var en,Dt=this,Ln=Ce.p(bt),wi=pe(Ke),ki=(wi.utcOffset()-this.utcOffset())*N,Pi=this-wi,Ki=function(){return Ce.m(Dt,wi)};switch(Ln){case E:en=Ki()/12;break;case ne:en=Ki();break;case x:en=Ki()/3;break;case F:en=(Pi-ki)/6048e5;break;case S:en=(Pi-ki)/864e5;break;case re:en=Pi/R;break;case te:en=Pi/N;break;case q:en=Pi/1e3;break;default:en=Pi}return gt?en:Ce.a(en)},Be.daysInMonth=function(){return this.endOf(ne).$D},Be.$locale=function(){return K[this.$L]},Be.locale=function(Ke,bt){if(!Ke)return this.$L;var gt=this.clone(),en=ve(Ke,bt,!0);return en&&(gt.$L=en),gt},Be.clone=function(){return Ce.w(this.$d,this)},Be.toDate=function(){return new Date(this.valueOf())},Be.toJSON=function(){return this.isValid()?this.toISOString():null},Be.toISOString=function(){return this.$d.toISOString()},Be.toString=function(){return this.$d.toUTCString()},He}(),Je=st.prototype;return pe.prototype=Je,[["$ms",H],["$s",q],["$m",te],["$H",re],["$W",S],["$M",ne],["$y",E],["$D",O]].forEach(function(He){Je[He[1]]=function(Be){return this.$g(Be,He[0],He[1])}}),pe.extend=function(He,Be){return He.$i||(He(Be,st,pe),He.$i=!0),pe},pe.locale=ve,pe.isDayjs=me,pe.unix=function(He){return pe(1e3*He)},pe.en=K[W],pe.Ls=K,pe.p={},pe}()},2900:function(Nt){Nt.exports=function(){"use strict";return function(Ae,N){var R=N.prototype,H=R.format;R.format=function(q){var te=this,re=this.$locale();if(!this.isValid())return H.bind(this)(q);var S=this.$utils(),F=(q||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(ne){switch(ne){case"Q":return Math.ceil((te.$M+1)/3);case"Do":return re.ordinal(te.$D);case"gggg":return te.weekYear();case"GGGG":return te.isoWeekYear();case"wo":return re.ordinal(te.week(),"W");case"w":case"ww":return S.s(te.week(),"w"===ne?1:2,"0");case"W":case"WW":return S.s(te.isoWeek(),"W"===ne?1:2,"0");case"k":case"kk":return S.s(String(0===te.$H?24:te.$H),"k"===ne?1:2,"0");case"X":return Math.floor(te.$d.getTime()/1e3);case"x":return te.$d.getTime();case"z":return"["+te.offsetName()+"]";case"zzz":return"["+te.offsetName("long")+"]";default:return ne}});return H.bind(this)(F)}}}()},2799:function(Nt){Nt.exports=function(){"use strict";var Ae={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},N=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,R=/\d\d/,H=/\d\d?/,q=/\d*[^-_:/,()\s\d]+/,te={},re=function(k){return(k=+k)+(k>68?1900:2e3)},S=function(k){return function(j){this[k]=+j}},F=[/[+-]\d\d:?(\d\d)?|Z/,function(k){(this.zone||(this.zone={})).offset=function(j){if(!j||"Z"===j)return 0;var ee=j.match(/([+-]|\d\d)/g),Q=60*ee[1]+(+ee[2]||0);return 0===Q?0:"+"===ee[0]?-Q:Q}(k)}],ne=function(k){var j=te[k];return j&&(j.indexOf?j:j.s.concat(j.f))},x=function(k,j){var ee,Q=te.meridiem;if(Q){for(var we=1;we<=24;we+=1)if(k.indexOf(Q(we,0,j))>-1){ee=we>12;break}}else ee=k===(j?"pm":"PM");return ee},E={A:[q,function(k){this.afternoon=x(k,!1)}],a:[q,function(k){this.afternoon=x(k,!0)}],S:[/\d/,function(k){this.milliseconds=100*+k}],SS:[R,function(k){this.milliseconds=10*+k}],SSS:[/\d{3}/,function(k){this.milliseconds=+k}],s:[H,S("seconds")],ss:[H,S("seconds")],m:[H,S("minutes")],mm:[H,S("minutes")],H:[H,S("hours")],h:[H,S("hours")],HH:[H,S("hours")],hh:[H,S("hours")],D:[H,S("day")],DD:[R,S("day")],Do:[q,function(k){var j=te.ordinal,ee=k.match(/\d+/);if(this.day=ee[0],j)for(var Q=1;Q<=31;Q+=1)j(Q).replace(/\[|\]/g,"")===k&&(this.day=Q)}],M:[H,S("month")],MM:[R,S("month")],MMM:[q,function(k){var j=ne("months"),ee=(ne("monthsShort")||j.map(function(Q){return Q.slice(0,3)})).indexOf(k)+1;if(ee<1)throw new Error;this.month=ee%12||ee}],MMMM:[q,function(k){var j=ne("months").indexOf(k)+1;if(j<1)throw new Error;this.month=j%12||j}],Y:[/[+-]?\d+/,S("year")],YY:[R,function(k){this.year=re(k)}],YYYY:[/\d{4}/,S("year")],Z:F,ZZ:F};return function(k,j,ee){ee.p.customParseFormat=!0,k&&k.parseTwoDigitYear&&(re=k.parseTwoDigitYear);var Q=j.prototype,we=Q.parse;Q.parse=function(U){var W=U.date,K=U.utc,ie=U.args;this.$u=K;var me=ie[1];if("string"==typeof me){var ve=!0===ie[2],pe=!0===ie[3],Ce=ve||pe,st=ie[2];pe&&(st=ie[2]),te=this.$locale(),!ve&&st&&(te=ee.Ls[st]),this.$d=function(Ke,bt,gt){try{if(["x","X"].indexOf(bt)>-1)return new Date(("X"===bt?1e3:1)*Ke);var en=function O(k){var ee;ee=te&&te.formats;for(var Q=(k=k.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(ve,pe,Ce){var st=Ce&&Ce.toUpperCase();return pe||ee[Ce]||Ae[Ce]||ee[st].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Je,He,Be){return He||Be.slice(1)})})).match(N),we=Q.length,U=0;U<we;U+=1){var W=Q[U],K=E[W],me=K&&K[1];Q[U]=me?{regex:K&&K[0],parser:me}:W.replace(/^\[|\]$/g,"")}return function(ve){for(var pe={},Ce=0,st=0;Ce<we;Ce+=1){var Je=Q[Ce];if("string"==typeof Je)st+=Je.length;else{var He=Je.regex,Be=Je.parser,Ke=ve.slice(st),bt=He.exec(Ke)[0];Be.call(pe,bt),ve=ve.replace(bt,"")}}return function(gt){var en=gt.afternoon;if(void 0!==en){var Dt=gt.hours;en?Dt<12&&(gt.hours+=12):12===Dt&&(gt.hours=0),delete gt.afternoon}}(pe),pe}}(bt)(Ke),Dt=en.year,Ln=en.month,wi=en.day,ki=en.hours,Pi=en.minutes,Ki=en.seconds,vr=en.milliseconds,Wn=en.zone,Fi=new Date,Oi=wi||(Dt||Ln?1:Fi.getDate()),Ni=Dt||Fi.getFullYear(),cr=0;Dt&&!Ln||(cr=Ln>0?Ln-1:Fi.getMonth());var Qi=ki||0,Js=Pi||0,Lo=Ki||0,ei=vr||0;return Wn?new Date(Date.UTC(Ni,cr,Oi,Qi,Js,Lo,ei+60*Wn.offset*1e3)):gt?new Date(Date.UTC(Ni,cr,Oi,Qi,Js,Lo,ei)):new Date(Ni,cr,Oi,Qi,Js,Lo,ei)}catch{return new Date("")}}(W,me,K),this.init(),st&&!0!==st&&(this.$L=this.locale(st).$L),Ce&&W!=this.format(me)&&(this.$d=new Date("")),te={}}else if(me instanceof Array)for(var Je=me.length,He=1;He<=Je;He+=1){ie[1]=me[He-1];var Be=ee.apply(this,ie);if(Be.isValid()){this.$d=Be.$d,this.$L=Be.$L,this.init();break}He===Je&&(this.$d=new Date(""))}else we.call(this,U)}}}()},2548:function(Nt){Nt.exports=function(){"use strict";return function(N,R,H){var q=function(S){return S.add(4-S.isoWeekday(),"day")},te=R.prototype;te.isoWeekYear=function(){return q(this).year()},te.isoWeek=function(S){if(!this.$utils().u(S))return this.add(7*(S-this.isoWeek()),"day");var F,x,E,O=q(this),k=(F=this.isoWeekYear(),E=4-(x=(this.$u?H.utc:H)().year(F).startOf("year")).isoWeekday(),x.isoWeekday()>4&&(E+=7),x.add(E,"day"));return O.diff(k,"week")+1},te.isoWeekday=function(S){return this.$utils().u(S)?this.day()||7:this.day(this.day()%7?S:S-7)};var re=te.startOf;te.startOf=function(S,F){var ne=this.$utils(),x=!!ne.u(F)||F;return"isoweek"===ne.p(S)?x?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):re.bind(this)(S,F)}}}()},1973:function(Nt){Nt.exports=function(){"use strict";function Ae(zt){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(on){return typeof on}:function(on){return on&&"function"==typeof Symbol&&on.constructor===Symbol&&on!==Symbol.prototype?"symbol":typeof on})(zt)}function N(zt,on){return(N=Object.setPrototypeOf||function(ti,ui){return ti.__proto__=ui,ti})(zt,on)}function H(zt,on,yn){return(H=function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(ui,ss,co){var uo=[null];uo.push.apply(uo,ss);var Po=new(Function.bind.apply(ui,uo));return co&&N(Po,co.prototype),Po}).apply(null,arguments)}function q(zt){return function te(zt){if(Array.isArray(zt))return F(zt)}(zt)||function re(zt){if(typeof Symbol<"u"&&null!=zt[Symbol.iterator]||null!=zt["@@iterator"])return Array.from(zt)}(zt)||function S(zt,on){if(zt){if("string"==typeof zt)return F(zt,on);var yn=Object.prototype.toString.call(zt).slice(8,-1);if("Object"===yn&&zt.constructor&&(yn=zt.constructor.name),"Map"===yn||"Set"===yn)return Array.from(zt);if("Arguments"===yn||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yn))return F(zt,on)}}(zt)||function ne(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(zt,on){(null==on||on>zt.length)&&(on=zt.length);for(var yn=0,ti=new Array(on);yn<on;yn++)ti[yn]=zt[yn];return ti}var x=Object.hasOwnProperty,E=Object.setPrototypeOf,O=Object.isFrozen,k=Object.getPrototypeOf,j=Object.getOwnPropertyDescriptor,ee=Object.freeze,Q=Object.seal,we=Object.create,U=typeof Reflect<"u"&&Reflect,W=U.apply,K=U.construct;W||(W=function(on,yn,ti){return on.apply(yn,ti)}),ee||(ee=function(on){return on}),Q||(Q=function(on){return on}),K||(K=function(on,yn){return H(on,q(yn))});var ie=gt(Array.prototype.forEach),me=gt(Array.prototype.pop),ve=gt(Array.prototype.push),pe=gt(String.prototype.toLowerCase),Ce=gt(String.prototype.toString),st=gt(String.prototype.match),Je=gt(String.prototype.replace),He=gt(String.prototype.indexOf),Be=gt(String.prototype.trim),Ke=gt(RegExp.prototype.test),bt=function en(zt){return function(){for(var on=arguments.length,yn=new Array(on),ti=0;ti<on;ti++)yn[ti]=arguments[ti];return K(zt,yn)}}(TypeError);function gt(zt){return function(on){for(var yn=arguments.length,ti=new Array(yn>1?yn-1:0),ui=1;ui<yn;ui++)ti[ui-1]=arguments[ui];return W(zt,on,ti)}}function Dt(zt,on,yn){yn=yn||pe,E&&E(zt,null);for(var ti=on.length;ti--;){var ui=on[ti];if("string"==typeof ui){var ss=yn(ui);ss!==ui&&(O(on)||(on[ti]=ss),ui=ss)}zt[ui]=!0}return zt}function Ln(zt){var yn,on=we(null);for(yn in zt)!0===W(x,zt,[yn])&&(on[yn]=zt[yn]);return on}function wi(zt,on){for(;null!==zt;){var yn=j(zt,on);if(yn){if(yn.get)return gt(yn.get);if("function"==typeof yn.value)return gt(yn.value)}zt=k(zt)}return function ti(ui){return console.warn("fallback value for",ui),null}}var ki=ee(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Pi=ee(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ki=ee(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),vr=ee(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Wn=ee(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Fi=ee(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Oi=ee(["#text"]),Ni=ee(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),cr=ee(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Qi=ee(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Js=ee(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Lo=Q(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ei=Q(/<%[\w\W]*|[\w\W]*%>/gm),$t=Q(/\${[\w\W]*}/gm),mn=Q(/^data-[\-\w.\u00B7-\uFFFF]/),un=Q(/^aria-[\-\w]+$/),Pn=Q(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),xi=Q(/^(?:\w+script|data):/i),Si=Q(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Xt=Q(/^html$/i);return function vn(){var zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:typeof window>"u"?null:window,on=function(kt){return vn(kt)};if(on.version="2.4.3",on.removed=[],!zt||!zt.document||9!==zt.document.nodeType)return on.isSupported=!1,on;var yn=zt.document,ti=zt.document,ui=zt.DocumentFragment,ss=zt.HTMLTemplateElement,co=zt.Node,uo=zt.Element,Eo=zt.NodeFilter,Po=zt.NamedNodeMap,Fs=void 0===Po?zt.NamedNodeMap||zt.MozNamedAttrMap:Po,js=zt.HTMLFormElement,aa=zt.DOMParser,Qo=zt.trustedTypes,no=uo.prototype,tl=wi(no,"cloneNode"),dc=wi(no,"nextSibling"),la=wi(no,"childNodes"),Mc=wi(no,"parentNode");if("function"==typeof ss){var Ma=ti.createElement("template");Ma.content&&Ma.content.ownerDocument&&(ti=Ma.content.ownerDocument)}var Yr=function(on,yn){if("object"!==Ae(on)||"function"!=typeof on.createPolicy)return null;var ti=null,ui="data-tt-policy-suffix";yn.currentScript&&yn.currentScript.hasAttribute(ui)&&(ti=yn.currentScript.getAttribute(ui));var ss="dompurify"+(ti?"#"+ti:"");try{return on.createPolicy(ss,{createHTML:function(uo){return uo},createScriptURL:function(uo){return uo}})}catch{return console.warn("TrustedTypes policy "+ss+" could not be created."),null}}(Qo,yn),Il=Yr?Yr.createHTML(""):"",Oc=ti.implementation,Ic=ti.createNodeIterator,yr=ti.createDocumentFragment,pn=ti.getElementsByTagName,Vn=yn.importNode,fr={};try{fr=Ln(ti).documentMode?ti.documentMode:{}}catch{}var Ne={};on.isSupported="function"==typeof Mc&&Oc&&typeof Oc.createHTMLDocument<"u"&&9!==fr;var os,ea,ii=Lo,Ji=ei,$i=$t,kr=mn,ai=un,qt=xi,Ao=Si,ho=Pn,Lr=null,nl=Dt({},[].concat(q(ki),q(Pi),q(Ki),q(Wn),q(Oi))),er=null,io=Dt({},[].concat(q(Ni),q(cr),q(Qi),q(Js))),$r=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Mo=null,Go=null,$a=!0,ga=!0,Ii=!1,Jo=!1,il=!1,Kr=!1,Oa=!1,Kl=!1,Br=!1,ys=!1,bs=!0,hc=!1,vs=!0,Zi=!1,zi={},Ia=null,fo=Dt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ws=null,ma=Dt({},["audio","video","img","source","image","track"]),Me=null,Fo=Dt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ct="http://www.w3.org/1998/Math/MathML",Xe="http://www.w3.org/2000/svg",gn="http://www.w3.org/1999/xhtml",Vt=gn,An=!1,_i=null,Gi=Dt({},[Ct,Xe,gn],Ce),ro=["application/xhtml+xml","text/html"],tu=null,Bo=ti.createElement("form"),Nl=function(kt){return kt instanceof RegExp||kt instanceof Function},sr=function(kt){tu&&tu===kt||((!kt||"object"!==Ae(kt))&&(kt={}),kt=Ln(kt),os=os=-1===ro.indexOf(kt.PARSER_MEDIA_TYPE)?"text/html":kt.PARSER_MEDIA_TYPE,ea="application/xhtml+xml"===os?Ce:pe,Lr="ALLOWED_TAGS"in kt?Dt({},kt.ALLOWED_TAGS,ea):nl,er="ALLOWED_ATTR"in kt?Dt({},kt.ALLOWED_ATTR,ea):io,_i="ALLOWED_NAMESPACES"in kt?Dt({},kt.ALLOWED_NAMESPACES,Ce):Gi,Me="ADD_URI_SAFE_ATTR"in kt?Dt(Ln(Fo),kt.ADD_URI_SAFE_ATTR,ea):Fo,ws="ADD_DATA_URI_TAGS"in kt?Dt(Ln(ma),kt.ADD_DATA_URI_TAGS,ea):ma,Ia="FORBID_CONTENTS"in kt?Dt({},kt.FORBID_CONTENTS,ea):fo,Mo="FORBID_TAGS"in kt?Dt({},kt.FORBID_TAGS,ea):{},Go="FORBID_ATTR"in kt?Dt({},kt.FORBID_ATTR,ea):{},zi="USE_PROFILES"in kt&&kt.USE_PROFILES,$a=!1!==kt.ALLOW_ARIA_ATTR,ga=!1!==kt.ALLOW_DATA_ATTR,Ii=kt.ALLOW_UNKNOWN_PROTOCOLS||!1,Jo=kt.SAFE_FOR_TEMPLATES||!1,il=kt.WHOLE_DOCUMENT||!1,Kl=kt.RETURN_DOM||!1,Br=kt.RETURN_DOM_FRAGMENT||!1,ys=kt.RETURN_TRUSTED_TYPE||!1,Oa=kt.FORCE_BODY||!1,bs=!1!==kt.SANITIZE_DOM,hc=kt.SANITIZE_NAMED_PROPS||!1,vs=!1!==kt.KEEP_CONTENT,Zi=kt.IN_PLACE||!1,ho=kt.ALLOWED_URI_REGEXP||ho,Vt=kt.NAMESPACE||gn,kt.CUSTOM_ELEMENT_HANDLING&&Nl(kt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($r.tagNameCheck=kt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),kt.CUSTOM_ELEMENT_HANDLING&&Nl(kt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($r.attributeNameCheck=kt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),kt.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof kt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&($r.allowCustomizedBuiltInElements=kt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Jo&&(ga=!1),Br&&(Kl=!0),zi&&(Lr=Dt({},q(Oi)),er=[],!0===zi.html&&(Dt(Lr,ki),Dt(er,Ni)),!0===zi.svg&&(Dt(Lr,Pi),Dt(er,cr),Dt(er,Js)),!0===zi.svgFilters&&(Dt(Lr,Ki),Dt(er,cr),Dt(er,Js)),!0===zi.mathMl&&(Dt(Lr,Wn),Dt(er,Qi),Dt(er,Js))),kt.ADD_TAGS&&(Lr===nl&&(Lr=Ln(Lr)),Dt(Lr,kt.ADD_TAGS,ea)),kt.ADD_ATTR&&(er===io&&(er=Ln(er)),Dt(er,kt.ADD_ATTR,ea)),kt.ADD_URI_SAFE_ATTR&&Dt(Me,kt.ADD_URI_SAFE_ATTR,ea),kt.FORBID_CONTENTS&&(Ia===fo&&(Ia=Ln(Ia)),Dt(Ia,kt.FORBID_CONTENTS,ea)),vs&&(Lr["#text"]=!0),il&&Dt(Lr,["html","head","body"]),Lr.table&&(Dt(Lr,["tbody"]),delete Mo.tbody),ee&&ee(kt),tu=kt)},En=Dt({},["mi","mo","mn","ms","mtext"]),Zl=Dt({},["foreignobject","desc","title","annotation-xml"]),Sr=Dt({},["title","style","font","a","script"]),Nc=Dt({},Pi);Dt(Nc,Ki),Dt(Nc,vr);var dh=Dt({},Wn);Dt(dh,Fi);var Rl=function(kt){ve(on.removed,{element:kt});try{kt.parentNode.removeChild(kt)}catch{try{kt.outerHTML=Il}catch{kt.remove()}}},nu=function(kt,Gn){try{ve(on.removed,{attribute:Gn.getAttributeNode(kt),from:Gn})}catch{ve(on.removed,{attribute:null,from:Gn})}if(Gn.removeAttribute(kt),"is"===kt&&!er[kt])if(Kl||Br)try{Rl(Gn)}catch{}else try{Gn.setAttribute(kt,"")}catch{}},Fu=function(kt){var Gn,mi;if(Oa)kt="<remove></remove>"+kt;else{var Ms=st(kt,/^[\r\n\t ]+/);mi=Ms&&Ms[0]}"application/xhtml+xml"===os&&Vt===gn&&(kt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+kt+"</body></html>");var ta=Yr?Yr.createHTML(kt):kt;if(Vt===gn)try{Gn=(new aa).parseFromString(ta,os)}catch{}if(!Gn||!Gn.documentElement){Gn=Oc.createDocument(Vt,"template",null);try{Gn.documentElement.innerHTML=An?Il:ta}catch{}}var Xs=Gn.body||Gn.documentElement;return kt&&mi&&Xs.insertBefore(ti.createTextNode(mi),Xs.childNodes[0]||null),Vt===gn?pn.call(Gn,il?"html":"body")[0]:il?Gn.documentElement:Xs},pd=function(kt){return Ic.call(kt.ownerDocument||kt,kt,Eo.SHOW_ELEMENT|Eo.SHOW_COMMENT|Eo.SHOW_TEXT,null,!1)},vu=function(kt){return"object"===Ae(co)?kt instanceof co:kt&&"object"===Ae(kt)&&"number"==typeof kt.nodeType&&"string"==typeof kt.nodeName},Ci=function(kt,Gn,mi){Ne[kt]&&ie(Ne[kt],function(Ms){Ms.call(on,Gn,mi,tu)})},vl=function(kt){var Gn;if(Ci("beforeSanitizeElements",kt,null),function(kt){return kt instanceof js&&("string"!=typeof kt.nodeName||"string"!=typeof kt.textContent||"function"!=typeof kt.removeChild||!(kt.attributes instanceof Fs)||"function"!=typeof kt.removeAttribute||"function"!=typeof kt.setAttribute||"string"!=typeof kt.namespaceURI||"function"!=typeof kt.insertBefore||"function"!=typeof kt.hasChildNodes)}(kt)||Ke(/[\u0080-\uFFFF]/,kt.nodeName))return Rl(kt),!0;var mi=ea(kt.nodeName);if(Ci("uponSanitizeElement",kt,{tagName:mi,allowedTags:Lr}),kt.hasChildNodes()&&!vu(kt.firstElementChild)&&(!vu(kt.content)||!vu(kt.content.firstElementChild))&&Ke(/<[/\w]/g,kt.innerHTML)&&Ke(/<[/\w]/g,kt.textContent)||"select"===mi&&Ke(/<template/i,kt.innerHTML))return Rl(kt),!0;if(!Lr[mi]||Mo[mi]){if(!Mo[mi]&&wu(mi)&&($r.tagNameCheck instanceof RegExp&&Ke($r.tagNameCheck,mi)||$r.tagNameCheck instanceof Function&&$r.tagNameCheck(mi)))return!1;if(vs&&!Ia[mi]){var Ms=Mc(kt)||kt.parentNode,ta=la(kt)||kt.childNodes;if(ta&&Ms)for(var qs=ta.length-1;qs>=0;--qs)Ms.insertBefore(tl(ta[qs],!0),dc(kt))}return Rl(kt),!0}return kt instanceof uo&&!function(kt){var Gn=Mc(kt);(!Gn||!Gn.tagName)&&(Gn={namespaceURI:Vt,tagName:"template"});var mi=pe(kt.tagName),Ms=pe(Gn.tagName);return!!_i[kt.namespaceURI]&&(kt.namespaceURI===Xe?Gn.namespaceURI===gn?"svg"===mi:Gn.namespaceURI===Ct?"svg"===mi&&("annotation-xml"===Ms||En[Ms]):!!Nc[mi]:kt.namespaceURI===Ct?Gn.namespaceURI===gn?"math"===mi:Gn.namespaceURI===Xe?"math"===mi&&Zl[Ms]:!!dh[mi]:kt.namespaceURI===gn?!(Gn.namespaceURI===Xe&&!Zl[Ms]||Gn.namespaceURI===Ct&&!En[Ms])&&!dh[mi]&&(Sr[mi]||!Nc[mi]):!("application/xhtml+xml"!==os||!_i[kt.namespaceURI]))}(kt)||("noscript"===mi||"noembed"===mi)&&Ke(/<\/no(script|embed)/i,kt.innerHTML)?(Rl(kt),!0):(Jo&&3===kt.nodeType&&(Gn=Je(Gn=kt.textContent,ii," "),Gn=Je(Gn,Ji," "),Gn=Je(Gn,$i," "),kt.textContent!==Gn&&(ve(on.removed,{element:kt.cloneNode()}),kt.textContent=Gn)),Ci("afterSanitizeElements",kt,null),!1)},wl=function(kt,Gn,mi){if(bs&&("id"===Gn||"name"===Gn)&&(mi in ti||mi in Bo))return!1;if((!ga||Go[Gn]||!Ke(kr,Gn))&&(!$a||!Ke(ai,Gn)))if(!er[Gn]||Go[Gn]){if(!(wu(kt)&&($r.tagNameCheck instanceof RegExp&&Ke($r.tagNameCheck,kt)||$r.tagNameCheck instanceof Function&&$r.tagNameCheck(kt))&&($r.attributeNameCheck instanceof RegExp&&Ke($r.attributeNameCheck,Gn)||$r.attributeNameCheck instanceof Function&&$r.attributeNameCheck(Gn))||"is"===Gn&&$r.allowCustomizedBuiltInElements&&($r.tagNameCheck instanceof RegExp&&Ke($r.tagNameCheck,mi)||$r.tagNameCheck instanceof Function&&$r.tagNameCheck(mi))))return!1}else if(!Me[Gn]&&!Ke(ho,Je(mi,Ao,""))&&("src"!==Gn&&"xlink:href"!==Gn&&"href"!==Gn||"script"===kt||0!==He(mi,"data:")||!ws[kt])&&(!Ii||Ke(qt,Je(mi,Ao,"")))&&mi)return!1;return!0},wu=function(kt){return kt.indexOf("-")>0},Bu=function(kt){var Gn,mi,Ms,ta;Ci("beforeSanitizeAttributes",kt,null);var Xs=kt.attributes;if(Xs){var qs={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:er};for(ta=Xs.length;ta--;){var Xo=(Gn=Xs[ta]).name,Ll=Gn.namespaceURI;if(mi="value"===Xo?Gn.value:Be(Gn.value),Ms=ea(Xo),qs.attrName=Ms,qs.attrValue=mi,qs.keepAttr=!0,qs.forceKeepAttr=void 0,Ci("uponSanitizeAttribute",kt,qs),mi=qs.attrValue,!qs.forceKeepAttr&&(nu(Xo,kt),qs.keepAttr)){if(Ke(/\/>/i,mi)){nu(Xo,kt);continue}Jo&&(mi=Je(mi,ii," "),mi=Je(mi,Ji," "),mi=Je(mi,$i," "));var _a=ea(kt.nodeName);if(wl(_a,Ms,mi)){if(hc&&("id"===Ms||"name"===Ms)&&(nu(Xo,kt),mi="user-content-"+mi),Yr&&"object"===Ae(Qo)&&"function"==typeof Qo.getAttributeType&&!Ll)switch(Qo.getAttributeType(_a,Ms)){case"TrustedHTML":mi=Yr.createHTML(mi);break;case"TrustedScriptURL":mi=Yr.createScriptURL(mi)}try{Ll?kt.setAttributeNS(Ll,Xo,mi):kt.setAttribute(Xo,mi),me(on.removed)}catch{}}}}Ci("afterSanitizeAttributes",kt,null)}},hh=function Xi(kt){var Gn,mi=pd(kt);for(Ci("beforeSanitizeShadowDOM",kt,null);Gn=mi.nextNode();)Ci("uponSanitizeShadowNode",Gn,null),!vl(Gn)&&(Gn.content instanceof ui&&Xi(Gn.content),Bu(Gn));Ci("afterSanitizeShadowDOM",kt,null)};return on.sanitize=function(Xi){var Gn,mi,Ms,ta,Xs,kt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((An=!Xi)&&(Xi="\x3c!--\x3e"),"string"!=typeof Xi&&!vu(Xi)){if("function"!=typeof Xi.toString)throw bt("toString is not a function");if("string"!=typeof(Xi=Xi.toString()))throw bt("dirty is not a string, aborting")}if(!on.isSupported){if("object"===Ae(zt.toStaticHTML)||"function"==typeof zt.toStaticHTML){if("string"==typeof Xi)return zt.toStaticHTML(Xi);if(vu(Xi))return zt.toStaticHTML(Xi.outerHTML)}return Xi}if(Kr||sr(kt),on.removed=[],"string"==typeof Xi&&(Zi=!1),Zi){if(Xi.nodeName){var qs=ea(Xi.nodeName);if(!Lr[qs]||Mo[qs])throw bt("root node is forbidden and cannot be sanitized in-place")}}else if(Xi instanceof co)1===(mi=(Gn=Fu("\x3c!----\x3e")).ownerDocument.importNode(Xi,!0)).nodeType&&"BODY"===mi.nodeName||"HTML"===mi.nodeName?Gn=mi:Gn.appendChild(mi);else{if(!Kl&&!Jo&&!il&&-1===Xi.indexOf("<"))return Yr&&ys?Yr.createHTML(Xi):Xi;if(!(Gn=Fu(Xi)))return Kl?null:ys?Il:""}Gn&&Oa&&Rl(Gn.firstChild);for(var Vu=pd(Zi?Xi:Gn);Ms=Vu.nextNode();)3===Ms.nodeType&&Ms===ta||vl(Ms)||(Ms.content instanceof ui&&hh(Ms.content),Bu(Ms),ta=Ms);if(ta=null,Zi)return Xi;if(Kl){if(Br)for(Xs=yr.call(Gn.ownerDocument);Gn.firstChild;)Xs.appendChild(Gn.firstChild);else Xs=Gn;return er.shadowroot&&(Xs=Vn.call(yn,Xs,!0)),Xs}var Xo=il?Gn.outerHTML:Gn.innerHTML;return il&&Lr["!doctype"]&&Gn.ownerDocument&&Gn.ownerDocument.doctype&&Gn.ownerDocument.doctype.name&&Ke(Xt,Gn.ownerDocument.doctype.name)&&(Xo="<!DOCTYPE "+Gn.ownerDocument.doctype.name+">\n"+Xo),Jo&&(Xo=Je(Xo,ii," "),Xo=Je(Xo,Ji," "),Xo=Je(Xo,$i," ")),Yr&&ys?Yr.createHTML(Xo):Xo},on.setConfig=function(Xi){sr(Xi),Kr=!0},on.clearConfig=function(){tu=null,Kr=!1},on.isValidAttribute=function(Xi,kt,Gn){tu||sr({});var mi=ea(Xi),Ms=ea(kt);return wl(mi,Ms,Gn)},on.addHook=function(Xi,kt){"function"==typeof kt&&(Ne[Xi]=Ne[Xi]||[],ve(Ne[Xi],kt))},on.removeHook=function(Xi){if(Ne[Xi])return me(Ne[Xi])},on.removeHooks=function(Xi){Ne[Xi]&&(Ne[Xi]=[])},on.removeAllHooks=function(){Ne={}},on}()}()},2578:function(Nt,Ae){var N,H;void 0!==(H="function"==typeof(N=function(){"use strict";function te(E,O,k){var j=new XMLHttpRequest;j.open("GET",E),j.responseType="blob",j.onload=function(){x(j.response,O,k)},j.onerror=function(){console.error("could not download file")},j.send()}function re(E){var O=new XMLHttpRequest;O.open("HEAD",E,!1);try{O.send()}catch{}return 200<=O.status&&299>=O.status}function S(E){try{E.dispatchEvent(new MouseEvent("click"))}catch{var O=document.createEvent("MouseEvents");O.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),E.dispatchEvent(O)}}var F="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,ne=F.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),x=F.saveAs||("object"!=typeof window||window!==F?function(){}:"download"in HTMLAnchorElement.prototype&&!ne?function(E,O,k){var j=F.URL||F.webkitURL,ee=document.createElement("a");ee.download=O=O||E.name||"download",ee.rel="noopener","string"==typeof E?(ee.href=E,ee.origin===location.origin?S(ee):re(ee.href)?te(E,O,k):S(ee,ee.target="_blank")):(ee.href=j.createObjectURL(E),setTimeout(function(){j.revokeObjectURL(ee.href)},4e4),setTimeout(function(){S(ee)},0))}:"msSaveOrOpenBlob"in navigator?function(E,O,k){if(O=O||E.name||"download","string"!=typeof E)navigator.msSaveOrOpenBlob(function q(E,O){return typeof O>"u"?O={autoBom:!1}:"object"!=typeof O&&(console.warn("Deprecated: Expected third argument to be a object"),O={autoBom:!O}),O.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(E.type)?new Blob(["\ufeff",E],{type:E.type}):E}(E,k),O);else if(re(E))te(E,O,k);else{var j=document.createElement("a");j.href=E,j.target="_blank",setTimeout(function(){S(j)})}}:function(E,O,k,j){if((j=j||open("","_blank"))&&(j.document.title=j.document.body.innerText="downloading..."),"string"==typeof E)return te(E,O,k);var ee="application/octet-stream"===E.type,Q=/constructor/i.test(F.HTMLElement)||F.safari,we=/CriOS\/[\d]+/.test(navigator.userAgent);if((we||ee&&Q||ne)&&typeof FileReader<"u"){var U=new FileReader;U.onloadend=function(){var ie=U.result;ie=we?ie:ie.replace(/^data:[^;]*;/,"data:attachment/file;"),j?j.location.href=ie:location=ie,j=null},U.readAsDataURL(E)}else{var W=F.URL||F.webkitURL,K=W.createObjectURL(E);j?j.location=K:location.href=K,j=null,setTimeout(function(){W.revokeObjectURL(K)},4e4)}});F.saveAs=x.saveAs=x,Nt.exports=x})?N.apply(Ae,[]):N)&&(Nt.exports=H)},179:(Nt,Ae,N)=>{"use strict";N.d(Ae,{a:()=>ol,b:()=>Jm,c:()=>sr,d:()=>tr,e:()=>Bo,f:()=>Zt,g:()=>ft,h:()=>o0,i:()=>z_,j:()=>Mi,k:()=>Vi,l:()=>Me,m:()=>$e,n:()=>An,o:()=>Ad,p:()=>mv,s:()=>Mh});var R=N(467);const q=function H(s){for(var a=[],h=1;h<arguments.length;h++)a[h-1]=arguments[h];var f=Array.from("string"==typeof s?[s]:s);f[f.length-1]=f[f.length-1].replace(/\r?\n([\t ]*)$/,"");var p=f.reduce(function(w,C){var A=C.match(/\n([\t ]+|(?!\s).)/g);return A?w.concat(A.map(function(V){var Y,z;return null!==(z=null===(Y=V.match(/[\t ]/g))||void 0===Y?void 0:Y.length)&&void 0!==z?z:0})):w},[]);if(p.length){var y=new RegExp("\n[\t ]{"+Math.min.apply(Math,p)+"}","g");f=f.map(function(w){return w.replace(y,"\n")})}f[0]=f[0].replace(/^\r?\n/,"");var b=f[0];return a.forEach(function(w,C){var A=b.match(/(?:^|\n)( *)$/),V=A?A[1]:"",Y=w;"string"==typeof w&&w.includes("\n")&&(Y=String(w).split("\n").map(function(z,X){return 0===X?z:""+V+z}).join("\n")),b+=Y+f[C+1]}),b};var te=N(7374),re=N.n(te),S=N(2571),F=N(1975),ne=N(1973),x=N.n(ne),E=N(7501),O=N(8844);const j=(s,a)=>{const h=E.A.parse(s);for(const f in a)h[f]=O.A.channel.clamp[f](a[f]);return E.A.stringify(h)},Q=(s,a)=>{const h=E.A.parse(s),f={};for(const p in a)a[p]&&(f[p]=h[p]+a[p]);return j(s,f)};var we=N(7394);const W=(s,a,h=0,f=1)=>{if("number"!=typeof s)return j(s,{a});const p=we.A.set({r:O.A.channel.clamp.r(s),g:O.A.channel.clamp.g(a),b:O.A.channel.clamp.b(h),a:O.A.channel.clamp.a(f)});return E.A.stringify(p)},ve=(s,a=100)=>{const h=E.A.parse(s);return h.r=255-h.r,h.g=255-h.g,h.b=255-h.b,((s,a,h=50)=>{const{r:f,g:p,b:y,a:b}=E.A.parse(s),{r:w,g:C,b:A,a:V}=E.A.parse(a),Y=h/100,z=2*Y-1,X=b-V,Oe=((z*X==-1?z:(z+X)/(1+z*X))+1)/2,Fe=1-Oe;return W(f*Oe+w*Fe,p*Oe+C*Fe,y*Oe+A*Fe,b*Y+V*(1-Y))})(h,s,a)};var pe=N(7376),Ce=N(4328),st=N(4569),Ke="comm",bt="rule",gt="decl",cr=Math.abs,Qi=String.fromCharCode;function ei(s){return s.trim()}function mn(s,a,h){return s.replace(a,h)}function un(s,a){return s.indexOf(a)}function Pn(s,a){return 0|s.charCodeAt(a)}function xi(s,a,h){return s.slice(a,h)}function Si(s){return s.length}function Xt(s){return s.length}function Et(s,a){return a.push(s),s}function vn(s,a){for(var h="",f=Xt(s),p=0;p<f;p++)h+=a(s[p],p,s,a)||"";return h}function Hn(s,a,h,f){switch(s.type){case"@import":case gt:return s.return=s.return||s.value;case Ke:return"";case"@keyframes":return s.return=s.value+"{"+vn(s.children,f)+"}";case bt:s.value=s.props.join(",")}return Si(h=vn(s.children,f))?s.return=s.value+"{"+h+"}":""}var zt=1,on=1,yn=0,ti=0,ui=0,ss="";function co(s,a,h,f,p,y,b){return{value:s,root:a,parent:h,type:f,props:p,children:y,line:zt,column:on,length:b,return:""}}function Fs(){return ui=ti<yn?Pn(ss,ti++):0,on++,10===ui&&(on=1,zt++),ui}function js(){return Pn(ss,ti)}function aa(){return ti}function Qo(s,a){return xi(ss,s,a)}function no(s){switch(s){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function la(s){return ei(Qo(ti-1,bl(91===s?s+2:40===s?s+1:s)))}function Ma(s){for(;(ui=js())&&ui<33;)Fs();return no(s)>2||no(ui)>3?"":" "}function Il(s,a){for(;--a&&Fs()&&!(ui<48||ui>102||ui>57&&ui<65||ui>70&&ui<97););return Qo(s,aa()+(a<6&&32==js()&&32==Fs()))}function bl(s){for(;Fs();)switch(ui){case s:return ti;case 34:case 39:34!==s&&39!==s&&bl(ui);break;case 40:41===s&&bl(s);break;case 92:Fs()}return ti}function Oc(s,a){for(;Fs()&&s+ui!==57&&(s+ui!==84||47!==js()););return"/*"+Qo(a,ti-1)+"*"+Qi(47===s?s:Fs())}function Ic(s){for(;!no(js());)Fs();return Qo(s,ti)}function yr(s){return function dc(s){return ss="",s}(pn("",null,null,null,[""],s=function tl(s){return zt=on=1,yn=Si(ss=s),ti=0,[]}(s),0,[0],s))}function pn(s,a,h,f,p,y,b,w,C){for(var A=0,V=0,Y=b,z=0,X=0,xe=0,Oe=1,Fe=1,Ue=1,Ee=0,nt="",wt=p,Bt=y,tn=f,ut=nt;Fe;)switch(xe=Ee,Ee=Fs()){case 40:if(108!=xe&&58==Pn(ut,Y-1)){-1!=un(ut+=mn(la(Ee),"&","&\f"),"&\f")&&(Ue=-1);break}case 34:case 39:case 91:ut+=la(Ee);break;case 9:case 10:case 13:case 32:ut+=Ma(xe);break;case 92:ut+=Il(aa()-1,7);continue;case 47:switch(js()){case 42:case 47:Et(fr(Oc(Fs(),aa()),a,h),C);break;default:ut+="/"}break;case 123*Oe:w[A++]=Si(ut)*Ue;case 125*Oe:case 59:case 0:switch(Ee){case 0:case 125:Fe=0;case 59+V:X>0&&Si(ut)-Y&&Et(X>32?Ne(ut+";",f,h,Y-1):Ne(mn(ut," ","")+";",f,h,Y-2),C);break;case 59:ut+=";";default:if(Et(tn=Vn(ut,a,h,A,V,p,w,nt,wt=[],Bt=[],Y),y),123===Ee)if(0===V)pn(ut,a,tn,tn,wt,y,Y,w,Bt);else switch(99===z&&110===Pn(ut,3)?100:z){case 100:case 109:case 115:pn(s,tn,tn,f&&Et(Vn(s,tn,tn,0,0,p,w,nt,p,wt=[],Y),Bt),p,Bt,Y,w,f?wt:Bt);break;default:pn(ut,tn,tn,tn,[""],Bt,0,w,Bt)}}A=V=X=0,Oe=Ue=1,nt=ut="",Y=b;break;case 58:Y=1+Si(ut),X=xe;default:if(Oe<1)if(123==Ee)--Oe;else if(125==Ee&&0==Oe++&&125==(ui=ti>0?Pn(ss,--ti):0,on--,10===ui&&(on=1,zt--),ui))continue;switch(ut+=Qi(Ee),Ee*Oe){case 38:Ue=V>0?1:(ut+="\f",-1);break;case 44:w[A++]=(Si(ut)-1)*Ue,Ue=1;break;case 64:45===js()&&(ut+=la(Fs())),z=js(),V=Y=Si(nt=ut+=Ic(aa())),Ee++;break;case 45:45===xe&&2==Si(ut)&&(Oe=0)}}return y}function Vn(s,a,h,f,p,y,b,w,C,A,V){for(var Y=p-1,z=0===p?y:[""],X=Xt(z),xe=0,Oe=0,Fe=0;xe<f;++xe)for(var Ue=0,Ee=xi(s,Y+1,Y=cr(Oe=b[xe])),nt=s;Ue<X;++Ue)(nt=ei(Oe>0?z[Ue]+" "+Ee:mn(Ee,/&\f/g,z[Ue])))&&(C[Fe++]=nt);return co(s,a,h,0===p?bt:w,C,A,V)}function fr(s,a,h){return co(s,a,h,Ke,Qi(function Eo(){return ui}()),xi(s,2,-2),0)}function Ne(s,a,h,f){return co(s,a,h,gt,xi(s,0,f),xi(s,f+1,-1),f)}var ii=N(5180),Ji=N(8802),$i=N(8807);const kr=[];for(let s=0;s<256;++s)kr.push((s+256).toString(16).slice(1));const ho=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,io=function er(s){if(!function Lr(s){return"string"==typeof s&&ho.test(s)}(s))throw TypeError("Invalid UUID");let a;const h=new Uint8Array(16);return h[0]=(a=parseInt(s.slice(0,8),16))>>>24,h[1]=a>>>16&255,h[2]=a>>>8&255,h[3]=255&a,h[4]=(a=parseInt(s.slice(9,13),16))>>>8,h[5]=255&a,h[6]=(a=parseInt(s.slice(14,18),16))>>>8,h[7]=255&a,h[8]=(a=parseInt(s.slice(19,23),16))>>>8,h[9]=255&a,h[10]=(a=parseInt(s.slice(24,36),16))/1099511627776&255,h[11]=a/4294967296&255,h[12]=a>>>24&255,h[13]=a>>>16&255,h[14]=a>>>8&255,h[15]=255&a,h};function ga(s,a,h,f){switch(s){case 0:return a&h^~a&f;case 1:case 3:return a^h^f;case 2:return a&h^a&f^h&f}}function Ii(s,a){return s<<a|s>>>32-a}const Oa=function $a(s,a,h){function f(p,y,b,w){var C;if("string"==typeof p&&(p=function $r(s){s=unescape(encodeURIComponent(s));const a=[];for(let h=0;h<s.length;++h)a.push(s.charCodeAt(h));return a}(p)),"string"==typeof y&&(y=io(y)),16!==(null===(C=y)||void 0===C?void 0:C.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let A=new Uint8Array(16+p.length);if(A.set(y),A.set(p,y.length),A=h(A),A[6]=15&A[6]|a,A[8]=63&A[8]|128,b){w=w||0;for(let V=0;V<16;++V)b[w+V]=A[V];return b}return function ai(s,a=0){return(kr[s[a+0]]+kr[s[a+1]]+kr[s[a+2]]+kr[s[a+3]]+"-"+kr[s[a+4]]+kr[s[a+5]]+"-"+kr[s[a+6]]+kr[s[a+7]]+"-"+kr[s[a+8]]+kr[s[a+9]]+"-"+kr[s[a+10]]+kr[s[a+11]]+kr[s[a+12]]+kr[s[a+13]]+kr[s[a+14]]+kr[s[a+15]]).toLowerCase()}(A)}try{f.name=s}catch{}return f.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",f.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",f}("v5",80,function Jo(s){const a=[1518500249,1859775393,2400959708,3395469782],h=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof s){const b=unescape(encodeURIComponent(s));s=[];for(let w=0;w<b.length;++w)s.push(b.charCodeAt(w))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);const p=Math.ceil((s.length/4+2)/16),y=new Array(p);for(let b=0;b<p;++b){const w=new Uint32Array(16);for(let C=0;C<16;++C)w[C]=s[64*b+4*C]<<24|s[64*b+4*C+1]<<16|s[64*b+4*C+2]<<8|s[64*b+4*C+3];y[b]=w}y[p-1][14]=8*(s.length-1)/Math.pow(2,32),y[p-1][14]=Math.floor(y[p-1][14]),y[p-1][15]=8*(s.length-1)&4294967295;for(let b=0;b<p;++b){const w=new Uint32Array(80);for(let X=0;X<16;++X)w[X]=y[b][X];for(let X=16;X<80;++X)w[X]=Ii(w[X-3]^w[X-8]^w[X-14]^w[X-16],1);let C=h[0],A=h[1],V=h[2],Y=h[3],z=h[4];for(let X=0;X<80;++X){const xe=Math.floor(X/20),Oe=Ii(C,5)+ga(xe,A,V,Y)+z+a[xe]+w[X]>>>0;z=Y,Y=V,V=Ii(A,30)>>>0,A=C,C=Oe}h[0]=h[0]+C>>>0,h[1]=h[1]+A>>>0,h[2]=h[2]+V>>>0,h[3]=h[3]+Y>>>0,h[4]=h[4]+z>>>0}return[h[0]>>24&255,h[0]>>16&255,h[0]>>8&255,255&h[0],h[1]>>24&255,h[1]>>16&255,h[1]>>8&255,255&h[1],h[2]>>24&255,h[2]>>16&255,h[2]>>8&255,255&h[2],h[3]>>24&255,h[3]>>16&255,h[3]>>8&255,255&h[3],h[4]>>24&255,h[4]>>16&255,h[4]>>8&255,255&h[4]]});N(338),N(6320);var ys=N(9483),Kn=(N(8384),N(8356),N(2548)),vs=N.n(Kn),Zi=N(2799),zi=N.n(Zi),Ia=N(2900),fo=N.n(Ia),ws=N(2036);const ma={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Me={trace:(...s)=>{},debug:(...s)=>{},info:(...s)=>{},warn:(...s)=>{},error:(...s)=>{},fatal:(...s)=>{}},Fo=function(s="fatal"){let a=ma.fatal;"string"==typeof s?(s=s.toLowerCase())in ma&&(a=ma[s]):"number"==typeof s&&(a=s),Me.trace=()=>{},Me.debug=()=>{},Me.info=()=>{},Me.warn=()=>{},Me.error=()=>{},Me.fatal=()=>{},a<=ma.fatal&&(Me.fatal=console.error?console.error.bind(console,Ct("FATAL"),"color: orange"):console.log.bind(console,"\x1b[35m",Ct("FATAL"))),a<=ma.error&&(Me.error=console.error?console.error.bind(console,Ct("ERROR"),"color: orange"):console.log.bind(console,"\x1b[31m",Ct("ERROR"))),a<=ma.warn&&(Me.warn=console.warn?console.warn.bind(console,Ct("WARN"),"color: orange"):console.log.bind(console,"\x1b[33m",Ct("WARN"))),a<=ma.info&&(Me.info=console.info?console.info.bind(console,Ct("INFO"),"color: lightblue"):console.log.bind(console,"\x1b[34m",Ct("INFO"))),a<=ma.debug&&(Me.debug=console.debug?console.debug.bind(console,Ct("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1b[32m",Ct("DEBUG"))),a<=ma.trace&&(Me.trace=console.debug?console.debug.bind(console,Ct("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1b[32m",Ct("TRACE")))},Ct=s=>`%c${re()().format("ss.SSS")} : ${s} : `,gn=s=>x().sanitize(s),Vt=(s,a)=>{var h;if(!1!==(null==(h=a.flowchart)?void 0:h.htmlLabels)){const f=a.securityLevel;"antiscript"===f||"strict"===f?s=gn(s):"loose"!==f&&(s=(s=(s=ea(s)).replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/=/g,"&equals;"),s=Yi(s))}return s},An=(s,a)=>s&&(a.dompurifyConfig?x().sanitize(Vt(s,a),a.dompurifyConfig).toString():x().sanitize(Vt(s,a),{FORBID_TAGS:["style"]}).toString()),Gi=/<br\s*\/?>/gi,Yi=s=>s.replace(/#br#/g,"<br/>"),ea=s=>s.replace(Gi,"#br#"),Bo=s=>!(!1===s||["false","null","0"].includes(String(s).trim().toLowerCase())),Nl=function(s){let a=s;if(s.split("~").length-1>=2){let h=a;do{a=h,h=a.replace(/~([^\s,:;]+)~/,"<$1>")}while(h!=a);return Nl(h)}return a},sr={getRows:s=>s?ea(s).replace(/\\n/g,"#br#").split("#br#"):[""],sanitizeText:An,sanitizeTextOrArray:(s,a)=>"string"==typeof s?An(s,a):s.flat().map(h=>An(h,a)),hasBreaks:s=>Gi.test(s),splitBreaks:s=>s.split(Gi),lineBreakRegex:Gi,removeScript:gn,getUrl:s=>{let a="";return s&&(a=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,a=a.replaceAll(/\(/g,"\\("),a=a.replaceAll(/\)/g,"\\)")),a},evaluate:Bo},En=(s,a)=>Q(s,a?{s:-40,l:10}:{s:-40,l:-10}),Zl="#ffffff",Sr="#f2f2f2";let Nc=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Q(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Q(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||En(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||En(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||En(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||En(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||ve(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||ve(this.tertiaryColor),this.lineColor=this.lineColor||ve(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?(0,pe.A)(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||(0,pe.A)(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||ve(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||(0,Ce.A)(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Q(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Q(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Q(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Q(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Q(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Q(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Q(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Q(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Q(this.primaryColor,{h:330}),this.darkMode)for(let h=0;h<this.THEME_COLOR_LIMIT;h++)this["cScale"+h]=(0,pe.A)(this["cScale"+h],75);else for(let h=0;h<this.THEME_COLOR_LIMIT;h++)this["cScale"+h]=(0,pe.A)(this["cScale"+h],25);for(let h=0;h<this.THEME_COLOR_LIMIT;h++)this["cScaleInv"+h]=this["cScaleInv"+h]||ve(this["cScale"+h]);for(let h=0;h<this.THEME_COLOR_LIMIT;h++)this["cScalePeer"+h]=this.darkMode?this["cScalePeer"+h]||(0,Ce.A)(this["cScale"+h],10):this["cScalePeer"+h]||(0,pe.A)(this["cScale"+h],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let h=0;h<this.THEME_COLOR_LIMIT;h++)this["cScaleLabel"+h]=this["cScaleLabel"+h]||this.scaleLabelColor;const a=this.darkMode?-4:-1;for(let h=0;h<5;h++)this["surface"+h]=this["surface"+h]||Q(this.mainBkg,{h:180,s:-15,l:a*(5+3*h)}),this["surfacePeer"+h]=this["surfacePeer"+h]||Q(this.mainBkg,{h:180,s:-15,l:a*(8+3*h)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Q(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Q(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Q(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Q(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Q(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Q(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Q(this.primaryColor,{l:-10}),this.pie5=this.pie5||Q(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Q(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Q(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Q(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Q(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Q(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Q(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Q(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,pe.A)(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Q(this.primaryColor,{h:-30}),this.git4=this.git4||Q(this.primaryColor,{h:-60}),this.git5=this.git5||Q(this.primaryColor,{h:-90}),this.git6=this.git6||Q(this.primaryColor,{h:60}),this.git7=this.git7||Q(this.primaryColor,{h:120}),this.darkMode?(this.git0=(0,Ce.A)(this.git0,25),this.git1=(0,Ce.A)(this.git1,25),this.git2=(0,Ce.A)(this.git2,25),this.git3=(0,Ce.A)(this.git3,25),this.git4=(0,Ce.A)(this.git4,25),this.git5=(0,Ce.A)(this.git5,25),this.git6=(0,Ce.A)(this.git6,25),this.git7=(0,Ce.A)(this.git7,25)):(this.git0=(0,pe.A)(this.git0,25),this.git1=(0,pe.A)(this.git1,25),this.git2=(0,pe.A)(this.git2,25),this.git3=(0,pe.A)(this.git3,25),this.git4=(0,pe.A)(this.git4,25),this.git5=(0,pe.A)(this.git5,25),this.git6=(0,pe.A)(this.git6,25),this.git7=(0,pe.A)(this.git7,25)),this.gitInv0=this.gitInv0||ve(this.git0),this.gitInv1=this.gitInv1||ve(this.git1),this.gitInv2=this.gitInv2||ve(this.git2),this.gitInv3=this.gitInv3||ve(this.git3),this.gitInv4=this.gitInv4||ve(this.git4),this.gitInv5=this.gitInv5||ve(this.git5),this.gitInv6=this.gitInv6||ve(this.git6),this.gitInv7=this.gitInv7||ve(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Zl,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Sr}calculate(a){if("object"!=typeof a)return void this.updateColors();const h=Object.keys(a);h.forEach(f=>{this[f]=a[f]}),this.updateColors(),h.forEach(f=>{this[f]=a[f]})}},fd=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=(0,Ce.A)(this.primaryColor,16),this.tertiaryColor=Q(this.primaryColor,{h:-160}),this.primaryBorderColor=ve(this.background),this.secondaryBorderColor=En(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=En(this.tertiaryColor,this.darkMode),this.primaryTextColor=ve(this.primaryColor),this.secondaryTextColor=ve(this.secondaryColor),this.tertiaryTextColor=ve(this.tertiaryColor),this.lineColor=ve(this.background),this.textColor=ve(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=(0,Ce.A)(ve("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=W(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=(0,pe.A)("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=W(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=W(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=(0,Ce.A)(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=(0,Ce.A)(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=(0,Ce.A)(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Q(this.primaryColor,{h:64}),this.fillType3=Q(this.secondaryColor,{h:64}),this.fillType4=Q(this.primaryColor,{h:-64}),this.fillType5=Q(this.secondaryColor,{h:-64}),this.fillType6=Q(this.primaryColor,{h:128}),this.fillType7=Q(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Q(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Q(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Q(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Q(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Q(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Q(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Q(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Q(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Q(this.primaryColor,{h:330});for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScaleInv"+a]=this["cScaleInv"+a]||ve(this["cScale"+a]);for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScalePeer"+a]=this["cScalePeer"+a]||(0,Ce.A)(this["cScale"+a],10);for(let a=0;a<5;a++)this["surface"+a]=this["surface"+a]||Q(this.mainBkg,{h:30,s:-30,l:-(4*a-10)}),this["surfacePeer"+a]=this["surfacePeer"+a]||Q(this.mainBkg,{h:30,s:-30,l:-(4*a-7)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScaleLabel"+a]=this["cScaleLabel"+a]||this.scaleLabelColor;for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["pie"+a]=this["cScale"+a];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,pe.A)(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=(0,Ce.A)(this.secondaryColor,20),this.git1=(0,Ce.A)(this.pie2||this.secondaryColor,20),this.git2=(0,Ce.A)(this.pie3||this.tertiaryColor,20),this.git3=(0,Ce.A)(this.pie4||Q(this.primaryColor,{h:-30}),20),this.git4=(0,Ce.A)(this.pie5||Q(this.primaryColor,{h:-60}),20),this.git5=(0,Ce.A)(this.pie6||Q(this.primaryColor,{h:-90}),10),this.git6=(0,Ce.A)(this.pie7||Q(this.primaryColor,{h:60}),10),this.git7=(0,Ce.A)(this.pie8||Q(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||ve(this.git0),this.gitInv1=this.gitInv1||ve(this.git1),this.gitInv2=this.gitInv2||ve(this.git2),this.gitInv3=this.gitInv3||ve(this.git3),this.gitInv4=this.gitInv4||ve(this.git4),this.gitInv5=this.gitInv5||ve(this.git5),this.gitInv6=this.gitInv6||ve(this.git6),this.gitInv7=this.gitInv7||ve(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||(0,Ce.A)(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||(0,Ce.A)(this.background,2)}calculate(a){if("object"!=typeof a)return void this.updateColors();const h=Object.keys(a);h.forEach(f=>{this[f]=a[f]}),this.updateColors(),h.forEach(f=>{this[f]=a[f]})}},nu=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Q(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Q(this.primaryColor,{h:-160}),this.primaryBorderColor=En(this.primaryColor,this.darkMode),this.secondaryBorderColor=En(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=En(this.tertiaryColor,this.darkMode),this.primaryTextColor=ve(this.primaryColor),this.secondaryTextColor=ve(this.secondaryColor),this.tertiaryTextColor=ve(this.tertiaryColor),this.lineColor=ve(this.background),this.textColor=ve(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=W(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Q(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Q(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Q(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Q(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Q(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Q(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Q(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Q(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Q(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||(0,pe.A)(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||(0,pe.A)(this.tertiaryColor,40);for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScale"+a]=(0,pe.A)(this["cScale"+a],10),this["cScalePeer"+a]=this["cScalePeer"+a]||(0,pe.A)(this["cScale"+a],25);for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScaleInv"+a]=this["cScaleInv"+a]||Q(this["cScale"+a],{h:180});for(let a=0;a<5;a++)this["surface"+a]=this["surface"+a]||Q(this.mainBkg,{h:30,l:-(5+5*a)}),this["surfacePeer"+a]=this["surfacePeer"+a]||Q(this.mainBkg,{h:30,l:-(7+5*a)});if(this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,"calculated"!==this.labelTextColor){this.cScaleLabel0=this.cScaleLabel0||ve(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||ve(this.labelTextColor);for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScaleLabel"+a]=this["cScaleLabel"+a]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=(0,Ce.A)(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Q(this.primaryColor,{h:64}),this.fillType3=Q(this.secondaryColor,{h:64}),this.fillType4=Q(this.primaryColor,{h:-64}),this.fillType5=Q(this.secondaryColor,{h:-64}),this.fillType6=Q(this.primaryColor,{h:128}),this.fillType7=Q(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Q(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Q(this.primaryColor,{l:-10}),this.pie5=this.pie5||Q(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Q(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Q(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Q(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Q(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Q(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Q(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Q(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Q(this.primaryColor,{h:-30}),this.git4=this.git4||Q(this.primaryColor,{h:-60}),this.git5=this.git5||Q(this.primaryColor,{h:-90}),this.git6=this.git6||Q(this.primaryColor,{h:60}),this.git7=this.git7||Q(this.primaryColor,{h:120}),this.darkMode?(this.git0=(0,Ce.A)(this.git0,25),this.git1=(0,Ce.A)(this.git1,25),this.git2=(0,Ce.A)(this.git2,25),this.git3=(0,Ce.A)(this.git3,25),this.git4=(0,Ce.A)(this.git4,25),this.git5=(0,Ce.A)(this.git5,25),this.git6=(0,Ce.A)(this.git6,25),this.git7=(0,Ce.A)(this.git7,25)):(this.git0=(0,pe.A)(this.git0,25),this.git1=(0,pe.A)(this.git1,25),this.git2=(0,pe.A)(this.git2,25),this.git3=(0,pe.A)(this.git3,25),this.git4=(0,pe.A)(this.git4,25),this.git5=(0,pe.A)(this.git5,25),this.git6=(0,pe.A)(this.git6,25),this.git7=(0,pe.A)(this.git7,25)),this.gitInv0=this.gitInv0||(0,pe.A)(ve(this.git0),25),this.gitInv1=this.gitInv1||ve(this.git1),this.gitInv2=this.gitInv2||ve(this.git2),this.gitInv3=this.gitInv3||ve(this.git3),this.gitInv4=this.gitInv4||ve(this.git4),this.gitInv5=this.gitInv5||ve(this.git5),this.gitInv6=this.gitInv6||ve(this.git6),this.gitInv7=this.gitInv7||ve(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ve(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ve(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Zl,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Sr}calculate(a){if("object"!=typeof a)return void this.updateColors();const h=Object.keys(a);h.forEach(f=>{this[f]=a[f]}),this.updateColors(),h.forEach(f=>{this[f]=a[f]})}},pd=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=(0,Ce.A)("#cde498",10),this.primaryBorderColor=En(this.primaryColor,this.darkMode),this.secondaryBorderColor=En(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=En(this.tertiaryColor,this.darkMode),this.primaryTextColor=ve(this.primaryColor),this.secondaryTextColor=ve(this.secondaryColor),this.tertiaryTextColor=ve(this.primaryColor),this.lineColor=ve(this.background),this.textColor=ve(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Q(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Q(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Q(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Q(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Q(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Q(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Q(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Q(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Q(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||(0,pe.A)(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||(0,pe.A)(this.tertiaryColor,40);for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScale"+a]=(0,pe.A)(this["cScale"+a],10),this["cScalePeer"+a]=this["cScalePeer"+a]||(0,pe.A)(this["cScale"+a],25);for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScaleInv"+a]=this["cScaleInv"+a]||Q(this["cScale"+a],{h:180});this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScaleLabel"+a]=this["cScaleLabel"+a]||this.scaleLabelColor;for(let a=0;a<5;a++)this["surface"+a]=this["surface"+a]||Q(this.mainBkg,{h:30,s:-30,l:-(5+5*a)}),this["surfacePeer"+a]=this["surfacePeer"+a]||Q(this.mainBkg,{h:30,s:-30,l:-(8+5*a)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=(0,pe.A)(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Q(this.primaryColor,{h:64}),this.fillType3=Q(this.secondaryColor,{h:64}),this.fillType4=Q(this.primaryColor,{h:-64}),this.fillType5=Q(this.secondaryColor,{h:-64}),this.fillType6=Q(this.primaryColor,{h:128}),this.fillType7=Q(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Q(this.primaryColor,{l:-30}),this.pie5=this.pie5||Q(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Q(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Q(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Q(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Q(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Q(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Q(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Q(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Q(this.primaryColor,{h:-30}),this.git4=this.git4||Q(this.primaryColor,{h:-60}),this.git5=this.git5||Q(this.primaryColor,{h:-90}),this.git6=this.git6||Q(this.primaryColor,{h:60}),this.git7=this.git7||Q(this.primaryColor,{h:120}),this.darkMode?(this.git0=(0,Ce.A)(this.git0,25),this.git1=(0,Ce.A)(this.git1,25),this.git2=(0,Ce.A)(this.git2,25),this.git3=(0,Ce.A)(this.git3,25),this.git4=(0,Ce.A)(this.git4,25),this.git5=(0,Ce.A)(this.git5,25),this.git6=(0,Ce.A)(this.git6,25),this.git7=(0,Ce.A)(this.git7,25)):(this.git0=(0,pe.A)(this.git0,25),this.git1=(0,pe.A)(this.git1,25),this.git2=(0,pe.A)(this.git2,25),this.git3=(0,pe.A)(this.git3,25),this.git4=(0,pe.A)(this.git4,25),this.git5=(0,pe.A)(this.git5,25),this.git6=(0,pe.A)(this.git6,25),this.git7=(0,pe.A)(this.git7,25)),this.gitInv0=this.gitInv0||ve(this.git0),this.gitInv1=this.gitInv1||ve(this.git1),this.gitInv2=this.gitInv2||ve(this.git2),this.gitInv3=this.gitInv3||ve(this.git3),this.gitInv4=this.gitInv4||ve(this.git4),this.gitInv5=this.gitInv5||ve(this.git5),this.gitInv6=this.gitInv6||ve(this.git6),this.gitInv7=this.gitInv7||ve(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Zl,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Sr}calculate(a){if("object"!=typeof a)return void this.updateColors();const h=Object.keys(a);h.forEach(f=>{this[f]=a[f]}),this.updateColors(),h.forEach(f=>{this[f]=a[f]})}};class vu{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=(0,Ce.A)(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Q(this.primaryColor,{h:-160}),this.primaryBorderColor=En(this.primaryColor,this.darkMode),this.secondaryBorderColor=En(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=En(this.tertiaryColor,this.darkMode),this.primaryTextColor=ve(this.primaryColor),this.secondaryTextColor=ve(this.secondaryColor),this.tertiaryTextColor=ve(this.tertiaryColor),this.lineColor=ve(this.background),this.textColor=ve(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=(0,Ce.A)(this.contrast,55),this.border2=this.contrast,this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScaleInv"+a]=this["cScaleInv"+a]||ve(this["cScale"+a]);for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScalePeer"+a]=this.darkMode?this["cScalePeer"+a]||(0,Ce.A)(this["cScale"+a],10):this["cScalePeer"+a]||(0,pe.A)(this["cScale"+a],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScaleLabel"+a]=this["cScaleLabel"+a]||this.scaleLabelColor;for(let a=0;a<5;a++)this["surface"+a]=this["surface"+a]||Q(this.mainBkg,{l:-(5+5*a)}),this["surfacePeer"+a]=this["surfacePeer"+a]||Q(this.mainBkg,{l:-(8+5*a)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=(0,Ce.A)(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=(0,Ce.A)(this.contrast,30),this.sectionBkgColor2=(0,Ce.A)(this.contrast,30),this.taskBorderColor=(0,pe.A)(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=(0,Ce.A)(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=(0,pe.A)(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Q(this.primaryColor,{h:64}),this.fillType3=Q(this.secondaryColor,{h:64}),this.fillType4=Q(this.primaryColor,{h:-64}),this.fillType5=Q(this.secondaryColor,{h:-64}),this.fillType6=Q(this.primaryColor,{h:128}),this.fillType7=Q(this.secondaryColor,{h:128});for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["pie"+a]=this["cScale"+a];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=(0,pe.A)(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Q(this.primaryColor,{h:-30}),this.git4=this.pie5||Q(this.primaryColor,{h:-60}),this.git5=this.pie6||Q(this.primaryColor,{h:-90}),this.git6=this.pie7||Q(this.primaryColor,{h:60}),this.git7=this.pie8||Q(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||ve(this.git0),this.gitInv1=this.gitInv1||ve(this.git1),this.gitInv2=this.gitInv2||ve(this.git2),this.gitInv3=this.gitInv3||ve(this.git3),this.gitInv4=this.gitInv4||ve(this.git4),this.gitInv5=this.gitInv5||ve(this.git5),this.gitInv6=this.gitInv6||ve(this.git6),this.gitInv7=this.gitInv7||ve(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Zl,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Sr}calculate(a){if("object"!=typeof a)return void this.updateColors();const h=Object.keys(a);h.forEach(f=>{this[f]=a[f]}),this.updateColors(),h.forEach(f=>{this[f]=a[f]})}}const vl={base:{getThemeVariables:s=>{const a=new Nc;return a.calculate(s),a}},dark:{getThemeVariables:s=>{const a=new fd;return a.calculate(s),a}},default:{getThemeVariables:s=>{const a=new nu;return a.calculate(s),a}},forest:{getThemeVariables:s=>{const a=new pd;return a.calculate(s),a}},neutral:{getThemeVariables:s=>{const a=new vu;return a.calculate(s),a}}},wl={theme:"default",themeVariables:vl.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{titleTopMargin:25,diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",tickInterval:void 0,useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},timeline:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},class:{titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},fontSize:16};wl.class&&(wl.class.arrowMarkerAbsolute=wl.arrowMarkerAbsolute),wl.gitGraph&&(wl.gitGraph.arrowMarkerAbsolute=wl.arrowMarkerAbsolute);const wu=(s,a="")=>Object.keys(s).reduce((h,f)=>Array.isArray(s[f])?h:"object"==typeof s[f]&&null!==s[f]?[...h,a+f,...wu(s[f],"")]:[...h,a+f],[]),Bu=wu(wl,""),hh=wl;function Xi(s){return typeof s>"u"||null===s}var Na={isNothing:Xi,isObject:function kt(s){return"object"==typeof s&&null!==s},toArray:function Gn(s){return Array.isArray(s)?s:Xi(s)?[]:[s]},repeat:function Ms(s,a){var f,h="";for(f=0;f<a;f+=1)h+=s;return h},isNegativeZero:function ta(s){return 0===s&&Number.NEGATIVE_INFINITY===1/s},extend:function mi(s,a){var h,f,p,y;if(a)for(h=0,f=(y=Object.keys(a)).length;h<f;h+=1)s[p=y[h]]=a[p];return s}};function Nr(s,a){var h="",f=s.reason||"(unknown reason)";return s.mark?(s.mark.name&&(h+='in "'+s.mark.name+'" '),h+="("+(s.mark.line+1)+":"+(s.mark.column+1)+")",!a&&s.mark.snippet&&(h+="\n\n"+s.mark.snippet),f+" "+h):f}function Cs(s,a){Error.call(this),this.name="YAMLException",this.reason=s,this.mark=a,this.message=Nr(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(Cs.prototype=Object.create(Error.prototype)).constructor=Cs,Cs.prototype.toString=function(a){return this.name+": "+Nr(this,a)};var Rc=Cs;function cp(s,a,h,f,p){var y="",b="",w=Math.floor(p/2)-1;return f-a>w&&(a=f-w+(y=" ... ").length),h-f>w&&(h=f+w-(b=" ...").length),{str:y+s.slice(a,h).replace(/\t/g,"\u2192")+b,pos:f-a+y.length}}function up(s,a){return Na.repeat(" ",a-s.length)+s}var ym=function _m(s,a){if(a=Object.create(a||null),!s.buffer)return null;a.maxLength||(a.maxLength=79),"number"!=typeof a.indent&&(a.indent=1),"number"!=typeof a.linesBefore&&(a.linesBefore=3),"number"!=typeof a.linesAfter&&(a.linesAfter=2);for(var y,h=/\r?\n|\r|\0/g,f=[0],p=[],b=-1;y=h.exec(s.buffer);)p.push(y.index),f.push(y.index+y[0].length),s.position<=y.index&&b<0&&(b=f.length-2);b<0&&(b=f.length-1);var C,A,w="",V=Math.min(s.line+a.linesAfter,p.length).toString().length,Y=a.maxLength-(a.indent+V+3);for(C=1;C<=a.linesBefore&&!(b-C<0);C++)A=cp(s.buffer,f[b-C],p[b-C],s.position-(f[b]-f[b-C]),Y),w=Na.repeat(" ",a.indent)+up((s.line-C+1).toString(),V)+" | "+A.str+"\n"+w;for(A=cp(s.buffer,f[b],p[b],s.position,Y),w+=Na.repeat(" ",a.indent)+up((s.line+1).toString(),V)+" | "+A.str+"\n",w+=Na.repeat("-",a.indent+V+3+A.pos)+"^\n",C=1;C<=a.linesAfter&&!(b+C>=p.length);C++)A=cp(s.buffer,f[b+C],p[b+C],s.position-(f[b]-f[b+C]),Y),w+=Na.repeat(" ",a.indent)+up((s.line+C+1).toString(),V)+" | "+A.str+"\n";return w.replace(/\n$/,"")},dp=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Os=["scalar","sequence","mapping"],Bs=function bg(s,a){if(a=a||{},Object.keys(a).forEach(function(h){if(-1===dp.indexOf(h))throw new Rc('Unknown option "'+h+'" is met in definition of "'+s+'" YAML type.')}),this.options=a,this.tag=s,this.kind=a.kind||null,this.resolve=a.resolve||function(){return!0},this.construct=a.construct||function(h){return h},this.instanceOf=a.instanceOf||null,this.predicate=a.predicate||null,this.represent=a.represent||null,this.representName=a.representName||null,this.defaultStyle=a.defaultStyle||null,this.multi=a.multi||!1,this.styleAliases=function ff(s){var a={};return null!==s&&Object.keys(s).forEach(function(h){s[h].forEach(function(f){a[String(f)]=h})}),a}(a.styleAliases||null),-1===Os.indexOf(this.kind))throw new Rc('Unknown kind "'+this.kind+'" is specified for "'+s+'" YAML type.')};function Pd(s,a){var h=[];return s[a].forEach(function(f){var p=h.length;h.forEach(function(y,b){y.tag===f.tag&&y.kind===f.kind&&y.multi===f.multi&&(p=b)}),h[p]=f}),h}function iu(s){return this.extend(s)}iu.prototype.extend=function(a){var h=[],f=[];if(a instanceof Bs)f.push(a);else if(Array.isArray(a))f=f.concat(a);else{if(!a||!Array.isArray(a.implicit)&&!Array.isArray(a.explicit))throw new Rc("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");a.implicit&&(h=h.concat(a.implicit)),a.explicit&&(f=f.concat(a.explicit))}h.forEach(function(y){if(!(y instanceof Bs))throw new Rc("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(y.loadKind&&"scalar"!==y.loadKind)throw new Rc("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(y.multi)throw new Rc("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),f.forEach(function(y){if(!(y instanceof Bs))throw new Rc("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var p=Object.create(iu.prototype);return p.implicit=(this.implicit||[]).concat(h),p.explicit=(this.explicit||[]).concat(f),p.compiledImplicit=Pd(p,"implicit"),p.compiledExplicit=Pd(p,"explicit"),p.compiledTypeMap=function pf(){var a,h,s={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function f(p){p.multi?(s.multi[p.kind].push(p),s.multi.fallback.push(p)):s[p.kind][p.tag]=s.fallback[p.tag]=p}for(a=0,h=arguments.length;a<h;a+=1)arguments[a].forEach(f);return s}(p.compiledImplicit,p.compiledExplicit),p};var Wa=new iu({explicit:[new Bs("tag:yaml.org,2002:str",{kind:"scalar",construct:function(s){return null!==s?s:""}}),new Bs("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(s){return null!==s?s:[]}}),new Bs("tag:yaml.org,2002:map",{kind:"mapping",construct:function(s){return null!==s?s:{}}})]}),fh=new Bs("tag:yaml.org,2002:null",{kind:"scalar",resolve:function hp(s){if(null===s)return!0;var a=s.length;return 1===a&&"~"===s||4===a&&("null"===s||"Null"===s||"NULL"===s)},construct:function fp(){return null},predicate:function ru(s){return null===s},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),mf=new Bs("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function su(s){if(null===s)return!1;var a=s.length;return 4===a&&("true"===s||"True"===s||"TRUE"===s)||5===a&&("false"===s||"False"===s||"FALSE"===s)},construct:function vg(s){return"true"===s||"True"===s||"TRUE"===s},predicate:function di(s){return"[object Boolean]"===Object.prototype.toString.call(s)},represent:{lowercase:function(s){return s?"true":"false"},uppercase:function(s){return s?"TRUE":"FALSE"},camelcase:function(s){return s?"True":"False"}},defaultStyle:"lowercase"});function Wt(s){return 48<=s&&s<=57||65<=s&&s<=70||97<=s&&s<=102}function _f(s){return 48<=s&&s<=55}function ju(s){return 48<=s&&s<=57}var ph=new Bs("tag:yaml.org,2002:int",{kind:"scalar",resolve:function Bd(s){if(null===s)return!1;var p,a=s.length,h=0,f=!1;if(!a)return!1;if(("-"===(p=s[h])||"+"===p)&&(p=s[++h]),"0"===p){if(h+1===a)return!0;if("b"===(p=s[++h])){for(h++;h<a;h++)if("_"!==(p=s[h])){if("0"!==p&&"1"!==p)return!1;f=!0}return f&&"_"!==p}if("x"===p){for(h++;h<a;h++)if("_"!==(p=s[h])){if(!Wt(s.charCodeAt(h)))return!1;f=!0}return f&&"_"!==p}if("o"===p){for(h++;h<a;h++)if("_"!==(p=s[h])){if(!_f(s.charCodeAt(h)))return!1;f=!0}return f&&"_"!==p}}if("_"===p)return!1;for(;h<a;h++)if("_"!==(p=s[h])){if(!ju(s.charCodeAt(h)))return!1;f=!0}return!(!f||"_"===p)},construct:function gd(s){var f,a=s,h=1;if(-1!==a.indexOf("_")&&(a=a.replace(/_/g,"")),("-"===(f=a[0])||"+"===f)&&("-"===f&&(h=-1),f=(a=a.slice(1))[0]),"0"===a)return 0;if("0"===f){if("b"===a[1])return h*parseInt(a.slice(2),2);if("x"===a[1])return h*parseInt(a.slice(2),16);if("o"===a[1])return h*parseInt(a.slice(2),8)}return h*parseInt(a,10)},predicate:function wg(s){return"[object Number]"===Object.prototype.toString.call(s)&&s%1==0&&!Na.isNegativeZero(s)},represent:{binary:function(s){return s>=0?"0b"+s.toString(2):"-0b"+s.toString(2).slice(1)},octal:function(s){return s>=0?"0o"+s.toString(8):"-0o"+s.toString(8).slice(1)},decimal:function(s){return s.toString(10)},hexadecimal:function(s){return s>=0?"0x"+s.toString(16).toUpperCase():"-0x"+s.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),md=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),gh=/^[-+]?[0-9]+e/,mh=new Bs("tag:yaml.org,2002:float",{kind:"scalar",resolve:function Tu(s){return!(null===s||!md.test(s)||"_"===s[s.length-1])},construct:function rl(s){var a,h;return h="-"===(a=s.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(a[0])>=0&&(a=a.slice(1)),".inf"===a?1===h?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===a?NaN:h*parseFloat(a,10)},predicate:function Du(s){return"[object Number]"===Object.prototype.toString.call(s)&&(s%1!=0||Na.isNegativeZero(s))},represent:function bm(s,a){var h;if(isNaN(s))switch(a){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===s)switch(a){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===s)switch(a){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Na.isNegativeZero(s))return"-0.0";return h=s.toString(10),gh.test(h)?h.replace("e",".e"):h},defaultStyle:"lowercase"}),fc=Wa.extend({implicit:[fh,mf,ph,mh]}),yf=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Uu=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),Vd=new Bs("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function _h(s){return null!==s&&(null!==yf.exec(s)||null!==Uu.exec(s))},construct:function Pl(s){var a,h,f,p,y,b,w,z,C=0,A=null;if(null===(a=yf.exec(s))&&(a=Uu.exec(s)),null===a)throw new Error("Date resolve error");if(h=+a[1],f=+a[2]-1,p=+a[3],!a[4])return new Date(Date.UTC(h,f,p));if(y=+a[4],b=+a[5],w=+a[6],a[7]){for(C=a[7].slice(0,3);C.length<3;)C+="0";C=+C}return a[9]&&(A=6e4*(60*+a[10]+ +(a[11]||0)),"-"===a[9]&&(A=-A)),z=new Date(Date.UTC(h,f,p,y,b,w,C)),A&&z.setTime(z.getTime()-A),z},instanceOf:Date,represent:function Cg(s){return s.toISOString()}}),Fl=new Bs("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function yh(s){return"<<"===s||null===s}}),Hd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",Us=new Bs("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function jd(s){if(null===s)return!1;var a,h,f=0,p=s.length,y=Hd;for(h=0;h<p;h++)if(!((a=y.indexOf(s.charAt(h)))>64)){if(a<0)return!1;f+=6}return f%8==0},construct:function pp(s){var a,h,f=s.replace(/[\r\n=]/g,""),p=f.length,y=Hd,b=0,w=[];for(a=0;a<p;a++)a%4==0&&a&&(w.push(b>>16&255),w.push(b>>8&255),w.push(255&b)),b=b<<6|y.indexOf(f.charAt(a));return 0==(h=p%4*6)?(w.push(b>>16&255),w.push(b>>8&255),w.push(255&b)):18===h?(w.push(b>>10&255),w.push(b>>2&255)):12===h&&w.push(b>>4&255),new Uint8Array(w)},predicate:function pc(s){return"[object Uint8Array]"===Object.prototype.toString.call(s)},represent:function gp(s){var f,p,a="",h=0,y=s.length,b=Hd;for(f=0;f<y;f++)f%3==0&&f&&(a+=b[h>>18&63],a+=b[h>>12&63],a+=b[h>>6&63],a+=b[63&h]),h=(h<<8)+s[f];return 0==(p=y%3)?(a+=b[h>>18&63],a+=b[h>>12&63],a+=b[h>>6&63],a+=b[63&h]):2===p?(a+=b[h>>10&63],a+=b[h>>4&63],a+=b[h<<2&63],a+=b[64]):1===p&&(a+=b[h>>2&63],a+=b[h<<4&63],a+=b[64],a+=b[64]),a}}),zu=Object.prototype.hasOwnProperty,ou=Object.prototype.toString,mp=new Bs("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function Yu(s){if(null===s)return!0;var h,f,p,y,b,a=[],w=s;for(h=0,f=w.length;h<f;h+=1){if(b=!1,"[object Object]"!==ou.call(p=w[h]))return!1;for(y in p)if(zu.call(p,y)){if(b)return!1;b=!0}if(!b)return!1;if(-1!==a.indexOf(y))return!1;a.push(y)}return!0},construct:function bh(s){return null!==s?s:[]}}),gc=Object.prototype.toString,yp=new Bs("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function ds(s){if(null===s)return!0;var a,h,f,p,y,b=s;for(y=new Array(b.length),a=0,h=b.length;a<h;a+=1){if("[object Object]"!==gc.call(f=b[a])||1!==(p=Object.keys(f)).length)return!1;y[a]=[p[0],f[p[0]]]}return!0},construct:function _p(s){if(null===s)return[];var a,h,f,p,y,b=s;for(y=new Array(b.length),a=0,h=b.length;a<h;a+=1)f=b[a],p=Object.keys(f),y[a]=[p[0],f[p[0]]];return y}}),bp=Object.prototype.hasOwnProperty,wh=new Bs("tag:yaml.org,2002:set",{kind:"mapping",resolve:function vh(s){if(null===s)return!0;var a,h=s;for(a in h)if(bp.call(h,a)&&null!==h[a])return!1;return!0},construct:function au(s){return null!==s?s:{}}}),Tg=fc.extend({implicit:[Vd,Fl],explicit:[Us,mp,yp,wh]}),$u=Object.prototype.hasOwnProperty,_d=1,bf=2,Dg=3,Bl=4,vp=1,vf=2,wp=3,xg=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,vm=/[\x85\u2028\u2029]/,wm=/[,\[\]\{\}]/,Cp=/^(?:!|!!|![a-z\-]+!)$/i,Tp=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function kg(s){return Object.prototype.toString.call(s)}function Lc(s){return 10===s||13===s}function wr(s){return 9===s||32===s}function Vl(s){return 9===s||32===s||10===s||13===s}function Ud(s){return 44===s||91===s||93===s||123===s||125===s}function Ts(s){var a;return 48<=s&&s<=57?s-48:97<=(a=32|s)&&a<=102?a-97+10:-1}function Sg(s){return 120===s?2:117===s?4:85===s?8:0}function li(s){return 48<=s&&s<=57?s-48:-1}function ya(s){return 48===s?"\0":97===s?"\x07":98===s?"\b":116===s||9===s?"\t":110===s?"\n":118===s?"\v":102===s?"\f":114===s?"\r":101===s?"\x1b":32===s?" ":34===s?'"':47===s?"/":92===s?"\\":78===s?"\x85":95===s?"\xa0":76===s?"\u2028":80===s?"\u2029":""}function ns(s){return s<=65535?String.fromCharCode(s):String.fromCharCode(55296+(s-65536>>10),56320+(s-65536&1023))}for(var na=new Array(256),ba=new Array(256),Ql=0;Ql<256;Ql++)na[Ql]=ya(Ql)?1:0,ba[Ql]=ya(Ql);function sl(s,a){this.input=s,this.filename=a.filename||null,this.schema=a.schema||Tg,this.onWarning=a.onWarning||null,this.legacy=a.legacy||!1,this.json=a.json||!1,this.listener=a.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=s.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Dp(s,a){var h={name:s.filename,buffer:s.input.slice(0,-1),position:s.position,line:s.line,column:s.position-s.lineStart};return h.snippet=ym(h),new Rc(a,h)}function qi(s,a){throw Dp(s,a)}function yd(s,a){s.onWarning&&s.onWarning.call(null,Dp(s,a))}var Eg={YAML:function(a,h,f){var p,y,b;null!==a.version&&qi(a,"duplication of %YAML directive"),1!==f.length&&qi(a,"YAML directive accepts exactly one argument"),null===(p=/^([0-9]+)\.([0-9]+)$/.exec(f[0]))&&qi(a,"ill-formed argument of the YAML directive"),y=parseInt(p[1],10),b=parseInt(p[2],10),1!==y&&qi(a,"unacceptable YAML version of the document"),a.version=f[0],a.checkLineBreaks=b<2,1!==b&&2!==b&&yd(a,"unsupported YAML version of the document")},TAG:function(a,h,f){var p,y;2!==f.length&&qi(a,"TAG directive accepts exactly two arguments"),y=f[1],Cp.test(p=f[0])||qi(a,"ill-formed tag handle (first argument) of the TAG directive"),$u.call(a.tagMap,p)&&qi(a,'there is a previously declared suffix for "'+p+'" tag handle'),Tp.test(y)||qi(a,"ill-formed tag prefix (second argument) of the TAG directive");try{y=decodeURIComponent(y)}catch{qi(a,"tag prefix is malformed: "+y)}a.tagMap[p]=y}};function Jl(s,a,h,f){var p,y,b,w;if(a<h){if(w=s.input.slice(a,h),f)for(p=0,y=w.length;p<y;p+=1)9===(b=w.charCodeAt(p))||32<=b&&b<=1114111||qi(s,"expected valid JSON character");else xg.test(w)&&qi(s,"the stream contains non-printable characters");s.result+=w}}function Wu(s,a,h,f){var p,y,b,w;for(Na.isObject(h)||qi(s,"cannot merge mappings; the provided source object is unacceptable"),b=0,w=(p=Object.keys(h)).length;b<w;b+=1)$u.call(a,y=p[b])||(a[y]=h[y],f[y]=!0)}function zd(s,a,h,f,p,y,b,w,C){var A,V;if(Array.isArray(p))for(A=0,V=(p=Array.prototype.slice.call(p)).length;A<V;A+=1)Array.isArray(p[A])&&qi(s,"nested arrays are not supported inside keys"),"object"==typeof p&&"[object Object]"===kg(p[A])&&(p[A]="[object Object]");if("object"==typeof p&&"[object Object]"===kg(p)&&(p="[object Object]"),p=String(p),null===a&&(a={}),"tag:yaml.org,2002:merge"===f)if(Array.isArray(y))for(A=0,V=y.length;A<V;A+=1)Wu(s,a,y[A],h);else Wu(s,a,y,h);else!s.json&&!$u.call(h,p)&&$u.call(a,p)&&(s.line=b||s.line,s.lineStart=w||s.lineStart,s.position=C||s.position,qi(s,"duplicated mapping key")),"__proto__"===p?Object.defineProperty(a,p,{configurable:!0,enumerable:!0,writable:!0,value:y}):a[p]=y,delete h[p];return a}function Ch(s){var a;10===(a=s.input.charCodeAt(s.position))?s.position++:13===a?(s.position++,10===s.input.charCodeAt(s.position)&&s.position++):qi(s,"a line break is expected"),s.line+=1,s.lineStart=s.position,s.firstTabInLine=-1}function ia(s,a,h){for(var f=0,p=s.input.charCodeAt(s.position);0!==p;){for(;wr(p);)9===p&&-1===s.firstTabInLine&&(s.firstTabInLine=s.position),p=s.input.charCodeAt(++s.position);if(a&&35===p)do{p=s.input.charCodeAt(++s.position)}while(10!==p&&13!==p&&0!==p);if(!Lc(p))break;for(Ch(s),p=s.input.charCodeAt(s.position),f++,s.lineIndent=0;32===p;)s.lineIndent++,p=s.input.charCodeAt(++s.position)}return-1!==h&&0!==f&&s.lineIndent<h&&yd(s,"deficient indentation"),f}function bd(s){var h,a=s.position;return!(45!==(h=s.input.charCodeAt(a))&&46!==h||h!==s.input.charCodeAt(a+1)||h!==s.input.charCodeAt(a+2)||(a+=3,h=s.input.charCodeAt(a),0!==h&&!Vl(h)))}function wf(s,a){1===a?s.result+=" ":a>1&&(s.result+=Na.repeat("\n",a-1))}function xu(s,a){var h,C,f=s.tag,p=s.anchor,y=[],w=!1;if(-1!==s.firstTabInLine)return!1;for(null!==s.anchor&&(s.anchorMap[s.anchor]=y),C=s.input.charCodeAt(s.position);0!==C&&(-1!==s.firstTabInLine&&(s.position=s.firstTabInLine,qi(s,"tab characters must not be used in indentation")),45===C&&Vl(s.input.charCodeAt(s.position+1)));)if(w=!0,s.position++,ia(s,!0,-1)&&s.lineIndent<=a)y.push(null),C=s.input.charCodeAt(s.position);else if(h=s.line,ku(s,a,Dg,!1,!0),y.push(s.result),ia(s,!0,-1),C=s.input.charCodeAt(s.position),(s.line===h||s.lineIndent>a)&&0!==C)qi(s,"bad indentation of a sequence entry");else if(s.lineIndent<a)break;return!!w&&(s.tag=f,s.anchor=p,s.kind="sequence",s.result=y,!0)}function Tf(s){var a,p,y,b,h=!1,f=!1;if(33!==(b=s.input.charCodeAt(s.position)))return!1;if(null!==s.tag&&qi(s,"duplication of a tag property"),60===(b=s.input.charCodeAt(++s.position))?(h=!0,b=s.input.charCodeAt(++s.position)):33===b?(f=!0,p="!!",b=s.input.charCodeAt(++s.position)):p="!",a=s.position,h){do{b=s.input.charCodeAt(++s.position)}while(0!==b&&62!==b);s.position<s.length?(y=s.input.slice(a,s.position),b=s.input.charCodeAt(++s.position)):qi(s,"unexpected end of the stream within a verbatim tag")}else{for(;0!==b&&!Vl(b);)33===b&&(f?qi(s,"tag suffix cannot contain exclamation marks"):(p=s.input.slice(a-1,s.position+1),Cp.test(p)||qi(s,"named tag handle cannot contain such characters"),f=!0,a=s.position+1)),b=s.input.charCodeAt(++s.position);y=s.input.slice(a,s.position),wm.test(y)&&qi(s,"tag suffix cannot contain flow indicator characters")}y&&!Tp.test(y)&&qi(s,"tag name cannot contain such characters: "+y);try{y=decodeURIComponent(y)}catch{qi(s,"tag name is malformed: "+y)}return h?s.tag=y:$u.call(s.tagMap,p)?s.tag=s.tagMap[p]+y:"!"===p?s.tag="!"+y:"!!"===p?s.tag="tag:yaml.org,2002:"+y:qi(s,'undeclared tag handle "'+p+'"'),!0}function Yd(s){var a,h;if(38!==(h=s.input.charCodeAt(s.position)))return!1;for(null!==s.anchor&&qi(s,"duplication of an anchor property"),h=s.input.charCodeAt(++s.position),a=s.position;0!==h&&!Vl(h)&&!Ud(h);)h=s.input.charCodeAt(++s.position);return s.position===a&&qi(s,"name of an anchor node must contain at least one character"),s.anchor=s.input.slice(a,s.position),!0}function ku(s,a,h,f,p){var y,b,w,Y,z,X,xe,Oe,Fe,C=1,A=!1,V=!1;if(null!==s.listener&&s.listener("open",s),s.tag=null,s.anchor=null,s.kind=null,s.result=null,y=b=w=Bl===h||Dg===h,f&&ia(s,!0,-1)&&(A=!0,s.lineIndent>a?C=1:s.lineIndent===a?C=0:s.lineIndent<a&&(C=-1)),1===C)for(;Tf(s)||Yd(s);)ia(s,!0,-1)?(A=!0,w=y,s.lineIndent>a?C=1:s.lineIndent===a?C=0:s.lineIndent<a&&(C=-1)):w=!1;if(w&&(w=A||p),(1===C||Bl===h)&&(Oe=_d===h||bf===h?a:a+1,Fe=s.position-s.lineStart,1===C?w&&(xu(s,Fe)||function Cm(s,a,h){var f,p,y,b,w,C,Ee,A=s.tag,V=s.anchor,Y={},z=Object.create(null),X=null,xe=null,Oe=null,Fe=!1,Ue=!1;if(-1!==s.firstTabInLine)return!1;for(null!==s.anchor&&(s.anchorMap[s.anchor]=Y),Ee=s.input.charCodeAt(s.position);0!==Ee;){if(!Fe&&-1!==s.firstTabInLine&&(s.position=s.firstTabInLine,qi(s,"tab characters must not be used in indentation")),f=s.input.charCodeAt(s.position+1),y=s.line,63!==Ee&&58!==Ee||!Vl(f)){if(b=s.line,w=s.lineStart,C=s.position,!ku(s,h,bf,!1,!0))break;if(s.line===y){for(Ee=s.input.charCodeAt(s.position);wr(Ee);)Ee=s.input.charCodeAt(++s.position);if(58===Ee)Vl(Ee=s.input.charCodeAt(++s.position))||qi(s,"a whitespace character is expected after the key-value separator within a block mapping"),Fe&&(zd(s,Y,z,X,xe,null,b,w,C),X=xe=Oe=null),Ue=!0,Fe=!1,p=!1,X=s.tag,xe=s.result;else{if(!Ue)return s.tag=A,s.anchor=V,!0;qi(s,"can not read an implicit mapping pair; a colon is missed")}}else{if(!Ue)return s.tag=A,s.anchor=V,!0;qi(s,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===Ee?(Fe&&(zd(s,Y,z,X,xe,null,b,w,C),X=xe=Oe=null),Ue=!0,Fe=!0,p=!0):Fe?(Fe=!1,p=!0):qi(s,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),s.position+=1,Ee=f;if((s.line===y||s.lineIndent>a)&&(Fe&&(b=s.line,w=s.lineStart,C=s.position),ku(s,a,Bl,!0,p)&&(Fe?xe=s.result:Oe=s.result),Fe||(zd(s,Y,z,X,xe,Oe,b,w,C),X=xe=Oe=null),ia(s,!0,-1),Ee=s.input.charCodeAt(s.position)),(s.line===y||s.lineIndent>a)&&0!==Ee)qi(s,"bad indentation of a mapping entry");else if(s.lineIndent<a)break}return Fe&&zd(s,Y,z,X,xe,null,b,w,C),Ue&&(s.tag=A,s.anchor=V,s.kind="mapping",s.result=Y),Ue}(s,Fe,Oe))||function Th(s,a){var f,p,y,w,V,Y,z,X,Oe,Fe,Ue,Ee,h=!0,b=s.tag,C=s.anchor,xe=Object.create(null);if(91===(Ee=s.input.charCodeAt(s.position)))V=93,X=!1,w=[];else{if(123!==Ee)return!1;V=125,X=!0,w={}}for(null!==s.anchor&&(s.anchorMap[s.anchor]=w),Ee=s.input.charCodeAt(++s.position);0!==Ee;){if(ia(s,!0,a),(Ee=s.input.charCodeAt(s.position))===V)return s.position++,s.tag=b,s.anchor=C,s.kind=X?"mapping":"sequence",s.result=w,!0;h?44===Ee&&qi(s,"expected the node content, but found ','"):qi(s,"missed comma between flow collection entries"),Ue=null,Y=z=!1,63===Ee&&Vl(s.input.charCodeAt(s.position+1))&&(Y=z=!0,s.position++,ia(s,!0,a)),f=s.line,p=s.lineStart,y=s.position,ku(s,a,_d,!1,!0),Fe=s.tag,Oe=s.result,ia(s,!0,a),Ee=s.input.charCodeAt(s.position),(z||s.line===f)&&58===Ee&&(Y=!0,Ee=s.input.charCodeAt(++s.position),ia(s,!0,a),ku(s,a,_d,!1,!0),Ue=s.result),X?zd(s,w,xe,Fe,Oe,Ue,f,p,y):w.push(Y?zd(s,null,xe,Fe,Oe,Ue,f,p,y):Oe),ia(s,!0,a),44===(Ee=s.input.charCodeAt(s.position))?(h=!0,Ee=s.input.charCodeAt(++s.position)):h=!1}qi(s,"unexpected end of the stream within a flow collection")}(s,Oe)?V=!0:(b&&function xp(s,a){var h,f,V,Y,p=vp,y=!1,b=!1,w=a,C=0,A=!1;if(124===(Y=s.input.charCodeAt(s.position)))f=!1;else{if(62!==Y)return!1;f=!0}for(s.kind="scalar",s.result="";0!==Y;)if(43===(Y=s.input.charCodeAt(++s.position))||45===Y)vp===p?p=43===Y?wp:vf:qi(s,"repeat of a chomping mode identifier");else{if(!((V=li(Y))>=0))break;0===V?qi(s,"bad explicit indentation width of a block scalar; it cannot be less than one"):b?qi(s,"repeat of an indentation width identifier"):(w=a+V-1,b=!0)}if(wr(Y)){do{Y=s.input.charCodeAt(++s.position)}while(wr(Y));if(35===Y)do{Y=s.input.charCodeAt(++s.position)}while(!Lc(Y)&&0!==Y)}for(;0!==Y;){for(Ch(s),s.lineIndent=0,Y=s.input.charCodeAt(s.position);(!b||s.lineIndent<w)&&32===Y;)s.lineIndent++,Y=s.input.charCodeAt(++s.position);if(!b&&s.lineIndent>w&&(w=s.lineIndent),Lc(Y))C++;else{if(s.lineIndent<w){p===wp?s.result+=Na.repeat("\n",y?1+C:C):p===vp&&y&&(s.result+="\n");break}for(f?wr(Y)?(A=!0,s.result+=Na.repeat("\n",y?1+C:C)):A?(A=!1,s.result+=Na.repeat("\n",C+1)):0===C?y&&(s.result+=" "):s.result+=Na.repeat("\n",C):s.result+=Na.repeat("\n",y?1+C:C),y=!0,b=!0,C=0,h=s.position;!Lc(Y)&&0!==Y;)Y=s.input.charCodeAt(++s.position);Jl(s,h,s.position,!1)}}return!0}(s,Oe)||function Ag(s,a){var h,f,p;if(39!==(h=s.input.charCodeAt(s.position)))return!1;for(s.kind="scalar",s.result="",s.position++,f=p=s.position;0!==(h=s.input.charCodeAt(s.position));)if(39===h){if(Jl(s,f,s.position,!0),39!==(h=s.input.charCodeAt(++s.position)))return!0;f=s.position,s.position++,p=s.position}else Lc(h)?(Jl(s,f,p,!0),wf(s,ia(s,!1,a)),f=p=s.position):s.position===s.lineStart&&bd(s)?qi(s,"unexpected end of the document within a single quoted scalar"):(s.position++,p=s.position);qi(s,"unexpected end of the stream within a single quoted scalar")}(s,Oe)||function Cf(s,a){var h,f,p,y,b,w;if(34!==(w=s.input.charCodeAt(s.position)))return!1;for(s.kind="scalar",s.result="",s.position++,h=f=s.position;0!==(w=s.input.charCodeAt(s.position));){if(34===w)return Jl(s,h,s.position,!0),s.position++,!0;if(92===w){if(Jl(s,h,s.position,!0),Lc(w=s.input.charCodeAt(++s.position)))ia(s,!1,a);else if(w<256&&na[w])s.result+=ba[w],s.position++;else if((b=Sg(w))>0){for(p=b,y=0;p>0;p--)(b=Ts(w=s.input.charCodeAt(++s.position)))>=0?y=(y<<4)+b:qi(s,"expected hexadecimal character");s.result+=ns(y),s.position++}else qi(s,"unknown escape sequence");h=f=s.position}else Lc(w)?(Jl(s,h,f,!0),wf(s,ia(s,!1,a)),h=f=s.position):s.position===s.lineStart&&bd(s)?qi(s,"unexpected end of the document within a double quoted scalar"):(s.position++,f=s.position)}qi(s,"unexpected end of the stream within a double quoted scalar")}(s,Oe)?V=!0:function Tm(s){var a,h,f;if(42!==(f=s.input.charCodeAt(s.position)))return!1;for(f=s.input.charCodeAt(++s.position),a=s.position;0!==f&&!Vl(f)&&!Ud(f);)f=s.input.charCodeAt(++s.position);return s.position===a&&qi(s,"name of an alias node must contain at least one character"),h=s.input.slice(a,s.position),$u.call(s.anchorMap,h)||qi(s,'unidentified alias "'+h+'"'),s.result=s.anchorMap[h],ia(s,!0,-1),!0}(s)?(V=!0,(null!==s.tag||null!==s.anchor)&&qi(s,"alias node should not have any properties")):function Cl(s,a,h){var p,y,b,w,C,A,V,X,Y=s.kind,z=s.result;if(Vl(X=s.input.charCodeAt(s.position))||Ud(X)||35===X||38===X||42===X||33===X||124===X||62===X||39===X||34===X||37===X||64===X||96===X||(63===X||45===X)&&(Vl(p=s.input.charCodeAt(s.position+1))||h&&Ud(p)))return!1;for(s.kind="scalar",s.result="",y=b=s.position,w=!1;0!==X;){if(58===X){if(Vl(p=s.input.charCodeAt(s.position+1))||h&&Ud(p))break}else if(35===X){if(Vl(s.input.charCodeAt(s.position-1)))break}else{if(s.position===s.lineStart&&bd(s)||h&&Ud(X))break;if(Lc(X)){if(C=s.line,A=s.lineStart,V=s.lineIndent,ia(s,!1,-1),s.lineIndent>=a){w=!0,X=s.input.charCodeAt(s.position);continue}s.position=b,s.line=C,s.lineStart=A,s.lineIndent=V;break}}w&&(Jl(s,y,b,!1),wf(s,s.line-C),y=b=s.position,w=!1),wr(X)||(b=s.position+1),X=s.input.charCodeAt(++s.position)}return Jl(s,y,b,!1),!!s.result||(s.kind=Y,s.result=z,!1)}(s,Oe,_d===h)&&(V=!0,null===s.tag&&(s.tag="?")),null!==s.anchor&&(s.anchorMap[s.anchor]=s.result)):0===C&&(V=w&&xu(s,Fe))),null===s.tag)null!==s.anchor&&(s.anchorMap[s.anchor]=s.result);else if("?"===s.tag){for(null!==s.result&&"scalar"!==s.kind&&qi(s,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+s.kind+'"'),Y=0,z=s.implicitTypes.length;Y<z;Y+=1)if((xe=s.implicitTypes[Y]).resolve(s.result)){s.result=xe.construct(s.result),s.tag=xe.tag,null!==s.anchor&&(s.anchorMap[s.anchor]=s.result);break}}else if("!"!==s.tag){if($u.call(s.typeMap[s.kind||"fallback"],s.tag))xe=s.typeMap[s.kind||"fallback"][s.tag];else for(xe=null,Y=0,z=(X=s.typeMap.multi[s.kind||"fallback"]).length;Y<z;Y+=1)if(s.tag.slice(0,X[Y].tag.length)===X[Y].tag){xe=X[Y];break}xe||qi(s,"unknown tag !<"+s.tag+">"),null!==s.result&&xe.kind!==s.kind&&qi(s,"unacceptable node kind for !<"+s.tag+'> tag; it should be "'+xe.kind+'", not "'+s.kind+'"'),xe.resolve(s.result,s.tag)?(s.result=xe.construct(s.result,s.tag),null!==s.anchor&&(s.anchorMap[s.anchor]=s.result)):qi(s,"cannot resolve a node with !<"+s.tag+"> explicit tag")}return null!==s.listener&&s.listener("close",s),null!==s.tag||null!==s.anchor||V}function ec(s){var h,f,p,b,a=s.position,y=!1;for(s.version=null,s.checkLineBreaks=s.legacy,s.tagMap=Object.create(null),s.anchorMap=Object.create(null);0!==(b=s.input.charCodeAt(s.position))&&(ia(s,!0,-1),b=s.input.charCodeAt(s.position),!(s.lineIndent>0||37!==b));){for(y=!0,b=s.input.charCodeAt(++s.position),h=s.position;0!==b&&!Vl(b);)b=s.input.charCodeAt(++s.position);for(p=[],(f=s.input.slice(h,s.position)).length<1&&qi(s,"directive name must not be less than one character in length");0!==b;){for(;wr(b);)b=s.input.charCodeAt(++s.position);if(35===b){do{b=s.input.charCodeAt(++s.position)}while(0!==b&&!Lc(b));break}if(Lc(b))break;for(h=s.position;0!==b&&!Vl(b);)b=s.input.charCodeAt(++s.position);p.push(s.input.slice(h,s.position))}0!==b&&Ch(s),$u.call(Eg,f)?Eg[f](s,f,p):yd(s,'unknown document directive "'+f+'"')}ia(s,!0,-1),0===s.lineIndent&&45===s.input.charCodeAt(s.position)&&45===s.input.charCodeAt(s.position+1)&&45===s.input.charCodeAt(s.position+2)?(s.position+=3,ia(s,!0,-1)):y&&qi(s,"directives end mark is expected"),ku(s,s.lineIndent-1,Bl,!1,!0),ia(s,!0,-1),s.checkLineBreaks&&vm.test(s.input.slice(a,s.position))&&yd(s,"non-ASCII line breaks are interpreted as content"),s.documents.push(s.result),s.position===s.lineStart&&bd(s)?46===s.input.charCodeAt(s.position)&&(s.position+=3,ia(s,!0,-1)):s.position<s.length-1&&qi(s,"end of the stream or a document separator is expected")}function Hl(s,a){a=a||{},0!==(s=String(s)).length&&(10!==s.charCodeAt(s.length-1)&&13!==s.charCodeAt(s.length-1)&&(s+="\n"),65279===s.charCodeAt(0)&&(s=s.slice(1)));var h=new sl(s,a),f=s.indexOf("\0");for(-1!==f&&(h.position=f,qi(h,"null byte is not allowed in input")),h.input+="\0";32===h.input.charCodeAt(h.position);)h.lineIndent+=1,h.position+=1;for(;h.position<h.length-1;)ec(h);return h.documents}var $d=Wa,Dm=function Pc(s,a){var h=Hl(s,a);if(0!==h.length){if(1===h.length)return h[0];throw new Rc("expected a single document in the stream, but found more")}};const kp=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,xh=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Fc=/\s*%%.*\n/gm,mc={},M=function(s,a){s=s.replace(kp,"").replace(xh,"").replace(Fc,"\n");for(const[h,{detector:f}]of Object.entries(mc))if(f(s,a))return h;throw new Error(`No diagram type detected for text: ${s}`)},Z=(...s)=>{for(const{id:a,detector:h,loader:f}of s)le(a,h,f)},le=(s,a,h)=>{mc[s]?Me.error(`Detector with key ${s} already exists`):mc[s]={detector:a,loader:h},Me.debug(`Detector with key ${s} added${h?" with loader":""}`)},ke=function(s,a,h){const{depth:f,clobber:p}=Object.assign({depth:2,clobber:!1},h);return Array.isArray(a)&&!Array.isArray(s)?(a.forEach(y=>ke(s,y,h)),s):Array.isArray(a)&&Array.isArray(s)?(a.forEach(y=>{s.includes(y)||s.push(y)}),s):void 0===s||f<=0?null!=s&&"object"==typeof s&&"object"==typeof a?Object.assign(s,a):a:(void 0!==a&&"object"==typeof s&&"object"==typeof a&&Object.keys(a).forEach(y=>{"object"!=typeof a[y]||void 0!==s[y]&&"object"!=typeof s[y]?(p||"object"!=typeof s[y]&&"object"!=typeof a[y])&&(s[y]=a[y]):(void 0===s[y]&&(s[y]=Array.isArray(a[y])?[]:{}),s[y]=ke(s[y],a[y],{depth:f-1,clobber:p}))}),s)},Le=ke,Ge={curveBasis:F.qrM,curveBasisClosed:F.Yu4,curveBasisOpen:F.IA3,curveBumpX:F.Wi0,curveBumpY:F.PGM,curveBundle:F.OEq,curveCardinalClosed:F.olC,curveCardinalOpen:F.IrU,curveCardinal:F.y8u,curveCatmullRomClosed:F.Q7f,curveCatmullRomOpen:F.cVp,curveCatmullRom:F.oDi,curveLinear:F.lUB,curveLinearClosed:F.Lx9,curveMonotoneX:F.nVG,curveMonotoneY:F.uxU,curveNatural:F.Xf2,curveStep:F.GZz,curveStepAfter:F.UPb,curveStepBefore:F.dyv},vt=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Pt=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,fn=function(s,a=null){try{const h=new RegExp(`[%]{2}(?![{]${Pt.source})(?=[}][%]{2}).*\n`,"ig");let f;s=s.trim().replace(h,"").replace(/'/gm,'"'),Me.debug(`Detecting diagram directive${null!==a?" type:"+a:""} based on the text:${s}`);const p=[];for(;null!==(f=vt.exec(s));)if(f.index===vt.lastIndex&&vt.lastIndex++,f&&!a||a&&f[1]&&f[1].match(a)||a&&f[2]&&f[2].match(a)){const y=f[1]?f[1]:f[2],b=f[3]?f[3].trim():f[4]?JSON.parse(f[4].trim()):null;p.push({type:y,args:b})}return 0===p.length&&p.push({type:s,args:null}),1===p.length?p[0]:p}catch(h){return Me.error(`ERROR: ${h.message} - Unable to parse directive\n      ${null!==a?" type:"+a:""} based on the text:${s}`),{type:null,args:null}}};function tr(s,a){if(!s)return a;const h=`curve${s.charAt(0).toUpperCase()+s.slice(1)}`;return Ge[h]||a}function Oo(s,a){return s&&a?Math.sqrt(Math.pow(a.x-s.x,2)+Math.pow(a.y-s.y,2)):0}function ol(s){let a="",h="";for(const f of s)void 0!==f&&(f.startsWith("color:")||f.startsWith("text-align:")?h=h+f+";":a=a+f+";");return{style:a,labelStyle:h}}let jl=0;const Bc=()=>(jl++,"id-"+Math.random().toString(36).substr(2,12)+"-"+jl),oo=s=>function al(s){let a="";for(let p=0;p<s;p++)a+="0123456789abcdef".charAt(Math.floor(16*Math.random()));return a}(s.length),tc=function(s,a){const h=a.text.replace(sr.lineBreakRegex," "),[,f]=Rr(a.fontSize),p=s.append("text");p.attr("x",a.x),p.attr("y",a.y),p.style("text-anchor",a.anchor),p.style("font-family",a.fontFamily),p.style("font-size",f),p.style("font-weight",a.fontWeight),p.attr("fill",a.fill),void 0!==a.class&&p.attr("class",a.class);const y=p.append("tspan");return y.attr("x",a.x+2*a.textMargin),y.attr("fill",a.fill),y.text(h),p},Vr=(0,st.A)((s,a,h)=>{if(!s||(h=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},h),sr.lineBreakRegex.test(s)))return s;const f=s.split(" "),p=[];let y="";return f.forEach((b,w)=>{const C=nc(`${b} `,h),A=nc(y,h);if(C>a){const{hyphenatedStrings:z,remainingWord:X}=Wd(b,a,"-",h);p.push(y,...z),y=X}else A+C>=a?(p.push(y),y=b):y=[y,b].filter(Boolean).join(" ");w+1===f.length&&p.push(y)}),p.filter(b=>""!==b).join(h.joinWith)},(s,a,h)=>`${s}${a}${h.fontSize}${h.fontWeight}${h.fontFamily}${h.joinWith}`),Wd=(0,st.A)((s,a,h="-",f)=>{f=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},f);const p=[...s],y=[];let b="";return p.forEach((w,C)=>{const A=`${b}${w}`;nc(A,f)>=a?(y.push(p.length===C+1?A:`${A}${h}`),b=""):b=A}),{hyphenatedStrings:y,remainingWord:b}},(s,a,h="-",f)=>`${s}${a}${h}${f.fontSize}${f.fontWeight}${f.fontFamily}`);function Ig(s,a){return a=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},a),Uo(s,a).height}function nc(s,a){return a=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},a),Uo(s,a).width}const Uo=(0,st.A)((s,a)=>{a=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},a);const{fontSize:h,fontFamily:f,fontWeight:p}=a;if(!s)return{width:0,height:0};const[,y]=Rr(h),b=["sans-serif",f],w=s.split(sr.lineBreakRegex),C=[],A=(0,F.Ltv)("body");if(!A.remove)return{width:0,height:0,lineHeight:0};const V=A.append("svg");for(const z of b){let X=0;const xe={width:0,height:0,lineHeight:0};for(const Oe of w){const Fe={x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0};Fe.text=Oe;const Ue=tc(V,Fe).style("font-size",y).style("font-weight",p).style("font-family",z),Ee=(Ue._groups||Ue)[0][0].getBBox();xe.width=Math.round(Math.max(xe.width,Ee.width)),X=Math.round(Ee.height),xe.height+=X,xe.lineHeight=Math.round(Math.max(xe.lineHeight,X))}C.push(xe)}return V.remove(),C[isNaN(C[1].height)||isNaN(C[1].width)||isNaN(C[1].lineHeight)||C[0].height>C[1].height&&C[0].width>C[1].width&&C[0].lineHeight>C[1].lineHeight?0:1]},(s,a)=>`${s}${a.fontSize}${a.fontWeight}${a.fontFamily}`);let lu;const Ga=s=>{if(Me.debug("directiveSanitizer called with",s),"object"==typeof s&&(s.length?s.forEach(a=>Ga(a)):Object.keys(s).forEach(a=>{Me.debug("Checking key",a),a.startsWith("__")&&(Me.debug("sanitize deleting __ option",a),delete s[a]),a.includes("proto")&&(Me.debug("sanitize deleting proto option",a),delete s[a]),a.includes("constr")&&(Me.debug("sanitize deleting constr option",a),delete s[a]),a.includes("themeCSS")&&(Me.debug("sanitizing themeCss option"),s[a]=Vc(s[a])),a.includes("fontFamily")&&(Me.debug("sanitizing fontFamily option"),s[a]=Vc(s[a])),a.includes("altFontFamily")&&(Me.debug("sanitizing altFontFamily option"),s[a]=Vc(s[a])),Bu.includes(a)?"object"==typeof s[a]&&(Me.debug("sanitize deleting object",a),Ga(s[a])):(Me.debug("sanitize deleting option",a),delete s[a])})),s.themeVariables){const a=Object.keys(s.themeVariables);for(const h of a){const f=s.themeVariables[h];f&&f.match&&!f.match(/^[\d "#%(),.;A-Za-z]+$/)&&(s.themeVariables[h]="")}}Me.debug("After sanitization",s)},Vc=s=>{let a=0,h=0;for(const f of s){if(a<h)return"{ /* ERROR: Unbalanced CSS */ }";"{"===f?a++:"}"===f&&h++}return a!==h?"{ /* ERROR: Unbalanced CSS */ }":s};function ic(s){return"str"in s}const Rr=s=>{if("number"==typeof s)return[s,s+"px"];const a=parseInt(s,10);return Number.isNaN(a)?[void 0,void 0]:s===String(a)?[a,s+"px"]:[a,s]},Hr={assignWithDepth:Le,wrapLabel:Vr,calculateTextHeight:Ig,calculateTextWidth:nc,calculateTextDimensions:Uo,detectInit:function(s,a){const h=fn(s,/(?:init\b)|(?:initialize\b)/);let f={};if(Array.isArray(h)){const p=h.map(y=>y.args);Ga(p),f=Le(f,[...p])}else f=h.args;if(f){let p=M(s,a);["config"].forEach(y=>{void 0!==f[y]&&("flowchart-v2"===p&&(p="flowchart"),f[p]=f[y],delete f[y])})}return f},detectDirective:fn,isSubstringInArray:function(s,a){for(const[h,f]of a.entries())if(f.match(s))return h;return-1},interpolateToCurve:tr,calcLabelPosition:function Xn(s){return 1===s.length?s[0]:function so(s){let a,h=0;s.forEach(y=>{h+=Oo(y,a),a=y});let p,f=h/2;return a=void 0,s.forEach(y=>{if(a&&!p){const b=Oo(y,a);if(b<f)f-=b;else{const w=f/b;w<=0&&(p=a),w>=1&&(p={x:y.x,y:y.y}),w>0&&w<1&&(p={x:(1-w)*a.x+w*y.x,y:(1-w)*a.y+w*y.y})}}a=y}),p}(s)},calcCardinalityPosition:(s,a,h)=>{let f;Me.info(`our points ${JSON.stringify(a)}`),a[0]!==h&&(a=a.reverse());let b,y=25;f=void 0,a.forEach(V=>{if(f&&!b){const Y=Oo(V,f);if(Y<y)y-=Y;else{const z=y/Y;z<=0&&(b=f),z>=1&&(b={x:V.x,y:V.y}),z>0&&z<1&&(b={x:(1-z)*f.x+z*V.x,y:(1-z)*f.y+z*V.y})}}f=V});const w=s?10:5,C=Math.atan2(a[0].y-b.y,a[0].x-b.x),A={x:0,y:0};return A.x=Math.sin(C)*w+(a[0].x+b.x)/2,A.y=-Math.cos(C)*w+(a[0].y+b.y)/2,A},calcTerminalLabelPosition:function va(s,a,h){let p,f=JSON.parse(JSON.stringify(h));Me.info("our points",f),"start_left"!==a&&"start_right"!==a&&(f=f.reverse()),f.forEach(Y=>{p=Y});let w,b=25+s;p=void 0,f.forEach(Y=>{if(p&&!w){const z=Oo(Y,p);if(z<b)b-=z;else{const X=b/z;X<=0&&(w=p),X>=1&&(w={x:Y.x,y:Y.y}),X>0&&X<1&&(w={x:(1-X)*p.x+X*Y.x,y:(1-X)*p.y+X*Y.y})}}p=Y});const C=10+.5*s,A=Math.atan2(f[0].y-w.y,f[0].x-w.x),V={x:0,y:0};return V.x=Math.sin(A)*C+(f[0].x+w.x)/2,V.y=-Math.cos(A)*C+(f[0].y+w.y)/2,"start_left"===a&&(V.x=Math.sin(A+Math.PI)*C+(f[0].x+w.x)/2,V.y=-Math.cos(A+Math.PI)*C+(f[0].y+w.y)/2),"end_right"===a&&(V.x=Math.sin(A-Math.PI)*C+(f[0].x+w.x)/2-5,V.y=-Math.cos(A-Math.PI)*C+(f[0].y+w.y)/2-5),"end_left"===a&&(V.x=Math.sin(A)*C+(f[0].x+w.x)/2-5,V.y=-Math.cos(A)*C+(f[0].y+w.y)/2-5),V},formatUrl:function Pr(s,a){const h=s.trim();if(h)return"loose"!==a.securityLevel?(0,S.J)(h):h},getStylesFromArray:ol,generateId:Bc,random:oo,runFunc:(s,...a)=>{const h=s.split("."),f=h.length-1,p=h[f];let y=window;for(let b=0;b<f;b++)if(y=y[h[b]],!y)return;y[p](...a)},entityDecode:function(s){return lu=lu||document.createElement("div"),s=escape(s).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),lu.innerHTML=s,unescape(lu.textContent)},initIdGenerator:class{constructor(a,h){this.deterministic=a,this.seed=h,this.count=h?h.length:0}next(){return this.deterministic?this.count++:Date.now()}},directiveSanitizer:Ga,sanitizeCss:Vc,insertTitle:(s,a,h,f)=>{if(!f)return;const p=s.node().getBBox();s.append("text").text(f).attr("x",p.x+p.width/2).attr("y",-h).attr("class",a)},parseFontSize:Rr},Xd="9.4.3",zo=Object.freeze(hh);let Cd,Xa=Le({},zo),vo=[],Td=Le({},zo);const La=(s,a)=>{let h=Le({},s),f={};for(const p of a)w_(p),f=Le(f,p);if(h=Le(h,f),f.theme&&f.theme in vl){const p=Le({},Cd),y=Le(p.themeVariables||{},f.themeVariables);h.theme&&h.theme in vl&&(h.themeVariables=vl[h.theme].getThemeVariables(y))}return Td=h,Sm(Td),Td},Sh=()=>Le({},Xa),Hc=s=>(Sm(s),Le(Td,s),ft()),ft=()=>Le({},Td),w_=s=>{["secure",...Xa.secure??[]].forEach(a=>{void 0!==s[a]&&(Me.debug(`Denied attempt to modify a secure key ${a}`,s[a]),delete s[a])}),Object.keys(s).forEach(a=>{0===a.indexOf("__")&&delete s[a]}),Object.keys(s).forEach(a=>{"string"==typeof s[a]&&(s[a].includes("<")||s[a].includes(">")||s[a].includes("url(data:"))&&delete s[a],"object"==typeof s[a]&&w_(s[a])})},xm=s=>{s.fontFamily&&(s.themeVariables&&s.themeVariables.fontFamily||(s.themeVariables={fontFamily:s.fontFamily})),vo.push(s),La(Xa,vo)},Eh=(s=Xa)=>{vo=[],La(s,vo)};var km=(s=>(s.LAZY_LOAD_DEPRECATED="The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead.",s))(km||{});const Ah={},Sm=s=>{s&&(s.lazyLoadedDiagrams||s.loadExternalDiagramsAtStartup)&&(s=>{Ah[s]||(Me.warn(km[s]),Ah[s]=!0)})("LAZY_LOAD_DEPRECATED")},Su=function(s,a,h,f){const p=function(s,a,h){let f=new Map;return h?(f.set("width","100%"),f.set("style",`max-width: ${a}px;`)):(f.set("height",s),f.set("width",a)),f}(a,h,f);!function(s,a){for(let h of a)s.attr(h[0],h[1])}(s,p)},Mh=function(s,a,h,f){const p=a.node().getBBox(),y=p.width,b=p.height;Me.info(`SVG bounds: ${y}x${b}`,p);let w=0,C=0;Me.info(`Graph bounds: ${w}x${C}`,s),w=y+2*h,C=b+2*h,Me.info(`Calculated bounds: ${w}x${C}`),Su(a,C,w,f),a.attr("viewBox",`${p.x-h} ${p.y-h} ${p.width+2*h} ${p.height+2*h}`)},Ap=s=>`g.classGroup text {\n  fill: ${s.nodeBorder};\n  fill: ${s.classText};\n  stroke: none;\n  font-family: ${s.fontFamily};\n  font-size: 10px;\n\n  .title {\n    font-weight: bolder;\n  }\n\n}\n\n.nodeLabel, .edgeLabel {\n  color: ${s.classText};\n}\n.edgeLabel .label rect {\n  fill: ${s.mainBkg};\n}\n.label text {\n  fill: ${s.classText};\n}\n.edgeLabel .label span {\n  background: ${s.mainBkg};\n}\n\n.classTitle {\n  font-weight: bolder;\n}\n.node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${s.mainBkg};\n    stroke: ${s.nodeBorder};\n    stroke-width: 1px;\n  }\n\n\n.divider {\n  stroke: ${s.nodeBorder};\n  stroke: 1;\n}\n\ng.clickable {\n  cursor: pointer;\n}\n\ng.classGroup rect {\n  fill: ${s.mainBkg};\n  stroke: ${s.nodeBorder};\n}\n\ng.classGroup line {\n  stroke: ${s.nodeBorder};\n  stroke-width: 1;\n}\n\n.classLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ${s.mainBkg};\n  opacity: 0.5;\n}\n\n.classLabel .label {\n  fill: ${s.nodeBorder};\n  font-size: 10px;\n}\n\n.relation {\n  stroke: ${s.lineColor};\n  stroke-width: 1;\n  fill: none;\n}\n\n.dashed-line{\n  stroke-dasharray: 3;\n}\n\n.dotted-line{\n  stroke-dasharray: 1 2;\n}\n\n#compositionStart, .composition {\n  fill: ${s.lineColor} !important;\n  stroke: ${s.lineColor} !important;\n  stroke-width: 1;\n}\n\n#compositionEnd, .composition {\n  fill: ${s.lineColor} !important;\n  stroke: ${s.lineColor} !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ${s.lineColor} !important;\n  stroke: ${s.lineColor} !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ${s.lineColor} !important;\n  stroke: ${s.lineColor} !important;\n  stroke-width: 1;\n}\n\n#extensionStart, .extension {\n  fill: ${s.mainBkg} !important;\n  stroke: ${s.lineColor} !important;\n  stroke-width: 1;\n}\n\n#extensionEnd, .extension {\n  fill: ${s.mainBkg} !important;\n  stroke: ${s.lineColor} !important;\n  stroke-width: 1;\n}\n\n#aggregationStart, .aggregation {\n  fill: ${s.mainBkg} !important;\n  stroke: ${s.lineColor} !important;\n  stroke-width: 1;\n}\n\n#aggregationEnd, .aggregation {\n  fill: ${s.mainBkg} !important;\n  stroke: ${s.lineColor} !important;\n  stroke-width: 1;\n}\n\n#lollipopStart, .lollipop {\n  fill: ${s.mainBkg} !important;\n  stroke: ${s.lineColor} !important;\n  stroke-width: 1;\n}\n\n#lollipopEnd, .lollipop {\n  fill: ${s.mainBkg} !important;\n  stroke: ${s.lineColor} !important;\n  stroke-width: 1;\n}\n\n.edgeTerminals {\n  font-size: 11px;\n}\n\n.classTitleText {\n  text-anchor: middle;\n  font-size: 18px;\n  fill: ${s.textColor};\n}\n`,Am=s=>`\n  .entityBox {\n    fill: ${s.mainBkg};\n    stroke: ${s.nodeBorder};\n  }\n\n  .attributeBoxOdd {\n    fill: ${s.attributeBackgroundColorOdd};\n    stroke: ${s.nodeBorder};\n  }\n\n  .attributeBoxEven {\n    fill:  ${s.attributeBackgroundColorEven};\n    stroke: ${s.nodeBorder};\n  }\n\n  .relationshipLabelBox {\n    fill: ${s.tertiaryColor};\n    opacity: 0.7;\n    background-color: ${s.tertiaryColor};\n      rect {\n        opacity: 0.5;\n      }\n  }\n\n    .relationshipLine {\n      stroke: ${s.lineColor};\n    }\n\n  .entityTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${s.textColor};\n  }    \n`,Pa=()=>"",Mp=s=>`.label {\n    font-family: ${s.fontFamily};\n    color: ${s.nodeTextColor||s.textColor};\n  }\n  .cluster-label text {\n    fill: ${s.titleColor};\n  }\n  .cluster-label span {\n    color: ${s.titleColor};\n  }\n\n  .label text,span {\n    fill: ${s.nodeTextColor||s.textColor};\n    color: ${s.nodeTextColor||s.textColor};\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${s.mainBkg};\n    stroke: ${s.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${s.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${s.lineColor};\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ${s.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${s.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n      background-color: ${s.edgeLabelBackground};\n      fill: ${s.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n    fill: ${s.clusterBkg};\n    stroke: ${s.clusterBorder};\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ${s.titleColor};\n  }\n\n  .cluster span {\n    color: ${s.titleColor};\n  }\n  /* .cluster div {\n    color: ${s.titleColor};\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ${s.fontFamily};\n    font-size: 12px;\n    background: ${s.tertiaryColor};\n    border: 1px solid ${s.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .flowchartTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${s.textColor};\n  }\n`,Mm=s=>`\n  .mermaid-main-font {\n    font-family: "trebuchet ms", verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  .exclude-range {\n    fill: ${s.excludeBkgColor};\n  }\n\n  .section {\n    stroke: none;\n    opacity: 0.2;\n  }\n\n  .section0 {\n    fill: ${s.sectionBkgColor};\n  }\n\n  .section2 {\n    fill: ${s.sectionBkgColor2};\n  }\n\n  .section1,\n  .section3 {\n    fill: ${s.altSectionBkgColor};\n    opacity: 0.2;\n  }\n\n  .sectionTitle0 {\n    fill: ${s.titleColor};\n  }\n\n  .sectionTitle1 {\n    fill: ${s.titleColor};\n  }\n\n  .sectionTitle2 {\n    fill: ${s.titleColor};\n  }\n\n  .sectionTitle3 {\n    fill: ${s.titleColor};\n  }\n\n  .sectionTitle {\n    text-anchor: start;\n    // font-size: ${s.ganttFontSize};\n    // text-height: 14px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n\n  /* Grid and axis */\n\n  .grid .tick {\n    stroke: ${s.gridColor};\n    opacity: 0.8;\n    shape-rendering: crispEdges;\n    text {\n      font-family: ${s.fontFamily};\n      fill: ${s.textColor};\n    }\n  }\n\n  .grid path {\n    stroke-width: 0;\n  }\n\n\n  /* Today line */\n\n  .today {\n    fill: none;\n    stroke: ${s.todayLineColor};\n    stroke-width: 2px;\n  }\n\n\n  /* Task styling */\n\n  /* Default task */\n\n  .task {\n    stroke-width: 2;\n  }\n\n  .taskText {\n    text-anchor: middle;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n\n  // .taskText:not([font-size]) {\n  //   font-size: ${s.ganttFontSize};\n  // }\n\n  .taskTextOutsideRight {\n    fill: ${s.taskTextDarkColor};\n    text-anchor: start;\n    // font-size: ${s.ganttFontSize};\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n  .taskTextOutsideLeft {\n    fill: ${s.taskTextDarkColor};\n    text-anchor: end;\n    // font-size: ${s.ganttFontSize};\n  }\n\n  /* Special case clickable */\n  .task.clickable {\n    cursor: pointer;\n  }\n  .taskText.clickable {\n    cursor: pointer;\n    fill: ${s.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideLeft.clickable {\n    cursor: pointer;\n    fill: ${s.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideRight.clickable {\n    cursor: pointer;\n    fill: ${s.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  /* Specific task settings for the sections*/\n\n  .taskText0,\n  .taskText1,\n  .taskText2,\n  .taskText3 {\n    fill: ${s.taskTextColor};\n  }\n\n  .task0,\n  .task1,\n  .task2,\n  .task3 {\n    fill: ${s.taskBkgColor};\n    stroke: ${s.taskBorderColor};\n  }\n\n  .taskTextOutside0,\n  .taskTextOutside2\n  {\n    fill: ${s.taskTextOutsideColor};\n  }\n\n  .taskTextOutside1,\n  .taskTextOutside3 {\n    fill: ${s.taskTextOutsideColor};\n  }\n\n\n  /* Active task */\n\n  .active0,\n  .active1,\n  .active2,\n  .active3 {\n    fill: ${s.activeTaskBkgColor};\n    stroke: ${s.activeTaskBorderColor};\n  }\n\n  .activeText0,\n  .activeText1,\n  .activeText2,\n  .activeText3 {\n    fill: ${s.taskTextDarkColor} !important;\n  }\n\n\n  /* Completed task */\n\n  .done0,\n  .done1,\n  .done2,\n  .done3 {\n    stroke: ${s.doneTaskBorderColor};\n    fill: ${s.doneTaskBkgColor};\n    stroke-width: 2;\n  }\n\n  .doneText0,\n  .doneText1,\n  .doneText2,\n  .doneText3 {\n    fill: ${s.taskTextDarkColor} !important;\n  }\n\n\n  /* Tasks on the critical line */\n\n  .crit0,\n  .crit1,\n  .crit2,\n  .crit3 {\n    stroke: ${s.critBorderColor};\n    fill: ${s.critBkgColor};\n    stroke-width: 2;\n  }\n\n  .activeCrit0,\n  .activeCrit1,\n  .activeCrit2,\n  .activeCrit3 {\n    stroke: ${s.critBorderColor};\n    fill: ${s.activeTaskBkgColor};\n    stroke-width: 2;\n  }\n\n  .doneCrit0,\n  .doneCrit1,\n  .doneCrit2,\n  .doneCrit3 {\n    stroke: ${s.critBorderColor};\n    fill: ${s.doneTaskBkgColor};\n    stroke-width: 2;\n    cursor: pointer;\n    shape-rendering: crispEdges;\n  }\n\n  .milestone {\n    transform: rotate(45deg) scale(0.8,0.8);\n  }\n\n  .milestoneText {\n    font-style: italic;\n  }\n  .doneCritText0,\n  .doneCritText1,\n  .doneCritText2,\n  .doneCritText3 {\n    fill: ${s.taskTextDarkColor} !important;\n  }\n\n  .activeCritText0,\n  .activeCritText1,\n  .activeCritText2,\n  .activeCritText3 {\n    fill: ${s.taskTextDarkColor} !important;\n  }\n\n  .titleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${s.textColor}    ;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n`,G0=()=>"",Om=s=>`\n  .pieCircle{\n    stroke: ${s.pieStrokeColor};\n    stroke-width : ${s.pieStrokeWidth};\n    opacity : ${s.pieOpacity};\n  }\n  .pieTitleText {\n    text-anchor: middle;\n    font-size: ${s.pieTitleTextSize};\n    fill: ${s.pieTitleTextColor};\n    font-family: ${s.fontFamily};\n  }\n  .slice {\n    font-family: ${s.fontFamily};\n    fill: ${s.pieSectionTextColor};\n    font-size:${s.pieSectionTextSize};\n    // fill: white;\n  }\n  .legend text {\n    fill: ${s.pieLegendTextColor};\n    font-family: ${s.fontFamily};\n    font-size: ${s.pieLegendTextSize};\n  }\n`,Fa=s=>`\n\n  marker {\n    fill: ${s.relationColor};\n    stroke: ${s.relationColor};\n  }\n\n  marker.cross {\n    stroke: ${s.lineColor};\n  }\n\n  svg {\n    font-family: ${s.fontFamily};\n    font-size: ${s.fontSize};\n  }\n\n  .reqBox {\n    fill: ${s.requirementBackground};\n    fill-opacity: 100%;\n    stroke: ${s.requirementBorderColor};\n    stroke-width: ${s.requirementBorderSize};\n  }\n  \n  .reqTitle, .reqLabel{\n    fill:  ${s.requirementTextColor};\n  }\n  .reqLabelBox {\n    fill: ${s.relationLabelBackground};\n    fill-opacity: 100%;\n  }\n\n  .req-title-line {\n    stroke: ${s.requirementBorderColor};\n    stroke-width: ${s.requirementBorderSize};\n  }\n  .relationshipLine {\n    stroke: ${s.relationColor};\n    stroke-width: 1;\n  }\n  .relationshipLabel {\n    fill: ${s.relationLabelColor};\n  }\n\n`,X0=s=>`.actor {\n    stroke: ${s.actorBorder};\n    fill: ${s.actorBkg};\n  }\n\n  text.actor > tspan {\n    fill: ${s.actorTextColor};\n    stroke: none;\n  }\n\n  .actor-line {\n    stroke: ${s.actorLineColor};\n  }\n\n  .messageLine0 {\n    stroke-width: 1.5;\n    stroke-dasharray: none;\n    stroke: ${s.signalColor};\n  }\n\n  .messageLine1 {\n    stroke-width: 1.5;\n    stroke-dasharray: 2, 2;\n    stroke: ${s.signalColor};\n  }\n\n  #arrowhead path {\n    fill: ${s.signalColor};\n    stroke: ${s.signalColor};\n  }\n\n  .sequenceNumber {\n    fill: ${s.sequenceNumberColor};\n  }\n\n  #sequencenumber {\n    fill: ${s.signalColor};\n  }\n\n  #crosshead path {\n    fill: ${s.signalColor};\n    stroke: ${s.signalColor};\n  }\n\n  .messageText {\n    fill: ${s.signalTextColor};\n    stroke: none;\n  }\n\n  .labelBox {\n    stroke: ${s.labelBoxBorderColor};\n    fill: ${s.labelBoxBkgColor};\n  }\n\n  .labelText, .labelText > tspan {\n    fill: ${s.labelTextColor};\n    stroke: none;\n  }\n\n  .loopText, .loopText > tspan {\n    fill: ${s.loopTextColor};\n    stroke: none;\n  }\n\n  .loopLine {\n    stroke-width: 2px;\n    stroke-dasharray: 2, 2;\n    stroke: ${s.labelBoxBorderColor};\n    fill: ${s.labelBoxBorderColor};\n  }\n\n  .note {\n    //stroke: #decc93;\n    stroke: ${s.noteBorderColor};\n    fill: ${s.noteBkgColor};\n  }\n\n  .noteText, .noteText > tspan {\n    fill: ${s.noteTextColor};\n    stroke: none;\n  }\n\n  .activation0 {\n    fill: ${s.activationBkgColor};\n    stroke: ${s.activationBorderColor};\n  }\n\n  .activation1 {\n    fill: ${s.activationBkgColor};\n    stroke: ${s.activationBorderColor};\n  }\n\n  .activation2 {\n    fill: ${s.activationBkgColor};\n    stroke: ${s.activationBorderColor};\n  }\n\n  .actorPopupMenu {\n    position: absolute;\n  }\n\n  .actorPopupMenuPanel {\n    position: absolute;\n    fill: ${s.actorBkg};\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));\n}\n  .actor-man line {\n    stroke: ${s.actorBorder};\n    fill: ${s.actorBkg};\n  }\n  .actor-man circle, line {\n    stroke: ${s.actorBorder};\n    fill: ${s.actorBkg};\n    stroke-width: 2px;\n  }\n`,Eu=s=>`\ndefs #statediagram-barbEnd {\n    fill: ${s.transitionColor};\n    stroke: ${s.transitionColor};\n  }\ng.stateGroup text {\n  fill: ${s.nodeBorder};\n  stroke: none;\n  font-size: 10px;\n}\ng.stateGroup text {\n  fill: ${s.textColor};\n  stroke: none;\n  font-size: 10px;\n\n}\ng.stateGroup .state-title {\n  font-weight: bolder;\n  fill: ${s.stateLabelColor};\n}\n\ng.stateGroup rect {\n  fill: ${s.mainBkg};\n  stroke: ${s.nodeBorder};\n}\n\ng.stateGroup line {\n  stroke: ${s.lineColor};\n  stroke-width: 1;\n}\n\n.transition {\n  stroke: ${s.transitionColor};\n  stroke-width: 1;\n  fill: none;\n}\n\n.stateGroup .composit {\n  fill: ${s.background};\n  border-bottom: 1px\n}\n\n.stateGroup .alt-composit {\n  fill: #e0e0e0;\n  border-bottom: 1px\n}\n\n.state-note {\n  stroke: ${s.noteBorderColor};\n  fill: ${s.noteBkgColor};\n\n  text {\n    fill: ${s.noteTextColor};\n    stroke: none;\n    font-size: 10px;\n  }\n}\n\n.stateLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ${s.mainBkg};\n  opacity: 0.5;\n}\n\n.edgeLabel .label rect {\n  fill: ${s.labelBackgroundColor};\n  opacity: 0.5;\n}\n.edgeLabel .label text {\n  fill: ${s.transitionLabelColor||s.tertiaryTextColor};\n}\n.label div .edgeLabel {\n  color: ${s.transitionLabelColor||s.tertiaryTextColor};\n}\n\n.stateLabel text {\n  fill: ${s.stateLabelColor};\n  font-size: 10px;\n  font-weight: bold;\n}\n\n.node circle.state-start {\n  fill: ${s.specialStateColor};\n  stroke: ${s.specialStateColor};\n}\n\n.node .fork-join {\n  fill: ${s.specialStateColor};\n  stroke: ${s.specialStateColor};\n}\n\n.node circle.state-end {\n  fill: ${s.innerEndBackground};\n  stroke: ${s.background};\n  stroke-width: 1.5\n}\n.end-state-inner {\n  fill: ${s.compositeBackground||s.background};\n  // stroke: ${s.background};\n  stroke-width: 1.5\n}\n\n.node rect {\n  fill: ${s.stateBkg||s.mainBkg};\n  stroke: ${s.stateBorder||s.nodeBorder};\n  stroke-width: 1px;\n}\n.node polygon {\n  fill: ${s.mainBkg};\n  stroke: ${s.stateBorder||s.nodeBorder};;\n  stroke-width: 1px;\n}\n#statediagram-barbEnd {\n  fill: ${s.lineColor};\n}\n\n.statediagram-cluster rect {\n  fill: ${s.compositeTitleBackground};\n  stroke: ${s.stateBorder||s.nodeBorder};\n  stroke-width: 1px;\n}\n\n.cluster-label, .nodeLabel {\n  color: ${s.stateLabelColor};\n}\n\n.statediagram-cluster rect.outer {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state .divider {\n  stroke: ${s.stateBorder||s.nodeBorder};\n}\n\n.statediagram-state .title-state {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-cluster.statediagram-cluster .inner {\n  fill: ${s.compositeBackground||s.background};\n}\n.statediagram-cluster.statediagram-cluster-alt .inner {\n  fill: ${s.altBackground?s.altBackground:"#efefef"};\n}\n\n.statediagram-cluster .inner {\n  rx:0;\n  ry:0;\n}\n\n.statediagram-state rect.basic {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state rect.divider {\n  stroke-dasharray: 10,10;\n  fill: ${s.altBackground?s.altBackground:"#efefef"};\n}\n\n.note-edge {\n  stroke-dasharray: 5;\n}\n\n.statediagram-note rect {\n  fill: ${s.noteBkgColor};\n  stroke: ${s.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n.statediagram-note rect {\n  fill: ${s.noteBkgColor};\n  stroke: ${s.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n\n.statediagram-note text {\n  fill: ${s.noteTextColor};\n}\n\n.statediagram-note .nodeLabel {\n  color: ${s.noteTextColor};\n}\n.statediagram .edgeLabel {\n  color: red; // ${s.noteTextColor};\n}\n\n#dependencyStart, #dependencyEnd {\n  fill: ${s.lineColor};\n  stroke: ${s.lineColor};\n  stroke-width: 1;\n}\n\n.statediagramTitleText {\n  text-anchor: middle;\n  font-size: 18px;\n  fill: ${s.textColor};\n}\n`,q0=s=>`.label {\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    color: ${s.textColor};\n  }\n  .mouth {\n    stroke: #666;\n  }\n\n  line {\n    stroke: ${s.textColor}\n  }\n\n  .legend {\n    fill: ${s.textColor};\n  }\n\n  .label text {\n    fill: #333;\n  }\n  .label {\n    color: ${s.textColor}\n  }\n\n  .face {\n    ${s.faceColor?`fill: ${s.faceColor}`:"fill: #FFF8DC"};\n    stroke: #999;\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${s.mainBkg};\n    stroke: ${s.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${s.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${s.lineColor};\n    stroke-width: 1.5px;\n  }\n\n  .flowchart-link {\n    stroke: ${s.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${s.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n  }\n\n  .cluster text {\n    fill: ${s.titleColor};\n  }\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    font-size: 12px;\n    background: ${s.tertiaryColor};\n    border: 1px solid ${s.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .task-type-0, .section-type-0  {\n    ${s.fillType0?`fill: ${s.fillType0}`:""};\n  }\n  .task-type-1, .section-type-1  {\n    ${s.fillType0?`fill: ${s.fillType1}`:""};\n  }\n  .task-type-2, .section-type-2  {\n    ${s.fillType0?`fill: ${s.fillType2}`:""};\n  }\n  .task-type-3, .section-type-3  {\n    ${s.fillType0?`fill: ${s.fillType3}`:""};\n  }\n  .task-type-4, .section-type-4  {\n    ${s.fillType0?`fill: ${s.fillType4}`:""};\n  }\n  .task-type-5, .section-type-5  {\n    ${s.fillType0?`fill: ${s.fillType5}`:""};\n  }\n  .task-type-6, .section-type-6  {\n    ${s.fillType0?`fill: ${s.fillType6}`:""};\n  }\n  .task-type-7, .section-type-7  {\n    ${s.fillType0?`fill: ${s.fillType7}`:""};\n  }\n\n  .actor-0 {\n    ${s.actor0?`fill: ${s.actor0}`:""};\n  }\n  .actor-1 {\n    ${s.actor1?`fill: ${s.actor1}`:""};\n  }\n  .actor-2 {\n    ${s.actor2?`fill: ${s.actor2}`:""};\n  }\n  .actor-3 {\n    ${s.actor3?`fill: ${s.actor3}`:""};\n  }\n  .actor-4 {\n    ${s.actor4?`fill: ${s.actor4}`:""};\n  }\n  .actor-5 {\n    ${s.actor5?`fill: ${s.actor5}`:""};\n  }\n`,Lg=s=>`.person {\n    stroke: ${s.personBorder};\n    fill: ${s.personBkg};\n  }\n`,sc={flowchart:Mp,"flowchart-v2":Mp,sequence:X0,gantt:Mm,classDiagram:Ap,"classDiagram-v2":Ap,class:Ap,stateDiagram:Eu,state:Eu,info:G0,pie:Om,er:Am,error:Pa,journey:q0,requirement:Fa,c4:Lg};let K0="",G="",se="";const _e=s=>An(s,ft()),$e=function(){K0="",se="",G=""},it=function(s){K0=_e(s).replace(/^\s+/g,"")},mt=function(){return K0||G},rt=function(s){se=_e(s).replace(/\n\s+/g,"\n")},It=function(){return se},Rt=function(s){G=_e(s)},dn=function(){return G},Mi=Object.freeze(Object.defineProperty({__proto__:null,clear:$e,default:{setAccTitle:it,getAccTitle:mt,setDiagramTitle:Rt,getDiagramTitle:dn,getAccDescription:It,setAccDescription:rt,clear:$e},getAccDescription:It,getAccTitle:mt,getDiagramTitle:dn,setAccDescription:rt,setAccTitle:it,setDiagramTitle:Rt},Symbol.toStringTag,{value:"Module"}));let Nn={};const Vi=function(s,a,h,f){Me.debug("parseDirective is being called",a,h,f);try{if(void 0!==a)switch(a=a.trim(),h){case"open_directive":Nn={};break;case"type_directive":if(!Nn)throw new Error("currentDirective is undefined");Nn.type=a.toLowerCase();break;case"arg_directive":if(!Nn)throw new Error("currentDirective is undefined");Nn.args=JSON.parse(a);break;case"close_directive":Wi(s,Nn,f),Nn=void 0}}catch(p){Me.error(`Error while rendering sequenceDiagram directive: ${a} jison context: ${h}`),Me.error(p.message)}},Wi=function(s,a,h){switch(Me.info(`Directive type=${a.type} with args:`,a.args),a.type){case"init":case"initialize":["config"].forEach(f=>{void 0!==a.args[f]&&("flowchart-v2"===h&&(h="flowchart"),a.args[h]=a.args[f],delete a.args[f])}),Me.info("sanitize in handleDirective",a.args),Ga(a.args),Me.info("sanitize in handleDirective (done)",a.args),xm(a.args);break;case"wrap":case"nowrap":s&&s.setWrap&&s.setWrap("wrap"===a.type);break;case"themeCss":Me.warn("themeCss encountered");break;default:Me.warn(`Unhandled directive: source: '%%{${a.type}: ${JSON.stringify(a.args?a.args:{})}}%%`,a)}},as=Me,hs=Fo,fs=ft,Ss=s=>An(s,fs()),ua=Mh,Ba=(s,a,h,f)=>Vi(s,a,h,f),si={},Mn=(s,a,h)=>{if(si[s])throw new Error(`Diagram ${s} already registered.`);si[s]=a,h&&le(s,h),((s,a)=>{sc[s]=a})(s,a.styles),a.injectUtils&&a.injectUtils(as,hs,fs,Ss,ua,Mi,Ba)},Er=s=>{if(s in si)return si[s];throw new Error(`Diagram ${s} not found.`)};var ps=function(){var s=function(ct,ze,Ze,We){for(Ze=Ze||{},We=ct.length;We--;Ze[ct[We]]=ze);return Ze},a=[1,4],h=[1,7],f=[1,5],p=[1,9],y=[1,6],b=[2,6],w=[1,16],C=[6,8,14,20,22,24,25,27,29,32,37,40,50,55],A=[8,14,20,22,24,25,27,29,32,37,40],V=[8,13,14,20,22,24,25,27,29,32,37,40],Y=[1,26],z=[6,8,14,50,55],X=[8,14,55],xe=[1,53],Oe=[1,52],Fe=[8,14,30,33,35,38,55],Ue=[1,67],Ee=[1,68],nt=[1,69],wt=[8,14,33,35,42,55],Bt={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ref:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,openDirective:46,typeDirective:47,closeDirective:48,argDirective:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,ID:54,";":55,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"COMMIT_TAG",36:"EMPTYSTR",37:"MERGE",38:"COMMIT_TYPE",40:"COMMIT",42:"COMMIT_MSG",43:"NORMAL",44:"REVERSE",45:"HIGHLIGHT",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive",54:"ID",55:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[19,5],[19,5],[19,5],[19,5],[18,2],[18,4],[18,4],[18,4],[18,6],[18,6],[18,6],[18,6],[18,6],[18,6],[18,8],[18,8],[18,8],[18,8],[18,8],[18,8],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[41,0],[41,1],[39,1],[39,1],[39,1],[5,3],[5,5],[46,1],[47,1],[49,1],[48,1],[28,1],[28,1],[4,1],[4,1],[4,1]],performAction:function(ze,Ze,We,ge,Qe,J,pt){var ae=J.length-1;switch(Qe){case 3:return J[ae];case 4:return J[ae-1];case 5:return ge.setDirection(J[ae-3]),J[ae-1];case 7:ge.setOptions(J[ae-1]),this.$=J[ae];break;case 8:J[ae-1]+=J[ae],this.$=J[ae-1];break;case 10:this.$=[];break;case 11:J[ae-1].push(J[ae]),this.$=J[ae-1];break;case 12:this.$=J[ae-1];break;case 17:this.$=J[ae].trim(),ge.setAccTitle(this.$);break;case 18:case 19:this.$=J[ae].trim(),ge.setAccDescription(this.$);break;case 20:ge.addSection(J[ae].substr(8)),this.$=J[ae].substr(8);break;case 22:ge.checkout(J[ae]);break;case 23:ge.branch(J[ae]);break;case 24:ge.branch(J[ae-2],J[ae]);break;case 25:ge.cherryPick(J[ae],"",void 0);break;case 26:ge.cherryPick(J[ae-2],"",J[ae]);break;case 27:case 29:ge.cherryPick(J[ae-2],"","");break;case 28:ge.cherryPick(J[ae],"",J[ae-2]);break;case 30:ge.merge(J[ae],"","","");break;case 31:ge.merge(J[ae-2],J[ae],"","");break;case 32:ge.merge(J[ae-2],"",J[ae],"");break;case 33:ge.merge(J[ae-2],"","",J[ae]);break;case 34:ge.merge(J[ae-4],J[ae],"",J[ae-2]);break;case 35:ge.merge(J[ae-4],"",J[ae],J[ae-2]);break;case 36:ge.merge(J[ae-4],"",J[ae-2],J[ae]);break;case 37:ge.merge(J[ae-4],J[ae-2],J[ae],"");break;case 38:ge.merge(J[ae-4],J[ae-2],"",J[ae]);break;case 39:ge.merge(J[ae-4],J[ae],J[ae-2],"");break;case 40:ge.merge(J[ae-6],J[ae-4],J[ae-2],J[ae]);break;case 41:ge.merge(J[ae-6],J[ae],J[ae-4],J[ae-2]);break;case 42:ge.merge(J[ae-6],J[ae-4],J[ae],J[ae-2]);break;case 43:ge.merge(J[ae-6],J[ae-2],J[ae-4],J[ae]);break;case 44:ge.merge(J[ae-6],J[ae],J[ae-2],J[ae-4]);break;case 45:ge.merge(J[ae-6],J[ae-2],J[ae],J[ae-4]);break;case 46:ge.commit(J[ae]);break;case 47:ge.commit("","",ge.commitType.NORMAL,J[ae]);break;case 48:ge.commit("","",J[ae],"");break;case 49:ge.commit("","",J[ae],J[ae-2]);break;case 50:ge.commit("","",J[ae-2],J[ae]);break;case 51:ge.commit("",J[ae],ge.commitType.NORMAL,"");break;case 52:ge.commit("",J[ae-2],ge.commitType.NORMAL,J[ae]);break;case 53:ge.commit("",J[ae],ge.commitType.NORMAL,J[ae-2]);break;case 54:ge.commit("",J[ae-2],J[ae],"");break;case 55:ge.commit("",J[ae],J[ae-2],"");break;case 56:ge.commit("",J[ae-4],J[ae-2],J[ae]);break;case 57:ge.commit("",J[ae-4],J[ae],J[ae-2]);break;case 58:ge.commit("",J[ae-2],J[ae-4],J[ae]);break;case 59:ge.commit("",J[ae],J[ae-4],J[ae-2]);break;case 60:ge.commit("",J[ae],J[ae-2],J[ae-4]);break;case 61:ge.commit("",J[ae-2],J[ae],J[ae-4]);break;case 62:ge.commit(J[ae],"",ge.commitType.NORMAL,"");break;case 63:ge.commit(J[ae],"",ge.commitType.NORMAL,J[ae-2]);break;case 64:ge.commit(J[ae-2],"",ge.commitType.NORMAL,J[ae]);break;case 65:ge.commit(J[ae-2],"",J[ae],"");break;case 66:ge.commit(J[ae],"",J[ae-2],"");break;case 67:ge.commit(J[ae],J[ae-2],ge.commitType.NORMAL,"");break;case 68:ge.commit(J[ae-2],J[ae],ge.commitType.NORMAL,"");break;case 69:ge.commit(J[ae-4],"",J[ae-2],J[ae]);break;case 70:ge.commit(J[ae-4],"",J[ae],J[ae-2]);break;case 71:ge.commit(J[ae-2],"",J[ae-4],J[ae]);break;case 72:ge.commit(J[ae],"",J[ae-4],J[ae-2]);break;case 73:ge.commit(J[ae],"",J[ae-2],J[ae-4]);break;case 74:ge.commit(J[ae-2],"",J[ae],J[ae-4]);break;case 75:ge.commit(J[ae-4],J[ae],J[ae-2],"");break;case 76:ge.commit(J[ae-4],J[ae-2],J[ae],"");break;case 77:ge.commit(J[ae-2],J[ae],J[ae-4],"");break;case 78:ge.commit(J[ae],J[ae-2],J[ae-4],"");break;case 79:ge.commit(J[ae],J[ae-4],J[ae-2],"");break;case 80:ge.commit(J[ae-2],J[ae-4],J[ae],"");break;case 81:ge.commit(J[ae-4],J[ae],ge.commitType.NORMAL,J[ae-2]);break;case 82:ge.commit(J[ae-4],J[ae-2],ge.commitType.NORMAL,J[ae]);break;case 83:ge.commit(J[ae-2],J[ae],ge.commitType.NORMAL,J[ae-4]);break;case 84:ge.commit(J[ae],J[ae-2],ge.commitType.NORMAL,J[ae-4]);break;case 85:ge.commit(J[ae],J[ae-4],ge.commitType.NORMAL,J[ae-2]);break;case 86:ge.commit(J[ae-2],J[ae-4],ge.commitType.NORMAL,J[ae]);break;case 87:ge.commit(J[ae-6],J[ae-4],J[ae-2],J[ae]);break;case 88:ge.commit(J[ae-6],J[ae-4],J[ae],J[ae-2]);break;case 89:ge.commit(J[ae-6],J[ae-2],J[ae-4],J[ae]);break;case 90:ge.commit(J[ae-6],J[ae],J[ae-4],J[ae-2]);break;case 91:ge.commit(J[ae-6],J[ae-2],J[ae],J[ae-4]);break;case 92:ge.commit(J[ae-6],J[ae],J[ae-2],J[ae-4]);break;case 93:ge.commit(J[ae-4],J[ae-6],J[ae-2],J[ae]);break;case 94:ge.commit(J[ae-4],J[ae-6],J[ae],J[ae-2]);break;case 95:ge.commit(J[ae-2],J[ae-6],J[ae-4],J[ae]);break;case 96:ge.commit(J[ae],J[ae-6],J[ae-4],J[ae-2]);break;case 97:ge.commit(J[ae-2],J[ae-6],J[ae],J[ae-4]);break;case 98:ge.commit(J[ae],J[ae-6],J[ae-2],J[ae-4]);break;case 99:ge.commit(J[ae],J[ae-4],J[ae-2],J[ae-6]);break;case 100:ge.commit(J[ae-2],J[ae-4],J[ae],J[ae-6]);break;case 101:ge.commit(J[ae],J[ae-2],J[ae-4],J[ae-6]);break;case 102:ge.commit(J[ae-2],J[ae],J[ae-4],J[ae-6]);break;case 103:ge.commit(J[ae-4],J[ae-2],J[ae],J[ae-6]);break;case 104:ge.commit(J[ae-4],J[ae],J[ae-2],J[ae-6]);break;case 105:ge.commit(J[ae-2],J[ae-4],J[ae-6],J[ae]);break;case 106:ge.commit(J[ae],J[ae-4],J[ae-6],J[ae-2]);break;case 107:ge.commit(J[ae-2],J[ae],J[ae-6],J[ae-4]);break;case 108:ge.commit(J[ae],J[ae-2],J[ae-6],J[ae-4]);break;case 109:ge.commit(J[ae-4],J[ae-2],J[ae-6],J[ae]);break;case 110:ge.commit(J[ae-4],J[ae],J[ae-6],J[ae-2]);break;case 111:this.$="";break;case 112:this.$=J[ae];break;case 113:this.$=ge.commitType.NORMAL;break;case 114:this.$=ge.commitType.REVERSE;break;case 115:this.$=ge.commitType.HIGHLIGHT;break;case 118:ge.parseDirective("%%{","open_directive");break;case 119:ge.parseDirective(J[ae],"type_directive");break;case 120:J[ae]=J[ae].trim().replace(/'/g,'"'),ge.parseDirective(J[ae],"arg_directive");break;case 121:ge.parseDirective("}%%","close_directive","gitGraph")}},table:[{3:1,4:2,5:3,6:a,8:h,14:f,46:8,50:p,55:y},{1:[3]},{3:10,4:2,5:3,6:a,8:h,14:f,46:8,50:p,55:y},{3:11,4:2,5:3,6:a,8:h,14:f,46:8,50:p,55:y},{7:12,8:b,9:[1,13],10:[1,14],11:15,14:w},s(C,[2,124]),s(C,[2,125]),s(C,[2,126]),{47:17,51:[1,18]},{51:[2,118]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:b,11:15,14:w},{9:[1,21]},s(A,[2,10],{12:22,13:[1,23]}),s(V,[2,9]),{9:[1,25],48:24,53:Y},s([9,53],[2,119]),{1:[2,3]},{8:[1,27]},{7:28,8:b,11:15,14:w},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],37:[1,42],40:[1,41]},s(V,[2,8]),s(z,[2,116]),{49:45,52:[1,46]},s(z,[2,121]),{1:[2,4]},{8:[1,47]},s(A,[2,11]),{4:48,8:h,14:f,55:y},s(A,[2,13]),s(X,[2,14]),s(X,[2,15]),s(X,[2,16]),{21:[1,49]},{23:[1,50]},s(X,[2,19]),s(X,[2,20]),s(X,[2,21]),{28:51,34:xe,54:Oe},s(X,[2,111],{41:54,33:[1,57],34:[1,59],35:[1,55],38:[1,56],42:[1,58]}),{28:60,34:xe,54:Oe},{33:[1,61],35:[1,62]},{28:63,34:xe,54:Oe},{48:64,53:Y},{53:[2,120]},{1:[2,5]},s(A,[2,12]),s(X,[2,17]),s(X,[2,18]),s(X,[2,22]),s(Fe,[2,122]),s(Fe,[2,123]),s(X,[2,46]),{34:[1,65]},{39:66,43:Ue,44:Ee,45:nt},{34:[1,70]},{34:[1,71]},s(X,[2,112]),s(X,[2,30],{33:[1,72],35:[1,74],38:[1,73]}),{34:[1,75]},{34:[1,76],36:[1,77]},s(X,[2,23],{30:[1,78]}),s(z,[2,117]),s(X,[2,47],{33:[1,80],38:[1,79],42:[1,81]}),s(X,[2,48],{33:[1,83],35:[1,82],42:[1,84]}),s(wt,[2,113]),s(wt,[2,114]),s(wt,[2,115]),s(X,[2,51],{35:[1,85],38:[1,86],42:[1,87]}),s(X,[2,62],{33:[1,90],35:[1,88],38:[1,89]}),{34:[1,91]},{39:92,43:Ue,44:Ee,45:nt},{34:[1,93]},s(X,[2,25],{35:[1,94]}),{33:[1,95]},{33:[1,96]},{31:[1,97]},{39:98,43:Ue,44:Ee,45:nt},{34:[1,99]},{34:[1,100]},{34:[1,101]},{34:[1,102]},{34:[1,103]},{34:[1,104]},{39:105,43:Ue,44:Ee,45:nt},{34:[1,106]},{34:[1,107]},{39:108,43:Ue,44:Ee,45:nt},{34:[1,109]},s(X,[2,31],{35:[1,111],38:[1,110]}),s(X,[2,32],{33:[1,113],35:[1,112]}),s(X,[2,33],{33:[1,114],38:[1,115]}),{34:[1,116],36:[1,117]},{34:[1,118]},{34:[1,119]},s(X,[2,24]),s(X,[2,49],{33:[1,120],42:[1,121]}),s(X,[2,53],{38:[1,122],42:[1,123]}),s(X,[2,63],{33:[1,125],38:[1,124]}),s(X,[2,50],{33:[1,126],42:[1,127]}),s(X,[2,55],{35:[1,128],42:[1,129]}),s(X,[2,66],{33:[1,131],35:[1,130]}),s(X,[2,52],{38:[1,132],42:[1,133]}),s(X,[2,54],{35:[1,134],42:[1,135]}),s(X,[2,67],{35:[1,137],38:[1,136]}),s(X,[2,64],{33:[1,139],38:[1,138]}),s(X,[2,65],{33:[1,141],35:[1,140]}),s(X,[2,68],{35:[1,143],38:[1,142]}),{39:144,43:Ue,44:Ee,45:nt},{34:[1,145]},{34:[1,146]},{34:[1,147]},{34:[1,148]},{39:149,43:Ue,44:Ee,45:nt},s(X,[2,26]),s(X,[2,27]),s(X,[2,28]),s(X,[2,29]),{34:[1,150]},{34:[1,151]},{39:152,43:Ue,44:Ee,45:nt},{34:[1,153]},{39:154,43:Ue,44:Ee,45:nt},{34:[1,155]},{34:[1,156]},{34:[1,157]},{34:[1,158]},{34:[1,159]},{34:[1,160]},{34:[1,161]},{39:162,43:Ue,44:Ee,45:nt},{34:[1,163]},{34:[1,164]},{34:[1,165]},{39:166,43:Ue,44:Ee,45:nt},{34:[1,167]},{39:168,43:Ue,44:Ee,45:nt},{34:[1,169]},{34:[1,170]},{34:[1,171]},{39:172,43:Ue,44:Ee,45:nt},{34:[1,173]},s(X,[2,37],{35:[1,174]}),s(X,[2,38],{38:[1,175]}),s(X,[2,36],{33:[1,176]}),s(X,[2,39],{35:[1,177]}),s(X,[2,34],{38:[1,178]}),s(X,[2,35],{33:[1,179]}),s(X,[2,60],{42:[1,180]}),s(X,[2,73],{33:[1,181]}),s(X,[2,61],{42:[1,182]}),s(X,[2,84],{38:[1,183]}),s(X,[2,74],{33:[1,184]}),s(X,[2,83],{38:[1,185]}),s(X,[2,59],{42:[1,186]}),s(X,[2,72],{33:[1,187]}),s(X,[2,58],{42:[1,188]}),s(X,[2,78],{35:[1,189]}),s(X,[2,71],{33:[1,190]}),s(X,[2,77],{35:[1,191]}),s(X,[2,57],{42:[1,192]}),s(X,[2,85],{38:[1,193]}),s(X,[2,56],{42:[1,194]}),s(X,[2,79],{35:[1,195]}),s(X,[2,80],{35:[1,196]}),s(X,[2,86],{38:[1,197]}),s(X,[2,70],{33:[1,198]}),s(X,[2,81],{38:[1,199]}),s(X,[2,69],{33:[1,200]}),s(X,[2,75],{35:[1,201]}),s(X,[2,76],{35:[1,202]}),s(X,[2,82],{38:[1,203]}),{34:[1,204]},{39:205,43:Ue,44:Ee,45:nt},{34:[1,206]},{34:[1,207]},{39:208,43:Ue,44:Ee,45:nt},{34:[1,209]},{34:[1,210]},{34:[1,211]},{34:[1,212]},{39:213,43:Ue,44:Ee,45:nt},{34:[1,214]},{39:215,43:Ue,44:Ee,45:nt},{34:[1,216]},{34:[1,217]},{34:[1,218]},{34:[1,219]},{34:[1,220]},{34:[1,221]},{34:[1,222]},{39:223,43:Ue,44:Ee,45:nt},{34:[1,224]},{34:[1,225]},{34:[1,226]},{39:227,43:Ue,44:Ee,45:nt},{34:[1,228]},{39:229,43:Ue,44:Ee,45:nt},{34:[1,230]},{34:[1,231]},{34:[1,232]},{39:233,43:Ue,44:Ee,45:nt},s(X,[2,40]),s(X,[2,42]),s(X,[2,41]),s(X,[2,43]),s(X,[2,45]),s(X,[2,44]),s(X,[2,101]),s(X,[2,102]),s(X,[2,99]),s(X,[2,100]),s(X,[2,104]),s(X,[2,103]),s(X,[2,108]),s(X,[2,107]),s(X,[2,106]),s(X,[2,105]),s(X,[2,110]),s(X,[2,109]),s(X,[2,98]),s(X,[2,97]),s(X,[2,96]),s(X,[2,95]),s(X,[2,93]),s(X,[2,94]),s(X,[2,92]),s(X,[2,91]),s(X,[2,90]),s(X,[2,89]),s(X,[2,87]),s(X,[2,88])],defaultActions:{9:[2,118],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,120],47:[2,5]},parseError:function(ze,Ze){if(!Ze.recoverable){var We=new Error(ze);throw We.hash=Ze,We}this.trace(ze)},parse:function(ze){var We=[0],ge=[],Qe=[null],J=[],pt=this.table,ae="",Tt=0,Jn=0,B=J.slice.call(arguments,1),P=Object.create(this.lexer),et={yy:{}};for(var zn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,zn)&&(et.yy[zn]=this.yy[zn]);P.setInput(ze,et.yy),et.yy.lexer=P,et.yy.parser=this,typeof P.yylloc>"u"&&(P.yylloc={});var On=P.yylloc;J.push(On);var _r,Ft=P.options&&P.options.ranges;this.parseError="function"==typeof et.yy.parseError?et.yy.parseError:Object.getPrototypeOf(this).parseError;for(var xt,bn,Gt,Yt,qe,tt,Cn,ht={};;){if(this.defaultActions[bn=We[We.length-1]]?Gt=this.defaultActions[bn]:((null===xt||typeof xt>"u")&&(_r=void 0,"number"!=typeof(_r=ge.pop()||P.lex()||1)&&(_r instanceof Array&&(_r=(ge=_r).pop()),_r=this.symbols_[_r]||_r),xt=_r),Gt=pt[bn]&&pt[bn][xt]),typeof Gt>"u"||!Gt.length||!Gt[0]){var Te;for(qe in Cn=[],pt[bn])this.terminals_[qe]&&qe>2&&Cn.push("'"+this.terminals_[qe]+"'");Te=P.showPosition?"Parse error on line "+(Tt+1)+":\n"+P.showPosition()+"\nExpecting "+Cn.join(", ")+", got '"+(this.terminals_[xt]||xt)+"'":"Parse error on line "+(Tt+1)+": Unexpected "+(1==xt?"end of input":"'"+(this.terminals_[xt]||xt)+"'"),this.parseError(Te,{text:P.match,token:this.terminals_[xt]||xt,line:P.yylineno,loc:On,expected:Cn})}if(Gt[0]instanceof Array&&Gt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+bn+", token: "+xt);switch(Gt[0]){case 1:We.push(xt),Qe.push(P.yytext),J.push(P.yylloc),We.push(Gt[1]),xt=null,Jn=P.yyleng,ae=P.yytext,Tt=P.yylineno,On=P.yylloc;break;case 2:if(ht.$=Qe[Qe.length-(tt=this.productions_[Gt[1]][1])],ht._$={first_line:J[J.length-(tt||1)].first_line,last_line:J[J.length-1].last_line,first_column:J[J.length-(tt||1)].first_column,last_column:J[J.length-1].last_column},Ft&&(ht._$.range=[J[J.length-(tt||1)].range[0],J[J.length-1].range[1]]),typeof(Yt=this.performAction.apply(ht,[ae,Jn,Tt,et.yy,Gt[1],Qe,J].concat(B)))<"u")return Yt;tt&&(We=We.slice(0,-1*tt*2),Qe=Qe.slice(0,-1*tt),J=J.slice(0,-1*tt)),We.push(this.productions_[Gt[1]][0]),Qe.push(ht.$),J.push(ht._$),We.push(pt[We[We.length-2]][We[We.length-1]]);break;case 3:return!0}}return!0}};function ut(){this.yy={}}return Bt.lexer=function(){return{EOF:1,parseError:function(Ze,We){if(!this.yy.parser)throw new Error(Ze);this.yy.parser.parseError(Ze,We)},setInput:function(ze,Ze){return this.yy=Ze||this.yy||{},this._input=ze,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ze=this._input[0];return this.yytext+=ze,this.yyleng++,this.offset++,this.match+=ze,this.matched+=ze,ze.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ze},unput:function(ze){var Ze=ze.length,We=ze.split(/(?:\r\n?|\n)/g);this._input=ze+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ze),this.offset-=Ze;var ge=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),We.length-1&&(this.yylineno-=We.length-1);var Qe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:We?(We.length===ge.length?this.yylloc.first_column:0)+ge[ge.length-We.length].length-We[0].length:this.yylloc.first_column-Ze},this.options.ranges&&(this.yylloc.range=[Qe[0],Qe[0]+this.yyleng-Ze]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(ze){this.unput(this.match.slice(ze))},pastInput:function(){var ze=this.matched.substr(0,this.matched.length-this.match.length);return(ze.length>20?"...":"")+ze.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ze=this.match;return ze.length<20&&(ze+=this._input.substr(0,20-ze.length)),(ze.substr(0,20)+(ze.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ze=this.pastInput(),Ze=new Array(ze.length+1).join("-");return ze+this.upcomingInput()+"\n"+Ze+"^"},test_match:function(ze,Ze){var We,ge,Qe;if(this.options.backtrack_lexer&&(Qe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Qe.yylloc.range=this.yylloc.range.slice(0))),(ge=ze[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=ge.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ge?ge[ge.length-1].length-ge[ge.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ze[0].length},this.yytext+=ze[0],this.match+=ze[0],this.matches=ze,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ze[0].length),this.matched+=ze[0],We=this.performAction.call(this,this.yy,this,Ze,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),We)return We;if(this._backtrack){for(var J in Qe)this[J]=Qe[J];return!1}return!1},next:function(){if(this.done)return this.EOF;var ze,Ze,We,ge;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Qe=this._currentRules(),J=0;J<Qe.length;J++)if((We=this._input.match(this.rules[Qe[J]]))&&(!Ze||We[0].length>Ze[0].length)){if(Ze=We,ge=J,this.options.backtrack_lexer){if(!1!==(ze=this.test_match(We,Qe[J])))return ze;if(this._backtrack){Ze=!1;continue}return!1}if(!this.options.flex)break}return Ze?!1!==(ze=this.test_match(Ze,Qe[ge]))&&ze:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(Ze){this.conditionStack.push(Ze)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ze){return(Ze=this.conditionStack.length-1-Math.abs(Ze||0))>=0?this.conditionStack[Ze]:"INITIAL"},pushState:function(Ze){this.begin(Ze)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Ze,We,ge,Qe){switch(ge){case 0:return this.begin("open_directive"),50;case 1:return this.begin("type_directive"),51;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),53;case 4:return 52;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:case 34:case 38:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:case 14:break;case 15:return 6;case 16:return 40;case 17:return 33;case 18:return 38;case 19:return 42;case 20:return 43;case 21:return 44;case 22:return 45;case 23:return 35;case 24:return 29;case 25:return 30;case 26:return 37;case 27:return 32;case 28:return 27;case 29:case 30:return 10;case 31:return 9;case 32:return"CARET";case 33:this.begin("options");break;case 35:return 13;case 36:return 36;case 37:this.begin("string");break;case 39:return 34;case 40:return 31;case 41:return 54;case 42:return 8}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[34,35],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,36,37,40,41,42,43],inclusive:!0}}}}(),ut.prototype=Bt,Bt.Parser=ut,new ut}();ps.parser=ps;const gs=ps,cl=s=>null!==s.match(/^\s*gitGraph/);let ko=ft().gitGraph.mainBranchName,ls=ft().gitGraph.mainBranchOrder,Fr={},Zr=null,Ks={};Ks[ko]={name:ko,order:ls};let po={};po[ko]=Zr;let Vo=ko,sn="LR",ur=0;function At(){return oo({length:7})}let _c={};const jc=function(s){if(s=sr.sanitizeText(s,ft()),void 0===po[s]){let a=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+s+'")');throw a.hash={text:"checkout "+s,token:"checkout "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+s+'"']},a}Vo=s,Zr=Fr[po[Vo]]};function Au(s,a,h){const f=s.indexOf(a);-1===f?s.push(h):s.splice(f,1,h)}function Ib(s){const a=s.reduce((p,y)=>p.seq>y.seq?p:y,s[0]);let h="";s.forEach(function(p){h+=p===a?"\t*":"\t|"});const f=[h,a.id,a.seq];for(let p in po)po[p]===a.id&&f.push(p);if(Me.debug(f.join(" ")),a.parents&&2==a.parents.length)Au(s,a,Fr[a.parents[0]]),s.push(Fr[a.parents[1]]);else{if(0==a.parents.length)return;Au(s,a,Fr[a.parents])}s=function Ns(s,a){const h=Object.create(null);return s.reduce((f,p)=>{const y=a(p);return h[y]||(h[y]=!0,f.push(p)),f},[])}(s,p=>p.id),Ib(s)}const ww=function(){const s=Object.keys(Fr).map(function(a){return Fr[a]});return s.forEach(function(a){Me.debug(a.id)}),s.sort((a,h)=>a.seq-h.seq),s},Np={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},Lb={parseDirective:function(s,a,h){ci.parseDirective(this,s,a,h)},getConfig:()=>ft().gitGraph,setDirection:function(s){sn=s},setOptions:function(s){Me.debug("options str",s),s=(s=s&&s.trim())||"{}";try{_c=JSON.parse(s)}catch(a){Me.error("error while parsing gitGraph options",a.message)}},getOptions:function(){return _c},commit:function(s,a,h,f){Me.debug("Entering commit:",s,a,h,f),a=sr.sanitizeText(a,ft()),s=sr.sanitizeText(s,ft()),f=sr.sanitizeText(f,ft());const p={id:a||ur+"-"+At(),message:s,seq:ur++,type:h||Np.NORMAL,tag:f||"",parents:null==Zr?[]:[Zr.id],branch:Vo};Zr=p,Fr[p.id]=p,po[Vo]=p.id,Me.debug("in pushCommit "+p.id)},branch:function(s,a){if(s=sr.sanitizeText(s,ft()),void 0!==po[s]){let h=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+s+'")');throw h.hash={text:"branch "+s,token:"branch "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+s+'"']},h}po[s]=null!=Zr?Zr.id:null,Ks[s]={name:s,order:a?parseInt(a,10):null},jc(s),Me.debug("in createBranch")},merge:function(s,a,h,f){s=sr.sanitizeText(s,ft()),a=sr.sanitizeText(a,ft());const p=Fr[po[Vo]],y=Fr[po[s]];if(Vo===s){let w=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw w.hash={text:"merge "+s,token:"merge "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},w}if(void 0===p||!p){let w=new Error('Incorrect usage of "merge". Current branch ('+Vo+")has no commits");throw w.hash={text:"merge "+s,token:"merge "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},w}if(void 0===po[s]){let w=new Error('Incorrect usage of "merge". Branch to be merged ('+s+") does not exist");throw w.hash={text:"merge "+s,token:"merge "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+s]},w}if(void 0===y||!y){let w=new Error('Incorrect usage of "merge". Branch to be merged ('+s+") has no commits");throw w.hash={text:"merge "+s,token:"merge "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},w}if(p===y){let w=new Error('Incorrect usage of "merge". Both branches have same head');throw w.hash={text:"merge "+s,token:"merge "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},w}if(a&&void 0!==Fr[a]){let w=new Error('Incorrect usage of "merge". Commit with id:'+a+" already exists, use different custom Id");throw w.hash={text:"merge "+s+a+h+f,token:"merge "+s+a+h+f,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+s+" "+a+"_UNIQUE "+h+" "+f]},w}const b={id:a||ur+"-"+At(),message:"merged branch "+s+" into "+Vo,seq:ur++,parents:[null==Zr?null:Zr.id,po[s]],branch:Vo,type:Np.MERGE,customType:h,customId:!!a,tag:f||""};Zr=b,Fr[b.id]=b,po[Vo]=b.id,Me.debug(po),Me.debug("in mergeBranch")},cherryPick:function(s,a,h){if(Me.debug("Entering cherryPick:",s,a,h),s=sr.sanitizeText(s,ft()),a=sr.sanitizeText(a,ft()),h=sr.sanitizeText(h,ft()),!s||void 0===Fr[s]){let y=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw y.hash={text:"cherryPick "+s+" "+a,token:"cherryPick "+s+" "+a,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},y}let f=Fr[s],p=f.branch;if(f.type===Np.MERGE){let y=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw y.hash={text:"cherryPick "+s+" "+a,token:"cherryPick "+s+" "+a,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},y}if(!a||void 0===Fr[a]){if(p===Vo){let w=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw w.hash={text:"cherryPick "+s+" "+a,token:"cherryPick "+s+" "+a,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},w}const y=Fr[po[Vo]];if(void 0===y||!y){let w=new Error('Incorrect usage of "cherry-pick". Current branch ('+Vo+")has no commits");throw w.hash={text:"cherryPick "+s+" "+a,token:"cherryPick "+s+" "+a,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},w}const b={id:ur+"-"+At(),message:"cherry-picked "+f+" into "+Vo,seq:ur++,parents:[null==Zr?null:Zr.id,f.id],branch:Vo,type:Np.CHERRY_PICK,tag:h??"cherry-pick:"+f.id};Zr=b,Fr[b.id]=b,po[Vo]=b.id,Me.debug(po),Me.debug("in cherryPick")}},checkout:jc,prettyPrint:function(){Me.debug(Fr),Ib([ww()[0]])},clear:function(){Fr={},Zr=null;let s=ft().gitGraph.mainBranchName,a=ft().gitGraph.mainBranchOrder;po={},po[s]=null,Ks={},Ks[s]={name:s,order:a},Vo=s,ur=0,$e()},getBranchesAsObjArray:function(){return Object.values(Ks).map((a,h)=>null!==a.order?a:{...a,order:parseFloat(`0.${h}`,10)}).sort((a,h)=>a.order-h.order).map(({name:a})=>({name:a}))},getBranches:function(){return po},getCommits:function(){return Fr},getCommitsArray:ww,getCurrentBranch:function(){return Vo},getDirection:function(){return sn},getHead:function(){return Zr},setAccTitle:it,getAccTitle:mt,getAccDescription:It,setAccDescription:rt,setDiagramTitle:Rt,getDiagramTitle:dn,commitType:Np};let Pm={};let zl={},Fm={},Bm=[],Dd=0;const Rp=(s,a,h)=>{const f=fs().gitGraph,p=s.append("g").attr("class","commit-bullets"),y=s.append("g").attr("class","commit-labels");let b=0;Object.keys(a).sort((A,V)=>a[A].seq-a[V].seq).forEach(A=>{const V=a[A],Y=zl[V.branch].pos,z=b+10;if(h){let X,xe=void 0!==V.customType&&""!==V.customType?V.customType:V.type;switch(xe){case 0:default:X="commit-normal";break;case 1:X="commit-reverse";break;case 2:X="commit-highlight";break;case 3:X="commit-merge";break;case 4:X="commit-cherry-pick"}if(2===xe){const Oe=p.append("rect");Oe.attr("x",z-10),Oe.attr("y",Y-10),Oe.attr("height",20),Oe.attr("width",20),Oe.attr("class",`commit ${V.id} commit-highlight${zl[V.branch].index%8} ${X}-outer`),p.append("rect").attr("x",z-6).attr("y",Y-6).attr("height",12).attr("width",12).attr("class",`commit ${V.id} commit${zl[V.branch].index%8} ${X}-inner`)}else if(4===xe)p.append("circle").attr("cx",z).attr("cy",Y).attr("r",10).attr("class",`commit ${V.id} ${X}`),p.append("circle").attr("cx",z-3).attr("cy",Y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${V.id} ${X}`),p.append("circle").attr("cx",z+3).attr("cy",Y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${V.id} ${X}`),p.append("line").attr("x1",z+3).attr("y1",Y+1).attr("x2",z).attr("y2",Y-5).attr("stroke","#fff").attr("class",`commit ${V.id} ${X}`),p.append("line").attr("x1",z-3).attr("y1",Y+1).attr("x2",z).attr("y2",Y-5).attr("stroke","#fff").attr("class",`commit ${V.id} ${X}`);else{const Oe=p.append("circle");if(Oe.attr("cx",z),Oe.attr("cy",Y),Oe.attr("r",3===V.type?9:10),Oe.attr("class",`commit ${V.id} commit${zl[V.branch].index%8}`),3===xe){const Fe=p.append("circle");Fe.attr("cx",z),Fe.attr("cy",Y),Fe.attr("r",6),Fe.attr("class",`commit ${X} ${V.id} commit${zl[V.branch].index%8}`)}1===xe&&p.append("path").attr("d",`M ${z-5},${Y-5}L${z+5},${Y+5}M${z-5},${Y+5}L${z+5},${Y-5}`).attr("class",`commit ${X} ${V.id} commit${zl[V.branch].index%8}`)}}if(Fm[V.id]={x:b+10,y:Y},h){if(4!==V.type&&(V.customId&&3===V.type||3!==V.type)&&f.showCommitLabel){const Oe=y.append("g"),Fe=Oe.insert("rect").attr("class","commit-label-bkg"),Ue=Oe.append("text").attr("x",b).attr("y",Y+25).attr("class","commit-label").text(V.id);let Ee=Ue.node().getBBox();Fe.attr("x",b+10-Ee.width/2-2).attr("y",Y+13.5).attr("width",Ee.width+4).attr("height",Ee.height+4),Ue.attr("x",b+10-Ee.width/2),f.rotateCommitLabel&&Oe.attr("transform","translate("+(-7.5-(Ee.width+10)/25*9.5)+", "+(10+Ee.width/25*8.5)+") rotate(-45, "+b+", "+Y+")")}if(V.tag){const Oe=y.insert("polygon"),Fe=y.append("circle"),Ue=y.append("text").attr("y",Y-16).attr("class","tag-label").text(V.tag);let Ee=Ue.node().getBBox();Ue.attr("x",b+10-Ee.width/2);const nt=Ee.height/2,wt=Y-19.2;Oe.attr("class","tag-label-bkg").attr("points",`\n          ${b-Ee.width/2-2},${wt+2}\n          ${b-Ee.width/2-2},${wt-2}\n          ${b+10-Ee.width/2-4},${wt-nt-2}\n          ${b+10+Ee.width/2+4},${wt-nt-2}\n          ${b+10+Ee.width/2+4},${wt+nt+2}\n          ${b+10-Ee.width/2-4},${wt+nt+2}`),Fe.attr("cx",b-Ee.width/2+2).attr("cy",wt).attr("r",1.5).attr("class","tag-hole")}}b+=50,b>Dd&&(Dd=b)})},Pb=(s,a,h=0)=>{const f=s+Math.abs(s-a)/2;if(h>5)return f;if(Bm.every(b=>Math.abs(b-f)>=10))return Bm.push(f),f;const y=Math.abs(s-a);return Pb(s,a-y/5,h+1)},kf={draw:function(s,a,h,f){zl={},Fm={},Pm={},Dd=0,Bm=[];const p=fs(),y=p.gitGraph;Me.debug("in gitgraph renderer",s+"\n","id:",a,h),Pm=f.db.getCommits();const b=f.db.getBranchesAsObjArray();let w=0;b.forEach((A,V)=>{zl[A.name]={pos:w,index:V},w+=50+(y.rotateCommitLabel?40:0)});const C=(0,F.Ltv)(`[id="${a}"]`);Rp(C,Pm,!1),y.showBranches&&((s,a)=>{const h=fs().gitGraph,f=s.append("g");a.forEach((p,y)=>{const b=y%8,w=zl[p.name].pos,C=f.append("line");C.attr("x1",0),C.attr("y1",w),C.attr("x2",Dd),C.attr("y2",w),C.attr("class","branch branch"+b),Bm.push(w);const V=(s=>{const a=document.createElementNS("http://www.w3.org/2000/svg","text");let h=[];h="string"==typeof s?s.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(s)?s:[];for(const f of h){const p=document.createElementNS("http://www.w3.org/2000/svg","tspan");p.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),p.setAttribute("dy","1em"),p.setAttribute("x","0"),p.setAttribute("class","row"),p.textContent=f.trim(),a.appendChild(p)}return a})(p.name),Y=f.insert("rect"),X=f.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+b);X.node().appendChild(V);let xe=V.getBBox();Y.attr("class","branchLabelBkg label"+b).attr("rx",4).attr("ry",4).attr("x",-xe.width-4-(!0===h.rotateCommitLabel?30:0)).attr("y",-xe.height/2+8).attr("width",xe.width+18).attr("height",xe.height+4),X.attr("transform","translate("+(-xe.width-14-(!0===h.rotateCommitLabel?30:0))+", "+(w-xe.height/2-1)+")"),Y.attr("transform","translate(-19, "+(w-xe.height/2)+")")})})(C,b),((s,a)=>{const h=s.append("g").attr("class","commit-arrows");Object.keys(a).forEach(f=>{const p=a[f];p.parents&&p.parents.length>0&&p.parents.forEach(y=>{((s,a,h,f)=>{const p=Fm[a.id],y=Fm[h.id],b=((s,a,h)=>Object.keys(h).filter(y=>h[y].branch===a.branch&&h[y].seq>s.seq&&h[y].seq<a.seq).length>0)(a,h,f);let z,w="",C="",A=0,V=0,Y=zl[h.branch].index;if(b){w="A 10 10, 0, 0, 0,",C="A 10 10, 0, 0, 1,",A=10,V=10,Y=zl[h.branch].index;const X=p.y<y.y?Pb(p.y,y.y):Pb(y.y,p.y);z=p.y<y.y?`M ${p.x} ${p.y} L ${p.x} ${X-A} ${w} ${p.x+V} ${X} L ${y.x-A} ${X} ${C} ${y.x} ${X+V} L ${y.x} ${y.y}`:`M ${p.x} ${p.y} L ${p.x} ${X+A} ${C} ${p.x+V} ${X} L ${y.x-A} ${X} ${w} ${y.x} ${X-V} L ${y.x} ${y.y}`}else p.y<y.y&&(w="A 20 20, 0, 0, 0,",A=20,V=20,Y=zl[h.branch].index,z=`M ${p.x} ${p.y} L ${p.x} ${y.y-A} ${w} ${p.x+V} ${y.y} L ${y.x} ${y.y}`),p.y>y.y&&(w="A 20 20, 0, 0, 0,",A=20,V=20,Y=zl[a.branch].index,z=`M ${p.x} ${p.y} L ${y.x-A} ${p.y} ${w} ${y.x} ${p.y-V} L ${y.x} ${y.y}`),p.y===y.y&&(Y=zl[a.branch].index,z=`M ${p.x} ${p.y} L ${p.x} ${y.y-A} ${w} ${p.x+V} ${y.y} L ${y.x} ${y.y}`);s.append("path").attr("d",z).attr("class","arrow arrow"+Y%8)})(h,a[y],p,a)})})})(C,Pm),Rp(C,Pm,!0),Hr.insertTitle(C,"gitTitleText",y.titleTopMargin,f.db.getDiagramTitle()),ua(void 0,C,y.diagramPadding,y.useMaxWidth??p.useMaxWidth)}},Mu=s=>`\n  .commit-id,\n  .commit-msg,\n  .branch-label {\n    fill: lightgrey;\n    color: lightgrey;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  ${[0,1,2,3,4,5,6,7].map(a=>`\n        .branch-label${a} { fill: ${s["gitBranchLabel"+a]}; }\n        .commit${a} { stroke: ${s["git"+a]}; fill: ${s["git"+a]}; }\n        .commit-highlight${a} { stroke: ${s["gitInv"+a]}; fill: ${s["gitInv"+a]}; }\n        .label${a}  { fill: ${s["git"+a]}; }\n        .arrow${a} { stroke: ${s["git"+a]}; }\n        `).join("\n")}\n\n  .branch {\n    stroke-width: 1;\n    stroke: ${s.lineColor};\n    stroke-dasharray: 2;\n  }\n  .commit-label { font-size: ${s.commitLabelFontSize}; fill: ${s.commitLabelColor};}\n  .commit-label-bkg { font-size: ${s.commitLabelFontSize}; fill: ${s.commitLabelBackground}; opacity: 0.5; }\n  .tag-label { font-size: ${s.tagLabelFontSize}; fill: ${s.tagLabelColor};}\n  .tag-label-bkg { fill: ${s.tagLabelBackground}; stroke: ${s.tagLabelBorder}; }\n  .tag-hole { fill: ${s.textColor}; }\n\n  .commit-merge {\n    stroke: ${s.primaryColor};\n    fill: ${s.primaryColor};\n  }\n  .commit-reverse {\n    stroke: ${s.primaryColor};\n    fill: ${s.primaryColor};\n    stroke-width: 3;\n  }\n  .commit-highlight-outer {\n  }\n  .commit-highlight-inner {\n    stroke: ${s.primaryColor};\n    fill: ${s.primaryColor};\n  }\n\n  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}\n  .gitTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${s.textColor};\n  }\n  }\n`;var J0=function(){var s=function(Ei,Yn,Bn,vi){for(Bn=Bn||{},vi=Ei.length;vi--;Bn[Ei[vi]]=Yn);return Bn},a=[1,6],h=[1,7],f=[1,8],p=[1,9],y=[1,16],b=[1,11],w=[1,12],C=[1,13],A=[1,14],V=[1,15],Y=[1,27],z=[1,33],X=[1,34],xe=[1,35],Oe=[1,36],Fe=[1,37],Ue=[1,72],Ee=[1,73],nt=[1,74],wt=[1,75],Bt=[1,76],tn=[1,77],ut=[1,78],ct=[1,38],ze=[1,39],Ze=[1,40],We=[1,41],ge=[1,42],Qe=[1,43],J=[1,44],pt=[1,45],ae=[1,46],Tt=[1,47],Jn=[1,48],Kt=[1,49],nn=[1,50],B=[1,51],P=[1,52],et=[1,53],zn=[1,54],On=[1,55],Ft=[1,56],or=[1,57],xt=[1,59],bn=[1,60],Gt=[1,61],Yt=[1,62],ht=[1,63],qe=[1,64],tt=[1,65],Re=[1,66],Cn=[1,67],Te=[1,68],_r=[1,69],Ut=[24,52],fi=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],qn=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],_n=[1,94],Sn=[1,95],Fn=[1,96],kn=[1,97],jn=[15,24,52],Ar=[7,8,9,10,18,22,25,26,27,28],Ys=[15,24,43,52],Tr=[15,24,43,52,86,87,89,90],br=[15,43],is=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Ua={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:function(Yn,Bn,vi,Tn,ir,Jt,ks){var cn=Jt.length-1;switch(ir){case 4:Tn.setDirection("TB");break;case 5:Tn.setDirection("BT");break;case 6:Tn.setDirection("RL");break;case 7:Tn.setDirection("LR");break;case 11:Tn.parseDirective("%%{","open_directive");break;case 12:break;case 13:Jt[cn]=Jt[cn].trim().replace(/'/g,'"'),Tn.parseDirective(Jt[cn],"arg_directive");break;case 14:Tn.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:Tn.setC4Type(Jt[cn-3]);break;case 26:Tn.setTitle(Jt[cn].substring(6)),this.$=Jt[cn].substring(6);break;case 27:Tn.setAccDescription(Jt[cn].substring(15)),this.$=Jt[cn].substring(15);break;case 28:this.$=Jt[cn].trim(),Tn.setTitle(this.$);break;case 29:case 30:this.$=Jt[cn].trim(),Tn.setAccDescription(this.$);break;case 35:case 36:Jt[cn].splice(2,0,"ENTERPRISE"),Tn.addPersonOrSystemBoundary(...Jt[cn]),this.$=Jt[cn];break;case 37:Tn.addPersonOrSystemBoundary(...Jt[cn]),this.$=Jt[cn];break;case 38:Jt[cn].splice(2,0,"CONTAINER"),Tn.addContainerBoundary(...Jt[cn]),this.$=Jt[cn];break;case 39:Tn.addDeploymentNode("node",...Jt[cn]),this.$=Jt[cn];break;case 40:Tn.addDeploymentNode("nodeL",...Jt[cn]),this.$=Jt[cn];break;case 41:Tn.addDeploymentNode("nodeR",...Jt[cn]),this.$=Jt[cn];break;case 42:Tn.popBoundaryParseStack();break;case 46:Tn.addPersonOrSystem("person",...Jt[cn]),this.$=Jt[cn];break;case 47:Tn.addPersonOrSystem("external_person",...Jt[cn]),this.$=Jt[cn];break;case 48:Tn.addPersonOrSystem("system",...Jt[cn]),this.$=Jt[cn];break;case 49:Tn.addPersonOrSystem("system_db",...Jt[cn]),this.$=Jt[cn];break;case 50:Tn.addPersonOrSystem("system_queue",...Jt[cn]),this.$=Jt[cn];break;case 51:Tn.addPersonOrSystem("external_system",...Jt[cn]),this.$=Jt[cn];break;case 52:Tn.addPersonOrSystem("external_system_db",...Jt[cn]),this.$=Jt[cn];break;case 53:Tn.addPersonOrSystem("external_system_queue",...Jt[cn]),this.$=Jt[cn];break;case 54:Tn.addContainer("container",...Jt[cn]),this.$=Jt[cn];break;case 55:Tn.addContainer("container_db",...Jt[cn]),this.$=Jt[cn];break;case 56:Tn.addContainer("container_queue",...Jt[cn]),this.$=Jt[cn];break;case 57:Tn.addContainer("external_container",...Jt[cn]),this.$=Jt[cn];break;case 58:Tn.addContainer("external_container_db",...Jt[cn]),this.$=Jt[cn];break;case 59:Tn.addContainer("external_container_queue",...Jt[cn]),this.$=Jt[cn];break;case 60:Tn.addComponent("component",...Jt[cn]),this.$=Jt[cn];break;case 61:Tn.addComponent("component_db",...Jt[cn]),this.$=Jt[cn];break;case 62:Tn.addComponent("component_queue",...Jt[cn]),this.$=Jt[cn];break;case 63:Tn.addComponent("external_component",...Jt[cn]),this.$=Jt[cn];break;case 64:Tn.addComponent("external_component_db",...Jt[cn]),this.$=Jt[cn];break;case 65:Tn.addComponent("external_component_queue",...Jt[cn]),this.$=Jt[cn];break;case 67:Tn.addRel("rel",...Jt[cn]),this.$=Jt[cn];break;case 68:Tn.addRel("birel",...Jt[cn]),this.$=Jt[cn];break;case 69:Tn.addRel("rel_u",...Jt[cn]),this.$=Jt[cn];break;case 70:Tn.addRel("rel_d",...Jt[cn]),this.$=Jt[cn];break;case 71:Tn.addRel("rel_l",...Jt[cn]),this.$=Jt[cn];break;case 72:Tn.addRel("rel_r",...Jt[cn]),this.$=Jt[cn];break;case 73:Tn.addRel("rel_b",...Jt[cn]),this.$=Jt[cn];break;case 74:Jt[cn].splice(0,1),Tn.addRel("rel",...Jt[cn]),this.$=Jt[cn];break;case 75:Tn.updateElStyle("update_el_style",...Jt[cn]),this.$=Jt[cn];break;case 76:Tn.updateRelStyle("update_rel_style",...Jt[cn]),this.$=Jt[cn];break;case 77:Tn.updateLayoutConfig("update_layout_config",...Jt[cn]),this.$=Jt[cn];break;case 78:this.$=[Jt[cn]];break;case 79:Jt[cn].unshift(Jt[cn-1]),this.$=Jt[cn];break;case 80:case 82:this.$=Jt[cn].trim();break;case 81:let ms={};ms[Jt[cn-1].trim()]=Jt[cn].trim(),this.$=ms;break;case 83:this.$=""}},table:[{3:1,4:2,5:3,6:4,7:a,8:h,9:f,10:p,11:5,12:10,18:y,22:b,25:w,26:C,27:A,28:V},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:a,8:h,9:f,10:p,11:5,12:10,18:y,22:b,25:w,26:C,27:A,28:V},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:Y},s([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:z,33:X,34:xe,36:Oe,38:Fe,39:58,40:70,42:71,44:Ue,46:Ee,47:nt,48:wt,49:Bt,50:tn,51:ut,53:32,54:ct,55:ze,56:Ze,57:We,58:ge,59:Qe,60:J,61:pt,62:ae,63:Tt,64:Jn,65:Kt,66:nn,67:B,68:P,69:et,70:zn,71:On,72:Ft,73:or,74:xt,75:bn,76:Gt,77:Yt,78:ht,79:qe,80:tt,81:Re,82:Cn,83:Te,84:_r},{23:79,29:29,30:30,31:31,32:z,33:X,34:xe,36:Oe,38:Fe,39:58,40:70,42:71,44:Ue,46:Ee,47:nt,48:wt,49:Bt,50:tn,51:ut,53:32,54:ct,55:ze,56:Ze,57:We,58:ge,59:Qe,60:J,61:pt,62:ae,63:Tt,64:Jn,65:Kt,66:nn,67:B,68:P,69:et,70:zn,71:On,72:Ft,73:or,74:xt,75:bn,76:Gt,77:Yt,78:ht,79:qe,80:tt,81:Re,82:Cn,83:Te,84:_r},{23:80,29:29,30:30,31:31,32:z,33:X,34:xe,36:Oe,38:Fe,39:58,40:70,42:71,44:Ue,46:Ee,47:nt,48:wt,49:Bt,50:tn,51:ut,53:32,54:ct,55:ze,56:Ze,57:We,58:ge,59:Qe,60:J,61:pt,62:ae,63:Tt,64:Jn,65:Kt,66:nn,67:B,68:P,69:et,70:zn,71:On,72:Ft,73:or,74:xt,75:bn,76:Gt,77:Yt,78:ht,79:qe,80:tt,81:Re,82:Cn,83:Te,84:_r},{23:81,29:29,30:30,31:31,32:z,33:X,34:xe,36:Oe,38:Fe,39:58,40:70,42:71,44:Ue,46:Ee,47:nt,48:wt,49:Bt,50:tn,51:ut,53:32,54:ct,55:ze,56:Ze,57:We,58:ge,59:Qe,60:J,61:pt,62:ae,63:Tt,64:Jn,65:Kt,66:nn,67:B,68:P,69:et,70:zn,71:On,72:Ft,73:or,74:xt,75:bn,76:Gt,77:Yt,78:ht,79:qe,80:tt,81:Re,82:Cn,83:Te,84:_r},{23:82,29:29,30:30,31:31,32:z,33:X,34:xe,36:Oe,38:Fe,39:58,40:70,42:71,44:Ue,46:Ee,47:nt,48:wt,49:Bt,50:tn,51:ut,53:32,54:ct,55:ze,56:Ze,57:We,58:ge,59:Qe,60:J,61:pt,62:ae,63:Tt,64:Jn,65:Kt,66:nn,67:B,68:P,69:et,70:zn,71:On,72:Ft,73:or,74:xt,75:bn,76:Gt,77:Yt,78:ht,79:qe,80:tt,81:Re,82:Cn,83:Te,84:_r},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},s(Ut,[2,20],{53:32,39:58,40:70,42:71,30:87,44:Ue,46:Ee,47:nt,48:wt,49:Bt,50:tn,51:ut,54:ct,55:ze,56:Ze,57:We,58:ge,59:Qe,60:J,61:pt,62:ae,63:Tt,64:Jn,65:Kt,66:nn,67:B,68:P,69:et,70:zn,71:On,72:Ft,73:or,74:xt,75:bn,76:Gt,77:Yt,78:ht,79:qe,80:tt,81:Re,82:Cn,83:Te,84:_r}),s(Ut,[2,21]),s(fi,[2,23],{15:[1,88]}),s(Ut,[2,43],{15:[1,89]}),s(qn,[2,26]),s(qn,[2,27]),{35:[1,90]},{37:[1,91]},s(qn,[2,30]),{45:92,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:98,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:99,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:100,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:101,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:102,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:103,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:104,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:105,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:106,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:107,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:108,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:109,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:110,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:111,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:112,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:113,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:114,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:115,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:116,85:93,86:_n,87:Sn,89:Fn,90:kn},s(jn,[2,66]),{45:117,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:118,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:119,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:120,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:121,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:122,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:123,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:124,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:125,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:126,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:127,85:93,86:_n,87:Sn,89:Fn,90:kn},{30:128,39:58,40:70,42:71,44:Ue,46:Ee,47:nt,48:wt,49:Bt,50:tn,51:ut,53:32,54:ct,55:ze,56:Ze,57:We,58:ge,59:Qe,60:J,61:pt,62:ae,63:Tt,64:Jn,65:Kt,66:nn,67:B,68:P,69:et,70:zn,71:On,72:Ft,73:or,74:xt,75:bn,76:Gt,77:Yt,78:ht,79:qe,80:tt,81:Re,82:Cn,83:Te,84:_r},{15:[1,130],43:[1,129]},{45:131,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:132,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:133,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:134,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:135,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:136,85:93,86:_n,87:Sn,89:Fn,90:kn},{45:137,85:93,86:_n,87:Sn,89:Fn,90:kn},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},s(Ar,[2,9]),{14:142,21:Y},{21:[2,13]},{1:[2,15]},s(Ut,[2,22]),s(fi,[2,24],{31:31,29:143,32:z,33:X,34:xe,36:Oe,38:Fe}),s(Ut,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:z,33:X,34:xe,36:Oe,38:Fe,44:Ue,46:Ee,47:nt,48:wt,49:Bt,50:tn,51:ut,54:ct,55:ze,56:Ze,57:We,58:ge,59:Qe,60:J,61:pt,62:ae,63:Tt,64:Jn,65:Kt,66:nn,67:B,68:P,69:et,70:zn,71:On,72:Ft,73:or,74:xt,75:bn,76:Gt,77:Yt,78:ht,79:qe,80:tt,81:Re,82:Cn,83:Te,84:_r}),s(qn,[2,28]),s(qn,[2,29]),s(jn,[2,46]),s(Ys,[2,78],{85:93,45:145,86:_n,87:Sn,89:Fn,90:kn}),s(Tr,[2,80]),{88:[1,146]},s(Tr,[2,82]),s(Tr,[2,83]),s(jn,[2,47]),s(jn,[2,48]),s(jn,[2,49]),s(jn,[2,50]),s(jn,[2,51]),s(jn,[2,52]),s(jn,[2,53]),s(jn,[2,54]),s(jn,[2,55]),s(jn,[2,56]),s(jn,[2,57]),s(jn,[2,58]),s(jn,[2,59]),s(jn,[2,60]),s(jn,[2,61]),s(jn,[2,62]),s(jn,[2,63]),s(jn,[2,64]),s(jn,[2,65]),s(jn,[2,67]),s(jn,[2,68]),s(jn,[2,69]),s(jn,[2,70]),s(jn,[2,71]),s(jn,[2,72]),s(jn,[2,73]),s(jn,[2,74]),s(jn,[2,75]),s(jn,[2,76]),s(jn,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},s(br,[2,35]),s(br,[2,36]),s(br,[2,37]),s(br,[2,38]),s(br,[2,39]),s(br,[2,40]),s(br,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},s(fi,[2,25]),s(Ut,[2,45]),s(Ys,[2,79]),s(Tr,[2,81]),s(jn,[2,31]),s(jn,[2,42]),s(is,[2,32]),s(is,[2,33],{15:[1,152]}),s(Ar,[2,10]),s(is,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:function(Yn,Bn){if(!Bn.recoverable){var vi=new Error(Yn);throw vi.hash=Bn,vi}this.trace(Yn)},parse:function(Yn){var vi=[0],Tn=[],ir=[null],Jt=[],ks=this.table,cn="",ms=0,$s=0,Qs=Jt.slice.call(arguments,1),Or=Object.create(this.lexer),ts={yy:{}};for(var Rs in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Rs)&&(ts.yy[Rs]=this.yy[Rs]);Or.setInput(Yn,ts.yy),ts.yy.lexer=Or,ts.yy.parser=this,typeof Or.yylloc>"u"&&(Or.yylloc={});var Ls=Or.yylloc;Jt.push(Ls);var pl,$1=Or.options&&Or.options.ranges;this.parseError="function"==typeof ts.yy.parseError?ts.yy.parseError:Object.getPrototypeOf(this).parseError;for(var ka,Jr,Iu,W1,Gl,Al,fu,lc={};;){if(this.defaultActions[Jr=vi[vi.length-1]]?Iu=this.defaultActions[Jr]:((null===ka||typeof ka>"u")&&(pl=void 0,"number"!=typeof(pl=Tn.pop()||Or.lex()||1)&&(pl instanceof Array&&(pl=(Tn=pl).pop()),pl=this.symbols_[pl]||pl),ka=pl),Iu=ks[Jr]&&ks[Jr][ka]),typeof Iu>"u"||!Iu.length||!Iu[0]){var pu;for(Gl in fu=[],ks[Jr])this.terminals_[Gl]&&Gl>2&&fu.push("'"+this.terminals_[Gl]+"'");pu=Or.showPosition?"Parse error on line "+(ms+1)+":\n"+Or.showPosition()+"\nExpecting "+fu.join(", ")+", got '"+(this.terminals_[ka]||ka)+"'":"Parse error on line "+(ms+1)+": Unexpected "+(1==ka?"end of input":"'"+(this.terminals_[ka]||ka)+"'"),this.parseError(pu,{text:Or.match,token:this.terminals_[ka]||ka,line:Or.yylineno,loc:Ls,expected:fu})}if(Iu[0]instanceof Array&&Iu.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Jr+", token: "+ka);switch(Iu[0]){case 1:vi.push(ka),ir.push(Or.yytext),Jt.push(Or.yylloc),vi.push(Iu[1]),ka=null,$s=Or.yyleng,cn=Or.yytext,ms=Or.yylineno,Ls=Or.yylloc;break;case 2:if(lc.$=ir[ir.length-(Al=this.productions_[Iu[1]][1])],lc._$={first_line:Jt[Jt.length-(Al||1)].first_line,last_line:Jt[Jt.length-1].last_line,first_column:Jt[Jt.length-(Al||1)].first_column,last_column:Jt[Jt.length-1].last_column},$1&&(lc._$.range=[Jt[Jt.length-(Al||1)].range[0],Jt[Jt.length-1].range[1]]),typeof(W1=this.performAction.apply(lc,[cn,$s,ms,ts.yy,Iu[1],ir,Jt].concat(Qs)))<"u")return W1;Al&&(vi=vi.slice(0,-1*Al*2),ir=ir.slice(0,-1*Al),Jt=Jt.slice(0,-1*Al)),vi.push(this.productions_[Iu[1]][0]),ir.push(lc.$),Jt.push(lc._$),vi.push(ks[vi[vi.length-2]][vi[vi.length-1]]);break;case 3:return!0}}return!0}};function Mr(){this.yy={}}return Ua.lexer=function(){return{EOF:1,parseError:function(Bn,vi){if(!this.yy.parser)throw new Error(Bn);this.yy.parser.parseError(Bn,vi)},setInput:function(Yn,Bn){return this.yy=Bn||this.yy||{},this._input=Yn,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Yn=this._input[0];return this.yytext+=Yn,this.yyleng++,this.offset++,this.match+=Yn,this.matched+=Yn,Yn.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Yn},unput:function(Yn){var Bn=Yn.length,vi=Yn.split(/(?:\r\n?|\n)/g);this._input=Yn+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Bn),this.offset-=Bn;var Tn=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),vi.length-1&&(this.yylineno-=vi.length-1);var ir=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:vi?(vi.length===Tn.length?this.yylloc.first_column:0)+Tn[Tn.length-vi.length].length-vi[0].length:this.yylloc.first_column-Bn},this.options.ranges&&(this.yylloc.range=[ir[0],ir[0]+this.yyleng-Bn]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(Yn){this.unput(this.match.slice(Yn))},pastInput:function(){var Yn=this.matched.substr(0,this.matched.length-this.match.length);return(Yn.length>20?"...":"")+Yn.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Yn=this.match;return Yn.length<20&&(Yn+=this._input.substr(0,20-Yn.length)),(Yn.substr(0,20)+(Yn.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Yn=this.pastInput(),Bn=new Array(Yn.length+1).join("-");return Yn+this.upcomingInput()+"\n"+Bn+"^"},test_match:function(Yn,Bn){var vi,Tn,ir;if(this.options.backtrack_lexer&&(ir={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ir.yylloc.range=this.yylloc.range.slice(0))),(Tn=Yn[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=Tn.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Tn?Tn[Tn.length-1].length-Tn[Tn.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Yn[0].length},this.yytext+=Yn[0],this.match+=Yn[0],this.matches=Yn,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Yn[0].length),this.matched+=Yn[0],vi=this.performAction.call(this,this.yy,this,Bn,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),vi)return vi;if(this._backtrack){for(var Jt in ir)this[Jt]=ir[Jt];return!1}return!1},next:function(){if(this.done)return this.EOF;var Yn,Bn,vi,Tn;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var ir=this._currentRules(),Jt=0;Jt<ir.length;Jt++)if((vi=this._input.match(this.rules[ir[Jt]]))&&(!Bn||vi[0].length>Bn[0].length)){if(Bn=vi,Tn=Jt,this.options.backtrack_lexer){if(!1!==(Yn=this.test_match(vi,ir[Jt])))return Yn;if(this._backtrack){Bn=!1;continue}return!1}if(!this.options.flex)break}return Bn?!1!==(Yn=this.test_match(Bn,ir[Tn]))&&Yn:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(Bn){this.conditionStack.push(Bn)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Bn){return(Bn=this.conditionStack.length-1-Math.abs(Bn||0))>=0?this.conditionStack[Bn]:"INITIAL"},pushState:function(Bn){this.begin(Bn)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Bn,vi,Tn,ir){switch(Tn){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:case 78:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:case 21:case 75:break;case 19:c;break;case 20:return 15;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),55;case 28:return this.begin("person"),54;case 29:return this.begin("system_ext_queue"),61;case 30:return this.begin("system_ext_db"),60;case 31:return this.begin("system_ext"),59;case 32:return this.begin("system_queue"),58;case 33:return this.begin("system_db"),57;case 34:return this.begin("system"),56;case 35:return this.begin("boundary"),47;case 36:return this.begin("enterprise_boundary"),44;case 37:return this.begin("system_boundary"),46;case 38:return this.begin("container_ext_queue"),67;case 39:return this.begin("container_ext_db"),66;case 40:return this.begin("container_ext"),65;case 41:return this.begin("container_queue"),64;case 42:return this.begin("container_db"),63;case 43:return this.begin("container"),62;case 44:return this.begin("container_boundary"),48;case 45:return this.begin("component_ext_queue"),73;case 46:return this.begin("component_ext_db"),72;case 47:return this.begin("component_ext"),71;case 48:return this.begin("component_queue"),70;case 49:return this.begin("component_db"),69;case 50:return this.begin("component"),68;case 51:case 52:return this.begin("node"),49;case 53:return this.begin("node_l"),50;case 54:return this.begin("node_r"),51;case 55:return this.begin("rel"),74;case 56:return this.begin("birel"),75;case 57:case 58:return this.begin("rel_u"),76;case 59:case 60:return this.begin("rel_d"),77;case 61:case 62:return this.begin("rel_l"),78;case 63:case 64:return this.begin("rel_r"),79;case 65:return this.begin("rel_b"),80;case 66:return this.begin("rel_index"),81;case 67:return this.begin("update_el_style"),82;case 68:return this.begin("update_rel_style"),83;case 69:return this.begin("update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:this.begin("attribute");break;case 73:case 84:this.popState(),this.popState();break;case 74:case 76:return 90;case 77:this.begin("string");break;case 79:case 85:return"STR";case 80:this.begin("string_kv");break;case 81:return this.begin("string_kv_key"),"STR_KEY";case 82:this.popState(),this.begin("string_kv_value");break;case 83:return"STR_VALUE";case 86:return"LBRACE";case 87:return"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}}}(),Mr.prototype=Ua,Ua.Parser=Mr,new Mr}();J0.parser=J0;const e1=J0,Rh=s=>null!==s.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/);let cu=[],qd=[""],Uc="global",xd="",Lh=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Ph=[],Fg="",Fb=!1,Vm=4,Lp=2;var Tw;const jm=function(s){return null==s?cu:cu.filter(a=>a.parentBoundary===s)},Ef=function(){return Fb},Pp={addPersonOrSystem:function(s,a,h,f,p,y,b){if(null===a||null===h)return;let w={};const C=cu.find(A=>A.alias===a);if(C&&a===C.alias?w=C:(w.alias=a,cu.push(w)),w.label=null==h?{text:""}:{text:h},null==f)w.descr={text:""};else if("object"==typeof f){let[A,V]=Object.entries(f)[0];w[A]={text:V}}else w.descr={text:f};if("object"==typeof p){let[A,V]=Object.entries(p)[0];w[A]=V}else w.sprite=p;if("object"==typeof y){let[A,V]=Object.entries(y)[0];w[A]=V}else w.tags=y;if("object"==typeof b){let[A,V]=Object.entries(b)[0];w[A]=V}else w.link=b;w.typeC4Shape={text:s},w.parentBoundary=Uc,w.wrap=Ef()},addPersonOrSystemBoundary:function(s,a,h,f,p){if(null===s||null===a)return;let y={};const b=Lh.find(w=>w.alias===s);if(b&&s===b.alias?y=b:(y.alias=s,Lh.push(y)),y.label=null==a?{text:""}:{text:a},null==h)y.type={text:"system"};else if("object"==typeof h){let[w,C]=Object.entries(h)[0];y[w]={text:C}}else y.type={text:h};if("object"==typeof f){let[w,C]=Object.entries(f)[0];y[w]=C}else y.tags=f;if("object"==typeof p){let[w,C]=Object.entries(p)[0];y[w]=C}else y.link=p;y.parentBoundary=Uc,y.wrap=Ef(),xd=Uc,Uc=s,qd.push(xd)},addContainer:function(s,a,h,f,p,y,b,w){if(null===a||null===h)return;let C={};const A=cu.find(V=>V.alias===a);if(A&&a===A.alias?C=A:(C.alias=a,cu.push(C)),C.label=null==h?{text:""}:{text:h},null==f)C.techn={text:""};else if("object"==typeof f){let[V,Y]=Object.entries(f)[0];C[V]={text:Y}}else C.techn={text:f};if(null==p)C.descr={text:""};else if("object"==typeof p){let[V,Y]=Object.entries(p)[0];C[V]={text:Y}}else C.descr={text:p};if("object"==typeof y){let[V,Y]=Object.entries(y)[0];C[V]=Y}else C.sprite=y;if("object"==typeof b){let[V,Y]=Object.entries(b)[0];C[V]=Y}else C.tags=b;if("object"==typeof w){let[V,Y]=Object.entries(w)[0];C[V]=Y}else C.link=w;C.wrap=Ef(),C.typeC4Shape={text:s},C.parentBoundary=Uc},addContainerBoundary:function(s,a,h,f,p){if(null===s||null===a)return;let y={};const b=Lh.find(w=>w.alias===s);if(b&&s===b.alias?y=b:(y.alias=s,Lh.push(y)),y.label=null==a?{text:""}:{text:a},null==h)y.type={text:"container"};else if("object"==typeof h){let[w,C]=Object.entries(h)[0];y[w]={text:C}}else y.type={text:h};if("object"==typeof f){let[w,C]=Object.entries(f)[0];y[w]=C}else y.tags=f;if("object"==typeof p){let[w,C]=Object.entries(p)[0];y[w]=C}else y.link=p;y.parentBoundary=Uc,y.wrap=Ef(),xd=Uc,Uc=s,qd.push(xd)},addComponent:function(s,a,h,f,p,y,b,w){if(null===a||null===h)return;let C={};const A=cu.find(V=>V.alias===a);if(A&&a===A.alias?C=A:(C.alias=a,cu.push(C)),C.label=null==h?{text:""}:{text:h},null==f)C.techn={text:""};else if("object"==typeof f){let[V,Y]=Object.entries(f)[0];C[V]={text:Y}}else C.techn={text:f};if(null==p)C.descr={text:""};else if("object"==typeof p){let[V,Y]=Object.entries(p)[0];C[V]={text:Y}}else C.descr={text:p};if("object"==typeof y){let[V,Y]=Object.entries(y)[0];C[V]=Y}else C.sprite=y;if("object"==typeof b){let[V,Y]=Object.entries(b)[0];C[V]=Y}else C.tags=b;if("object"==typeof w){let[V,Y]=Object.entries(w)[0];C[V]=Y}else C.link=w;C.wrap=Ef(),C.typeC4Shape={text:s},C.parentBoundary=Uc},addDeploymentNode:function(s,a,h,f,p,y,b,w){if(null===a||null===h)return;let C={};const A=Lh.find(V=>V.alias===a);if(A&&a===A.alias?C=A:(C.alias=a,Lh.push(C)),C.label=null==h?{text:""}:{text:h},null==f)C.type={text:"node"};else if("object"==typeof f){let[V,Y]=Object.entries(f)[0];C[V]={text:Y}}else C.type={text:f};if(null==p)C.descr={text:""};else if("object"==typeof p){let[V,Y]=Object.entries(p)[0];C[V]={text:Y}}else C.descr={text:p};if("object"==typeof b){let[V,Y]=Object.entries(b)[0];C[V]=Y}else C.tags=b;if("object"==typeof w){let[V,Y]=Object.entries(w)[0];C[V]=Y}else C.link=w;C.nodeType=s,C.parentBoundary=Uc,C.wrap=Ef(),xd=Uc,Uc=a,qd.push(xd)},popBoundaryParseStack:function(){Uc=xd,qd.pop(),xd=qd.pop(),qd.push(xd)},addRel:function(s,a,h,f,p,y,b,w,C){if(null==s||null==a||null==h||null==f)return;let A={};const V=Ph.find(Y=>Y.from===a&&Y.to===h);if(V?A=V:Ph.push(A),A.type=s,A.from=a,A.to=h,A.label={text:f},null==p)A.techn={text:""};else if("object"==typeof p){let[Y,z]=Object.entries(p)[0];A[Y]={text:z}}else A.techn={text:p};if(null==y)A.descr={text:""};else if("object"==typeof y){let[Y,z]=Object.entries(y)[0];A[Y]={text:z}}else A.descr={text:y};if("object"==typeof b){let[Y,z]=Object.entries(b)[0];A[Y]=z}else A.sprite=b;if("object"==typeof w){let[Y,z]=Object.entries(w)[0];A[Y]=z}else A.tags=w;if("object"==typeof C){let[Y,z]=Object.entries(C)[0];A[Y]=z}else A.link=C;A.wrap=Ef()},updateElStyle:function(s,a,h,f,p,y,b,w,C,A,V){let Y=cu.find(z=>z.alias===a);if(void 0!==Y||(Y=Lh.find(z=>z.alias===a),void 0!==Y)){if(null!=h)if("object"==typeof h){let[z,X]=Object.entries(h)[0];Y[z]=X}else Y.bgColor=h;if(null!=f)if("object"==typeof f){let[z,X]=Object.entries(f)[0];Y[z]=X}else Y.fontColor=f;if(null!=p)if("object"==typeof p){let[z,X]=Object.entries(p)[0];Y[z]=X}else Y.borderColor=p;if(null!=y)if("object"==typeof y){let[z,X]=Object.entries(y)[0];Y[z]=X}else Y.shadowing=y;if(null!=b)if("object"==typeof b){let[z,X]=Object.entries(b)[0];Y[z]=X}else Y.shape=b;if(null!=w)if("object"==typeof w){let[z,X]=Object.entries(w)[0];Y[z]=X}else Y.sprite=w;if(null!=C)if("object"==typeof C){let[z,X]=Object.entries(C)[0];Y[z]=X}else Y.techn=C;if(null!=A)if("object"==typeof A){let[z,X]=Object.entries(A)[0];Y[z]=X}else Y.legendText=A;if(null!=V)if("object"==typeof V){let[z,X]=Object.entries(V)[0];Y[z]=X}else Y.legendSprite=V}},updateRelStyle:function(s,a,h,f,p,y,b){const w=Ph.find(C=>C.from===a&&C.to===h);if(void 0!==w){if(null!=f)if("object"==typeof f){let[C,A]=Object.entries(f)[0];w[C]=A}else w.textColor=f;if(null!=p)if("object"==typeof p){let[C,A]=Object.entries(p)[0];w[C]=A}else w.lineColor=p;if(null!=y)if("object"==typeof y){let[C,A]=Object.entries(y)[0];w[C]=parseInt(A)}else w.offsetX=parseInt(y);if(null!=b)if("object"==typeof b){let[C,A]=Object.entries(b)[0];w[C]=parseInt(A)}else w.offsetY=parseInt(b)}},updateLayoutConfig:function(s,a,h){let f=Vm,p=Lp;if("object"==typeof a){const y=Object.values(a)[0];f=parseInt(y)}else f=parseInt(a);if("object"==typeof h){const y=Object.values(h)[0];p=parseInt(y)}else p=parseInt(h);f>=1&&(Vm=f),p>=1&&(Lp=p)},autoWrap:Ef,setWrap:function(s){Fb=s},getC4ShapeArray:jm,getC4Shape:function(s){return cu.find(a=>a.alias===s)},getC4ShapeKeys:function(s){return Object.keys(jm(s))},getBoundarys:function(s){return null==s?Lh:Lh.filter(a=>a.parentBoundary===s)},getCurrentBoundaryParse:function(){return Uc},getParentBoundaryParse:function(){return xd},getRels:function(){return Ph},getTitle:function(){return Fg},getC4Type:function(){return Tw},getC4ShapeInRow:function(){return Vm},getC4BoundaryInRow:function(){return Lp},setAccTitle:it,getAccTitle:mt,getAccDescription:It,setAccDescription:rt,parseDirective:function(s,a,h){ci.parseDirective(this,s,a,h)},getConfig:()=>ft().c4,clear:function(){cu=[],Lh=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],xd="",Uc="global",qd=[""],Ph=[],qd=[""],Fg="",Fb=!1,Vm=4,Lp=2},LINETYPE:{SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},setTitle:function(s){Fg=An(s,ft())},setC4Type:function(s){Tw=An(s,ft())}},Af=function(s,a){const h=s.append("rect");if(h.attr("x",a.x),h.attr("y",a.y),h.attr("fill",a.fill),h.attr("stroke",a.stroke),h.attr("width",a.width),h.attr("height",a.height),h.attr("rx",a.rx),h.attr("ry",a.ry),"undefined"!==a.attrs&&null!==a.attrs)for(let f in a.attrs)h.attr(f,a.attrs[f]);return"undefined"!==a.class&&h.attr("class",a.class),h},Kd=function(){function s(p,y,b,w,C,A,V){f(y.append("text").attr("x",b+C/2).attr("y",w+A/2+5).style("text-anchor","middle").text(p),V)}function a(p,y,b,w,C,A,V,Y){const{fontSize:z,fontFamily:X,fontWeight:xe}=Y,Oe=p.split(sr.lineBreakRegex);for(let Fe=0;Fe<Oe.length;Fe++){const Ue=Fe*z-z*(Oe.length-1)/2,Ee=y.append("text").attr("x",b+C/2).attr("y",w).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",z).style("font-weight",xe).style("font-family",X);Ee.append("tspan").attr("dy",Ue).text(Oe[Fe]).attr("alignment-baseline","mathematical"),f(Ee,V)}}function h(p,y,b,w,C,A,V,Y){const z=y.append("switch"),xe=z.append("foreignObject").attr("x",b).attr("y",w).attr("width",C).attr("height",A).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");xe.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(p),a(p,z,b,w,C,0,V,Y),f(xe,V)}function f(p,y){for(const b in y)y.hasOwnProperty(b)&&p.attr(b,y[b])}return function(p){return"fo"===p.textPlacement?h:"old"===p.textPlacement?s:a}}(),kd_drawC4Shape=function(s,a,h){var f;let p=a.bgColor?a.bgColor:h[a.typeC4Shape.text+"_bg_color"],y=a.borderColor?a.borderColor:h[a.typeC4Shape.text+"_border_color"],b=a.fontColor?a.fontColor:"#FFFFFF",w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(a.typeC4Shape.text){case"person":w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII="}const C=s.append("g");C.attr("class","person-man");const A={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0};switch(a.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":A.x=a.x,A.y=a.y,A.fill=p,A.width=a.width,A.height=a.height,A.stroke=y,A.rx=2.5,A.ry=2.5,A.attrs={"stroke-width":.5},Af(C,A);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":C.append("path").attr("fill",p).attr("stroke-width","0.5").attr("stroke",y).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",a.x).replaceAll("starty",a.y).replaceAll("half",a.width/2).replaceAll("height",a.height)),C.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",y).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",a.x).replaceAll("starty",a.y).replaceAll("half",a.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":C.append("path").attr("fill",p).attr("stroke-width","0.5").attr("stroke",y).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",a.x).replaceAll("starty",a.y).replaceAll("width",a.width).replaceAll("half",a.height/2)),C.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",y).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",a.x+a.width).replaceAll("starty",a.y).replaceAll("half",a.height/2))}let V=((s,a)=>({fontFamily:s[a+"FontFamily"],fontSize:s[a+"FontSize"],fontWeight:s[a+"FontWeight"]}))(h,a.typeC4Shape.text);switch(C.append("text").attr("fill",b).attr("font-family",V.fontFamily).attr("font-size",V.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",a.typeC4Shape.width).attr("x",a.x+a.width/2-a.typeC4Shape.width/2).attr("y",a.y+a.typeC4Shape.Y).text("<<"+a.typeC4Shape.text+">>"),a.typeC4Shape.text){case"person":case"external_person":!function(s,a,h,f,p,y){const b=s.append("image");b.attr("width",a),b.attr("height",h),b.attr("x",f),b.attr("y",p);let w=y.startsWith("data:image/png;base64")?y:(0,S.J)(y);b.attr("xlink:href",w)}(C,48,48,a.x+a.width/2-24,a.y+a.image.Y,w)}let Y=h[a.typeC4Shape.text+"Font"]();return Y.fontWeight="bold",Y.fontSize=Y.fontSize+2,Y.fontColor=b,Kd(h)(a.label.text,C,a.x,a.y+a.label.Y,a.width,a.height,{fill:b},Y),Y=h[a.typeC4Shape.text+"Font"](),Y.fontColor=b,a.techn&&""!==(null==(f=a.techn)?void 0:f.text)?Kd(h)(a.techn.text,C,a.x,a.y+a.techn.Y,a.width,a.height,{fill:b,"font-style":"italic"},Y):a.type&&""!==a.type.text&&Kd(h)(a.type.text,C,a.x,a.y+a.type.Y,a.width,a.height,{fill:b,"font-style":"italic"},Y),a.descr&&""!==a.descr.text&&(Y=h.personFont(),Y.fontColor=b,Kd(h)(a.descr.text,C,a.x,a.y+a.descr.Y,a.width,a.height,{fill:b},Y)),a.height};let n1=0,zm=0,Kb=4,M_=2;J0.yy=Pp;let gr={};class i1{constructor(a){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,r1(a.db.getConfig())}setData(a,h,f,p){this.nextData.startx=this.data.startx=a,this.nextData.stopx=this.data.stopx=h,this.nextData.starty=this.data.starty=f,this.nextData.stopy=this.data.stopy=p}updateVal(a,h,f,p){a[h]=void 0===a[h]?f:p(f,a[h])}insert(a){this.nextData.cnt=this.nextData.cnt+1;let h=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+a.margin:this.nextData.stopx+2*a.margin,f=h+a.width,p=this.nextData.starty+2*a.margin,y=p+a.height;(h>=this.data.widthLimit||f>=this.data.widthLimit||this.nextData.cnt>Kb)&&(h=this.nextData.startx+a.margin+gr.nextLinePaddingX,p=this.nextData.stopy+2*a.margin,this.nextData.stopx=f=h+a.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=y=p+a.height,this.nextData.cnt=1),a.x=h,a.y=p,this.updateVal(this.data,"startx",h,Math.min),this.updateVal(this.data,"starty",p,Math.min),this.updateVal(this.data,"stopx",f,Math.max),this.updateVal(this.data,"stopy",y,Math.max),this.updateVal(this.nextData,"startx",h,Math.min),this.updateVal(this.nextData,"starty",p,Math.min),this.updateVal(this.nextData,"stopx",f,Math.max),this.updateVal(this.nextData,"stopy",y,Math.max)}init(a){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},r1(a.db.getConfig())}bumpLastMargin(a){this.data.stopx+=a,this.data.stopy+=a}}const r1=function(s){Le(gr,s),s.fontFamily&&(gr.personFontFamily=gr.systemFontFamily=gr.messageFontFamily=s.fontFamily),s.fontSize&&(gr.personFontSize=gr.systemFontSize=gr.messageFontSize=s.fontSize),s.fontWeight&&(gr.personFontWeight=gr.systemFontWeight=gr.messageFontWeight=s.fontWeight)},Ko=(s,a)=>({fontFamily:s[a+"FontFamily"],fontSize:s[a+"FontSize"],fontWeight:s[a+"FontWeight"]}),O_=s=>({fontFamily:s.boundaryFontFamily,fontSize:s.boundaryFontSize,fontWeight:s.boundaryFontWeight}),Zb=s=>({fontFamily:s.messageFontFamily,fontSize:s.messageFontSize,fontWeight:s.messageFontWeight});function Zd(s,a,h,f,p){if(!a[s].width)if(h)a[s].text=Vr(a[s].text,p,f),a[s].textLines=a[s].text.split(sr.lineBreakRegex).length,a[s].width=p,a[s].height=Ig(a[s].text,f);else{let y=a[s].text.split(sr.lineBreakRegex);a[s].textLines=y.length;let b=0;a[s].height=0,a[s].width=0;for(const w of y)a[s].width=Math.max(nc(w,f),a[s].width),b=Ig(w,f),a[s].height=a[s].height+b}}const s1=function(s,a,h){a.x=h.data.startx,a.y=h.data.starty,a.width=h.data.stopx-h.data.startx,a.height=h.data.stopy-h.data.starty,a.label.y=gr.c4ShapeMargin-35;let f=a.wrap&&gr.wrap,p=O_(gr);p.fontSize=p.fontSize+2,p.fontWeight="bold",Zd("label",a,f,p,nc(a.label.text,p)),function(s,a,h){const f=s.append("g");let b=a.fontColor?a.fontColor:"black",w={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};a.nodeType&&(w={"stroke-width":1}),Af(f,{x:a.x,y:a.y,fill:a.bgColor?a.bgColor:"none",stroke:a.borderColor?a.borderColor:"#444444",width:a.width,height:a.height,rx:2.5,ry:2.5,attrs:w});let A=h.boundaryFont();A.fontWeight="bold",A.fontSize=A.fontSize+2,A.fontColor=b,Kd(h)(a.label.text,f,a.x,a.y+a.label.Y,a.width,a.height,{fill:"#444444"},A),a.type&&""!==a.type.text&&(A=h.boundaryFont(),A.fontColor=b,Kd(h)(a.type.text,f,a.x,a.y+a.type.Y,a.width,a.height,{fill:"#444444"},A)),a.descr&&""!==a.descr.text&&(A=h.boundaryFont(),A.fontSize=A.fontSize-2,A.fontColor=b,Kd(h)(a.descr.text,f,a.x,a.y+a.descr.Y,a.width,a.height,{fill:"#444444"},A))}(s,a,gr)},Sd=function(s,a,h,f){let p=0;for(const y of f){p=0;const b=h[y];let w=Ko(gr,b.typeC4Shape.text);switch(w.fontSize=w.fontSize-2,b.typeC4Shape.width=nc("<<"+b.typeC4Shape.text+">>",w),b.typeC4Shape.height=w.fontSize+2,b.typeC4Shape.Y=gr.c4ShapePadding,p=b.typeC4Shape.Y+b.typeC4Shape.height-4,b.image={width:0,height:0,Y:0},b.typeC4Shape.text){case"person":case"external_person":b.image.width=48,b.image.height=48,b.image.Y=p,p=b.image.Y+b.image.height}b.sprite&&(b.image.width=48,b.image.height=48,b.image.Y=p,p=b.image.Y+b.image.height);let C=b.wrap&&gr.wrap,A=gr.width-2*gr.c4ShapePadding,V=Ko(gr,b.typeC4Shape.text);V.fontSize=V.fontSize+2,V.fontWeight="bold",Zd("label",b,C,V,A),b.label.Y=p+8,p=b.label.Y+b.label.height,b.type&&""!==b.type.text?(b.type.text="["+b.type.text+"]",Zd("type",b,C,Ko(gr,b.typeC4Shape.text),A),b.type.Y=p+5,p=b.type.Y+b.type.height):b.techn&&""!==b.techn.text&&(b.techn.text="["+b.techn.text+"]",Zd("techn",b,C,Ko(gr,b.techn.text),A),b.techn.Y=p+5,p=b.techn.Y+b.techn.height);let Y=p,z=b.label.width;b.descr&&""!==b.descr.text&&(Zd("descr",b,C,Ko(gr,b.typeC4Shape.text),A),b.descr.Y=p+20,p=b.descr.Y+b.descr.height,z=Math.max(b.label.width,b.descr.width),Y=p-5*b.descr.textLines),z+=gr.c4ShapePadding,b.width=Math.max(b.width||gr.width,z,gr.width),b.height=Math.max(b.height||gr.height,Y,gr.height),b.margin=b.margin||gr.c4ShapeMargin,s.insert(b),kd_drawC4Shape(a,b,gr)}s.bumpLastMargin(gr.c4ShapeMargin)};class Ou{constructor(a,h){this.x=a,this.y=h}}let Ku=function(s,a){let h=s.x,f=s.y,p=a.x,y=a.y,b=h+s.width/2,w=f+s.height/2,C=Math.abs(h-p),A=Math.abs(f-y),V=A/C,Y=s.height/s.width,z=null;return f==y&&h<p?z=new Ou(h+s.width,w):f==y&&h>p?z=new Ou(h,w):h==p&&f<y?z=new Ou(b,f+s.height):h==p&&f>y&&(z=new Ou(b,f)),h>p&&f<y?z=Y>=V?new Ou(h,w+V*s.width/2):new Ou(b-C/A*s.height/2,f+s.height):h<p&&f<y?z=Y>=V?new Ou(h+s.width,w+V*s.width/2):new Ou(b+C/A*s.height/2,f+s.height):h<p&&f>y?z=Y>=V?new Ou(h+s.width,w-V*s.width/2):new Ou(b+s.height/2*C/A,f):h>p&&f>y&&(z=Y>=V?new Ou(h,w-s.width/2*V):new Ou(b-s.height/2*C/A,f)),z},Iw=function(s,a){let h={x:0,y:0};h.x=a.x+a.width/2,h.y=a.y+a.height/2;let f=Ku(s,h);return h.x=s.x+s.width/2,h.y=s.y+s.height/2,{startPoint:f,endPoint:Ku(a,h)}};function I_(s,a,h,f,p){let y=new i1(p);y.data.widthLimit=h.data.widthLimit/Math.min(M_,f.length);for(let[b,w]of f.entries()){let C=0;w.image={width:0,height:0,Y:0},w.sprite&&(w.image.width=48,w.image.height=48,w.image.Y=C,C=w.image.Y+w.image.height);let A=w.wrap&&gr.wrap,V=O_(gr);if(V.fontSize=V.fontSize+2,V.fontWeight="bold",Zd("label",w,A,V,y.data.widthLimit),w.label.Y=C+8,C=w.label.Y+w.label.height,w.type&&""!==w.type.text&&(w.type.text="["+w.type.text+"]",Zd("type",w,A,O_(gr),y.data.widthLimit),w.type.Y=C+5,C=w.type.Y+w.type.height),w.descr&&""!==w.descr.text){let xe=O_(gr);xe.fontSize=xe.fontSize-2,Zd("descr",w,A,xe,y.data.widthLimit),w.descr.Y=C+20,C=w.descr.Y+w.descr.height}if(0==b||b%M_==0){let xe=h.data.startx+gr.diagramMarginX,Oe=h.data.stopy+gr.diagramMarginY+C;y.setData(xe,xe,Oe,Oe)}else{let xe=y.data.stopx!==y.data.startx?y.data.stopx+gr.diagramMarginX:y.data.startx,Oe=y.data.starty;y.setData(xe,xe,Oe,Oe)}y.name=w.alias;let Y=p.db.getC4ShapeArray(w.alias),z=p.db.getC4ShapeKeys(w.alias);z.length>0&&Sd(y,s,Y,z);let X=p.db.getBoundarys(a=w.alias);X.length>0&&I_(s,a,y,X,p),"global"!==w.alias&&s1(s,w,y),h.data.stopy=Math.max(y.data.stopy+gr.c4ShapeMargin,h.data.stopy),h.data.stopx=Math.max(y.data.stopx+gr.c4ShapeMargin,h.data.stopx),n1=Math.max(n1,h.data.stopx),zm=Math.max(zm,h.data.stopy)}}const Rw={drawPersonOrSystemArray:Sd,drawBoundary:s1,setConf:r1,draw:function(s,a,h,f){gr=ft().c4;const p=ft().securityLevel;let y;"sandbox"===p&&(y=(0,F.Ltv)("#i"+a));const b=(0,F.Ltv)("sandbox"===p?y.nodes()[0].contentDocument.body:"body");let w=f.db;f.db.setWrap(gr.wrap),Kb=w.getC4ShapeInRow(),M_=w.getC4BoundaryInRow(),Me.debug(`C:${JSON.stringify(gr,null,2)}`);const C="sandbox"===p?b.select(`[id="${a}"]`):(0,F.Ltv)(`[id="${a}"]`);(function(s){s.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")})(C),function(s){s.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")}(C),function(s){s.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")}(C);let A=new i1(f);A.setData(gr.diagramMarginX,gr.diagramMarginX,gr.diagramMarginY,gr.diagramMarginY),A.data.widthLimit=screen.availWidth,n1=gr.diagramMarginX,zm=gr.diagramMarginY;const V=f.db.getTitle();I_(C,"",A,f.db.getBoundarys(""),f),function(s){s.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")}(C),function(s){s.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")}(C),function(s){const h=s.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);h.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),h.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")}(C),function(s){s.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")}(C),function(s,a,h,f){let p=0;for(let y of a){p+=1;let b=y.wrap&&gr.wrap,w=Zb(gr);"C4Dynamic"===f.db.getC4Type()&&(y.label.text=p+": "+y.label.text);let A=nc(y.label.text,w);Zd("label",y,b,w,A),y.techn&&""!==y.techn.text&&(A=nc(y.techn.text,w),Zd("techn",y,b,w,A)),y.descr&&""!==y.descr.text&&(A=nc(y.descr.text,w),Zd("descr",y,b,w,A));let V=h(y.from),Y=h(y.to),z=Iw(V,Y);y.startPoint=z.startPoint,y.endPoint=z.endPoint}((s,a,h)=>{const f=s.append("g");let p=0;for(let y of a){let b=y.textColor?y.textColor:"#444444",w=y.lineColor?y.lineColor:"#444444",C=y.offsetX?parseInt(y.offsetX):0,A=y.offsetY?parseInt(y.offsetY):0,V="";if(0===p){let z=f.append("line");z.attr("x1",y.startPoint.x),z.attr("y1",y.startPoint.y),z.attr("x2",y.endPoint.x),z.attr("y2",y.endPoint.y),z.attr("stroke-width","1"),z.attr("stroke",w),z.style("fill","none"),"rel_b"!==y.type&&z.attr("marker-end","url("+V+"#arrowhead)"),("birel"===y.type||"rel_b"===y.type)&&z.attr("marker-start","url("+V+"#arrowend)"),p=-1}else{let z=f.append("path");z.attr("fill","none").attr("stroke-width","1").attr("stroke",w).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",y.startPoint.x).replaceAll("starty",y.startPoint.y).replaceAll("controlx",y.startPoint.x+(y.endPoint.x-y.startPoint.x)/2-(y.endPoint.x-y.startPoint.x)/4).replaceAll("controly",y.startPoint.y+(y.endPoint.y-y.startPoint.y)/2).replaceAll("stopx",y.endPoint.x).replaceAll("stopy",y.endPoint.y)),"rel_b"!==y.type&&z.attr("marker-end","url("+V+"#arrowhead)"),("birel"===y.type||"rel_b"===y.type)&&z.attr("marker-start","url("+V+"#arrowend)")}let Y=h.messageFont();Kd(h)(y.label.text,f,Math.min(y.startPoint.x,y.endPoint.x)+Math.abs(y.endPoint.x-y.startPoint.x)/2+C,Math.min(y.startPoint.y,y.endPoint.y)+Math.abs(y.endPoint.y-y.startPoint.y)/2+A,y.label.width,y.label.height,{fill:b},Y),y.techn&&""!==y.techn.text&&(Y=h.messageFont(),Kd(h)("["+y.techn.text+"]",f,Math.min(y.startPoint.x,y.endPoint.x)+Math.abs(y.endPoint.x-y.startPoint.x)/2+C,Math.min(y.startPoint.y,y.endPoint.y)+Math.abs(y.endPoint.y-y.startPoint.y)/2+h.messageFontSize+5+A,Math.max(y.label.width,y.techn.width),y.techn.height,{fill:b,"font-style":"italic"},Y))}})(s,a,gr)}(C,f.db.getRels(),f.db.getC4Shape,f),A.data.stopx=n1,A.data.stopy=zm;const z=A.data;let xe=z.stopy-z.starty+2*gr.diagramMarginY;const Fe=z.stopx-z.startx+2*gr.diagramMarginX;V&&C.append("text").text(V).attr("x",(z.stopx-z.startx)/2-4*gr.diagramMarginX).attr("y",z.starty+gr.diagramMarginY),Su(C,xe,Fe,gr.useMaxWidth);const Ue=V?60:0;C.attr("viewBox",z.startx-gr.diagramMarginX+" -"+(gr.diagramMarginY+Ue)+" "+Fe+" "+(xe+Ue)),Me.debug("models:",z)}};var Qb=function(){var s=function(Yt,ht,qe,tt){for(qe=qe||{},tt=Yt.length;tt--;qe[Yt[tt]]=ht);return qe},a=[1,3],h=[1,7],f=[1,8],p=[1,9],y=[1,10],b=[1,13],w=[1,12],C=[1,16,25],A=[1,20],V=[1,32],Y=[1,33],z=[1,34],X=[1,36],xe=[1,39],Oe=[1,37],Fe=[1,38],Ue=[1,44],Ee=[1,45],nt=[1,40],wt=[1,41],Bt=[1,42],tn=[1,43],ut=[1,48],ct=[1,49],ze=[1,50],Ze=[1,51],We=[16,25],ge=[1,65],Qe=[1,66],J=[1,67],pt=[1,68],ae=[1,69],Tt=[1,70],Jn=[1,71],Kt=[1,80],nn=[16,25,32,45,46,54,60,61,62,63,64,65,66,71,73],B=[16,25,30,32,45,46,50,54,60,61,62,63,64,65,66,71,73,88,89,90,91],P=[5,8,9,10,11,16,19,23,25],et=[54,88,89,90,91],zn=[54,65,66,88,89,90,91],On=[54,60,61,62,63,64,88,89,90,91],Ft=[16,25,32],or=[1,107],xt={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,noteStatement:38,acc_title:39,acc_title_value:40,acc_descr:41,acc_descr_value:42,acc_descr_multiline_value:43,CLASS:44,STYLE_SEPARATOR:45,STRUCT_START:46,members:47,STRUCT_STOP:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,STR:54,NOTE_FOR:55,noteText:56,NOTE:57,relationType:58,lineType:59,AGGREGATION:60,EXTENSION:61,COMPOSITION:62,DEPENDENCY:63,LOLLIPOP:64,LINE:65,DOTTED_LINE:66,CALLBACK:67,LINK:68,LINK_TARGET:69,CLICK:70,CALLBACK_NAME:71,CALLBACK_ARGS:72,HREF:73,CSSCLASS:74,commentToken:75,textToken:76,graphCodeTokens:77,textNoTagsToken:78,TAGSTART:79,TAGEND:80,"==":81,"--":82,PCT:83,DEFAULT:84,SPACE:85,MINUS:86,keywords:87,UNICODE_TEXT:88,NUM:89,ALPHA:90,BQUOTE_STR:91,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",39:"acc_title",40:"acc_title_value",41:"acc_descr",42:"acc_descr_value",43:"acc_descr_multiline_value",44:"CLASS",45:"STYLE_SEPARATOR",46:"STRUCT_START",48:"STRUCT_STOP",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"STR",55:"NOTE_FOR",57:"NOTE",60:"AGGREGATION",61:"EXTENSION",62:"COMPOSITION",63:"DEPENDENCY",64:"LOLLIPOP",65:"LINE",66:"DOTTED_LINE",67:"CALLBACK",68:"LINK",69:"LINK_TARGET",70:"CLICK",71:"CALLBACK_NAME",72:"CALLBACK_ARGS",73:"HREF",74:"CSSCLASS",77:"graphCodeTokens",79:"TAGSTART",80:"TAGEND",81:"==",82:"--",83:"PCT",84:"DEFAULT",85:"SPACE",86:"MINUS",87:"keywords",88:"UNICODE_TEXT",89:"NUM",90:"ALPHA",91:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[47,1],[47,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[38,3],[38,2],[53,3],[53,2],[53,2],[53,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[75,1],[75,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[78,1],[78,1],[78,1],[78,1],[28,1],[28,1],[28,1],[29,1],[56,1]],performAction:function(ht,qe,tt,Re,Cn,Te,_r){var Ut=Te.length-1;switch(Cn){case 5:Re.setDirection("TB");break;case 6:Re.setDirection("BT");break;case 7:Re.setDirection("RL");break;case 8:Re.setDirection("LR");break;case 12:Re.parseDirective("%%{","open_directive");break;case 13:Re.parseDirective(Te[Ut],"type_directive");break;case 14:Te[Ut]=Te[Ut].trim().replace(/'/g,'"'),Re.parseDirective(Te[Ut],"arg_directive");break;case 15:Re.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=Te[Ut];break;case 22:this.$=Te[Ut-1]+Te[Ut];break;case 23:case 24:this.$=Te[Ut-1]+"~"+Te[Ut];break;case 25:Re.addRelation(Te[Ut]);break;case 26:Te[Ut-1].title=Re.cleanupLabel(Te[Ut]),Re.addRelation(Te[Ut-1]);break;case 35:this.$=Te[Ut].trim(),Re.setAccTitle(this.$);break;case 36:case 37:this.$=Te[Ut].trim(),Re.setAccDescription(this.$);break;case 38:Re.addClass(Te[Ut]);break;case 39:Re.addClass(Te[Ut-2]),Re.setCssClass(Te[Ut-2],Te[Ut]);break;case 40:Re.addClass(Te[Ut-3]),Re.addMembers(Te[Ut-3],Te[Ut-1]);break;case 41:Re.addClass(Te[Ut-5]),Re.setCssClass(Te[Ut-5],Te[Ut-3]),Re.addMembers(Te[Ut-5],Te[Ut-1]);break;case 42:Re.addAnnotation(Te[Ut],Te[Ut-2]);break;case 43:this.$=[Te[Ut]];break;case 44:Te[Ut].push(Te[Ut-1]),this.$=Te[Ut];break;case 45:case 47:case 48:break;case 46:Re.addMember(Te[Ut-1],Re.cleanupLabel(Te[Ut]));break;case 49:this.$={id1:Te[Ut-2],id2:Te[Ut],relation:Te[Ut-1],relationTitle1:"none",relationTitle2:"none"};break;case 50:this.$={id1:Te[Ut-3],id2:Te[Ut],relation:Te[Ut-1],relationTitle1:Te[Ut-2],relationTitle2:"none"};break;case 51:this.$={id1:Te[Ut-3],id2:Te[Ut],relation:Te[Ut-2],relationTitle1:"none",relationTitle2:Te[Ut-1]};break;case 52:this.$={id1:Te[Ut-4],id2:Te[Ut],relation:Te[Ut-2],relationTitle1:Te[Ut-3],relationTitle2:Te[Ut-1]};break;case 53:Re.addNote(Te[Ut],Te[Ut-1]);break;case 54:Re.addNote(Te[Ut]);break;case 55:this.$={type1:Te[Ut-2],type2:Te[Ut],lineType:Te[Ut-1]};break;case 56:this.$={type1:"none",type2:Te[Ut],lineType:Te[Ut-1]};break;case 57:this.$={type1:Te[Ut-1],type2:"none",lineType:Te[Ut]};break;case 58:this.$={type1:"none",type2:"none",lineType:Te[Ut]};break;case 59:this.$=Re.relationType.AGGREGATION;break;case 60:this.$=Re.relationType.EXTENSION;break;case 61:this.$=Re.relationType.COMPOSITION;break;case 62:this.$=Re.relationType.DEPENDENCY;break;case 63:this.$=Re.relationType.LOLLIPOP;break;case 64:this.$=Re.lineType.LINE;break;case 65:this.$=Re.lineType.DOTTED_LINE;break;case 66:case 72:this.$=Te[Ut-2],Re.setClickEvent(Te[Ut-1],Te[Ut]);break;case 67:case 73:this.$=Te[Ut-3],Re.setClickEvent(Te[Ut-2],Te[Ut-1]),Re.setTooltip(Te[Ut-2],Te[Ut]);break;case 68:case 76:this.$=Te[Ut-2],Re.setLink(Te[Ut-1],Te[Ut]);break;case 69:case 77:this.$=Te[Ut-3],Re.setLink(Te[Ut-2],Te[Ut-1],Te[Ut]);break;case 70:case 78:this.$=Te[Ut-3],Re.setLink(Te[Ut-2],Te[Ut-1]),Re.setTooltip(Te[Ut-2],Te[Ut]);break;case 71:case 79:this.$=Te[Ut-4],Re.setLink(Te[Ut-3],Te[Ut-2],Te[Ut]),Re.setTooltip(Te[Ut-3],Te[Ut-1]);break;case 74:this.$=Te[Ut-3],Re.setClickEvent(Te[Ut-2],Te[Ut-1],Te[Ut]);break;case 75:this.$=Te[Ut-4],Re.setClickEvent(Te[Ut-3],Te[Ut-2],Te[Ut-1]),Re.setTooltip(Te[Ut-3],Te[Ut]);break;case 80:Re.setCssClass(Te[Ut-1],Te[Ut])}},table:[{3:1,4:2,5:a,6:4,7:5,8:h,9:f,10:p,11:y,12:6,13:11,19:b,23:w},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:a,6:4,7:5,8:h,9:f,10:p,11:y,12:6,13:11,19:b,23:w},{1:[2,9]},s(C,[2,5]),s(C,[2,6]),s(C,[2,7]),s(C,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:A},s([17,22],[2,13]),{6:31,7:30,8:h,9:f,10:p,11:y,13:11,19:b,24:21,26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:V,41:Y,43:z,44:X,49:xe,51:Oe,52:Fe,55:Ue,57:Ee,67:nt,68:wt,70:Bt,74:tn,88:ut,89:ct,90:ze,91:Ze},{16:[1,52]},{18:53,21:[1,54]},{16:[2,15]},{25:[1,55]},{16:[1,56],25:[2,17]},s(We,[2,25],{32:[1,57]}),s(We,[2,27]),s(We,[2,28]),s(We,[2,29]),s(We,[2,30]),s(We,[2,31]),s(We,[2,32]),s(We,[2,33]),s(We,[2,34]),{40:[1,58]},{42:[1,59]},s(We,[2,37]),s(We,[2,45],{53:60,58:63,59:64,32:[1,62],54:[1,61],60:ge,61:Qe,62:J,63:pt,64:ae,65:Tt,66:Jn}),{27:72,28:46,29:47,88:ut,89:ct,90:ze,91:Ze},s(We,[2,47]),s(We,[2,48]),{28:73,88:ut,89:ct,90:ze},{27:74,28:46,29:47,88:ut,89:ct,90:ze,91:Ze},{27:75,28:46,29:47,88:ut,89:ct,90:ze,91:Ze},{27:76,28:46,29:47,88:ut,89:ct,90:ze,91:Ze},{54:[1,77]},{27:78,28:46,29:47,88:ut,89:ct,90:ze,91:Ze},{54:Kt,56:79},s(nn,[2,20],{28:46,29:47,27:81,30:[1,82],88:ut,89:ct,90:ze,91:Ze}),s(nn,[2,21],{30:[1,83]}),s(B,[2,94]),s(B,[2,95]),s(B,[2,96]),s([16,25,30,32,45,46,54,60,61,62,63,64,65,66,71,73],[2,97]),s(P,[2,10]),{15:84,22:A},{22:[2,14]},{1:[2,16]},{6:31,7:30,8:h,9:f,10:p,11:y,13:11,19:b,24:85,25:[2,18],26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:V,41:Y,43:z,44:X,49:xe,51:Oe,52:Fe,55:Ue,57:Ee,67:nt,68:wt,70:Bt,74:tn,88:ut,89:ct,90:ze,91:Ze},s(We,[2,26]),s(We,[2,35]),s(We,[2,36]),{27:86,28:46,29:47,54:[1,87],88:ut,89:ct,90:ze,91:Ze},{53:88,58:63,59:64,60:ge,61:Qe,62:J,63:pt,64:ae,65:Tt,66:Jn},s(We,[2,46]),{59:89,65:Tt,66:Jn},s(et,[2,58],{58:90,60:ge,61:Qe,62:J,63:pt,64:ae}),s(zn,[2,59]),s(zn,[2,60]),s(zn,[2,61]),s(zn,[2,62]),s(zn,[2,63]),s(On,[2,64]),s(On,[2,65]),s(We,[2,38],{45:[1,91],46:[1,92]}),{50:[1,93]},{54:[1,94]},{54:[1,95]},{71:[1,96],73:[1,97]},{28:98,88:ut,89:ct,90:ze},{54:Kt,56:99},s(We,[2,54]),s(We,[2,98]),s(nn,[2,22]),s(nn,[2,23]),s(nn,[2,24]),{16:[1,100]},{25:[2,19]},s(Ft,[2,49]),{27:101,28:46,29:47,88:ut,89:ct,90:ze,91:Ze},{27:102,28:46,29:47,54:[1,103],88:ut,89:ct,90:ze,91:Ze},s(et,[2,57],{58:104,60:ge,61:Qe,62:J,63:pt,64:ae}),s(et,[2,56]),{28:105,88:ut,89:ct,90:ze},{47:106,51:or},{27:108,28:46,29:47,88:ut,89:ct,90:ze,91:Ze},s(We,[2,66],{54:[1,109]}),s(We,[2,68],{54:[1,111],69:[1,110]}),s(We,[2,72],{54:[1,112],72:[1,113]}),s(We,[2,76],{54:[1,115],69:[1,114]}),s(We,[2,80]),s(We,[2,53]),s(P,[2,11]),s(Ft,[2,51]),s(Ft,[2,50]),{27:116,28:46,29:47,88:ut,89:ct,90:ze,91:Ze},s(et,[2,55]),s(We,[2,39],{46:[1,117]}),{48:[1,118]},{47:119,48:[2,43],51:or},s(We,[2,42]),s(We,[2,67]),s(We,[2,69]),s(We,[2,70],{69:[1,120]}),s(We,[2,73]),s(We,[2,74],{54:[1,121]}),s(We,[2,77]),s(We,[2,78],{69:[1,122]}),s(Ft,[2,52]),{47:123,51:or},s(We,[2,40]),{48:[2,44]},s(We,[2,71]),s(We,[2,75]),s(We,[2,79]),{48:[1,124]},s(We,[2,41])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],54:[2,14],55:[2,16],85:[2,19],119:[2,44]},parseError:function(ht,qe){if(!qe.recoverable){var tt=new Error(ht);throw tt.hash=qe,tt}this.trace(ht)},parse:function(ht){var tt=[0],Re=[],Cn=[null],Te=[],_r=this.table,Ut="",fi=0,qn=0,Fn=Te.slice.call(arguments,1),kn=Object.create(this.lexer),jn={yy:{}};for(var Ar in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ar)&&(jn.yy[Ar]=this.yy[Ar]);kn.setInput(ht,jn.yy),jn.yy.lexer=kn,jn.yy.parser=this,typeof kn.yylloc>"u"&&(kn.yylloc={});var Ys=kn.yylloc;Te.push(Ys);var Jt,Tr=kn.options&&kn.options.ranges;this.parseError="function"==typeof jn.yy.parseError?jn.yy.parseError:Object.getPrototypeOf(this).parseError;for(var is,Ua,Hs,Mr,Yn,Bn,Tn,Ei={};;){if(this.defaultActions[Ua=tt[tt.length-1]]?Hs=this.defaultActions[Ua]:((null===is||typeof is>"u")&&(Jt=void 0,"number"!=typeof(Jt=Re.pop()||kn.lex()||1)&&(Jt instanceof Array&&(Jt=(Re=Jt).pop()),Jt=this.symbols_[Jt]||Jt),is=Jt),Hs=_r[Ua]&&_r[Ua][is]),typeof Hs>"u"||!Hs.length||!Hs[0]){var ir;for(Yn in Tn=[],_r[Ua])this.terminals_[Yn]&&Yn>2&&Tn.push("'"+this.terminals_[Yn]+"'");ir=kn.showPosition?"Parse error on line "+(fi+1)+":\n"+kn.showPosition()+"\nExpecting "+Tn.join(", ")+", got '"+(this.terminals_[is]||is)+"'":"Parse error on line "+(fi+1)+": Unexpected "+(1==is?"end of input":"'"+(this.terminals_[is]||is)+"'"),this.parseError(ir,{text:kn.match,token:this.terminals_[is]||is,line:kn.yylineno,loc:Ys,expected:Tn})}if(Hs[0]instanceof Array&&Hs.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ua+", token: "+is);switch(Hs[0]){case 1:tt.push(is),Cn.push(kn.yytext),Te.push(kn.yylloc),tt.push(Hs[1]),is=null,qn=kn.yyleng,Ut=kn.yytext,fi=kn.yylineno,Ys=kn.yylloc;break;case 2:if(Ei.$=Cn[Cn.length-(Bn=this.productions_[Hs[1]][1])],Ei._$={first_line:Te[Te.length-(Bn||1)].first_line,last_line:Te[Te.length-1].last_line,first_column:Te[Te.length-(Bn||1)].first_column,last_column:Te[Te.length-1].last_column},Tr&&(Ei._$.range=[Te[Te.length-(Bn||1)].range[0],Te[Te.length-1].range[1]]),typeof(Mr=this.performAction.apply(Ei,[Ut,qn,fi,jn.yy,Hs[1],Cn,Te].concat(Fn)))<"u")return Mr;Bn&&(tt=tt.slice(0,-1*Bn*2),Cn=Cn.slice(0,-1*Bn),Te=Te.slice(0,-1*Bn)),tt.push(this.productions_[Hs[1]][0]),Cn.push(Ei.$),Te.push(Ei._$),tt.push(_r[tt[tt.length-2]][tt[tt.length-1]]);break;case 3:return!0}}return!0}};function Gt(){this.yy={}}return xt.lexer=function(){return{EOF:1,parseError:function(qe,tt){if(!this.yy.parser)throw new Error(qe);this.yy.parser.parseError(qe,tt)},setInput:function(ht,qe){return this.yy=qe||this.yy||{},this._input=ht,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ht=this._input[0];return this.yytext+=ht,this.yyleng++,this.offset++,this.match+=ht,this.matched+=ht,ht.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ht},unput:function(ht){var qe=ht.length,tt=ht.split(/(?:\r\n?|\n)/g);this._input=ht+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-qe),this.offset-=qe;var Re=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),tt.length-1&&(this.yylineno-=tt.length-1);var Cn=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:tt?(tt.length===Re.length?this.yylloc.first_column:0)+Re[Re.length-tt.length].length-tt[0].length:this.yylloc.first_column-qe},this.options.ranges&&(this.yylloc.range=[Cn[0],Cn[0]+this.yyleng-qe]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(ht){this.unput(this.match.slice(ht))},pastInput:function(){var ht=this.matched.substr(0,this.matched.length-this.match.length);return(ht.length>20?"...":"")+ht.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ht=this.match;return ht.length<20&&(ht+=this._input.substr(0,20-ht.length)),(ht.substr(0,20)+(ht.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ht=this.pastInput(),qe=new Array(ht.length+1).join("-");return ht+this.upcomingInput()+"\n"+qe+"^"},test_match:function(ht,qe){var tt,Re,Cn;if(this.options.backtrack_lexer&&(Cn={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Cn.yylloc.range=this.yylloc.range.slice(0))),(Re=ht[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=Re.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Re?Re[Re.length-1].length-Re[Re.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ht[0].length},this.yytext+=ht[0],this.match+=ht[0],this.matches=ht,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ht[0].length),this.matched+=ht[0],tt=this.performAction.call(this,this.yy,this,qe,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),tt)return tt;if(this._backtrack){for(var Te in Cn)this[Te]=Cn[Te];return!1}return!1},next:function(){if(this.done)return this.EOF;var ht,qe,tt,Re;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Cn=this._currentRules(),Te=0;Te<Cn.length;Te++)if((tt=this._input.match(this.rules[Cn[Te]]))&&(!qe||tt[0].length>qe[0].length)){if(qe=tt,Re=Te,this.options.backtrack_lexer){if(!1!==(ht=this.test_match(tt,Cn[Te])))return ht;if(this._backtrack){qe=!1;continue}return!1}if(!this.options.flex)break}return qe?!1!==(ht=this.test_match(qe,Cn[Re]))&&ht:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(qe){this.conditionStack.push(qe)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(qe){return(qe=this.conditionStack.length-1-Math.abs(qe||0))>=0?this.conditionStack[qe]:"INITIAL"},pushState:function(qe){this.begin(qe)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(qe,tt,Re,Cn){switch(Re){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:case 10:case 19:case 27:break;case 11:return this.begin("acc_title"),39;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),41;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:case 39:case 42:case 45:case 48:case 51:case 54:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 20:case 21:return 23;case 22:return this.begin("struct"),46;case 23:return"EDGE_STATE";case 24:return"EOF_IN_STRUCT";case 25:return"OPEN_IN_STRUCT";case 26:return this.popState(),48;case 28:return"MEMBER";case 29:return 44;case 30:return 74;case 31:return 67;case 32:return 68;case 33:return 70;case 34:return 55;case 35:return 57;case 36:return 49;case 37:return 50;case 38:this.begin("generic");break;case 40:return"GENERICTYPE";case 41:this.begin("string");break;case 43:return"STR";case 44:this.begin("bqstring");break;case 46:return"BQUOTE_STR";case 47:this.begin("href");break;case 49:return 73;case 50:this.begin("callback_name");break;case 52:this.popState(),this.begin("callback_args");break;case 53:return 71;case 55:return 72;case 56:case 57:case 58:case 59:return 69;case 60:case 61:return 61;case 62:case 63:return 63;case 64:return 62;case 65:return 60;case 66:return 64;case 67:return 65;case 68:return 66;case 69:return 32;case 70:return 45;case 71:return 86;case 72:return"DOT";case 73:return"PLUS";case 74:return 83;case 75:case 76:return"EQUALS";case 77:return 90;case 78:return"PUNCTUATION";case 79:return 89;case 80:return 88;case 81:return 85;case 82:return 25}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:\[\*\])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[54,55],inclusive:!1},callback_name:{rules:[51,52,53],inclusive:!1},href:{rules:[48,49],inclusive:!1},struct:{rules:[23,24,25,26,27,28],inclusive:!1},generic:{rules:[39,40],inclusive:!1},bqstring:{rules:[45,46],inclusive:!1},string:{rules:[42,43],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,29,30,31,32,33,34,35,36,37,38,41,44,47,50,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82],inclusive:!0}}}}(),Gt.prototype=xt,xt.Parser=Gt,new Gt}();Qb.parser=Qb;const Lw=Qb,ux=(s,a)=>{var h;return"dagre-wrapper"!==(null==(h=a?.class)?void 0:h.defaultRenderer)&&null!==s.match(/^\s*classDiagram/)},Pw=(s,a)=>{var h;return null!==s.match(/^\s*classDiagram/)&&"dagre-wrapper"===(null==(h=a?.class)?void 0:h.defaultRenderer)||null!==s.match(/^\s*classDiagram-v2/)},Mf="classid-";let es=[],Va={},o1=[],a1=0,pi=[];const Ym=s=>sr.sanitizeText(s,ft()),Fh=function(s){let a="",h=s;if(s.indexOf("~")>0){let f=s.split("~");h=f[0],a=sr.sanitizeText(f[1],ft())}return{className:h,type:a}},R_=function(s){let a=Fh(s);void 0===Va[a.className]&&(Va[a.className]={id:a.className,type:a.type,cssClasses:[],methods:[],members:[],annotations:[],domId:Mf+a.className+"-"+a1},a1++)},l1=function(s){const a=Object.keys(Va);for(const h of a)if(Va[h].id===s)return Va[h].domId},P_=function(s,a){const h=Fh(s).className,f=Va[h];if("string"==typeof a){const p=a.trim();p.startsWith("<<")&&p.endsWith(">>")?f.annotations.push(Ym(p.substring(2,p.length-2))):p.indexOf(")")>0?f.methods.push(Ym(p)):p&&f.members.push(Ym(p))}},Ug=function(s,a){s.split(",").forEach(function(h){let f=h;h[0].match(/\d/)&&(f=Mf+f),void 0!==Va[f]&&Va[f].cssClasses.push(a)})},c1=function(s){let a=(0,F.Ltv)(".mermaidTooltip");null===(a._groups||a)[0][0]&&(a=(0,F.Ltv)("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),(0,F.Ltv)(s).select("svg").selectAll("g.node").on("mouseover",function(){const p=(0,F.Ltv)(this);if(null===p.attr("title"))return;const b=this.getBoundingClientRect();a.transition().duration(200).style("opacity",".9"),a.text(p.attr("title")).style("left",window.scrollX+b.left+(b.right-b.left)/2+"px").style("top",window.scrollY+b.top-14+document.body.scrollTop+"px"),a.html(a.html().replace(/&lt;br\/&gt;/g,"<br/>")),p.classed("hover",!0)}).on("mouseout",function(){a.transition().duration(500).style("opacity",0),(0,F.Ltv)(this).classed("hover",!1)})};pi.push(c1);let Zu="TB";const Qd={parseDirective:function(s,a,h){ci.parseDirective(this,s,a,h)},setAccTitle:it,getAccTitle:mt,getAccDescription:It,setAccDescription:rt,getConfig:()=>ft().class,addClass:R_,bindFunctions:function(s){pi.forEach(function(a){a(s)})},clear:function(){es=[],Va={},o1=[],pi=[],pi.push(c1),$e()},getClass:function(s){return Va[s]},getClasses:function(){return Va},getNotes:function(){return o1},addAnnotation:function(s,a){const h=Fh(s).className;Va[h].annotations.push(a)},addNote:function(s,a){o1.push({id:`note${o1.length}`,class:a,text:s})},getRelations:function(){return es},addRelation:function(s){Me.debug("Adding relation: "+JSON.stringify(s)),R_(s.id1),R_(s.id2),s.id1=Fh(s.id1).className,s.id2=Fh(s.id2).className,s.relationTitle1=sr.sanitizeText(s.relationTitle1.trim(),ft()),s.relationTitle2=sr.sanitizeText(s.relationTitle2.trim(),ft()),es.push(s)},getDirection:()=>Zu,setDirection:s=>{Zu=s},addMember:P_,addMembers:function(s,a){Array.isArray(a)&&(a.reverse(),a.forEach(h=>P_(s,h)))},cleanupLabel:function(s){return":"===s.substring(0,1)?sr.sanitizeText(s.substr(1).trim(),ft()):Ym(s.trim())},lineType:{LINE:0,DOTTED_LINE:1},relationType:{AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},setClickEvent:function(s,a,h){s.split(",").forEach(function(f){(function(s,a,h){const f=ft();let p=s,y=l1(p);if("loose"===f.securityLevel&&void 0!==a&&void 0!==Va[p]){let b=[];if("string"==typeof h){b=h.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let w=0;w<b.length;w++){let C=b[w].trim();'"'===C.charAt(0)&&'"'===C.charAt(C.length-1)&&(C=C.substr(1,C.length-2)),b[w]=C}}0===b.length&&b.push(y),pi.push(function(){const w=document.querySelector(`[id="${y}"]`);null!==w&&w.addEventListener("click",function(){Hr.runFunc(a,...b)},!1)})}})(f,a,h),Va[f].haveCallback=!0}),Ug(s,"clickable")},setCssClass:Ug,setLink:function(s,a,h){const f=ft();s.split(",").forEach(function(p){let y=p;p[0].match(/\d/)&&(y=Mf+y),void 0!==Va[y]&&(Va[y].link=Hr.formatUrl(a,f),Va[y].linkTarget="sandbox"===f.securityLevel?"_top":"string"==typeof h?Ym(h):"_blank")}),Ug(s,"clickable")},getTooltip:function(s){return Va[s].tooltip},setTooltip:function(s,a){const h=ft();s.split(",").forEach(function(f){void 0!==a&&(Va[f].tooltip=sr.sanitizeText(a,h))})},lookUpDomId:l1,setDiagramTitle:Rt,getDiagramTitle:dn};let Xm=0;const Vp=function(s){let f=s.match(/^([#+~-])?(\w+)(~\w+~|\[])?\s+(\w+) *([$*])?$/),p=s.match(/^([#+|~-])?(\w+) *\( *(.*)\) *([$*])? *(\w*[[\]|~]*\s*\w*~?)$/);return f&&!p?d1(f):p?Jd(p):tv(s)},d1=function(s){let a="",h="";try{let f=s[1]?s[1].trim():"",p=s[2]?s[2].trim():"",y=s[3]?Nl(s[3].trim()):"",b=s[4]?s[4].trim():"",w=s[5]?s[5].trim():"";h=f+p+y+" "+b,a=f1(w)}catch{h=s}return{displayText:h,cssStyle:a}},Jd=function(s){let a="",h="";try{let f=s[1]?s[1].trim():"",p=s[2]?s[2].trim():"",y=s[3]?Nl(s[3].trim()):"",b=s[4]?s[4].trim():"";h=f+p+"("+y+")"+(s[5]?" : "+Nl(s[5]).trim():""),a=f1(b)}catch{h=s}return{displayText:h,cssStyle:a}},tv=function(s){let a="",h="",f="",p=s.indexOf("("),y=s.indexOf(")");if(p>1&&y>p&&y<=s.length){let b="",w="",C=s.substring(0,1);C.match(/\w/)?w=s.substring(0,p).trim():(C.match(/[#+~-]/)&&(b=C),w=s.substring(1,p).trim());const A=s.substring(p+1,y);s.substring(y+1,1),h=f1(s.substring(y+1,y+2)),a=b+w+"("+Nl(A.trim())+")",y<s.length&&(f=s.substring(y+2).trim(),""!==f&&(f=" : "+Nl(f),a+=f))}else a=Nl(s);return{displayText:a,cssStyle:h}},h1=function(s,a,h,f){let p=Vp(a);const y=s.append("tspan").attr("x",f.padding).text(p.displayText);""!==p.cssStyle&&y.attr("style",p.cssStyle),h||y.attr("dy",f.textHeight)},f1=function(s){switch(s){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},Hp_drawClass=function(s,a,h,f){Me.debug("Rendering class ",a,h);const p=a.id,y={id:p,label:a.id,width:0,height:0},b=s.append("g").attr("id",f.db.lookUpDomId(p)).attr("class","classGroup");let w;w=a.link?b.append("svg:a").attr("xlink:href",a.link).attr("target",a.linkTarget).append("text").attr("y",h.textHeight+h.padding).attr("x",0):b.append("text").attr("y",h.textHeight+h.padding).attr("x",0);let C=!0;a.annotations.forEach(function(Bt){const tn=w.append("tspan").text("\xab"+Bt+"\xbb");C||tn.attr("dy",h.textHeight),C=!1});let A=a.id;void 0!==a.type&&""!==a.type&&(A+="<"+a.type+">");const V=w.append("tspan").text(A).attr("class","title");C||V.attr("dy",h.textHeight);const Y=w.node().getBBox().height,z=b.append("line").attr("x1",0).attr("y1",h.padding+Y+h.dividerMargin/2).attr("y2",h.padding+Y+h.dividerMargin/2),X=b.append("text").attr("x",h.padding).attr("y",Y+h.dividerMargin+h.textHeight).attr("fill","white").attr("class","classText");C=!0,a.members.forEach(function(Bt){h1(X,Bt,C,h),C=!1});const xe=X.node().getBBox(),Oe=b.append("line").attr("x1",0).attr("y1",h.padding+Y+h.dividerMargin+xe.height).attr("y2",h.padding+Y+h.dividerMargin+xe.height),Fe=b.append("text").attr("x",h.padding).attr("y",Y+2*h.dividerMargin+xe.height+h.textHeight).attr("fill","white").attr("class","classText");C=!0,a.methods.forEach(function(Bt){h1(Fe,Bt,C,h),C=!1});const Ue=b.node().getBBox();var Ee=" ";a.cssClasses.length>0&&(Ee+=a.cssClasses.join(" "));const wt=b.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",Ue.width+2*h.padding).attr("height",Ue.height+h.padding+.5*h.dividerMargin).attr("class",Ee).node().getBBox().width;return w.node().childNodes.forEach(function(Bt){Bt.setAttribute("x",(wt-Bt.getBBox().width)/2)}),a.tooltip&&w.insert("title").text(a.tooltip),z.attr("x2",wt),Oe.attr("x2",wt),y.width=wt,y.height=Ue.height+h.padding+.5*h.dividerMargin,y};let p1={};const zg=function(s){const a=Object.entries(p1).find(h=>h[1].label===s);if(a)return a[0]},dx={draw:function(s,a,h,f){const p=ft().class;p1={},Me.info("Rendering diagram "+s);const y=ft().securityLevel;let b;"sandbox"===y&&(b=(0,F.Ltv)("#i"+a));const w=(0,F.Ltv)("sandbox"===y?b.nodes()[0].contentDocument.body:"body"),C=w.select(`[id='${a}']`);!function(s){s.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),s.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),s.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),s.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),s.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),s.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),s.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),s.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")}(C);const A=new Ji.T({multigraph:!0});A.setGraph({isMultiGraph:!0}),A.setDefaultEdgeLabel(function(){return{}});const V=f.db.getClasses(),Y=Object.keys(V);for(const Ee of Y){const wt=Hp_drawClass(C,V[Ee],p,f);p1[wt.id]=wt,A.setNode(wt.id,wt),Me.info("Org height: "+wt.height)}f.db.getRelations().forEach(function(Ee){Me.info("tjoho"+zg(Ee.id1)+zg(Ee.id2)+JSON.stringify(Ee)),A.setEdge(zg(Ee.id1),zg(Ee.id2),{relation:Ee},Ee.title||"DEFAULT")}),f.db.getNotes().forEach(function(Ee){Me.debug(`Adding note: ${JSON.stringify(Ee)}`);const nt=function(s,a,h,f){Me.debug("Rendering note ",a,h);const p=a.id,y={id:p,text:a.text,width:0,height:0},b=s.append("g").attr("id",p).attr("class","classGroup");let w=b.append("text").attr("y",h.textHeight+h.padding).attr("x",0);const C=JSON.parse(`"${a.text}"`).split("\n");C.forEach(function(z){Me.debug(`Adding line: ${z}`),w.append("tspan").text(z).attr("class","title").attr("dy",h.textHeight)});const A=b.node().getBBox(),Y=b.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",A.width+2*h.padding).attr("height",A.height+C.length*h.textHeight+h.padding+.5*h.dividerMargin).node().getBBox().width;return w.node().childNodes.forEach(function(z){z.setAttribute("x",(Y-z.getBBox().width)/2)}),y.width=Y,y.height=A.height+C.length*h.textHeight+h.padding+.5*h.dividerMargin,y}(C,Ee,p);p1[nt.id]=nt,A.setNode(nt.id,nt),Ee.class&&Ee.class in V&&A.setEdge(Ee.id,zg(Ee.class),{relation:{id1:Ee.id,id2:Ee.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),(0,ii.Zp)(A),A.nodes().forEach(function(Ee){void 0!==Ee&&void 0!==A.node(Ee)&&(Me.debug("Node "+Ee+": "+JSON.stringify(A.node(Ee))),w.select("#"+(f.db.lookUpDomId(Ee)||Ee)).attr("transform","translate("+(A.node(Ee).x-A.node(Ee).width/2)+","+(A.node(Ee).y-A.node(Ee).height/2)+" )"))}),A.edges().forEach(function(Ee){void 0!==Ee&&void 0!==A.edge(Ee)&&(Me.debug("Edge "+Ee.v+" -> "+Ee.w+": "+JSON.stringify(A.edge(Ee))),function(s,a,h,f,p){const y=function(Ee){switch(Ee){case p.db.relationType.AGGREGATION:return"aggregation";case p.db.relationType.EXTENSION:return"extension";case p.db.relationType.COMPOSITION:return"composition";case p.db.relationType.DEPENDENCY:return"dependency";case p.db.relationType.LOLLIPOP:return"lollipop"}};a.points=a.points.filter(Ee=>!Number.isNaN(Ee.y));const b=a.points,w=(0,F.n8j)().x(function(Ee){return Ee.x}).y(function(Ee){return Ee.y}).curve(F.qrM),C=s.append("path").attr("d",w(b)).attr("id","edge"+Xm).attr("class","relation");let V,Y,A="";f.arrowMarkerAbsolute&&(A=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,A=A.replace(/\(/g,"\\("),A=A.replace(/\)/g,"\\)")),1==h.relation.lineType&&C.attr("class","relation dashed-line"),10==h.relation.lineType&&C.attr("class","relation dotted-line"),"none"!==h.relation.type1&&C.attr("marker-start","url("+A+"#"+y(h.relation.type1)+"Start)"),"none"!==h.relation.type2&&C.attr("marker-end","url("+A+"#"+y(h.relation.type2)+"End)");const z=a.points.length;let xe,Oe,Fe,Ue,X=Hr.calcLabelPosition(a.points);if(V=X.x,Y=X.y,z%2!=0&&z>1){let Ee=Hr.calcCardinalityPosition("none"!==h.relation.type1,a.points,a.points[0]),nt=Hr.calcCardinalityPosition("none"!==h.relation.type2,a.points,a.points[z-1]);Me.debug("cardinality_1_point "+JSON.stringify(Ee)),Me.debug("cardinality_2_point "+JSON.stringify(nt)),xe=Ee.x,Oe=Ee.y,Fe=nt.x,Ue=nt.y}if(void 0!==h.title){const Ee=s.append("g").attr("class","classLabel"),nt=Ee.append("text").attr("class","label").attr("x",V).attr("y",Y).attr("fill","red").attr("text-anchor","middle").text(h.title);window.label=nt;const wt=nt.node().getBBox();Ee.insert("rect",":first-child").attr("class","box").attr("x",wt.x-f.padding/2).attr("y",wt.y-f.padding/2).attr("width",wt.width+f.padding).attr("height",wt.height+f.padding)}Me.info("Rendering relation "+JSON.stringify(h)),void 0!==h.relationTitle1&&"none"!==h.relationTitle1&&s.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",xe).attr("y",Oe).attr("fill","black").attr("font-size","6").text(h.relationTitle1),void 0!==h.relationTitle2&&"none"!==h.relationTitle2&&s.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",Fe).attr("y",Ue).attr("fill","black").attr("font-size","6").text(h.relationTitle2),Xm++}(C,A.edge(Ee),A.edge(Ee).relation,p,f))});const xe=C.node().getBBox(),Oe=xe.width+40,Fe=xe.height+40;Su(C,Fe,Oe,p.useMaxWidth);const Ue=`${xe.x-20} ${xe.y-20} ${Oe} ${Fe}`;Me.debug(`viewBox ${Ue}`),C.attr("viewBox",Ue)}},Ww={extension:(s,a,h)=>{Me.trace("Making markers for ",h),s.append("defs").append("marker").attr("id",a+"-extensionStart").attr("class","marker extension "+a).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),s.append("defs").append("marker").attr("id",a+"-extensionEnd").attr("class","marker extension "+a).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:(s,a)=>{s.append("defs").append("marker").attr("id",a+"-compositionStart").attr("class","marker composition "+a).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),s.append("defs").append("marker").attr("id",a+"-compositionEnd").attr("class","marker composition "+a).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:(s,a)=>{s.append("defs").append("marker").attr("id",a+"-aggregationStart").attr("class","marker aggregation "+a).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),s.append("defs").append("marker").attr("id",a+"-aggregationEnd").attr("class","marker aggregation "+a).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:(s,a)=>{s.append("defs").append("marker").attr("id",a+"-dependencyStart").attr("class","marker dependency "+a).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),s.append("defs").append("marker").attr("id",a+"-dependencyEnd").attr("class","marker dependency "+a).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop:(s,a)=>{s.append("defs").append("marker").attr("id",a+"-lollipopStart").attr("class","marker lollipop "+a).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},point:(s,a)=>{s.append("marker").attr("id",a+"-pointEnd").attr("class","marker "+a).attr("viewBox","0 0 12 20").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),s.append("marker").attr("id",a+"-pointStart").attr("class","marker "+a).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:(s,a)=>{s.append("marker").attr("id",a+"-circleEnd").attr("class","marker "+a).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),s.append("marker").attr("id",a+"-circleStart").attr("class","marker "+a).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:(s,a)=>{s.append("marker").attr("id",a+"-crossEnd").attr("class","marker cross "+a).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),s.append("marker").attr("id",a+"-crossStart").attr("class","marker cross "+a).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:(s,a)=>{s.append("defs").append("marker").attr("id",a+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}},z_=(s,a,h,f)=>{a.forEach(p=>{Ww[p](s,h,f)})},Ha=(s,a,h,f)=>{let p=s||"";if("object"==typeof p&&(p=p[0]),Bo(ft().flowchart.htmlLabels))return p=p.replace(/\\n|\n/g,"<br />"),Me.info("vertexText"+p),function mx(s){const a=(0,F.Ltv)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),h=a.append("xhtml:div");return h.html('<span class="'+(s.isNode?"nodeLabel":"edgeLabel")+'" '+(s.labelStyle?'style="'+s.labelStyle+'"':"")+">"+s.label+"</span>"),function eh(s,a){a&&s.attr("style",a)}(h,s.labelStyle),h.style("display","inline-block"),h.style("white-space","nowrap"),h.attr("xmlns","http://www.w3.org/1999/xhtml"),a.node()}({isNode:f,label:ST(p).replace(/fa[blrs]?:fa-[\w-]+/g,w=>`<i class='${w.replace(":"," ")}'></i>`),labelStyle:a.replace("fill:","color:")});{const y=document.createElementNS("http://www.w3.org/2000/svg","text");y.setAttribute("style",a.replace("color:","fill:"));let b=[];b="string"==typeof p?p.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(p)?p:[];for(const w of b){const C=document.createElementNS("http://www.w3.org/2000/svg","tspan");C.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),C.setAttribute("dy","1em"),C.setAttribute("x","0"),C.setAttribute("class",h?"title-row":"row"),C.textContent=w.trim(),y.appendChild(C)}return y}},Tl=(s,a,h,f)=>{let p;p=h||"node default";const y=s.insert("g").attr("class",p).attr("id",a.domId||a.id),b=y.insert("g").attr("class","label").attr("style",a.labelStyle);let w;w=void 0===a.labelText?"":"string"==typeof a.labelText?a.labelText:a.labelText[0];const C=b.node().appendChild(Ha(An(ST(w),ft()),a.labelStyle,!1,f));let A=C.getBBox();if(Bo(ft().flowchart.htmlLabels)){const Y=C.children[0],z=(0,F.Ltv)(C);A=Y.getBoundingClientRect(),z.attr("width",A.width),z.attr("height",A.height)}const V=a.padding/2;return b.attr("transform","translate("+-A.width/2+", "+-A.height/2+")"),{shapeSvg:y,bbox:A,halfPadding:V,label:b}},da=(s,a)=>{const h=a.node().getBBox();s.width=h.width,s.height=h.height};function If(s,a,h,f){return s.insert("polygon",":first-child").attr("points",f.map(function(p){return p.x+","+p.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-a/2+","+h/2+")")}let zs={},hu={},Y_={};const jp=(s,a)=>(Me.trace("In isDecendant",a," ",s," = ",hu[a].includes(s)),!!hu[a].includes(s)),g1=(s,a,h,f)=>{Me.warn("Copying children of ",s,"root",f,"data",a.node(s),f);const p=a.children(s)||[];s!==f&&p.push(s),Me.warn("Copying (nodes) clusterId",s,"nodes",p),p.forEach(y=>{if(a.children(y).length>0)g1(y,a,h,f);else{const b=a.node(y);Me.info("cp ",y," to ",f," with parent ",s),h.setNode(y,b),f!==a.parent(y)&&(Me.warn("Setting parent",y,a.parent(y)),h.setParent(y,a.parent(y))),s!==f&&y!==s?(Me.debug("Setting parent",y,s),h.setParent(y,s)):(Me.info("In copy ",s,"root",f,"data",a.node(s),f),Me.debug("Not Setting parent for node=",y,"cluster!==rootId",s!==f,"node!==clusterId",y!==s));const w=a.edges(y);Me.debug("Copying Edges",w),w.forEach(C=>{Me.info("Edge",C);const A=a.edge(C.v,C.w,C.name);Me.info("Edge data",A,f);try{((s,a)=>(Me.info("Decendants of ",a," is ",hu[a]),Me.info("Edge is ",s),s.v!==a&&s.w!==a&&(hu[a]?hu[a].includes(s.v)||jp(s.v,a)||jp(s.w,a)||hu[a].includes(s.w):(Me.debug("Tilt, ",a,",not in decendants"),!1))))(C,f)?(Me.info("Copying as ",C.v,C.w,A,C.name),h.setEdge(C.v,C.w,A,C.name),Me.info("newGraph edges ",h.edges(),h.edge(h.edges()[0]))):Me.info("Skipping copy of edge ",C.v,"--\x3e",C.w," rootId: ",f," clusterId:",s)}catch(V){Me.error(V)}})}Me.debug("Removing node",y),a.removeNode(y)})},m1=(s,a)=>{const h=a.children(s);let f=[...h];for(const p of h)Y_[p]=s,f=[...f,...m1(p,a)];return f},Nf=(s,a)=>{Me.trace("Searching",s);const h=a.children(s);if(Me.trace("Searching children of id ",s,h),h.length<1)return Me.trace("This is a valid node",s),s;for(const f of h){const p=Nf(f,a);if(p)return Me.trace("Found replacement for",s," => ",p),p}},Rf=s=>zs[s]&&zs[s].externalConnections&&zs[s]?zs[s].id:s,Up=(s,a)=>{if(Me.warn("extractor - ",a,$i.M(s),s.children("D")),a>10)return void Me.error("Bailing out");let h=s.nodes(),f=!1;for(const p of h){const y=s.children(p);f=f||y.length>0}if(f){Me.debug("Nodes = ",h,a);for(const p of h)if(Me.debug("Extracting node",p,zs,zs[p]&&!zs[p].externalConnections,!s.parent(p),s.node(p),s.children("D")," Depth ",a),zs[p])if(!zs[p].externalConnections&&s.children(p)&&s.children(p).length>0){Me.warn("Cluster without external connections, without a parent and with children",p,a);let b="TB"===s.graph().rankdir?"LR":"TB";zs[p]&&zs[p].clusterData&&zs[p].clusterData.dir&&(b=zs[p].clusterData.dir,Me.warn("Fixing dir",zs[p].clusterData.dir,b));const w=new Ji.T({multigraph:!0,compound:!0}).setGraph({rankdir:b,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});Me.warn("Old graph before copy",$i.M(s)),g1(p,s,w,p),s.setNode(p,{clusterNode:!0,id:p,clusterData:zs[p].clusterData,labelText:zs[p].labelText,graph:w}),Me.warn("New graph after copy node: (",p,")",$i.M(w)),Me.debug("Old graph after copy",$i.M(s))}else Me.warn("Cluster ** ",p," **not meeting the criteria !externalConnections:",!zs[p].externalConnections," no parent: ",!s.parent(p)," children ",s.children(p)&&s.children(p).length>0,s.children("D"),a),Me.debug(zs);else Me.debug("Not a cluster",p,a);h=s.nodes(),Me.warn("New list of nodes",h);for(const p of h){const y=s.node(p);Me.warn(" Now next level",p,y),y.clusterNode&&Up(y.graph,a+1)}}else Me.debug("Done, no node has children",s.nodes())},Wg=(s,a)=>{if(0===a.length)return[];let h=Object.assign(a);return a.forEach(f=>{const p=s.children(f),y=Wg(s,p);h=[...h,...y]}),h};function y1(s,a,h,f){var p=s.x,y=s.y,b=p-f.x,w=y-f.y,C=Math.sqrt(a*a*w*w+h*h*b*b),A=Math.abs(a*h*b/C);f.x<p&&(A=-A);var V=Math.abs(a*h*w/C);return f.y<y&&(V=-V),{x:p+A,y:y+V}}function Xw(s,a,h,f){var p,y,b,w,C,A,V,Y,z,X,xe,Oe,Fe;if(X=(p=a.y-s.y)*f.x+(b=s.x-a.x)*f.y+(C=a.x*s.y-s.x*a.y),!(0!==(z=p*h.x+b*h.y+C)&&0!==X&&qm(z,X)||(y=f.y-h.y,w=h.x-f.x,A=f.x*h.y-h.x*f.y,V=y*s.x+w*s.y+A,Y=y*a.x+w*a.y+A,0!==V&&0!==Y&&qm(V,Y)||(xe=p*w-y*b,0===xe))))return Oe=Math.abs(xe/2),{x:(Fe=b*A-w*C)<0?(Fe-Oe)/xe:(Fe+Oe)/xe,y:(Fe=y*C-p*A)<0?(Fe-Oe)/xe:(Fe+Oe)/xe}}function qm(s,a){return s*a>0}const Lf=(s,a)=>{var C,A,h=s.x,f=s.y,p=a.x-h,y=a.y-f,b=s.width/2,w=s.height/2;return Math.abs(y)*b>Math.abs(p)*w?(y<0&&(w=-w),C=0===y?0:w*p/y,A=w):(p<0&&(b=-b),C=b,A=0===p?0:b*y/p),{x:h+C,y:f+A}},Ta_circle=function zp(s,a,h){return y1(s,a,a,h)},Ta_polygon=function sv(s,a,h){var f=s.x,p=s.y,y=[],b=Number.POSITIVE_INFINITY,w=Number.POSITIVE_INFINITY;"function"==typeof a.forEach?a.forEach(function(xe){b=Math.min(b,xe.x),w=Math.min(w,xe.y)}):(b=Math.min(b,a.x),w=Math.min(w,a.y));for(var C=f-s.width/2-b,A=p-s.height/2-w,V=0;V<a.length;V++){var Y=a[V],z=a[V<a.length-1?V+1:0],X=Xw(s,h,{x:C+Y.x,y:A+Y.y},{x:C+z.x,y:A+z.y});X&&y.push(X)}return y.length?(y.length>1&&y.sort(function(xe,Oe){var Fe=xe.x-h.x,Ue=xe.y-h.y,Ee=Math.sqrt(Fe*Fe+Ue*Ue),nt=Oe.x-h.x,wt=Oe.y-h.y,Bt=Math.sqrt(nt*nt+wt*wt);return Ee<Bt?-1:Ee===Bt?0:1}),y[0]):s},Ta_rect=Lf,Yp=(s,a)=>{const{shapeSvg:h,bbox:f}=Tl(s,a,void 0,!0),b=f.width+a.padding+(f.height+a.padding),w=[{x:b/2,y:0},{x:b,y:-b/2},{x:b/2,y:-b},{x:0,y:-b/2}];Me.info("Question main (Circle)");const C=If(h,b,b,w);return C.attr("style",a.style),da(a,C),a.intersect=function(A){return Me.warn("Intersect called"),Ta_polygon(a,w,A)},h};function Zm(s,a,h,f){const p=[],y=w=>{p.push(w,0)},b=w=>{p.push(0,w)};a.includes("t")?(Me.debug("add top border"),y(h)):b(h),a.includes("r")?(Me.debug("add right border"),y(f)):b(f),a.includes("b")?(Me.debug("add bottom border"),y(h)):b(h),a.includes("l")?(Me.debug("add left border"),y(f)):b(f),s.attr("stroke-dasharray",p.join(" "))}const w1=(s,a,h)=>{const f=s.insert("g").attr("class","node default").attr("id",a.domId||a.id);let p=70,y=10;"LR"===h&&(p=10,y=70);const b=f.append("rect").attr("x",-1*p/2).attr("y",-1*y/2).attr("width",p).attr("height",y).attr("class","fork-join");return da(a,b),a.height=a.height+a.padding/2,a.width=a.width+a.padding/2,a.intersect=function(w){return Ta_rect(a,w)},f},fv={rhombus:Yp,question:Yp,rect:(s,a)=>{const{shapeSvg:h,bbox:f,halfPadding:p}=Tl(s,a,"node "+a.classes,!0);Me.trace("Classes = ",a.classes);const y=h.insert("rect",":first-child"),b=f.width+a.padding,w=f.height+a.padding;if(y.attr("class","basic label-container").attr("style",a.style).attr("rx",a.rx).attr("ry",a.ry).attr("x",-f.width/2-p).attr("y",-f.height/2-p).attr("width",b).attr("height",w),a.props){const C=new Set(Object.keys(a.props));a.props.borders&&(Zm(y,a.props.borders,b,w),C.delete("borders")),C.forEach(A=>{Me.warn(`Unknown node property ${A}`)})}return da(a,y),a.intersect=function(C){return Ta_rect(a,C)},h},labelRect:(s,a)=>{const{shapeSvg:h}=Tl(s,a,"label",!0);Me.trace("Classes = ",a.classes);const f=h.insert("rect",":first-child");if(f.attr("width",0).attr("height",0),h.attr("class","label edgeLabel"),a.props){const b=new Set(Object.keys(a.props));a.props.borders&&(Zm(f,a.props.borders,0,0),b.delete("borders")),b.forEach(w=>{Me.warn(`Unknown node property ${w}`)})}return da(a,f),a.intersect=function(b){return Ta_rect(a,b)},h},rectWithTitle:(s,a)=>{let h;h=a.classes?"node "+a.classes:"node default";const f=s.insert("g").attr("class",h).attr("id",a.domId||a.id),p=f.insert("rect",":first-child"),y=f.insert("line"),b=f.insert("g").attr("class","label"),w=a.labelText.flat?a.labelText.flat():a.labelText;let C="";C="object"==typeof w?w[0]:w,Me.info("Label text abc79",C,w,"object"==typeof w);const A=b.node().appendChild(Ha(C,a.labelStyle,!0,!0));let V={width:0,height:0};if(Bo(ft().flowchart.htmlLabels)){const Oe=A.children[0],Fe=(0,F.Ltv)(A);V=Oe.getBoundingClientRect(),Fe.attr("width",V.width),Fe.attr("height",V.height)}Me.info("Text 2",w);const Y=w.slice(1,w.length);let z=A.getBBox();const X=b.node().appendChild(Ha(Y.join?Y.join("<br/>"):Y,a.labelStyle,!0,!0));if(Bo(ft().flowchart.htmlLabels)){const Oe=X.children[0],Fe=(0,F.Ltv)(X);V=Oe.getBoundingClientRect(),Fe.attr("width",V.width),Fe.attr("height",V.height)}const xe=a.padding/2;return(0,F.Ltv)(X).attr("transform","translate( "+(V.width>z.width?0:(z.width-V.width)/2)+", "+(z.height+xe+5)+")"),(0,F.Ltv)(A).attr("transform","translate( "+(V.width<z.width?0:-(z.width-V.width)/2)+", 0)"),V=b.node().getBBox(),b.attr("transform","translate("+-V.width/2+", "+(-V.height/2-xe+3)+")"),p.attr("class","outer title-state").attr("x",-V.width/2-xe).attr("y",-V.height/2-xe).attr("width",V.width+a.padding).attr("height",V.height+a.padding),y.attr("class","divider").attr("x1",-V.width/2-xe).attr("x2",V.width/2+xe).attr("y1",-V.height/2-xe+z.height+xe).attr("y2",-V.height/2-xe+z.height+xe),da(a,p),a.intersect=function(Oe){return Ta_rect(a,Oe)},f},choice:(s,a)=>{const h=s.insert("g").attr("class","node default").attr("id",a.domId||a.id);return h.insert("polygon",":first-child").attr("points",[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}].map(function(b){return b.x+","+b.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),a.width=28,a.height=28,a.intersect=function(b){return Ta_circle(a,14,b)},h},circle:(s,a)=>{const{shapeSvg:h,bbox:f,halfPadding:p}=Tl(s,a,void 0,!0),y=h.insert("circle",":first-child");return y.attr("style",a.style).attr("rx",a.rx).attr("ry",a.ry).attr("r",f.width/2+p).attr("width",f.width+a.padding).attr("height",f.height+a.padding),Me.info("Circle main"),da(a,y),a.intersect=function(b){return Me.info("Circle intersect",a,f.width/2+p,b),Ta_circle(a,f.width/2+p,b)},h},doublecircle:(s,a)=>{const{shapeSvg:h,bbox:f,halfPadding:p}=Tl(s,a,void 0,!0),b=h.insert("g",":first-child"),w=b.insert("circle"),C=b.insert("circle");return w.attr("style",a.style).attr("rx",a.rx).attr("ry",a.ry).attr("r",f.width/2+p+5).attr("width",f.width+a.padding+10).attr("height",f.height+a.padding+10),C.attr("style",a.style).attr("rx",a.rx).attr("ry",a.ry).attr("r",f.width/2+p).attr("width",f.width+a.padding).attr("height",f.height+a.padding),Me.info("DoubleCircle main"),da(a,w),a.intersect=function(A){return Me.info("DoubleCircle intersect",a,f.width/2+p+5,A),Ta_circle(a,f.width/2+p+5,A)},h},stadium:(s,a)=>{const{shapeSvg:h,bbox:f}=Tl(s,a,void 0,!0),p=f.height+a.padding,y=f.width+p/4+a.padding,b=h.insert("rect",":first-child").attr("style",a.style).attr("rx",p/2).attr("ry",p/2).attr("x",-y/2).attr("y",-p/2).attr("width",y).attr("height",p);return da(a,b),a.intersect=function(w){return Ta_rect(a,w)},h},hexagon:(s,a)=>{const{shapeSvg:h,bbox:f}=Tl(s,a,void 0,!0),y=f.height+a.padding,b=y/4,w=f.width+2*b+a.padding,C=[{x:b,y:0},{x:w-b,y:0},{x:w,y:-y/2},{x:w-b,y:-y},{x:b,y:-y},{x:0,y:-y/2}],A=If(h,w,y,C);return A.attr("style",a.style),da(a,A),a.intersect=function(V){return Ta_polygon(a,C,V)},h},rect_left_inv_arrow:(s,a)=>{const{shapeSvg:h,bbox:f}=Tl(s,a,void 0,!0),p=f.width+a.padding,y=f.height+a.padding,b=[{x:-y/2,y:0},{x:p,y:0},{x:p,y:-y},{x:-y/2,y:-y},{x:0,y:-y/2}];return If(h,p,y,b).attr("style",a.style),a.width=p+y,a.height=y,a.intersect=function(C){return Ta_polygon(a,b,C)},h},lean_right:(s,a)=>{const{shapeSvg:h,bbox:f}=Tl(s,a,void 0,!0),p=f.width+a.padding,y=f.height+a.padding,b=[{x:-2*y/6,y:0},{x:p-y/6,y:0},{x:p+2*y/6,y:-y},{x:y/6,y:-y}],w=If(h,p,y,b);return w.attr("style",a.style),da(a,w),a.intersect=function(C){return Ta_polygon(a,b,C)},h},lean_left:(s,a)=>{const{shapeSvg:h,bbox:f}=Tl(s,a,void 0,!0),p=f.width+a.padding,y=f.height+a.padding,b=[{x:2*y/6,y:0},{x:p+y/6,y:0},{x:p-2*y/6,y:-y},{x:-y/6,y:-y}],w=If(h,p,y,b);return w.attr("style",a.style),da(a,w),a.intersect=function(C){return Ta_polygon(a,b,C)},h},trapezoid:(s,a)=>{const{shapeSvg:h,bbox:f}=Tl(s,a,void 0,!0),p=f.width+a.padding,y=f.height+a.padding,b=[{x:-2*y/6,y:0},{x:p+2*y/6,y:0},{x:p-y/6,y:-y},{x:y/6,y:-y}],w=If(h,p,y,b);return w.attr("style",a.style),da(a,w),a.intersect=function(C){return Ta_polygon(a,b,C)},h},inv_trapezoid:(s,a)=>{const{shapeSvg:h,bbox:f}=Tl(s,a,void 0,!0),p=f.width+a.padding,y=f.height+a.padding,b=[{x:y/6,y:0},{x:p-y/6,y:0},{x:p+2*y/6,y:-y},{x:-2*y/6,y:-y}],w=If(h,p,y,b);return w.attr("style",a.style),da(a,w),a.intersect=function(C){return Ta_polygon(a,b,C)},h},rect_right_inv_arrow:(s,a)=>{const{shapeSvg:h,bbox:f}=Tl(s,a,void 0,!0),p=f.width+a.padding,y=f.height+a.padding,b=[{x:0,y:0},{x:p+y/2,y:0},{x:p,y:-y/2},{x:p+y/2,y:-y},{x:0,y:-y}],w=If(h,p,y,b);return w.attr("style",a.style),da(a,w),a.intersect=function(C){return Ta_polygon(a,b,C)},h},cylinder:(s,a)=>{const{shapeSvg:h,bbox:f}=Tl(s,a,void 0,!0),p=f.width+a.padding,y=p/2,b=y/(2.5+p/50),w=f.height+b+a.padding,C="M 0,"+b+" a "+y+","+b+" 0,0,0 "+p+" 0 a "+y+","+b+" 0,0,0 "+-p+" 0 l 0,"+w+" a "+y+","+b+" 0,0,0 "+p+" 0 l 0,"+-w,A=h.attr("label-offset-y",b).insert("path",":first-child").attr("style",a.style).attr("d",C).attr("transform","translate("+-p/2+","+-(w/2+b)+")");return da(a,A),a.intersect=function(V){const Y=Ta_rect(a,V),z=Y.x-a.x;if(0!=y&&(Math.abs(z)<a.width/2||Math.abs(z)==a.width/2&&Math.abs(Y.y-a.y)>a.height/2-b)){let X=b*b*(1-z*z/(y*y));0!=X&&(X=Math.sqrt(X)),X=b-X,V.y-a.y>0&&(X=-X),Y.y+=X}return Y},h},start:(s,a)=>{const h=s.insert("g").attr("class","node default").attr("id",a.domId||a.id),f=h.insert("circle",":first-child");return f.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),da(a,f),a.intersect=function(p){return Ta_circle(a,7,p)},h},end:(s,a)=>{const h=s.insert("g").attr("class","node default").attr("id",a.domId||a.id),f=h.insert("circle",":first-child"),p=h.insert("circle",":first-child");return p.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),f.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),da(a,p),a.intersect=function(y){return Ta_circle(a,7,y)},h},note:(s,a)=>{const{shapeSvg:h,bbox:f,halfPadding:p}=Tl(s,a,"node "+a.classes,!0);Me.info("Classes = ",a.classes);const y=h.insert("rect",":first-child");return y.attr("rx",a.rx).attr("ry",a.ry).attr("x",-f.width/2-p).attr("y",-f.height/2-p).attr("width",f.width+a.padding).attr("height",f.height+a.padding),da(a,y),a.intersect=function(b){return Ta_rect(a,b)},h},subroutine:(s,a)=>{const{shapeSvg:h,bbox:f}=Tl(s,a,void 0,!0),p=f.width+a.padding,y=f.height+a.padding,b=[{x:0,y:0},{x:p,y:0},{x:p,y:-y},{x:0,y:-y},{x:0,y:0},{x:-8,y:0},{x:p+8,y:0},{x:p+8,y:-y},{x:-8,y:-y},{x:-8,y:0}],w=If(h,p,y,b);return w.attr("style",a.style),da(a,w),a.intersect=function(C){return Ta_polygon(a,b,C)},h},fork:w1,join:w1,class_box:(s,a)=>{const h=a.padding/2;let y;y=a.classes?"node "+a.classes:"node default";const b=s.insert("g").attr("class",y).attr("id",a.domId||a.id),w=b.insert("rect",":first-child"),C=b.insert("line"),A=b.insert("line");let V=0,Y=4;const z=b.insert("g").attr("class","label");let X=0;const xe=a.classData.annotations&&a.classData.annotations[0],Oe=a.classData.annotations[0]?"\xab"+a.classData.annotations[0]+"\xbb":"",Fe=z.node().appendChild(Ha(Oe,a.labelStyle,!0,!0));let Ue=Fe.getBBox();if(Bo(ft().flowchart.htmlLabels)){const ct=Fe.children[0],ze=(0,F.Ltv)(Fe);Ue=ct.getBoundingClientRect(),ze.attr("width",Ue.width),ze.attr("height",Ue.height)}a.classData.annotations[0]&&(Y+=Ue.height+4,V+=Ue.width);let Ee=a.classData.id;void 0!==a.classData.type&&""!==a.classData.type&&(ft().flowchart.htmlLabels?Ee+="&lt;"+a.classData.type+"&gt;":Ee+="<"+a.classData.type+">");const nt=z.node().appendChild(Ha(Ee,a.labelStyle,!0,!0));(0,F.Ltv)(nt).attr("class","classTitle");let wt=nt.getBBox();if(Bo(ft().flowchart.htmlLabels)){const ct=nt.children[0],ze=(0,F.Ltv)(nt);wt=ct.getBoundingClientRect(),ze.attr("width",wt.width),ze.attr("height",wt.height)}Y+=wt.height+4,wt.width>V&&(V=wt.width);const Bt=[];a.classData.members.forEach(ct=>{const ze=Vp(ct);let Ze=ze.displayText;ft().flowchart.htmlLabels&&(Ze=Ze.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const We=z.node().appendChild(Ha(Ze,ze.cssStyle?ze.cssStyle:a.labelStyle,!0,!0));let ge=We.getBBox();if(Bo(ft().flowchart.htmlLabels)){const Qe=We.children[0],J=(0,F.Ltv)(We);ge=Qe.getBoundingClientRect(),J.attr("width",ge.width),J.attr("height",ge.height)}ge.width>V&&(V=ge.width),Y+=ge.height+4,Bt.push(We)}),Y+=8;const tn=[];if(a.classData.methods.forEach(ct=>{const ze=Vp(ct);let Ze=ze.displayText;ft().flowchart.htmlLabels&&(Ze=Ze.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const We=z.node().appendChild(Ha(Ze,ze.cssStyle?ze.cssStyle:a.labelStyle,!0,!0));let ge=We.getBBox();if(Bo(ft().flowchart.htmlLabels)){const Qe=We.children[0],J=(0,F.Ltv)(We);ge=Qe.getBoundingClientRect(),J.attr("width",ge.width),J.attr("height",ge.height)}ge.width>V&&(V=ge.width),Y+=ge.height+4,tn.push(We)}),Y+=8,xe){let ct=(V-Ue.width)/2;(0,F.Ltv)(Fe).attr("transform","translate( "+(-1*V/2+ct)+", "+-1*Y/2+")"),X=Ue.height+4}let ut=(V-wt.width)/2;return(0,F.Ltv)(nt).attr("transform","translate( "+(-1*V/2+ut)+", "+(-1*Y/2+X)+")"),X+=wt.height+4,C.attr("class","divider").attr("x1",-V/2-h).attr("x2",V/2+h).attr("y1",-Y/2-h+8+X).attr("y2",-Y/2-h+8+X),X+=8,Bt.forEach(ct=>{(0,F.Ltv)(ct).attr("transform","translate( "+-V/2+", "+(-1*Y/2+X+4)+")"),X+=wt.height+4}),X+=8,A.attr("class","divider").attr("x1",-V/2-h).attr("x2",V/2+h).attr("y1",-Y/2-h+8+X).attr("y2",-Y/2-h+8+X),X+=8,tn.forEach(ct=>{(0,F.Ltv)(ct).attr("transform","translate( "+-V/2+", "+(-1*Y/2+X)+")"),X+=wt.height+4}),w.attr("class","outer title-state").attr("x",-V/2-h).attr("y",-Y/2-h).attr("width",V+a.padding).attr("height",Y+a.padding),da(a,w),a.intersect=function(ct){return Ta_rect(a,ct)},b}};let Gg={};const Jm=(s,a,h)=>{let f,p;if(a.link){let y;"sandbox"===ft().securityLevel?y="_top":a.linkTarget&&(y=a.linkTarget||"_blank"),f=s.insert("svg:a").attr("xlink:href",a.link).attr("target",y),p=fv[a.shape](f,a,h)}else p=fv[a.shape](s,a,h),f=p;return a.tooltip&&p.attr("title",a.tooltip),a.class&&p.attr("class","node default "+a.class),Gg[a.id]=f,a.haveCallback&&Gg[a.id].attr("class",Gg[a.id].attr("class")+" clickable"),f},gv=s=>{const a=Gg[s.id];Me.trace("Transforming node",s.diff,s,"translate("+(s.x-s.width/2-5)+", "+s.width/2+")");const f=s.diff||0;return a.attr("transform",s.clusterNode?"translate("+(s.x+f-s.width/2)+", "+(s.y-s.height/2-8)+")":"translate("+s.x+", "+s.y+")"),f},oe={rect:(s,a)=>{Me.trace("Creating subgraph rect for ",a.id,a);const h=s.insert("g").attr("class","cluster"+(a.class?" "+a.class:"")).attr("id",a.id),f=h.insert("rect",":first-child"),p=h.insert("g").attr("class","cluster-label"),y=p.node().appendChild(Ha(a.labelText,a.labelStyle,void 0,!0));let b=y.getBBox();if(Bo(ft().flowchart.htmlLabels)){const Y=y.children[0],z=(0,F.Ltv)(y);b=Y.getBoundingClientRect(),z.attr("width",b.width),z.attr("height",b.height)}const w=0*a.padding,C=w/2,A=a.width<=b.width+w?b.width+w:a.width;a.diff=a.width<=b.width+w?(b.width-a.width)/2-a.padding/2:-a.padding/2,Me.trace("Data ",a,JSON.stringify(a)),f.attr("style",a.style).attr("rx",a.rx).attr("ry",a.ry).attr("x",a.x-A/2).attr("y",a.y-a.height/2-C).attr("width",A).attr("height",a.height+w),p.attr("transform","translate("+(a.x-b.width/2)+", "+(a.y-a.height/2)+")");const V=f.node().getBBox();return a.width=V.width,a.height=V.height,a.intersect=function(Y){return Lf(a,Y)},h},roundedWithTitle:(s,a)=>{const h=s.insert("g").attr("class",a.classes).attr("id",a.id),f=h.insert("rect",":first-child"),p=h.insert("g").attr("class","cluster-label"),y=h.append("rect"),b=p.node().appendChild(Ha(a.labelText,a.labelStyle,void 0,!0));let w=b.getBBox();if(Bo(ft().flowchart.htmlLabels)){const z=b.children[0],X=(0,F.Ltv)(b);w=z.getBoundingClientRect(),X.attr("width",w.width),X.attr("height",w.height)}w=b.getBBox();const C=0*a.padding,A=C/2,V=a.width<=w.width+a.padding?w.width+a.padding:a.width;a.diff=a.width<=w.width+a.padding?(w.width+0*a.padding-a.width)/2:-a.padding/2,f.attr("class","outer").attr("x",a.x-V/2-A).attr("y",a.y-a.height/2-A).attr("width",V+C).attr("height",a.height+C),y.attr("class","inner").attr("x",a.x-V/2-A).attr("y",a.y-a.height/2-A+w.height-1).attr("width",V+C).attr("height",a.height+C-w.height-3),p.attr("transform","translate("+(a.x-w.width/2)+", "+(a.y-a.height/2-a.padding/3+(Bo(ft().flowchart.htmlLabels)?5:3))+")");const Y=f.node().getBBox();return a.height=Y.height,a.intersect=function(z){return Lf(a,z)},h},noteGroup:(s,a)=>{const h=s.insert("g").attr("class","note-cluster").attr("id",a.id),f=h.insert("rect",":first-child"),p=0*a.padding,y=p/2;f.attr("rx",a.rx).attr("ry",a.ry).attr("x",a.x-a.width/2-y).attr("y",a.y-a.height/2-y).attr("width",a.width+p).attr("height",a.height+p).attr("fill","none");const b=f.node().getBBox();return a.width=b.width,a.height=b.height,a.intersect=function(w){return Lf(a,w)},h},divider:(s,a)=>{const h=s.insert("g").attr("class",a.classes).attr("id",a.id),f=h.insert("rect",":first-child"),p=0*a.padding,y=p/2;f.attr("class","divider").attr("x",a.x-a.width/2-y).attr("y",a.y-a.height/2).attr("width",a.width+p).attr("height",a.height+p);const b=f.node().getBBox();return a.width=b.width,a.height=b.height,a.diff=-a.padding/2,a.intersect=function(w){return Lf(a,w)},h}};let de={},Ye={},je={};const Zt=(s,a)=>{const h=Ha(a.label,a.labelStyle),f=s.insert("g").attr("class","edgeLabel"),p=f.insert("g").attr("class","label");p.node().appendChild(h);let b,y=h.getBBox();if(Bo(ft().flowchart.htmlLabels)){const w=h.children[0],C=(0,F.Ltv)(h);y=w.getBoundingClientRect(),C.attr("width",y.width),C.attr("height",y.height)}if(p.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),Ye[a.id]=f,a.width=y.width,a.height=y.height,a.startLabelLeft){const w=Ha(a.startLabelLeft,a.labelStyle),C=s.insert("g").attr("class","edgeTerminals"),A=C.insert("g").attr("class","inner");b=A.node().appendChild(w);const V=w.getBBox();A.attr("transform","translate("+-V.width/2+", "+-V.height/2+")"),je[a.id]||(je[a.id]={}),je[a.id].startLeft=C,Lt(b,a.startLabelLeft)}if(a.startLabelRight){const w=Ha(a.startLabelRight,a.labelStyle),C=s.insert("g").attr("class","edgeTerminals"),A=C.insert("g").attr("class","inner");b=C.node().appendChild(w),A.node().appendChild(w);const V=w.getBBox();A.attr("transform","translate("+-V.width/2+", "+-V.height/2+")"),je[a.id]||(je[a.id]={}),je[a.id].startRight=C,Lt(b,a.startLabelRight)}if(a.endLabelLeft){const w=Ha(a.endLabelLeft,a.labelStyle),C=s.insert("g").attr("class","edgeTerminals"),A=C.insert("g").attr("class","inner");b=A.node().appendChild(w);const V=w.getBBox();A.attr("transform","translate("+-V.width/2+", "+-V.height/2+")"),C.node().appendChild(w),je[a.id]||(je[a.id]={}),je[a.id].endLeft=C,Lt(b,a.endLabelLeft)}if(a.endLabelRight){const w=Ha(a.endLabelRight,a.labelStyle),C=s.insert("g").attr("class","edgeTerminals"),A=C.insert("g").attr("class","inner");b=A.node().appendChild(w);const V=w.getBBox();A.attr("transform","translate("+-V.width/2+", "+-V.height/2+")"),C.node().appendChild(w),je[a.id]||(je[a.id]={}),je[a.id].endRight=C,Lt(b,a.endLabelRight)}return h};function Lt(s,a){ft().flowchart.htmlLabels&&s&&(s.style.width=9*a.length+"px",s.style.height="12px")}const Rn=(s,a)=>{Me.warn("abc88 cutPathAtIntersect",s,a);let h=[],f=s[0],p=!1;return s.forEach(y=>{if(Me.info("abc88 checking point",y,a),((s,a)=>{const f=s.y,p=Math.abs(a.x-s.x),y=Math.abs(a.y-f);return p>=s.width/2||y>=s.height/2})(a,y)||p)Me.warn("abc88 outside",y,f),f=y,p||h.push(y);else{const b=((s,a,h)=>{Me.warn(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(a)}\n  insidePoint : ${JSON.stringify(h)}\n  node        : x:${s.x} y:${s.y} w:${s.width} h:${s.height}`);const f=s.x,p=s.y,y=Math.abs(f-h.x),b=s.width/2;let w=h.x<a.x?b-y:b+y;const C=s.height/2,A=Math.abs(a.y-h.y),V=Math.abs(a.x-h.x);if(Math.abs(p-a.y)*b>Math.abs(f-a.x)*C){let Y=h.y<a.y?a.y-C-p:p-C-a.y;w=V*Y/A;const z={x:h.x<a.x?h.x+w:h.x-V+w,y:h.y<a.y?h.y+A-Y:h.y-A+Y};return 0===w&&(z.x=a.x,z.y=a.y),0===V&&(z.x=a.x),0===A&&(z.y=a.y),Me.warn(`abc89 topp/bott calc, Q ${A}, q ${Y}, R ${V}, r ${w}`,z),z}{w=h.x<a.x?a.x-b-f:f-b-a.x;let Y=A*w/V,z=h.x<a.x?h.x+V-w:h.x-V+w,X=h.y<a.y?h.y+Y:h.y-Y;return Me.warn(`sides calc abc89, Q ${A}, q ${Y}, R ${V}, r ${w}`,{_x:z,_y:X}),0===w&&(z=a.x,X=a.y),0===V&&(z=a.x),0===A&&(X=a.y),{x:z,y:X}}})(a,f,y);Me.warn("abc88 inside",y,f,b),Me.warn("abc88 intersection",b);let w=!1;h.forEach(C=>{w=w||C.x===b.x&&C.y===b.y}),h.some(C=>C.x===b.x&&C.y===b.y)?Me.warn("abc88 no intersect",b,h):h.push(b),p=!0}}),Me.warn("abc88 returning points",h),h},yi=(s,a,h,f)=>{Me.info("Graph in recursive render: XXX",$i.M(a),f);const p=a.graph().rankdir;Me.trace("Dir in recursive render - dir:",p);const y=s.insert("g").attr("class","root");a.nodes()?Me.info("Recursive render XXX",a.nodes()):Me.info("No nodes found for",a),a.edges().length>0&&Me.trace("Recursive edges",a.edge(a.edges()[0]));const b=y.insert("g").attr("class","clusters"),w=y.insert("g").attr("class","edgePaths"),C=y.insert("g").attr("class","edgeLabels"),A=y.insert("g").attr("class","nodes");a.nodes().forEach(function(Y){const z=a.node(Y);if(void 0!==f){const X=JSON.parse(JSON.stringify(f.clusterData));Me.info("Setting data for cluster XXX (",Y,") ",X,f),a.setNode(f.id,X),a.parent(Y)||(Me.trace("Setting parent",Y,f.id),a.setParent(Y,f.id,X))}if(Me.info("(Insert) Node XXX"+Y+": "+JSON.stringify(a.node(Y))),z&&z.clusterNode){Me.info("Cluster identified",Y,z.width,a.node(Y));const X=yi(A,z.graph,h,a.node(Y)),xe=X.elem;da(z,xe),z.diff=X.diff||0,Me.info("Node bounds (abc123)",Y,z,z.width,z.x,z.y),((s,a)=>{Gg[a.id]=s})(xe,z),Me.warn("Recursive render complete ",xe,z)}else a.children(Y).length>0?(Me.info("Cluster - the non recursive path XXX",Y,z.id,z,a),Me.info(Nf(z.id,a)),zs[z.id]={id:Nf(z.id,a),node:z}):(Me.info("Node - the non recursive path",Y,z.id,z),Jm(A,a.node(Y),p))}),a.edges().forEach(function(Y){const z=a.edge(Y.v,Y.w,Y.name);Me.info("Edge "+Y.v+" -> "+Y.w+": "+JSON.stringify(Y)),Me.info("Edge "+Y.v+" -> "+Y.w+": ",Y," ",JSON.stringify(a.edge(Y))),Me.info("Fix",zs,"ids:",Y.v,Y.w,"Translateing: ",zs[Y.v],zs[Y.w]),Zt(C,z)}),a.edges().forEach(function(Y){Me.info("Edge "+Y.v+" -> "+Y.w+": "+JSON.stringify(Y))}),Me.info("#############################################"),Me.info("###                Layout                 ###"),Me.info("#############################################"),Me.info(a),(0,ii.Zp)(a),Me.info("Graph after layout:",$i.M(a));let V=0;return(s=>Wg(s,s.children()))(a).forEach(function(Y){const z=a.node(Y);Me.info("Position "+Y+": "+JSON.stringify(a.node(Y))),Me.info("Position "+Y+": ("+z.x,","+z.y,") width: ",z.width," height: ",z.height),z&&z.clusterNode?gv(z):a.children(Y).length>0?(((s,a)=>{Me.trace("Inserting cluster"),de[a.id]=oe[a.shape||"rect"](s,a)})(b,z),zs[z.id].node=z):gv(z)}),a.edges().forEach(function(Y){const z=a.edge(Y);Me.info("Edge "+Y.v+" -> "+Y.w+": "+JSON.stringify(z),z);const X=function(s,a,h,f,p,y){let b=h.points,w=!1;const C=y.node(a.v);var A=y.node(a.w);Me.info("abc88 InsertEdge: ",h),A.intersect&&C.intersect&&(b=b.slice(1,h.points.length-1),b.unshift(C.intersect(b[0])),Me.info("Last point",b[b.length-1],A,A.intersect(b[b.length-1])),b.push(A.intersect(b[b.length-1]))),h.toCluster&&(Me.info("to cluster abc88",f[h.toCluster]),b=Rn(h.points,f[h.toCluster].node),w=!0),h.fromCluster&&(Me.info("from cluster abc88",f[h.fromCluster]),b=Rn(b.reverse(),f[h.fromCluster].node).reverse(),w=!0);const V=b.filter(Ue=>!Number.isNaN(Ue.y));let Y;Y=("graph"===p||"flowchart"===p)&&h.curve||F.qrM;const z=(0,F.n8j)().x(function(Ue){return Ue.x}).y(function(Ue){return Ue.y}).curve(Y);let X;switch(h.thickness){case"normal":X="edge-thickness-normal";break;case"thick":X="edge-thickness-thick";break;default:X=""}switch(h.pattern){case"solid":X+=" edge-pattern-solid";break;case"dotted":X+=" edge-pattern-dotted";break;case"dashed":X+=" edge-pattern-dashed"}const xe=s.append("path").attr("d",z(V)).attr("id",h.id).attr("class"," "+X+(h.classes?" "+h.classes:"")).attr("style",h.style);let Oe="";switch((ft().flowchart.arrowMarkerAbsolute||ft().state.arrowMarkerAbsolute)&&(Oe=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Oe=Oe.replace(/\(/g,"\\("),Oe=Oe.replace(/\)/g,"\\)")),Me.info("arrowTypeStart",h.arrowTypeStart),Me.info("arrowTypeEnd",h.arrowTypeEnd),h.arrowTypeStart){case"arrow_cross":xe.attr("marker-start","url("+Oe+"#"+p+"-crossStart)");break;case"arrow_point":xe.attr("marker-start","url("+Oe+"#"+p+"-pointStart)");break;case"arrow_barb":xe.attr("marker-start","url("+Oe+"#"+p+"-barbStart)");break;case"arrow_circle":xe.attr("marker-start","url("+Oe+"#"+p+"-circleStart)");break;case"aggregation":xe.attr("marker-start","url("+Oe+"#"+p+"-aggregationStart)");break;case"extension":xe.attr("marker-start","url("+Oe+"#"+p+"-extensionStart)");break;case"composition":xe.attr("marker-start","url("+Oe+"#"+p+"-compositionStart)");break;case"dependency":xe.attr("marker-start","url("+Oe+"#"+p+"-dependencyStart)");break;case"lollipop":xe.attr("marker-start","url("+Oe+"#"+p+"-lollipopStart)")}switch(h.arrowTypeEnd){case"arrow_cross":xe.attr("marker-end","url("+Oe+"#"+p+"-crossEnd)");break;case"arrow_point":xe.attr("marker-end","url("+Oe+"#"+p+"-pointEnd)");break;case"arrow_barb":xe.attr("marker-end","url("+Oe+"#"+p+"-barbEnd)");break;case"arrow_circle":xe.attr("marker-end","url("+Oe+"#"+p+"-circleEnd)");break;case"aggregation":xe.attr("marker-end","url("+Oe+"#"+p+"-aggregationEnd)");break;case"extension":xe.attr("marker-end","url("+Oe+"#"+p+"-extensionEnd)");break;case"composition":xe.attr("marker-end","url("+Oe+"#"+p+"-compositionEnd)");break;case"dependency":xe.attr("marker-end","url("+Oe+"#"+p+"-dependencyEnd)");break;case"lollipop":xe.attr("marker-end","url("+Oe+"#"+p+"-lollipopEnd)")}let Fe={};return w&&(Fe.updatedPath=b),Fe.originalPath=h.points,Fe}(w,Y,z,zs,h,a);((s,a)=>{Me.info("Moving label abc78 ",s.id,s.label,Ye[s.id]);let h=a.updatedPath?a.updatedPath:a.originalPath;if(s.label){const f=Ye[s.id];let p=s.x,y=s.y;if(h){const b=Hr.calcLabelPosition(h);Me.info("Moving label "+s.label+" from (",p,",",y,") to (",b.x,",",b.y,") abc78"),a.updatedPath&&(p=b.x,y=b.y)}f.attr("transform","translate("+p+", "+y+")")}if(s.startLabelLeft){const f=je[s.id].startLeft;let p=s.x,y=s.y;if(h){const b=Hr.calcTerminalLabelPosition(s.arrowTypeStart?10:0,"start_left",h);p=b.x,y=b.y}f.attr("transform","translate("+p+", "+y+")")}if(s.startLabelRight){const f=je[s.id].startRight;let p=s.x,y=s.y;if(h){const b=Hr.calcTerminalLabelPosition(s.arrowTypeStart?10:0,"start_right",h);p=b.x,y=b.y}f.attr("transform","translate("+p+", "+y+")")}if(s.endLabelLeft){const f=je[s.id].endLeft;let p=s.x,y=s.y;if(h){const b=Hr.calcTerminalLabelPosition(s.arrowTypeEnd?10:0,"end_left",h);p=b.x,y=b.y}f.attr("transform","translate("+p+", "+y+")")}if(s.endLabelRight){const f=je[s.id].endRight;let p=s.x,y=s.y;if(h){const b=Hr.calcTerminalLabelPosition(s.arrowTypeEnd?10:0,"end_right",h);p=b.x,y=b.y}f.attr("transform","translate("+p+", "+y+")")}})(z,X)}),a.nodes().forEach(function(Y){const z=a.node(Y);Me.info(Y,z.type,z.diff),"group"===z.type&&(V=z.diff)}),{elem:y,diff:V}},$n=(s,a,h,f,p)=>{z_(s,h,f,p),Gg={},Ye={},je={},de={},hu={},Y_={},zs={},Me.warn("Graph at first:",$i.M(a)),((s,a)=>{s?(Me.debug("Opting in, graph "),s.nodes().forEach(function(h){s.children(h).length>0&&(Me.warn("Cluster identified",h," Replacement id in edges: ",Nf(h,s)),hu[h]=m1(h,s),zs[h]={id:Nf(h,s),clusterData:s.node(h)})}),s.nodes().forEach(function(h){const f=s.children(h),p=s.edges();f.length>0?(Me.debug("Cluster identified",h,hu),p.forEach(y=>{y.v!==h&&y.w!==h&&jp(y.v,h)^jp(y.w,h)&&(Me.warn("Edge: ",y," leaves cluster ",h),Me.warn("Decendants of XXX ",h,": ",hu[h]),zs[h].externalConnections=!0)})):Me.debug("Not a cluster ",h,hu)}),s.edges().forEach(function(h){const f=s.edge(h);Me.warn("Edge "+h.v+" -> "+h.w+": "+JSON.stringify(h)),Me.warn("Edge "+h.v+" -> "+h.w+": "+JSON.stringify(s.edge(h)));let p=h.v,y=h.w;if(Me.warn("Fix XXX",zs,"ids:",h.v,h.w,"Translating: ",zs[h.v]," --- ",zs[h.w]),zs[h.v]&&zs[h.w]&&zs[h.v]===zs[h.w]){Me.warn("Fixing and trixing link to self - removing XXX",h.v,h.w,h.name),Me.warn("Fixing and trixing - removing XXX",h.v,h.w,h.name),p=Rf(h.v),y=Rf(h.w),s.removeEdge(h.v,h.w,h.name);const b=h.w+"---"+h.v;s.setNode(b,{domId:b,id:b,labelStyle:"",labelText:f.label,padding:0,shape:"labelRect",style:""});const w=JSON.parse(JSON.stringify(f)),C=JSON.parse(JSON.stringify(f));w.label="",w.arrowTypeEnd="none",C.label="",w.fromCluster=h.v,C.toCluster=h.v,s.setEdge(p,b,w,h.name+"-cyclic-special"),s.setEdge(b,y,C,h.name+"-cyclic-special")}else(zs[h.v]||zs[h.w])&&(Me.warn("Fixing and trixing - removing XXX",h.v,h.w,h.name),p=Rf(h.v),y=Rf(h.w),s.removeEdge(h.v,h.w,h.name),p!==h.v&&(f.fromCluster=h.v),y!==h.w&&(f.toCluster=h.w),Me.warn("Fix Replacing with XXX",p,y,h.name),s.setEdge(p,y,f,h.name))}),Me.warn("Adjusted Graph",$i.M(s)),Up(s,0),Me.trace(zs)):Me.debug("Opting out, no graph ")})(a),Me.warn("Graph after:",$i.M(a)),yi(s,a,f)},bi=s=>sr.sanitizeText(s,ft());let gi={dividerMargin:10,padding:5,textHeight:10};function Ri(s){let a;switch(s){case 0:a="aggregation";break;case 1:a="extension";break;case 2:a="composition";break;case 3:a="dependency";break;case 4:a="lollipop";break;default:a="none"}return a}const Ds={setConf:function(s){Object.keys(s).forEach(function(h){gi[h]=s[h]})},draw:function(s,a,h,f){Me.info("Drawing class - ",a);const p=ft().flowchart,y=ft().securityLevel;Me.info("config:",p);const b=p.nodeSpacing||50,w=p.rankSpacing||50,C=new Ji.T({multigraph:!0,compound:!0}).setGraph({rankdir:f.db.getDirection(),nodesep:b,ranksep:w,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),A=f.db.getClasses(),V=f.db.getRelations(),Y=f.db.getNotes();let z;Me.info(V),function(s,a,h,f){const p=Object.keys(s);Me.info("keys:",p),Me.info(s),p.forEach(function(y){const b=s[y];let w="";b.cssClasses.length>0&&(w=w+" "+b.cssClasses.join(" "));const C={labelStyle:""};let A=void 0!==b.text?b.text:b.id,Y="";Y="class_box",a.setNode(b.id,{labelStyle:C.labelStyle,shape:Y,labelText:bi(A),classData:b,rx:0,ry:0,class:w,style:C.style,id:b.id,domId:b.domId,tooltip:f.db.getTooltip(b.id)||"",haveCallback:b.haveCallback,link:b.link,width:"group"===b.type?500:void 0,type:b.type,padding:ft().flowchart.padding}),Me.info("setNode",{labelStyle:C.labelStyle,shape:Y,labelText:A,rx:0,ry:0,class:w,style:C.style,id:b.id,width:"group"===b.type?500:void 0,type:b.type,padding:ft().flowchart.padding})})}(A,C,0,f),function(s,a){const h=ft().flowchart;let f=0;s.forEach(function(p){f++;const y={classes:"relation"};y.pattern=1==p.relation.lineType?"dashed":"solid",y.id="id"+f,y.arrowhead="arrow_open"===p.type?"none":"normal",Me.info(y,p),y.startLabelRight="none"===p.relationTitle1?"":p.relationTitle1,y.endLabelLeft="none"===p.relationTitle2?"":p.relationTitle2,y.arrowTypeStart=Ri(p.relation.type1),y.arrowTypeEnd=Ri(p.relation.type2);let b="",w="";if(void 0!==p.style){const C=ol(p.style);b=C.style,w=C.labelStyle}else b="fill:none";y.style=b,y.labelStyle=w,y.curve=tr(void 0!==p.interpolate?p.interpolate:void 0!==s.defaultInterpolate?s.defaultInterpolate:h.curve,F.lUB),p.text=p.title,void 0===p.text?void 0!==p.style&&(y.arrowheadStyle="fill: #333"):(y.arrowheadStyle="fill: #333",y.labelpos="c",ft().flowchart.htmlLabels?(y.labelType="html",y.label='<span class="edgeLabel">'+p.text+"</span>"):(y.labelType="text",y.label=p.text.replace(sr.lineBreakRegex,"\n"),void 0===p.style&&(y.style=y.style||"stroke: #333; stroke-width: 1.5px;fill:none"),y.labelStyle=y.labelStyle.replace("color:","fill:"))),a.setEdge(p.id1,p.id2,y,f)})}(V,C),function(s,a,h,f){Me.info(s),s.forEach(function(p,y){const b=p;let A=b.text,Y="note";if(a.setNode(b.id,{labelStyle:"",shape:Y,labelText:bi(A),noteData:b,rx:0,ry:0,class:"",style:"",id:b.id,domId:b.id,tooltip:"",type:"note",padding:ft().flowchart.padding}),Me.info("setNode",{labelStyle:"",shape:Y,labelText:A,rx:0,ry:0,style:"",id:b.id,type:"note",padding:ft().flowchart.padding}),!b.class||!(b.class in f))return;const z=h+y,X={classes:"relation",pattern:"dotted"};X.id=`edgeNote${z}`,X.arrowhead="none",Me.info(`Note edge: ${JSON.stringify(X)}, ${JSON.stringify(b)}`),X.startLabelRight="",X.endLabelLeft="",X.arrowTypeStart="none",X.arrowTypeEnd="none",X.style="fill:none",X.labelStyle="",X.curve=tr(gi.curve,F.lUB),a.setEdge(b.id,b.class,X,z)})}(Y,C,V.length+1,A),"sandbox"===y&&(z=(0,F.Ltv)("#i"+a));const X=(0,F.Ltv)("sandbox"===y?z.nodes()[0].contentDocument.body:"body"),xe=X.select(`[id="${a}"]`),Oe=X.select("#"+a+" g");if($n(Oe,C,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",a),Hr.insertTitle(xe,"classTitleText",p.titleTopMargin,f.db.getDiagramTitle()),Mh(C,xe,p.diagramPadding,p.useMaxWidth),!p.htmlLabels){const Fe="sandbox"===y?z.nodes()[0].contentDocument:document,Ue=Fe.querySelectorAll('[id="'+a+'"] .edgeLabel .label');for(const Ee of Ue){const nt=Ee.getBBox(),wt=Fe.createElementNS("http://www.w3.org/2000/svg","rect");wt.setAttribute("rx",0),wt.setAttribute("ry",0),wt.setAttribute("width",nt.width),wt.setAttribute("height",nt.height),Ee.insertBefore(wt,Ee.firstChild)}}}};var hi=function(){var s=function(We,ge,Qe,J){for(Qe=Qe||{},J=We.length;J--;Qe[We[J]]=ge);return Qe},a=[1,2],h=[1,5],f=[6,9,11,23,25,27,29,30,31,51],p=[1,17],y=[1,18],b=[1,19],w=[1,20],C=[1,21],A=[1,22],V=[1,25],Y=[1,30],z=[1,31],X=[1,32],xe=[1,33],Oe=[6,9,11,15,20,23,25,27,29,30,31,44,45,46,47,51],Fe=[1,45],Ue=[30,31,48,49],Ee=[4,6,9,11,23,25,27,29,30,31,51],nt=[44,45,46,47],wt=[22,37],Bt=[1,65],tn=[1,64],ut=[22,37,39,41],ct={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,ENTITY_NAME:31,attribute:32,attributeType:33,attributeName:34,attributeKeyTypeList:35,attributeComment:36,ATTRIBUTE_WORD:37,attributeKeyType:38,COMMA:39,ATTRIBUTE_KEY:40,COMMENT:41,cardinality:42,relType:43,ZERO_OR_ONE:44,ZERO_OR_MORE:45,ONE_OR_MORE:46,ONLY_ONE:47,NON_IDENTIFYING:48,IDENTIFYING:49,WORD:50,open_directive:51,type_directive:52,arg_directive:53,close_directive:54,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:"ENTITY_NAME",37:"ATTRIBUTE_WORD",39:"COMMA",40:"ATTRIBUTE_KEY",41:"COMMENT",44:"ZERO_OR_ONE",45:"ZERO_OR_MORE",46:"ONE_OR_MORE",47:"ONLY_ONE",48:"NON_IDENTIFYING",49:"IDENTIFYING",50:"WORD",51:"open_directive",52:"type_directive",53:"arg_directive",54:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,1],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[35,3],[38,1],[36,1],[18,3],[42,1],[42,1],[42,1],[42,1],[43,1],[43,1],[19,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(ge,Qe,J,pt,ae,Tt,Jn){var Kt=Tt.length-1;switch(ae){case 1:break;case 3:case 7:case 8:this.$=[];break;case 4:Tt[Kt-1].push(Tt[Kt]),this.$=Tt[Kt-1];break;case 5:case 6:case 20:case 43:case 28:case 29:case 32:this.$=Tt[Kt];break;case 12:pt.addEntity(Tt[Kt-4]),pt.addEntity(Tt[Kt-2]),pt.addRelationship(Tt[Kt-4],Tt[Kt],Tt[Kt-2],Tt[Kt-3]);break;case 13:pt.addEntity(Tt[Kt-3]),pt.addAttributes(Tt[Kt-3],Tt[Kt-1]);break;case 14:pt.addEntity(Tt[Kt-2]);break;case 15:pt.addEntity(Tt[Kt]);break;case 16:case 17:this.$=Tt[Kt].trim(),pt.setAccTitle(this.$);break;case 18:case 19:this.$=Tt[Kt].trim(),pt.setAccDescription(this.$);break;case 21:case 41:case 42:case 33:this.$=Tt[Kt].replace(/"/g,"");break;case 22:case 30:this.$=[Tt[Kt]];break;case 23:Tt[Kt].push(Tt[Kt-1]),this.$=Tt[Kt];break;case 24:this.$={attributeType:Tt[Kt-1],attributeName:Tt[Kt]};break;case 25:this.$={attributeType:Tt[Kt-2],attributeName:Tt[Kt-1],attributeKeyTypeList:Tt[Kt]};break;case 26:this.$={attributeType:Tt[Kt-2],attributeName:Tt[Kt-1],attributeComment:Tt[Kt]};break;case 27:this.$={attributeType:Tt[Kt-3],attributeName:Tt[Kt-2],attributeKeyTypeList:Tt[Kt-1],attributeComment:Tt[Kt]};break;case 31:Tt[Kt-2].push(Tt[Kt]),this.$=Tt[Kt-2];break;case 34:this.$={cardA:Tt[Kt],relType:Tt[Kt-1],cardB:Tt[Kt-2]};break;case 35:this.$=pt.Cardinality.ZERO_OR_ONE;break;case 36:this.$=pt.Cardinality.ZERO_OR_MORE;break;case 37:this.$=pt.Cardinality.ONE_OR_MORE;break;case 38:this.$=pt.Cardinality.ONLY_ONE;break;case 39:this.$=pt.Identification.NON_IDENTIFYING;break;case 40:this.$=pt.Identification.IDENTIFYING;break;case 44:pt.parseDirective("%%{","open_directive");break;case 45:pt.parseDirective(Tt[Kt],"type_directive");break;case 46:Tt[Kt]=Tt[Kt].trim().replace(/'/g,'"'),pt.parseDirective(Tt[Kt],"arg_directive");break;case 47:pt.parseDirective("}%%","close_directive","er")}},table:[{3:1,4:a,7:3,12:4,51:h},{1:[3]},s(f,[2,3],{5:6}),{3:7,4:a,7:3,12:4,51:h},{13:8,52:[1,9]},{52:[2,44]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:p,25:y,27:b,29:w,30:C,31:A,51:h},{1:[2,2]},{14:23,15:[1,24],54:V},s([15,54],[2,45]),s(f,[2,8],{1:[2,1]}),s(f,[2,4]),{7:15,10:26,12:4,17:16,23:p,25:y,27:b,29:w,30:C,31:A,51:h},s(f,[2,6]),s(f,[2,7]),s(f,[2,11]),s(f,[2,15],{18:27,42:29,20:[1,28],44:Y,45:z,46:X,47:xe}),{24:[1,34]},{26:[1,35]},{28:[1,36]},s(f,[2,19]),s(Oe,[2,20]),s(Oe,[2,21]),{11:[1,37]},{16:38,53:[1,39]},{11:[2,47]},s(f,[2,5]),{17:40,30:C,31:A},{21:41,22:[1,42],32:43,33:44,37:Fe},{43:46,48:[1,47],49:[1,48]},s(Ue,[2,35]),s(Ue,[2,36]),s(Ue,[2,37]),s(Ue,[2,38]),s(f,[2,16]),s(f,[2,17]),s(f,[2,18]),s(Ee,[2,9]),{14:49,54:V},{54:[2,46]},{15:[1,50]},{22:[1,51]},s(f,[2,14]),{21:52,22:[2,22],32:43,33:44,37:Fe},{34:53,37:[1,54]},{37:[2,28]},{42:55,44:Y,45:z,46:X,47:xe},s(nt,[2,39]),s(nt,[2,40]),{11:[1,56]},{19:57,30:[1,60],31:[1,59],50:[1,58]},s(f,[2,13]),{22:[2,23]},s(wt,[2,24],{35:61,36:62,38:63,40:Bt,41:tn}),s([22,37,40,41],[2,29]),s([30,31],[2,34]),s(Ee,[2,10]),s(f,[2,12]),s(f,[2,41]),s(f,[2,42]),s(f,[2,43]),s(wt,[2,25],{36:66,39:[1,67],41:tn}),s(wt,[2,26]),s(ut,[2,30]),s(wt,[2,33]),s(ut,[2,32]),s(wt,[2,27]),{38:68,40:Bt},s(ut,[2,31])],defaultActions:{5:[2,44],7:[2,2],25:[2,47],39:[2,46],45:[2,28],52:[2,23]},parseError:function(ge,Qe){if(!Qe.recoverable){var J=new Error(ge);throw J.hash=Qe,J}this.trace(ge)},parse:function(ge){var J=[0],pt=[],ae=[null],Tt=[],Jn=this.table,Kt="",nn=0,B=0,zn=Tt.slice.call(arguments,1),On=Object.create(this.lexer),Ft={yy:{}};for(var or in this.yy)Object.prototype.hasOwnProperty.call(this.yy,or)&&(Ft.yy[or]=this.yy[or]);On.setInput(ge,Ft.yy),Ft.yy.lexer=On,Ft.yy.parser=this,typeof On.yylloc>"u"&&(On.yylloc={});var xt=On.yylloc;Tt.push(xt);var qn,bn=On.options&&On.options.ranges;this.parseError="function"==typeof Ft.yy.parseError?Ft.yy.parseError:Object.getPrototypeOf(this).parseError;for(var Yt,ht,qe,tt,Cn,Te,Ut,Re={};;){if(this.defaultActions[ht=J[J.length-1]]?qe=this.defaultActions[ht]:((null===Yt||typeof Yt>"u")&&(qn=void 0,"number"!=typeof(qn=pt.pop()||On.lex()||1)&&(qn instanceof Array&&(qn=(pt=qn).pop()),qn=this.symbols_[qn]||qn),Yt=qn),qe=Jn[ht]&&Jn[ht][Yt]),typeof qe>"u"||!qe.length||!qe[0]){var fi;for(Cn in Ut=[],Jn[ht])this.terminals_[Cn]&&Cn>2&&Ut.push("'"+this.terminals_[Cn]+"'");fi=On.showPosition?"Parse error on line "+(nn+1)+":\n"+On.showPosition()+"\nExpecting "+Ut.join(", ")+", got '"+(this.terminals_[Yt]||Yt)+"'":"Parse error on line "+(nn+1)+": Unexpected "+(1==Yt?"end of input":"'"+(this.terminals_[Yt]||Yt)+"'"),this.parseError(fi,{text:On.match,token:this.terminals_[Yt]||Yt,line:On.yylineno,loc:xt,expected:Ut})}if(qe[0]instanceof Array&&qe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ht+", token: "+Yt);switch(qe[0]){case 1:J.push(Yt),ae.push(On.yytext),Tt.push(On.yylloc),J.push(qe[1]),Yt=null,B=On.yyleng,Kt=On.yytext,nn=On.yylineno,xt=On.yylloc;break;case 2:if(Re.$=ae[ae.length-(Te=this.productions_[qe[1]][1])],Re._$={first_line:Tt[Tt.length-(Te||1)].first_line,last_line:Tt[Tt.length-1].last_line,first_column:Tt[Tt.length-(Te||1)].first_column,last_column:Tt[Tt.length-1].last_column},bn&&(Re._$.range=[Tt[Tt.length-(Te||1)].range[0],Tt[Tt.length-1].range[1]]),typeof(tt=this.performAction.apply(Re,[Kt,B,nn,Ft.yy,qe[1],ae,Tt].concat(zn)))<"u")return tt;Te&&(J=J.slice(0,-1*Te*2),ae=ae.slice(0,-1*Te),Tt=Tt.slice(0,-1*Te)),J.push(this.productions_[qe[1]][0]),ae.push(Re.$),Tt.push(Re._$),J.push(Jn[J[J.length-2]][J[J.length-1]]);break;case 3:return!0}}return!0}};function Ze(){this.yy={}}return ct.lexer=function(){return{EOF:1,parseError:function(Qe,J){if(!this.yy.parser)throw new Error(Qe);this.yy.parser.parseError(Qe,J)},setInput:function(ge,Qe){return this.yy=Qe||this.yy||{},this._input=ge,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ge=this._input[0];return this.yytext+=ge,this.yyleng++,this.offset++,this.match+=ge,this.matched+=ge,ge.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ge},unput:function(ge){var Qe=ge.length,J=ge.split(/(?:\r\n?|\n)/g);this._input=ge+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Qe),this.offset-=Qe;var pt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),J.length-1&&(this.yylineno-=J.length-1);var ae=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:J?(J.length===pt.length?this.yylloc.first_column:0)+pt[pt.length-J.length].length-J[0].length:this.yylloc.first_column-Qe},this.options.ranges&&(this.yylloc.range=[ae[0],ae[0]+this.yyleng-Qe]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(ge){this.unput(this.match.slice(ge))},pastInput:function(){var ge=this.matched.substr(0,this.matched.length-this.match.length);return(ge.length>20?"...":"")+ge.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ge=this.match;return ge.length<20&&(ge+=this._input.substr(0,20-ge.length)),(ge.substr(0,20)+(ge.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ge=this.pastInput(),Qe=new Array(ge.length+1).join("-");return ge+this.upcomingInput()+"\n"+Qe+"^"},test_match:function(ge,Qe){var J,pt,ae;if(this.options.backtrack_lexer&&(ae={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ae.yylloc.range=this.yylloc.range.slice(0))),(pt=ge[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=pt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:pt?pt[pt.length-1].length-pt[pt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ge[0].length},this.yytext+=ge[0],this.match+=ge[0],this.matches=ge,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ge[0].length),this.matched+=ge[0],J=this.performAction.call(this,this.yy,this,Qe,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),J)return J;if(this._backtrack){for(var Tt in ae)this[Tt]=ae[Tt];return!1}return!1},next:function(){if(this.done)return this.EOF;var ge,Qe,J,pt;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var ae=this._currentRules(),Tt=0;Tt<ae.length;Tt++)if((J=this._input.match(this.rules[ae[Tt]]))&&(!Qe||J[0].length>Qe[0].length)){if(Qe=J,pt=Tt,this.options.backtrack_lexer){if(!1!==(ge=this.test_match(J,ae[Tt])))return ge;if(this._backtrack){Qe=!1;continue}return!1}if(!this.options.flex)break}return Qe?!1!==(ge=this.test_match(Qe,ae[pt]))&&ge:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(Qe){this.conditionStack.push(Qe)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Qe){return(Qe=this.conditionStack.length-1-Math.abs(Qe||0))>=0?this.conditionStack[Qe]:"INITIAL"},pushState:function(Qe){this.begin(Qe)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Qe,J,pt,ae){switch(pt){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),51;case 8:return this.begin("type_directive"),52;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),54;case 11:return 53;case 12:case 13:case 15:case 22:case 27:break;case 14:return 11;case 16:return 9;case 17:return 31;case 18:return 50;case 19:return 4;case 20:return this.begin("block"),20;case 21:return 39;case 23:return 40;case 24:case 25:return 37;case 26:return 41;case 28:return this.popState(),22;case 29:case 58:return J.yytext[0];case 30:case 34:case 35:case 48:return 44;case 31:case 32:case 33:case 41:case 43:case 50:return 46;case 36:case 37:case 38:case 39:case 40:case 42:case 49:return 45;case 44:case 45:case 46:case 47:return 47;case 51:case 54:case 55:case 56:return 48;case 52:case 53:return 49;case 57:return 30;case 59:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[21,22,23,24,25,26,27,28,29],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,20,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],inclusive:!0}}}}(),Ze.prototype=ct,ct.Parser=Ze,new Ze}();hi.parser=hi;const Ot=hi,Ai=s=>null!==s.match(/^\s*erDiagram/);let xn={},ni=[];const xr=function(s){return void 0===xn[s]&&(xn[s]={attributes:[]},Me.info("Added new entity :",s)),xn[s]},go={Cardinality:{ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},Identification:{NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},parseDirective:function(s,a,h){ci.parseDirective(this,s,a,h)},getConfig:()=>ft().er,addEntity:xr,addAttributes:function(s,a){let f,h=xr(s);for(f=a.length-1;f>=0;f--)h.attributes.push(a[f]),Me.debug("Added attribute ",a[f].attributeName)},getEntities:()=>xn,addRelationship:function(s,a,h,f){let p={entityA:s,roleA:a,entityB:h,relSpec:f};ni.push(p),Me.debug("Added new relationship :",p)},getRelationships:()=>ni,clear:function(){xn={},ni=[],$e()},setAccTitle:it,getAccTitle:mt,setAccDescription:rt,getAccDescription:It,setDiagramTitle:Rt,getDiagramTitle:dn},Co={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"},Cr_ERMarkers=Co,Vs=/[^\dA-Za-z](\W)*/g;let wn={},mo=new Map;const Da=function(s){return(s.entityA+s.roleA+s.entityB).replace(/\s/g,"")};let Hh=0;const KI="28e9f9db-3c8d-5aa5-9faf-44286ae5937c";function bx(s=""){return s.length>0?`${s}-`:""}const GA={setConf:function(s){const a=Object.keys(s);for(const h of a)wn[h]=s[h]},draw:function(s,a,h,f){wn=ft().er,Me.info("Drawing ER diagram");const p=ft().securityLevel;let y;"sandbox"===p&&(y=(0,F.Ltv)("#i"+a));const w=(0,F.Ltv)("sandbox"===p?y.nodes()[0].contentDocument.body:"body").select(`[id='${a}']`);let C;(function(s,a){let h;s.append("defs").append("marker").attr("id",Co.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",a.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),s.append("defs").append("marker").attr("id",Co.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",a.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),h=s.append("defs").append("marker").attr("id",Co.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),h.append("circle").attr("stroke",a.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),h.append("path").attr("stroke",a.stroke).attr("fill","none").attr("d","M9,0 L9,18"),h=s.append("defs").append("marker").attr("id",Co.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),h.append("circle").attr("stroke",a.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),h.append("path").attr("stroke",a.stroke).attr("fill","none").attr("d","M21,0 L21,18"),s.append("defs").append("marker").attr("id",Co.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",a.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),s.append("defs").append("marker").attr("id",Co.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",a.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),h=s.append("defs").append("marker").attr("id",Co.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),h.append("circle").attr("stroke",a.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),h.append("path").attr("stroke",a.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),h=s.append("defs").append("marker").attr("id",Co.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),h.append("circle").attr("stroke",a.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),h.append("path").attr("stroke",a.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")})(w,wn),C=new Ji.T({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:wn.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const A=function(s,a,h){let p;return Object.keys(a).forEach(function(y){const b=function q_(s="",a=""){const h=s.replace(Vs,"");return`${bx(a)}${bx(h)}${Oa(s,KI)}`}(y,"entity");mo.set(y,b);const w=s.append("g").attr("id",b);p=void 0===p?b:p;const C="text-"+b,A=w.append("text").classed("er entityLabel",!0).attr("id",C).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",ft().fontFamily).style("font-size",wn.fontSize+"px").text(y),{width:V,height:Y}=((s,a,h)=>{const f=wn.entityPadding/3,p=wn.entityPadding/3,y=.85*wn.fontSize,b=a.node().getBBox(),w=[];let C=!1,A=!1,V=0,Y=0,z=0,X=0,xe=b.height+2*f,Oe=1;h.forEach(nt=>{void 0!==nt.attributeKeyTypeList&&nt.attributeKeyTypeList.length>0&&(C=!0),void 0!==nt.attributeComment&&(A=!0)}),h.forEach(nt=>{const wt=`${a.node().id}-attr-${Oe}`;let Bt=0;const tn=Nl(nt.attributeType),ut=s.append("text").classed("er entityLabel",!0).attr("id",`${wt}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ft().fontFamily).style("font-size",y+"px").text(tn),ct=s.append("text").classed("er entityLabel",!0).attr("id",`${wt}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ft().fontFamily).style("font-size",y+"px").text(nt.attributeName),ze={};ze.tn=ut,ze.nn=ct;const Ze=ut.node().getBBox(),We=ct.node().getBBox();if(V=Math.max(V,Ze.width),Y=Math.max(Y,We.width),Bt=Math.max(Ze.height,We.height),C){const ge=void 0!==nt.attributeKeyTypeList?nt.attributeKeyTypeList.join(","):"",Qe=s.append("text").classed("er entityLabel",!0).attr("id",`${wt}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ft().fontFamily).style("font-size",y+"px").text(ge);ze.kn=Qe;const J=Qe.node().getBBox();z=Math.max(z,J.width),Bt=Math.max(Bt,J.height)}if(A){const ge=s.append("text").classed("er entityLabel",!0).attr("id",`${wt}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ft().fontFamily).style("font-size",y+"px").text(nt.attributeComment||"");ze.cn=ge;const Qe=ge.node().getBBox();X=Math.max(X,Qe.width),Bt=Math.max(Bt,Qe.height)}ze.height=Bt,w.push(ze),xe+=Bt+2*f,Oe+=1});let Fe=4;C&&(Fe+=2),A&&(Fe+=2);const Ue=V+Y+z+X,Ee={width:Math.max(wn.minEntityWidth,Math.max(b.width+2*wn.entityPadding,Ue+p*Fe)),height:h.length>0?xe:Math.max(wn.minEntityHeight,b.height+2*wn.entityPadding)};if(h.length>0){const nt=Math.max(0,(Ee.width-Ue-p*Fe)/(Fe/2));a.attr("transform","translate("+Ee.width/2+","+(f+b.height/2)+")");let wt=b.height+2*f,Bt="attributeBoxOdd";w.forEach(tn=>{const ut=wt+f+tn.height/2;tn.tn.attr("transform","translate("+p+","+ut+")");const ct=s.insert("rect","#"+tn.tn.node().id).classed(`er ${Bt}`,!0).attr("x",0).attr("y",wt).attr("width",V+2*p+nt).attr("height",tn.height+2*f),ze=parseFloat(ct.attr("x"))+parseFloat(ct.attr("width"));tn.nn.attr("transform","translate("+(ze+p)+","+ut+")");const Ze=s.insert("rect","#"+tn.nn.node().id).classed(`er ${Bt}`,!0).attr("x",ze).attr("y",wt).attr("width",Y+2*p+nt).attr("height",tn.height+2*f);let We=parseFloat(Ze.attr("x"))+parseFloat(Ze.attr("width"));if(C){tn.kn.attr("transform","translate("+(We+p)+","+ut+")");const ge=s.insert("rect","#"+tn.kn.node().id).classed(`er ${Bt}`,!0).attr("x",We).attr("y",wt).attr("width",z+2*p+nt).attr("height",tn.height+2*f);We=parseFloat(ge.attr("x"))+parseFloat(ge.attr("width"))}A&&(tn.cn.attr("transform","translate("+(We+p)+","+ut+")"),s.insert("rect","#"+tn.cn.node().id).classed(`er ${Bt}`,"true").attr("x",We).attr("y",wt).attr("width",X+2*p+nt).attr("height",tn.height+2*f)),wt+=tn.height+2*f,Bt="attributeBoxOdd"===Bt?"attributeBoxEven":"attributeBoxOdd"})}else Ee.height=Math.max(wn.minEntityHeight,xe),a.attr("transform","translate("+Ee.width/2+","+Ee.height/2+")");return Ee})(w,A,a[y].attributes),X=w.insert("rect","#"+C).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",V).attr("height",Y).node().getBBox();h.setNode(b,{width:X.width,height:X.height,shape:"rect",id:b})}),p}(w,f.db.getEntities(),C),V=function(s,a){return s.forEach(function(h){a.setEdge(mo.get(h.entityA),mo.get(h.entityB),{relationship:h},Da(h))}),s}(f.db.getRelationships(),C);(0,ii.Zp)(C),function(s,a){a.nodes().forEach(function(h){void 0!==h&&void 0!==a.node(h)&&s.select("#"+h).attr("transform","translate("+(a.node(h).x-a.node(h).width/2)+","+(a.node(h).y-a.node(h).height/2)+" )")})}(w,C),V.forEach(function(Oe){!function(s,a,h,f,p){Hh++;const y=h.edge(mo.get(a.entityA),mo.get(a.entityB),Da(a)),b=(0,F.n8j)().x(function(xe){return xe.x}).y(function(xe){return xe.y}).curve(F.qrM),w=s.insert("path","#"+f).classed("er relationshipLine",!0).attr("d",b(y.points)).style("stroke",wn.stroke).style("fill","none");a.relSpec.relType===p.db.Identification.NON_IDENTIFYING&&w.attr("stroke-dasharray","8,8");let C="";switch(wn.arrowMarkerAbsolute&&(C=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,C=C.replace(/\(/g,"\\("),C=C.replace(/\)/g,"\\)")),a.relSpec.cardA){case p.db.Cardinality.ZERO_OR_ONE:w.attr("marker-end","url("+C+"#"+Cr_ERMarkers.ZERO_OR_ONE_END+")");break;case p.db.Cardinality.ZERO_OR_MORE:w.attr("marker-end","url("+C+"#"+Cr_ERMarkers.ZERO_OR_MORE_END+")");break;case p.db.Cardinality.ONE_OR_MORE:w.attr("marker-end","url("+C+"#"+Cr_ERMarkers.ONE_OR_MORE_END+")");break;case p.db.Cardinality.ONLY_ONE:w.attr("marker-end","url("+C+"#"+Cr_ERMarkers.ONLY_ONE_END+")")}switch(a.relSpec.cardB){case p.db.Cardinality.ZERO_OR_ONE:w.attr("marker-start","url("+C+"#"+Cr_ERMarkers.ZERO_OR_ONE_START+")");break;case p.db.Cardinality.ZERO_OR_MORE:w.attr("marker-start","url("+C+"#"+Cr_ERMarkers.ZERO_OR_MORE_START+")");break;case p.db.Cardinality.ONE_OR_MORE:w.attr("marker-start","url("+C+"#"+Cr_ERMarkers.ONE_OR_MORE_START+")");break;case p.db.Cardinality.ONLY_ONE:w.attr("marker-start","url("+C+"#"+Cr_ERMarkers.ONLY_ONE_START+")")}const A=w.node().getTotalLength(),V=w.node().getPointAtLength(.5*A),Y="rel"+Hh,X=s.append("text").classed("er relationshipLabel",!0).attr("id",Y).attr("x",V.x).attr("y",V.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",ft().fontFamily).style("font-size",wn.fontSize+"px").text(a.roleA).node().getBBox();s.insert("rect","#"+Y).classed("er relationshipLabelBox",!0).attr("x",V.x-X.width/2).attr("y",V.y-X.height/2).attr("width",X.width).attr("height",X.height)}(w,Oe,C,A,f)});const Y=wn.diagramPadding;Hr.insertTitle(w,"entityTitleText",wn.titleTopMargin,f.db.getDiagramTitle());const z=w.node().getBBox(),X=z.width+2*Y,xe=z.height+2*Y;Su(w,xe,X,wn.useMaxWidth),w.attr("viewBox",`${z.x-Y} ${z.y-Y} ${X} ${xe}`)}};var Jw=function(){var s=function(Zh,Dr,Gr,Ps){for(Gr=Gr||{},Ps=Zh.length;Ps--;Gr[Zh[Ps]]=Dr);return Gr},a=[1,9],h=[1,7],f=[1,6],p=[1,8],y=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],b=[2,10],w=[1,20],C=[1,21],A=[1,22],V=[1,23],Y=[1,30],z=[1,32],X=[1,33],xe=[1,34],Oe=[1,62],Fe=[1,48],Ue=[1,52],Ee=[1,36],nt=[1,37],wt=[1,38],Bt=[1,39],tn=[1,40],ut=[1,56],ct=[1,63],ze=[1,51],Ze=[1,53],We=[1,55],ge=[1,59],Qe=[1,60],J=[1,41],pt=[1,42],ae=[1,43],Tt=[1,44],Jn=[1,61],Kt=[1,50],nn=[1,54],B=[1,57],P=[1,58],et=[1,49],zn=[1,66],On=[1,71],Ft=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],or=[1,75],xt=[1,74],bn=[1,76],Gt=[20,21,23,81,82],Yt=[1,99],ht=[1,104],qe=[1,107],tt=[1,108],Re=[1,101],Cn=[1,106],Te=[1,109],_r=[1,102],Ut=[1,114],fi=[1,113],qn=[1,103],_n=[1,105],Sn=[1,110],Fn=[1,111],kn=[1,112],jn=[1,115],Ar=[20,21,22,23,81,82],Ys=[20,21,22,23,53,81,82],Tr=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],br=[20,21,23],is=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],Ua=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Hs=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],Mr=[1,149],Ei=[1,157],Yn=[1,158],Bn=[1,159],vi=[1,160],Tn=[1,144],ir=[1,145],Jt=[1,141],ks=[1,152],cn=[1,153],ms=[1,154],$s=[1,155],As=[1,156],Ws=[1,161],Qs=[1,162],Or=[1,147],ts=[1,150],Rs=[1,146],Ls=[1,143],$1=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],O2=[1,165],ka=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],Jr=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],Iu=[12,21,22,24],W1=[22,106],lc=[1,250],Gl=[1,245],Al=[1,246],sd=[1,254],fu=[1,251],pu=[1,248],pl=[1,247],ih=[1,249],qh=[1,252],rh=[1,253],Kh=[1,255],rm=[1,273],Z3=[20,21,23,106],sh=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],SS={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:function(Dr,Gr,Ps,Di,Qa,_t,Ry){var Mt=_t.length-1;switch(Qa){case 5:Di.parseDirective("%%{","open_directive");break;case 6:Di.parseDirective(_t[Mt],"type_directive");break;case 7:_t[Mt]=_t[Mt].trim().replace(/'/g,'"'),Di.parseDirective(_t[Mt],"arg_directive");break;case 8:Di.parseDirective("}%%","close_directive","flowchart");break;case 10:case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 11:(!Array.isArray(_t[Mt])||_t[Mt].length>0)&&_t[Mt-1].push(_t[Mt]),this.$=_t[Mt-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:case 78:case 150:this.$=_t[Mt];break;case 19:Di.setDirection("TB"),this.$="TB";break;case 20:Di.setDirection(_t[Mt-1]),this.$=_t[Mt-1];break;case 35:this.$=_t[Mt-1].nodes;break;case 41:this.$=Di.addSubGraph(_t[Mt-6],_t[Mt-1],_t[Mt-4]);break;case 42:this.$=Di.addSubGraph(_t[Mt-3],_t[Mt-1],_t[Mt-3]);break;case 43:this.$=Di.addSubGraph(void 0,_t[Mt-1],void 0);break;case 45:this.$=_t[Mt].trim(),Di.setAccTitle(this.$);break;case 46:case 47:this.$=_t[Mt].trim(),Di.setAccDescription(this.$);break;case 51:Di.addLink(_t[Mt-2].stmt,_t[Mt],_t[Mt-1]),this.$={stmt:_t[Mt],nodes:_t[Mt].concat(_t[Mt-2].nodes)};break;case 52:Di.addLink(_t[Mt-3].stmt,_t[Mt-1],_t[Mt-2]),this.$={stmt:_t[Mt-1],nodes:_t[Mt-1].concat(_t[Mt-3].nodes)};break;case 53:this.$={stmt:_t[Mt-1],nodes:_t[Mt-1]};break;case 54:this.$={stmt:_t[Mt],nodes:_t[Mt]};break;case 55:case 123:case 125:this.$=[_t[Mt]];break;case 56:this.$=_t[Mt-4].concat(_t[Mt]);break;case 57:this.$=[_t[Mt-2]],Di.setClass(_t[Mt-2],_t[Mt]);break;case 58:this.$=_t[Mt-3],Di.addVertex(_t[Mt-3],_t[Mt-1],"square");break;case 59:this.$=_t[Mt-3],Di.addVertex(_t[Mt-3],_t[Mt-1],"doublecircle");break;case 60:this.$=_t[Mt-5],Di.addVertex(_t[Mt-5],_t[Mt-2],"circle");break;case 61:this.$=_t[Mt-3],Di.addVertex(_t[Mt-3],_t[Mt-1],"ellipse");break;case 62:this.$=_t[Mt-3],Di.addVertex(_t[Mt-3],_t[Mt-1],"stadium");break;case 63:this.$=_t[Mt-3],Di.addVertex(_t[Mt-3],_t[Mt-1],"subroutine");break;case 64:this.$=_t[Mt-7],Di.addVertex(_t[Mt-7],_t[Mt-1],"rect",void 0,void 0,void 0,Object.fromEntries([[_t[Mt-5],_t[Mt-3]]]));break;case 65:this.$=_t[Mt-3],Di.addVertex(_t[Mt-3],_t[Mt-1],"cylinder");break;case 66:this.$=_t[Mt-3],Di.addVertex(_t[Mt-3],_t[Mt-1],"round");break;case 67:this.$=_t[Mt-3],Di.addVertex(_t[Mt-3],_t[Mt-1],"diamond");break;case 68:this.$=_t[Mt-5],Di.addVertex(_t[Mt-5],_t[Mt-2],"hexagon");break;case 69:this.$=_t[Mt-3],Di.addVertex(_t[Mt-3],_t[Mt-1],"odd");break;case 70:this.$=_t[Mt-3],Di.addVertex(_t[Mt-3],_t[Mt-1],"trapezoid");break;case 71:this.$=_t[Mt-3],Di.addVertex(_t[Mt-3],_t[Mt-1],"inv_trapezoid");break;case 72:this.$=_t[Mt-3],Di.addVertex(_t[Mt-3],_t[Mt-1],"lean_right");break;case 73:this.$=_t[Mt-3],Di.addVertex(_t[Mt-3],_t[Mt-1],"lean_left");break;case 74:this.$=_t[Mt],Di.addVertex(_t[Mt]);break;case 75:_t[Mt-1].text=_t[Mt],this.$=_t[Mt-1];break;case 76:case 77:_t[Mt-2].text=_t[Mt-1],this.$=_t[Mt-2];break;case 79:var Qh=Di.destructLink(_t[Mt],_t[Mt-2]);this.$={type:Qh.type,stroke:Qh.stroke,length:Qh.length,text:_t[Mt-1]};break;case 80:Qh=Di.destructLink(_t[Mt]),this.$={type:Qh.type,stroke:Qh.stroke,length:Qh.length};break;case 81:this.$=_t[Mt-1];break;case 83:case 97:case 153:case 151:this.$=_t[Mt-1]+""+_t[Mt];break;case 98:case 99:this.$=_t[Mt-4],Di.addClass(_t[Mt-2],_t[Mt]);break;case 100:this.$=_t[Mt-4],Di.setClass(_t[Mt-2],_t[Mt]);break;case 101:case 109:this.$=_t[Mt-1],Di.setClickEvent(_t[Mt-1],_t[Mt]);break;case 102:case 110:this.$=_t[Mt-3],Di.setClickEvent(_t[Mt-3],_t[Mt-2]),Di.setTooltip(_t[Mt-3],_t[Mt]);break;case 103:this.$=_t[Mt-2],Di.setClickEvent(_t[Mt-2],_t[Mt-1],_t[Mt]);break;case 104:this.$=_t[Mt-4],Di.setClickEvent(_t[Mt-4],_t[Mt-3],_t[Mt-2]),Di.setTooltip(_t[Mt-4],_t[Mt]);break;case 105:case 111:this.$=_t[Mt-1],Di.setLink(_t[Mt-1],_t[Mt]);break;case 106:case 112:this.$=_t[Mt-3],Di.setLink(_t[Mt-3],_t[Mt-2]),Di.setTooltip(_t[Mt-3],_t[Mt]);break;case 107:case 113:this.$=_t[Mt-3],Di.setLink(_t[Mt-3],_t[Mt-2],_t[Mt]);break;case 108:case 114:this.$=_t[Mt-5],Di.setLink(_t[Mt-5],_t[Mt-4],_t[Mt]),Di.setTooltip(_t[Mt-5],_t[Mt-2]);break;case 115:this.$=_t[Mt-4],Di.addVertex(_t[Mt-2],void 0,void 0,_t[Mt]);break;case 116:case 118:this.$=_t[Mt-4],Di.updateLink(_t[Mt-2],_t[Mt]);break;case 117:this.$=_t[Mt-4],Di.updateLink([_t[Mt-2]],_t[Mt]);break;case 119:this.$=_t[Mt-8],Di.updateLinkInterpolate([_t[Mt-6]],_t[Mt-2]),Di.updateLink([_t[Mt-6]],_t[Mt]);break;case 120:this.$=_t[Mt-8],Di.updateLinkInterpolate(_t[Mt-6],_t[Mt-2]),Di.updateLink(_t[Mt-6],_t[Mt]);break;case 121:this.$=_t[Mt-6],Di.updateLinkInterpolate([_t[Mt-4]],_t[Mt]);break;case 122:this.$=_t[Mt-6],Di.updateLinkInterpolate(_t[Mt-4],_t[Mt]);break;case 124:case 126:_t[Mt-2].push(_t[Mt]),this.$=_t[Mt-2];break;case 128:this.$=_t[Mt-1]+_t[Mt];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"}}},table:[{3:1,4:2,5:3,6:5,12:a,16:4,21:h,22:f,24:p},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:a,16:4,21:h,22:f,24:p},s(y,b,{17:11}),{7:12,13:[1,13]},{16:14,21:h,22:f,24:p},{16:15,21:h,22:f,24:p},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:w,21:C,22:A,23:V,32:24,33:25,34:26,35:27,36:28,37:29,38:Y,43:31,44:z,46:X,48:xe,50:35,51:45,52:Oe,54:46,66:Fe,67:Ue,86:Ee,87:nt,88:wt,89:Bt,90:tn,91:ut,95:ct,105:ze,106:Ze,109:We,111:ge,112:Qe,116:47,118:J,119:pt,120:ae,121:Tt,122:Jn,123:Kt,124:nn,125:B,126:P,127:et},{8:64,10:[1,65],15:zn},s([10,15],[2,6]),s(y,[2,17]),s(y,[2,18]),s(y,[2,19]),{20:[1,68],21:[1,69],22:On,27:67,30:70},s(Ft,[2,11]),s(Ft,[2,12]),s(Ft,[2,13]),s(Ft,[2,14]),s(Ft,[2,15]),s(Ft,[2,16]),{9:72,20:or,21:xt,23:bn,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:or,21:xt,23:bn},{9:81,20:or,21:xt,23:bn},{9:82,20:or,21:xt,23:bn},{9:83,20:or,21:xt,23:bn},{9:84,20:or,21:xt,23:bn},{9:86,20:or,21:xt,22:[1,85],23:bn},s(Ft,[2,44]),{45:[1,87]},{47:[1,88]},s(Ft,[2,47]),s(Gt,[2,54],{30:89,22:On}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:Yt,52:ht,66:qe,67:tt,84:[1,97],91:Re,97:96,98:[1,94],100:[1,95],105:Cn,106:Te,109:_r,111:Ut,112:fi,115:100,117:98,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},s(Ft,[2,158]),s(Ft,[2,159]),s(Ft,[2,160]),s(Ft,[2,161]),s(Ar,[2,55],{53:[1,116]}),s(Ys,[2,74],{116:129,40:[1,117],52:Oe,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:Fe,67:Ue,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:ut,95:ct,105:ze,106:Ze,109:We,111:ge,112:Qe,122:Jn,123:Kt,124:nn,125:B,126:P,127:et}),s(Tr,[2,150]),s(Tr,[2,175]),s(Tr,[2,176]),s(Tr,[2,177]),s(Tr,[2,178]),s(Tr,[2,179]),s(Tr,[2,180]),s(Tr,[2,181]),s(Tr,[2,182]),s(Tr,[2,183]),s(Tr,[2,184]),s(Tr,[2,185]),s(Tr,[2,186]),s(Tr,[2,187]),s(Tr,[2,188]),s(Tr,[2,189]),s(Tr,[2,190]),{9:130,20:or,21:xt,23:bn},{11:131,14:[1,132]},s(br,[2,8]),s(y,[2,20]),s(y,[2,26]),s(y,[2,27]),{21:[1,133]},s(is,[2,34],{30:134,22:On}),s(Ft,[2,35]),{50:135,51:45,52:Oe,54:46,66:Fe,67:Ue,91:ut,95:ct,105:ze,106:Ze,109:We,111:ge,112:Qe,116:47,122:Jn,123:Kt,124:nn,125:B,126:P,127:et},s(Ua,[2,48]),s(Ua,[2,49]),s(Ua,[2,50]),s(Hs,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:Mr,24:Ei,26:Yn,38:Bn,39:139,42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,83:140,84:Jt,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},s([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),s(Ft,[2,36]),s(Ft,[2,37]),s(Ft,[2,38]),s(Ft,[2,39]),s(Ft,[2,40]),{22:Mr,24:Ei,26:Yn,38:Bn,39:163,42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,83:140,84:Jt,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},s($1,b,{17:164}),s(Ft,[2,45]),s(Ft,[2,46]),s(Gt,[2,53],{52:O2}),{26:Yt,52:ht,66:qe,67:tt,91:Re,97:166,102:[1,167],105:Cn,106:Te,109:_r,111:Ut,112:fi,115:100,117:98,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{95:[1,168],103:169,105:[1,170]},{26:Yt,52:ht,66:qe,67:tt,91:Re,95:[1,171],97:172,105:Cn,106:Te,109:_r,111:Ut,112:fi,115:100,117:98,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{26:Yt,52:ht,66:qe,67:tt,91:Re,97:173,105:Cn,106:Te,109:_r,111:Ut,112:fi,115:100,117:98,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},s(br,[2,101],{22:[1,174],99:[1,175]}),s(br,[2,105],{22:[1,176]}),s(br,[2,109],{115:100,117:178,22:[1,177],26:Yt,52:ht,66:qe,67:tt,91:Re,105:Cn,106:Te,109:_r,111:Ut,112:fi,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn}),s(br,[2,111],{22:[1,179]}),s(ka,[2,152]),s(ka,[2,154]),s(ka,[2,155]),s(ka,[2,156]),s(ka,[2,157]),s(Jr,[2,162]),s(Jr,[2,163]),s(Jr,[2,164]),s(Jr,[2,165]),s(Jr,[2,166]),s(Jr,[2,167]),s(Jr,[2,168]),s(Jr,[2,169]),s(Jr,[2,170]),s(Jr,[2,171]),s(Jr,[2,172]),s(Jr,[2,173]),s(Jr,[2,174]),{52:Oe,54:180,66:Fe,67:Ue,91:ut,95:ct,105:ze,106:Ze,109:We,111:ge,112:Qe,116:47,122:Jn,123:Kt,124:nn,125:B,126:P,127:et},{22:Mr,24:Ei,26:Yn,38:Bn,39:181,42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,83:140,84:Jt,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:Mr,24:Ei,26:Yn,38:Bn,39:182,42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,83:140,84:Jt,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:Mr,24:Ei,26:Yn,38:Bn,39:184,42:vi,52:ht,57:[1,183],66:qe,67:tt,73:Tn,81:ir,83:140,84:Jt,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:Mr,24:Ei,26:Yn,38:Bn,39:185,42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,83:140,84:Jt,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:Mr,24:Ei,26:Yn,38:Bn,39:186,42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,83:140,84:Jt,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:Mr,24:Ei,26:Yn,38:Bn,39:187,42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,83:140,84:Jt,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{66:[1,188]},{22:Mr,24:Ei,26:Yn,38:Bn,39:189,42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,83:140,84:Jt,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:Mr,24:Ei,26:Yn,38:Bn,39:190,42:vi,52:ht,66:qe,67:tt,71:[1,191],73:Tn,81:ir,83:140,84:Jt,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:Mr,24:Ei,26:Yn,38:Bn,39:192,42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,83:140,84:Jt,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:Mr,24:Ei,26:Yn,38:Bn,39:193,42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,83:140,84:Jt,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:Mr,24:Ei,26:Yn,38:Bn,39:194,42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,83:140,84:Jt,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},s(Tr,[2,151]),s(Iu,[2,3]),{8:195,15:zn},{15:[2,7]},s(y,[2,28]),s(is,[2,33]),s(Gt,[2,51],{30:196,22:On}),s(Hs,[2,75],{22:[1,197]}),{22:[1,198]},{22:Mr,24:Ei,26:Yn,38:Bn,39:199,42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,83:140,84:Jt,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:Mr,24:Ei,26:Yn,38:Bn,42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,82:[1,200],83:201,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},s(Jr,[2,82]),s(Jr,[2,84]),s(Jr,[2,140]),s(Jr,[2,141]),s(Jr,[2,142]),s(Jr,[2,143]),s(Jr,[2,144]),s(Jr,[2,145]),s(Jr,[2,146]),s(Jr,[2,147]),s(Jr,[2,148]),s(Jr,[2,149]),s(Jr,[2,85]),s(Jr,[2,86]),s(Jr,[2,87]),s(Jr,[2,88]),s(Jr,[2,89]),s(Jr,[2,90]),s(Jr,[2,91]),s(Jr,[2,92]),s(Jr,[2,93]),s(Jr,[2,94]),s(Jr,[2,95]),{9:203,20:or,21:xt,22:Mr,23:bn,24:Ei,26:Yn,38:Bn,40:[1,202],42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,83:201,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{18:18,19:19,20:w,21:C,22:A,23:V,32:24,33:25,34:26,35:27,36:28,37:29,38:Y,42:[1,204],43:31,44:z,46:X,48:xe,50:35,51:45,52:Oe,54:46,66:Fe,67:Ue,86:Ee,87:nt,88:wt,89:Bt,90:tn,91:ut,95:ct,105:ze,106:Ze,109:We,111:ge,112:Qe,116:47,118:J,119:pt,120:ae,121:Tt,122:Jn,123:Kt,124:nn,125:B,126:P,127:et},{22:On,30:205},{22:[1,206],26:Yt,52:ht,66:qe,67:tt,91:Re,105:Cn,106:Te,109:_r,111:Ut,112:fi,115:100,117:178,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},s(W1,[2,123]),{22:[1,211]},{22:[1,212],26:Yt,52:ht,66:qe,67:tt,91:Re,105:Cn,106:Te,109:_r,111:Ut,112:fi,115:100,117:178,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:[1,213],26:Yt,52:ht,66:qe,67:tt,91:Re,105:Cn,106:Te,109:_r,111:Ut,112:fi,115:100,117:178,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{84:[1,214]},s(br,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},s(ka,[2,153]),{84:[1,219],101:[1,220]},s(Ar,[2,57],{116:129,52:Oe,66:Fe,67:Ue,91:ut,95:ct,105:ze,106:Ze,109:We,111:ge,112:Qe,122:Jn,123:Kt,124:nn,125:B,126:P,127:et}),{22:Mr,24:Ei,26:Yn,38:Bn,41:[1,221],42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,83:201,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:Mr,24:Ei,26:Yn,38:Bn,42:vi,52:ht,56:[1,222],66:qe,67:tt,73:Tn,81:ir,83:201,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:Mr,24:Ei,26:Yn,38:Bn,39:223,42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,83:140,84:Jt,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:Mr,24:Ei,26:Yn,38:Bn,42:vi,52:ht,58:[1,224],66:qe,67:tt,73:Tn,81:ir,83:201,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:Mr,24:Ei,26:Yn,38:Bn,42:vi,52:ht,60:[1,225],66:qe,67:tt,73:Tn,81:ir,83:201,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:Mr,24:Ei,26:Yn,38:Bn,42:vi,52:ht,62:[1,226],66:qe,67:tt,73:Tn,81:ir,83:201,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:Mr,24:Ei,26:Yn,38:Bn,42:vi,52:ht,64:[1,227],66:qe,67:tt,73:Tn,81:ir,83:201,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{67:[1,228]},{22:Mr,24:Ei,26:Yn,38:Bn,42:vi,52:ht,66:qe,67:tt,70:[1,229],73:Tn,81:ir,83:201,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:Mr,24:Ei,26:Yn,38:Bn,42:vi,52:ht,66:qe,67:tt,72:[1,230],73:Tn,81:ir,83:201,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:Mr,24:Ei,26:Yn,38:Bn,39:231,42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,83:140,84:Jt,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:Mr,24:Ei,26:Yn,38:Bn,41:[1,232],42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,83:201,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:Mr,24:Ei,26:Yn,38:Bn,42:vi,52:ht,66:qe,67:tt,73:Tn,75:[1,233],77:[1,234],81:ir,83:201,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{22:Mr,24:Ei,26:Yn,38:Bn,42:vi,52:ht,66:qe,67:tt,73:Tn,75:[1,236],77:[1,235],81:ir,83:201,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{9:237,20:or,21:xt,23:bn},s(Gt,[2,52],{52:O2}),s(Hs,[2,77]),s(Hs,[2,76]),{22:Mr,24:Ei,26:Yn,38:Bn,42:vi,52:ht,66:qe,67:tt,68:[1,238],73:Tn,81:ir,83:201,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},s(Hs,[2,79]),s(Jr,[2,83]),{22:Mr,24:Ei,26:Yn,38:Bn,39:239,42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,83:140,84:Jt,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},s($1,b,{17:240}),s(Ft,[2,43]),{51:241,52:Oe,54:46,66:Fe,67:Ue,91:ut,95:ct,105:ze,106:Ze,109:We,111:ge,112:Qe,116:47,122:Jn,123:Kt,124:nn,125:B,126:P,127:et},{22:lc,66:Gl,67:Al,86:sd,96:242,102:fu,105:pu,107:243,108:244,109:pl,110:ih,111:qh,112:rh,113:Kh},{22:lc,66:Gl,67:Al,86:sd,96:256,102:fu,105:pu,107:243,108:244,109:pl,110:ih,111:qh,112:rh,113:Kh},{22:lc,66:Gl,67:Al,86:sd,96:257,102:fu,104:[1,258],105:pu,107:243,108:244,109:pl,110:ih,111:qh,112:rh,113:Kh},{22:lc,66:Gl,67:Al,86:sd,96:259,102:fu,104:[1,260],105:pu,107:243,108:244,109:pl,110:ih,111:qh,112:rh,113:Kh},{105:[1,261]},{22:lc,66:Gl,67:Al,86:sd,96:262,102:fu,105:pu,107:243,108:244,109:pl,110:ih,111:qh,112:rh,113:Kh},{22:lc,66:Gl,67:Al,86:sd,96:263,102:fu,105:pu,107:243,108:244,109:pl,110:ih,111:qh,112:rh,113:Kh},{26:Yt,52:ht,66:qe,67:tt,91:Re,97:264,105:Cn,106:Te,109:_r,111:Ut,112:fi,115:100,117:98,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},s(br,[2,102]),{84:[1,265]},s(br,[2,106],{22:[1,266]}),s(br,[2,107]),s(br,[2,110]),s(br,[2,112],{22:[1,267]}),s(br,[2,113]),s(Ys,[2,58]),s(Ys,[2,59]),{22:Mr,24:Ei,26:Yn,38:Bn,42:vi,52:ht,58:[1,268],66:qe,67:tt,73:Tn,81:ir,83:201,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},s(Ys,[2,66]),s(Ys,[2,61]),s(Ys,[2,62]),s(Ys,[2,63]),{66:[1,269]},s(Ys,[2,65]),s(Ys,[2,67]),{22:Mr,24:Ei,26:Yn,38:Bn,42:vi,52:ht,66:qe,67:tt,72:[1,270],73:Tn,81:ir,83:201,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},s(Ys,[2,69]),s(Ys,[2,70]),s(Ys,[2,72]),s(Ys,[2,71]),s(Ys,[2,73]),s(Iu,[2,4]),s([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:Mr,24:Ei,26:Yn,38:Bn,41:[1,271],42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,83:201,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{18:18,19:19,20:w,21:C,22:A,23:V,32:24,33:25,34:26,35:27,36:28,37:29,38:Y,42:[1,272],43:31,44:z,46:X,48:xe,50:35,51:45,52:Oe,54:46,66:Fe,67:Ue,86:Ee,87:nt,88:wt,89:Bt,90:tn,91:ut,95:ct,105:ze,106:Ze,109:We,111:ge,112:Qe,116:47,118:J,119:pt,120:ae,121:Tt,122:Jn,123:Kt,124:nn,125:B,126:P,127:et},s(Ar,[2,56]),s(br,[2,115],{106:rm}),s(Z3,[2,125],{108:274,22:lc,66:Gl,67:Al,86:sd,102:fu,105:pu,109:pl,110:ih,111:qh,112:rh,113:Kh}),s(sh,[2,127]),s(sh,[2,129]),s(sh,[2,130]),s(sh,[2,131]),s(sh,[2,132]),s(sh,[2,133]),s(sh,[2,134]),s(sh,[2,135]),s(sh,[2,136]),s(sh,[2,137]),s(sh,[2,138]),s(sh,[2,139]),s(br,[2,116],{106:rm}),s(br,[2,117],{106:rm}),{22:[1,275]},s(br,[2,118],{106:rm}),{22:[1,276]},s(W1,[2,124]),s(br,[2,98],{106:rm}),s(br,[2,99],{106:rm}),s(br,[2,100],{115:100,117:178,26:Yt,52:ht,66:qe,67:tt,91:Re,105:Cn,106:Te,109:_r,111:Ut,112:fi,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn}),s(br,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:or,21:xt,23:bn},s(Ft,[2,42]),{22:lc,66:Gl,67:Al,86:sd,102:fu,105:pu,107:283,108:244,109:pl,110:ih,111:qh,112:rh,113:Kh},s(sh,[2,128]),{26:Yt,52:ht,66:qe,67:tt,91:Re,97:284,105:Cn,106:Te,109:_r,111:Ut,112:fi,115:100,117:98,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{26:Yt,52:ht,66:qe,67:tt,91:Re,97:285,105:Cn,106:Te,109:_r,111:Ut,112:fi,115:100,117:98,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},s(br,[2,108]),s(br,[2,114]),s(Ys,[2,60]),{22:Mr,24:Ei,26:Yn,38:Bn,39:286,42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,83:140,84:Jt,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},s(Ys,[2,68]),s($1,b,{17:287}),s(Z3,[2,126],{108:274,22:lc,66:Gl,67:Al,86:sd,102:fu,105:pu,109:pl,110:ih,111:qh,112:rh,113:Kh}),s(br,[2,121],{115:100,117:178,22:[1,288],26:Yt,52:ht,66:qe,67:tt,91:Re,105:Cn,106:Te,109:_r,111:Ut,112:fi,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn}),s(br,[2,122],{115:100,117:178,22:[1,289],26:Yt,52:ht,66:qe,67:tt,91:Re,105:Cn,106:Te,109:_r,111:Ut,112:fi,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn}),{22:Mr,24:Ei,26:Yn,38:Bn,41:[1,290],42:vi,52:ht,66:qe,67:tt,73:Tn,81:ir,83:201,85:151,86:ks,87:cn,88:ms,89:$s,90:As,91:Ws,92:Qs,94:142,95:Or,105:Cn,106:Te,109:ts,111:Ut,112:fi,113:Rs,114:Ls,115:148,122:qn,123:_n,124:Sn,125:Fn,126:kn,127:jn},{18:18,19:19,20:w,21:C,22:A,23:V,32:24,33:25,34:26,35:27,36:28,37:29,38:Y,42:[1,291],43:31,44:z,46:X,48:xe,50:35,51:45,52:Oe,54:46,66:Fe,67:Ue,86:Ee,87:nt,88:wt,89:Bt,90:tn,91:ut,95:ct,105:ze,106:Ze,109:We,111:ge,112:Qe,116:47,118:J,119:pt,120:ae,121:Tt,122:Jn,123:Kt,124:nn,125:B,126:P,127:et},{22:lc,66:Gl,67:Al,86:sd,96:292,102:fu,105:pu,107:243,108:244,109:pl,110:ih,111:qh,112:rh,113:Kh},{22:lc,66:Gl,67:Al,86:sd,96:293,102:fu,105:pu,107:243,108:244,109:pl,110:ih,111:qh,112:rh,113:Kh},s(Ys,[2,64]),s(Ft,[2,41]),s(br,[2,119],{106:rm}),s(br,[2,120],{106:rm})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:function(Dr,Gr){if(!Gr.recoverable){var Ps=new Error(Dr);throw Ps.hash=Gr,Ps}this.trace(Dr)},parse:function(Dr){var Ps=[0],Di=[],Qa=[null],_t=[],Ry=this.table,Mt="",Qh=0,ES=0,Q3=_t.slice.call(arguments,1),gl=Object.create(this.lexer),D0={yy:{}};for(var N2 in this.yy)Object.prototype.hasOwnProperty.call(this.yy,N2)&&(D0.yy[N2]=this.yy[N2]);gl.setInput(Dr,D0.yy),D0.yy.lexer=gl,D0.yy.parser=this,typeof gl.yylloc>"u"&&(gl.yylloc={});var NT=gl.yylloc;_t.push(NT);var og,OS=gl.options&&gl.options.ranges;this.parseError="function"==typeof D0.yy.parseError?D0.yy.parseError:Object.getPrototypeOf(this).parseError;for(var Nu,x0,od,RT,Ly,sg,R2,k0={};;){if(this.defaultActions[x0=Ps[Ps.length-1]]?od=this.defaultActions[x0]:((null===Nu||typeof Nu>"u")&&(og=void 0,"number"!=typeof(og=Di.pop()||gl.lex()||1)&&(og instanceof Array&&(og=(Di=og).pop()),og=this.symbols_[og]||og),Nu=og),od=Ry[x0]&&Ry[x0][Nu]),typeof od>"u"||!od.length||!od[0]){var Py;for(Ly in R2=[],Ry[x0])this.terminals_[Ly]&&Ly>2&&R2.push("'"+this.terminals_[Ly]+"'");Py=gl.showPosition?"Parse error on line "+(Qh+1)+":\n"+gl.showPosition()+"\nExpecting "+R2.join(", ")+", got '"+(this.terminals_[Nu]||Nu)+"'":"Parse error on line "+(Qh+1)+": Unexpected "+(1==Nu?"end of input":"'"+(this.terminals_[Nu]||Nu)+"'"),this.parseError(Py,{text:gl.match,token:this.terminals_[Nu]||Nu,line:gl.yylineno,loc:NT,expected:R2})}if(od[0]instanceof Array&&od.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x0+", token: "+Nu);switch(od[0]){case 1:Ps.push(Nu),Qa.push(gl.yytext),_t.push(gl.yylloc),Ps.push(od[1]),Nu=null,ES=gl.yyleng,Mt=gl.yytext,Qh=gl.yylineno,NT=gl.yylloc;break;case 2:if(k0.$=Qa[Qa.length-(sg=this.productions_[od[1]][1])],k0._$={first_line:_t[_t.length-(sg||1)].first_line,last_line:_t[_t.length-1].last_line,first_column:_t[_t.length-(sg||1)].first_column,last_column:_t[_t.length-1].last_column},OS&&(k0._$.range=[_t[_t.length-(sg||1)].range[0],_t[_t.length-1].range[1]]),typeof(RT=this.performAction.apply(k0,[Mt,ES,Qh,D0.yy,od[1],Qa,_t].concat(Q3)))<"u")return RT;sg&&(Ps=Ps.slice(0,-1*sg*2),Qa=Qa.slice(0,-1*sg),_t=_t.slice(0,-1*sg)),Ps.push(this.productions_[od[1]][0]),Qa.push(k0.$),_t.push(k0._$),Ps.push(Ry[Ps[Ps.length-2]][Ps[Ps.length-1]]);break;case 3:return!0}}return!0}};function I2(){this.yy={}}return SS.lexer=function(){return{EOF:1,parseError:function(Gr,Ps){if(!this.yy.parser)throw new Error(Gr);this.yy.parser.parseError(Gr,Ps)},setInput:function(Dr,Gr){return this.yy=Gr||this.yy||{},this._input=Dr,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Dr=this._input[0];return this.yytext+=Dr,this.yyleng++,this.offset++,this.match+=Dr,this.matched+=Dr,Dr.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Dr},unput:function(Dr){var Gr=Dr.length,Ps=Dr.split(/(?:\r\n?|\n)/g);this._input=Dr+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Gr),this.offset-=Gr;var Di=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ps.length-1&&(this.yylineno-=Ps.length-1);var Qa=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ps?(Ps.length===Di.length?this.yylloc.first_column:0)+Di[Di.length-Ps.length].length-Ps[0].length:this.yylloc.first_column-Gr},this.options.ranges&&(this.yylloc.range=[Qa[0],Qa[0]+this.yyleng-Gr]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(Dr){this.unput(this.match.slice(Dr))},pastInput:function(){var Dr=this.matched.substr(0,this.matched.length-this.match.length);return(Dr.length>20?"...":"")+Dr.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Dr=this.match;return Dr.length<20&&(Dr+=this._input.substr(0,20-Dr.length)),(Dr.substr(0,20)+(Dr.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Dr=this.pastInput(),Gr=new Array(Dr.length+1).join("-");return Dr+this.upcomingInput()+"\n"+Gr+"^"},test_match:function(Dr,Gr){var Ps,Di,Qa;if(this.options.backtrack_lexer&&(Qa={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Qa.yylloc.range=this.yylloc.range.slice(0))),(Di=Dr[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=Di.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Di?Di[Di.length-1].length-Di[Di.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Dr[0].length},this.yytext+=Dr[0],this.match+=Dr[0],this.matches=Dr,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Dr[0].length),this.matched+=Dr[0],Ps=this.performAction.call(this,this.yy,this,Gr,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ps)return Ps;if(this._backtrack){for(var _t in Qa)this[_t]=Qa[_t];return!1}return!1},next:function(){if(this.done)return this.EOF;var Dr,Gr,Ps,Di;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Qa=this._currentRules(),_t=0;_t<Qa.length;_t++)if((Ps=this._input.match(this.rules[Qa[_t]]))&&(!Gr||Ps[0].length>Gr[0].length)){if(Gr=Ps,Di=_t,this.options.backtrack_lexer){if(!1!==(Dr=this.test_match(Ps,Qa[_t])))return Dr;if(this._backtrack){Gr=!1;continue}return!1}if(!this.options.flex)break}return Gr?!1!==(Dr=this.test_match(Gr,Qa[Di]))&&Dr:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(Gr){this.conditionStack.push(Gr)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Gr){return(Gr=this.conditionStack.length-1-Math.abs(Gr||0))>=0?this.conditionStack[Gr]:"INITIAL"},pushState:function(Gr){this.begin(Gr)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Gr,Ps,Di,Qa){switch(Di){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:case 15:case 24:case 27:case 30:case 33:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 25:return 100;case 26:this.begin("callbackname");break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 31:return 99;case 32:this.begin("click");break;case 34:return 90;case 35:case 36:case 37:return Gr.lex.firstGraph()&&this.begin("dir"),24;case 38:return 38;case 39:return 42;case 40:case 41:case 42:case 43:return 101;case 44:return this.popState(),25;case 45:case 46:case 47:case 48:case 49:case 50:case 51:case 52:case 53:case 54:return this.popState(),26;case 55:return 118;case 56:return 119;case 57:return 120;case 58:return 121;case 59:return 105;case 60:return 111;case 61:return 53;case 62:return 67;case 63:return 52;case 64:return 20;case 65:return 106;case 66:return 126;case 67:case 68:case 69:return 82;case 70:case 71:case 72:return 81;case 73:return 59;case 74:return 60;case 75:return 61;case 76:return 62;case 77:return 63;case 78:return 64;case 79:return 65;case 80:return 69;case 81:return 70;case 82:return 55;case 83:return 56;case 84:return 109;case 85:return 112;case 86:return 127;case 87:return 124;case 88:return 113;case 89:case 90:return 125;case 91:return 114;case 92:return 73;case 93:return 92;case 94:return"SEP";case 95:return 91;case 96:return 66;case 97:return 75;case 98:return 74;case 99:return 77;case 100:return 76;case 101:return 122;case 102:return 123;case 103:return 68;case 104:return 57;case 105:return 58;case 106:return 40;case 107:return 41;case 108:return 71;case 109:return 72;case 110:return 133;case 111:return 21;case 112:return 22;case 113:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[44,45,46,47,48,49,50,51,52,53,54],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113],inclusive:!0}}}}(),I2.prototype=SS,SS.Parser=I2,new I2}();Jw.parser=Jw;const mv=Jw,XA=(s,a)=>{var h,f;return"dagre-wrapper"!==(null==(h=a?.flowchart)?void 0:h.defaultRenderer)&&"elk"!==(null==(f=a?.flowchart)?void 0:f.defaultRenderer)&&null!==s.match(/^\s*graph/)},qA=(s,a)=>{var h,f;return"dagre-d3"!==(null==(h=a?.flowchart)?void 0:h.defaultRenderer)&&"elk"!==(null==(f=a?.flowchart)?void 0:f.defaultRenderer)&&(null!==s.match(/^\s*graph/)||null!==s.match(/^\s*flowchart/))};let jh,nC,vx=0,eC=ft(),ja={},Wp=[],K_={},Xg=[],C1={},wx={},tC=0,Cx=!0,_v=[];const t0=s=>sr.sanitizeText(s,eC),Z_=function(s,a,h){ci.parseDirective(this,s,a,h)},n0=function(s){const a=Object.keys(ja);for(const h of a)if(ja[h].id===s)return ja[h].domId;return s},iC=function(s,a,h,f,p,y,b={}){let w,C=s;void 0!==C&&0!==C.trim().length&&(void 0===ja[C]&&(ja[C]={id:C,domId:"flowchart-"+C+"-"+vx,styles:[],classes:[]}),vx++,void 0!==a?(eC=ft(),w=t0(a.trim()),'"'===w[0]&&'"'===w[w.length-1]&&(w=w.substring(1,w.length-1)),ja[C].text=w):void 0===ja[C].text&&(ja[C].text=s),void 0!==h&&(ja[C].type=h),f?.forEach(function(A){ja[C].styles.push(A)}),p?.forEach(function(A){ja[C].classes.push(A)}),void 0!==y&&(ja[C].dir=y),void 0===ja[C].props?ja[C].props=b:void 0!==b&&Object.assign(ja[C].props,b))},rC=function(s,a,h,f){const b={start:s,end:a,type:void 0,text:""};void 0!==(f=h.text)&&(b.text=t0(f.trim()),'"'===b.text[0]&&'"'===b.text[b.text.length-1]&&(b.text=b.text.substring(1,b.text.length-1))),void 0!==h&&(b.type=h.type,b.stroke=h.stroke,b.length=h.length),Wp.push(b)},Tx=function(s,a,h,f){let p,y;for(p=0;p<s.length;p++)for(y=0;y<a.length;y++)rC(s[p],a[y],h,f)},yv=function(s,a){s.forEach(function(h){"default"===h?Wp.defaultInterpolate=a:Wp[h].interpolate=a})},sC=function(s,a){s.forEach(function(h){"default"===h?Wp.defaultStyle=a:(-1===Hr.isSubstringInArray("fill",a)&&a.push("fill:none"),Wp[h].style=a)})},r0=function(s,a){void 0===K_[s]&&(K_[s]={id:s,styles:[],textStyles:[]}),a?.forEach(function(h){if(h.match("color")){const p=h.replace("fill","bgFill").replace("color","fill");K_[s].textStyles.push(p)}K_[s].styles.push(h)})},Qu=function(s){jh=s,jh.match(/.*</)&&(jh="RL"),jh.match(/.*\^/)&&(jh="BT"),jh.match(/.*>/)&&(jh="LR"),jh.match(/.*v/)&&(jh="TB"),"TD"===jh&&(jh="TB")},th=function(s,a){s.split(",").forEach(function(h){let f=h;void 0!==ja[f]&&ja[f].classes.push(a),void 0!==C1[f]&&C1[f].classes.push(a)})},xx=function(s,a,h){s.split(",").forEach(function(f){void 0!==ja[f]&&(ja[f].link=Hr.formatUrl(a,eC),ja[f].linkTarget=h)}),th(s,"clickable")},ZA=function(s){return wx[s]},QA=function(s,a,h){s.split(",").forEach(function(f){!function(s,a,h){let f=n0(s);if("loose"!==ft().securityLevel||void 0===a)return;let p=[];if("string"==typeof h){p=h.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let y=0;y<p.length;y++){let b=p[y].trim();'"'===b.charAt(0)&&'"'===b.charAt(b.length-1)&&(b=b.substr(1,b.length-2)),p[y]=b}}0===p.length&&p.push(s),void 0!==ja[s]&&(ja[s].haveCallback=!0,_v.push(function(){const y=document.querySelector(`[id="${f}"]`);null!==y&&y.addEventListener("click",function(){Hr.runFunc(a,...p)},!1)}))}(f,a,h)}),th(s,"clickable")},oC=function(s){_v.forEach(function(a){a(s)})},aC=function(){return jh.trim()},JA=function(){return ja},Gp=function(){return Wp},bv=function(){return K_},vv=function(s){let a=(0,F.Ltv)(".mermaidTooltip");null===(a._groups||a)[0][0]&&(a=(0,F.Ltv)("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),(0,F.Ltv)(s).select("svg").selectAll("g.node").on("mouseover",function(){const p=(0,F.Ltv)(this);if(null===p.attr("title"))return;const b=this.getBoundingClientRect();a.transition().duration(200).style("opacity",".9"),a.text(p.attr("title")).style("left",window.scrollX+b.left+(b.right-b.left)/2+"px").style("top",window.scrollY+b.top-14+document.body.scrollTop+"px"),a.html(a.html().replace(/&lt;br\/&gt;/g,"<br/>")),p.classed("hover",!0)}).on("mouseout",function(){a.transition().duration(500).style("opacity",0),(0,F.Ltv)(this).classed("hover",!1)})};_v.push(vv);const kx=function(s="gen-1"){ja={},K_={},Wp=[],_v=[vv],Xg=[],C1={},tC=0,wx=[],Cx=!0,nC=s,$e()},s0=s=>{nC=s||"gen-2"},wv=function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},lC=function(s,a,h){let f=s.trim(),p=h;s===h&&h.match(/\s/)&&(f=void 0);let b=[];const{nodeList:w,dir:C}=function y(V){const Y={boolean:{},number:{},string:{}},z=[];let X;return{nodeList:V.filter(function(Oe){const Fe=typeof Oe;return Oe.stmt&&"dir"===Oe.stmt?(X=Oe.value,!1):""!==Oe.trim()&&(Fe in Y?!Y[Fe].hasOwnProperty(Oe)&&(Y[Fe][Oe]=!0):!z.includes(Oe)&&z.push(Oe))}),dir:X}}(b.concat.apply(b,a));if(b=w,"gen-1"===nC)for(let V=0;V<b.length;V++)b[V]=n0(b[V]);f=f||"subGraph"+tC,p=p||"",p=t0(p),tC+=1;const A={id:f,nodes:b,title:p.trim(),classes:[],dir:C};return Me.info("Adding",A.id,A.nodes,A.dir),A.nodes=Rx(A,Xg).nodes,Xg.push(A),C1[f]=A,f},cC=function(s){for(const[a,h]of Xg.entries())if(h.id===s)return a;return-1};let qg=-1;const Sx=[],Ex=function(s,a){const h=Xg[a].nodes;if(qg+=1,qg>2e3)return;if(Sx[qg]=a,Xg[a].id===s)return{result:!0,count:0};let f=0,p=1;for(;f<h.length;){const y=cC(h[f]);if(y>=0){const b=Ex(s,y);if(b.result)return{result:!0,count:p+b.count};p+=b.count}f+=1}return{result:!1,count:p}},uC=function(s){return Sx[s]},Ax=function(){qg=-1,Xg.length>0&&Ex("none",Xg.length-1)},Mx=function(){return Xg},Ox=()=>!!Cx&&(Cx=!1,!0),Tv=(s,a)=>{const h=(s=>{const a=s.trim();let h=a.slice(0,-1),f="arrow_open";switch(a.slice(-1)){case"x":f="arrow_cross","x"===a[0]&&(f="double_"+f,h=h.slice(1));break;case">":f="arrow_point","<"===a[0]&&(f="double_"+f,h=h.slice(1));break;case"o":f="arrow_circle","o"===a[0]&&(f="double_"+f,h=h.slice(1))}let p="normal",y=h.length-1;"="===h[0]&&(p="thick");let b=((s,a)=>{const h=a.length;let f=0;for(let p=0;p<h;++p)"."===a[p]&&++f;return f})(0,h);return b&&(p="dotted",y=b),{type:f,stroke:p,length:y}})(s);let f;if(a){if(f=(s=>{let a=s.trim(),h="arrow_open";switch(a[0]){case"<":h="arrow_point",a=a.slice(1);break;case"x":h="arrow_cross",a=a.slice(1);break;case"o":h="arrow_circle",a=a.slice(1)}let f="normal";return a.includes("=")&&(f="thick"),a.includes(".")&&(f="dotted"),{type:h,stroke:f}})(a),f.stroke!==h.stroke)return{type:"INVALID",stroke:"INVALID"};if("arrow_open"===f.type)f.type=h.type;else{if(f.type!==h.type)return{type:"INVALID",stroke:"INVALID"};f.type="double_"+f.type}return"double_arrow"===f.type&&(f.type="double_arrow_point"),f.length=h.length,f}return h},Nx=(s,a)=>{let h=!1;return s.forEach(f=>{f.nodes.indexOf(a)>=0&&(h=!0)}),h},Rx=(s,a)=>{const h=[];return s.nodes.forEach((f,p)=>{Nx(a,f)||h.push(s.nodes[p])}),{nodes:h}},Dv={firstGraph:Ox},Uh={parseDirective:Z_,defaultConfig:()=>zo.flowchart,setAccTitle:it,getAccTitle:mt,getAccDescription:It,setAccDescription:rt,addVertex:iC,lookUpDomId:n0,addLink:Tx,updateLinkInterpolate:yv,updateLink:sC,addClass:r0,setDirection:Qu,setClass:th,setTooltip:function(s,a){s.split(",").forEach(function(h){void 0!==a&&(wx["gen-1"===nC?n0(h):h]=t0(a))})},getTooltip:ZA,setClickEvent:QA,setLink:xx,bindFunctions:oC,getDirection:aC,getVertices:JA,getEdges:Gp,getClasses:bv,clear:kx,setGen:s0,defaultStyle:wv,addSubGraph:lC,getDepthFirstPos:uC,indexNodes:Ax,getSubGraphs:Mx,destructLink:Tv,lex:Dv,exists:Nx,makeUniq:Rx,setDiagramTitle:Rt,getDiagramTitle:dn},o0=Object.freeze(Object.defineProperty({__proto__:null,addClass:r0,addLink:Tx,addSingleLink:rC,addSubGraph:lC,addVertex:iC,bindFunctions:oC,clear:kx,default:Uh,defaultStyle:wv,destructLink:Tv,firstGraph:Ox,getClasses:bv,getDepthFirstPos:uC,getDirection:aC,getEdges:Gp,getSubGraphs:Mx,getTooltip:ZA,getVertices:JA,indexNodes:Ax,lex:Dv,lookUpDomId:n0,parseDirective:Z_,setClass:th,setClickEvent:QA,setDirection:Qu,setGen:s0,setLink:xx,updateLink:sC,updateLinkInterpolate:yv},Symbol.toStringTag,{value:"Module"})),T1={},Bx={},yC=function(s,a,h,f,p,y){const b=f.select(`[id="${h}"]`);Object.keys(s).forEach(function(C){const A=s[C];let V="default";A.classes.length>0&&(V=A.classes.join(" "));const Y=ol(A.styles);let X,z=void 0!==A.text?A.text:A.id;if(Bo(ft().flowchart.htmlLabels)){const Fe={label:z.replace(/fa[blrs]?:fa-[\w-]+/g,Ue=>`<i class='${Ue.replace(":"," ")}'></i>`)};X=(0,ys.H)(b,Fe).node(),X.parentNode.removeChild(X)}else{const Fe=p.createElementNS("http://www.w3.org/2000/svg","text");Fe.setAttribute("style",Y.labelStyle.replace("color:","fill:"));const Ue=z.split(sr.lineBreakRegex);for(const Ee of Ue){const nt=p.createElementNS("http://www.w3.org/2000/svg","tspan");nt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),nt.setAttribute("dy","1em"),nt.setAttribute("x","1"),nt.textContent=Ee,Fe.appendChild(nt)}X=Fe}let xe=0,Oe="";switch(A.type){case"round":xe=5,Oe="rect";break;case"square":case"group":default:Oe="rect";break;case"diamond":Oe="question";break;case"hexagon":Oe="hexagon";break;case"odd":case"odd_right":Oe="rect_left_inv_arrow";break;case"lean_right":Oe="lean_right";break;case"lean_left":Oe="lean_left";break;case"trapezoid":Oe="trapezoid";break;case"inv_trapezoid":Oe="inv_trapezoid";break;case"circle":Oe="circle";break;case"ellipse":Oe="ellipse";break;case"stadium":Oe="stadium";break;case"subroutine":Oe="subroutine";break;case"cylinder":Oe="cylinder";break;case"doublecircle":Oe="doublecircle"}a.setNode(A.id,{labelStyle:Y.labelStyle,shape:Oe,labelText:z,rx:xe,ry:xe,class:V,style:Y.style,id:A.id,link:A.link,linkTarget:A.linkTarget,tooltip:y.db.getTooltip(A.id)||"",domId:y.db.lookUpDomId(A.id),haveCallback:A.haveCallback,width:"group"===A.type?500:void 0,dir:A.dir,type:A.type,props:A.props,padding:ft().flowchart.padding}),Me.info("setNode",{labelStyle:Y.labelStyle,shape:Oe,labelText:z,rx:xe,ry:xe,class:V,style:Y.style,id:A.id,domId:y.db.lookUpDomId(A.id),width:"group"===A.type?500:void 0,type:A.type,dir:A.dir,props:A.props,padding:ft().flowchart.padding})})},bC=function(s,a,h){Me.info("abc78 edges = ",s);let y,b,f=0,p={};if(void 0!==s.defaultStyle){const w=ol(s.defaultStyle);y=w.style,b=w.labelStyle}s.forEach(function(w){f++;var C="L-"+w.start+"-"+w.end;void 0===p[C]?(p[C]=0,Me.info("abc78 new entry",C,p[C])):(p[C]++,Me.info("abc78 new entry",C,p[C]));let A=C+"-"+p[C];Me.info("abc78 new link id to be used is",C,A,p[C]);var V="LS-"+w.start,Y="LE-"+w.end;const z={style:"",labelStyle:""};switch(z.minlen=w.length||1,z.arrowhead="arrow_open"===w.type?"none":"normal",z.arrowTypeStart="arrow_open",z.arrowTypeEnd="arrow_open",w.type){case"double_arrow_cross":z.arrowTypeStart="arrow_cross";case"arrow_cross":z.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":z.arrowTypeStart="arrow_point";case"arrow_point":z.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":z.arrowTypeStart="arrow_circle";case"arrow_circle":z.arrowTypeEnd="arrow_circle"}let X="",xe="";switch(w.stroke){case"normal":X="fill:none;",void 0!==y&&(X=y),void 0!==b&&(xe=b),z.thickness="normal",z.pattern="solid";break;case"dotted":z.thickness="normal",z.pattern="dotted",z.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":z.thickness="thick",z.pattern="solid",z.style="stroke-width: 3.5px;fill:none;"}if(void 0!==w.style){const Oe=ol(w.style);X=Oe.style,xe=Oe.labelStyle}z.style=z.style+=X,z.labelStyle=z.labelStyle+=xe,z.curve=tr(void 0!==w.interpolate?w.interpolate:void 0!==s.defaultInterpolate?s.defaultInterpolate:Bx.curve,F.lUB),void 0===w.text?void 0!==w.style&&(z.arrowheadStyle="fill: #333"):(z.arrowheadStyle="fill: #333",z.labelpos="c"),z.labelType="text",z.label=w.text.replace(sr.lineBreakRegex,"\n"),void 0===w.style&&(z.style=z.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),z.labelStyle=z.labelStyle.replace("color:","fill:"),z.id=A,z.classes="flowchart-link "+V+" "+Y,a.setEdge(w.start,w.end,z,f)})},Ev={setConf:function(s){const a=Object.keys(s);for(const h of a)Bx[h]=s[h]},addVertices:yC,addEdges:bC,getClasses:function(s,a){Me.info("Extracting classes"),a.db.clear();try{return a.parse(s),a.db.getClasses()}catch{return}},draw:function(s,a,h,f){Me.info("Drawing flowchart"),f.db.clear(),Uh.setGen("gen-2"),f.parser.parse(s);let p=f.db.getDirection();void 0===p&&(p="TD");const{securityLevel:y,flowchart:b}=ft(),w=b.nodeSpacing||50,C=b.rankSpacing||50;let A;"sandbox"===y&&(A=(0,F.Ltv)("#i"+a));const V=(0,F.Ltv)("sandbox"===y?A.nodes()[0].contentDocument.body:"body"),Y="sandbox"===y?A.nodes()[0].contentDocument:document,z=new Ji.T({multigraph:!0,compound:!0}).setGraph({rankdir:p,nodesep:w,ranksep:C,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}});let X;const xe=f.db.getSubGraphs();Me.info("Subgraphs - ",xe);for(let Bt=xe.length-1;Bt>=0;Bt--)X=xe[Bt],Me.info("Subgraph - ",X),f.db.addVertex(X.id,X.title,"group",void 0,X.classes,X.dir);const Oe=f.db.getVertices(),Fe=f.db.getEdges();Me.info("Edges",Fe);let Ue=0;for(Ue=xe.length-1;Ue>=0;Ue--){X=xe[Ue],(0,F.Ubm)("cluster").append("text");for(let Bt=0;Bt<X.nodes.length;Bt++)Me.info("Setting up subgraphs",X.nodes[Bt],X.id),z.setParent(X.nodes[Bt],X.id)}yC(Oe,z,a,V,Y,f),bC(Fe,z);const Ee=V.select(`[id="${a}"]`),nt=V.select("#"+a+" g");if($n(nt,z,["point","circle","cross"],"flowchart",a),Hr.insertTitle(Ee,"flowchartTitleText",b.titleTopMargin,f.db.getDiagramTitle()),Mh(z,Ee,b.diagramPadding,b.useMaxWidth),f.db.indexNodes("subGraph"+Ue),!b.htmlLabels){const Bt=Y.querySelectorAll('[id="'+a+'"] .edgeLabel .label');for(const tn of Bt){const ut=tn.getBBox(),ct=Y.createElementNS("http://www.w3.org/2000/svg","rect");ct.setAttribute("rx",0),ct.setAttribute("ry",0),ct.setAttribute("width",ut.width),ct.setAttribute("height",ut.height),tn.insertBefore(ct,tn.firstChild)}}Object.keys(Oe).forEach(function(Bt){const tn=Oe[Bt];if(tn.link){const ut=(0,F.Ltv)("#"+a+' [id="'+Bt+'"]');if(ut){const ct=Y.createElementNS("http://www.w3.org/2000/svg","a");ct.setAttributeNS("http://www.w3.org/2000/svg","class",tn.classes.join(" ")),ct.setAttributeNS("http://www.w3.org/2000/svg","href",tn.link),ct.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),"sandbox"===y?ct.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):tn.linkTarget&&ct.setAttributeNS("http://www.w3.org/2000/svg","target",tn.linkTarget);const ze=ut.insert(function(){return ct},":first-child"),Ze=ut.select(".label-container");Ze&&ze.append(function(){return Ze.node()});const We=ut.select(".label");We&&ze.append(function(){return We.node()})}}})}};var lt=function(){var s=function(ct,ze,Ze,We){for(Ze=Ze||{},We=ct.length;We--;Ze[ct[We]]=ze);return Ze},a=[1,3],h=[1,5],f=[7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],p=[1,15],y=[1,16],b=[1,17],w=[1,18],C=[1,19],A=[1,20],V=[1,21],Y=[1,22],z=[1,23],X=[1,24],xe=[1,25],Oe=[1,26],Fe=[1,27],Ue=[1,29],Ee=[1,31],nt=[1,34],wt=[5,7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],Bt={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,tickInterval:16,excludes:17,includes:18,todayMarker:19,title:20,acc_title:21,acc_title_value:22,acc_descr:23,acc_descr_value:24,acc_descr_multiline_value:25,section:26,clickStatement:27,taskTxt:28,taskData:29,openDirective:30,typeDirective:31,closeDirective:32,":":33,argDirective:34,click:35,callbackname:36,callbackargs:37,href:38,clickStatementDebug:39,open_directive:40,type_directive:41,arg_directive:42,close_directive:43,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"tickInterval",17:"excludes",18:"includes",19:"todayMarker",20:"title",21:"acc_title",22:"acc_title_value",23:"acc_descr",24:"acc_descr_value",25:"acc_descr_multiline_value",26:"section",28:"taskTxt",29:"taskData",33:":",35:"click",36:"callbackname",37:"callbackargs",38:"href",40:"open_directive",41:"type_directive",42:"arg_directive",43:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[27,2],[27,3],[27,3],[27,4],[27,3],[27,4],[27,2],[39,2],[39,3],[39,3],[39,4],[39,3],[39,4],[39,2],[30,1],[31,1],[34,1],[32,1]],performAction:function(ze,Ze,We,ge,Qe,J,pt){var ae=J.length-1;switch(Qe){case 2:return J[ae-1];case 3:case 7:case 8:this.$=[];break;case 4:J[ae-1].push(J[ae]),this.$=J[ae-1];break;case 5:case 6:this.$=J[ae];break;case 9:ge.setDateFormat(J[ae].substr(11)),this.$=J[ae].substr(11);break;case 10:ge.enableInclusiveEndDates(),this.$=J[ae].substr(18);break;case 11:ge.TopAxis(),this.$=J[ae].substr(8);break;case 12:ge.setAxisFormat(J[ae].substr(11)),this.$=J[ae].substr(11);break;case 13:ge.setTickInterval(J[ae].substr(13)),this.$=J[ae].substr(13);break;case 14:ge.setExcludes(J[ae].substr(9)),this.$=J[ae].substr(9);break;case 15:ge.setIncludes(J[ae].substr(9)),this.$=J[ae].substr(9);break;case 16:ge.setTodayMarker(J[ae].substr(12)),this.$=J[ae].substr(12);break;case 17:ge.setDiagramTitle(J[ae].substr(6)),this.$=J[ae].substr(6);break;case 18:this.$=J[ae].trim(),ge.setAccTitle(this.$);break;case 19:case 20:this.$=J[ae].trim(),ge.setAccDescription(this.$);break;case 21:ge.addSection(J[ae].substr(8)),this.$=J[ae].substr(8);break;case 23:ge.addTask(J[ae-1],J[ae]),this.$="task";break;case 27:this.$=J[ae-1],ge.setClickEvent(J[ae-1],J[ae],null);break;case 28:this.$=J[ae-2],ge.setClickEvent(J[ae-2],J[ae-1],J[ae]);break;case 29:this.$=J[ae-2],ge.setClickEvent(J[ae-2],J[ae-1],null),ge.setLink(J[ae-2],J[ae]);break;case 30:this.$=J[ae-3],ge.setClickEvent(J[ae-3],J[ae-2],J[ae-1]),ge.setLink(J[ae-3],J[ae]);break;case 31:this.$=J[ae-2],ge.setClickEvent(J[ae-2],J[ae],null),ge.setLink(J[ae-2],J[ae-1]);break;case 32:this.$=J[ae-3],ge.setClickEvent(J[ae-3],J[ae-1],J[ae]),ge.setLink(J[ae-3],J[ae-2]);break;case 33:this.$=J[ae-1],ge.setLink(J[ae-1],J[ae]);break;case 34:case 40:this.$=J[ae-1]+" "+J[ae];break;case 35:case 36:case 38:this.$=J[ae-2]+" "+J[ae-1]+" "+J[ae];break;case 37:case 39:this.$=J[ae-3]+" "+J[ae-2]+" "+J[ae-1]+" "+J[ae];break;case 41:ge.parseDirective("%%{","open_directive");break;case 42:ge.parseDirective(J[ae],"type_directive");break;case 43:J[ae]=J[ae].trim().replace(/'/g,'"'),ge.parseDirective(J[ae],"arg_directive");break;case 44:ge.parseDirective("}%%","close_directive","gantt")}},table:[{3:1,4:2,5:a,30:4,40:h},{1:[3]},{3:6,4:2,5:a,30:4,40:h},s(f,[2,3],{6:7}),{31:8,41:[1,9]},{41:[2,41]},{1:[2,1]},{4:30,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:p,13:y,14:b,15:w,16:C,17:A,18:V,19:Y,20:z,21:X,23:xe,25:Oe,26:Fe,27:28,28:Ue,30:4,35:Ee,40:h},{32:32,33:[1,33],43:nt},s([33,43],[2,42]),s(f,[2,8],{1:[2,2]}),s(f,[2,4]),{4:30,10:35,12:p,13:y,14:b,15:w,16:C,17:A,18:V,19:Y,20:z,21:X,23:xe,25:Oe,26:Fe,27:28,28:Ue,30:4,35:Ee,40:h},s(f,[2,6]),s(f,[2,7]),s(f,[2,9]),s(f,[2,10]),s(f,[2,11]),s(f,[2,12]),s(f,[2,13]),s(f,[2,14]),s(f,[2,15]),s(f,[2,16]),s(f,[2,17]),{22:[1,36]},{24:[1,37]},s(f,[2,20]),s(f,[2,21]),s(f,[2,22]),{29:[1,38]},s(f,[2,24]),{36:[1,39],38:[1,40]},{11:[1,41]},{34:42,42:[1,43]},{11:[2,44]},s(f,[2,5]),s(f,[2,18]),s(f,[2,19]),s(f,[2,23]),s(f,[2,27],{37:[1,44],38:[1,45]}),s(f,[2,33],{36:[1,46]}),s(wt,[2,25]),{32:47,43:nt},{43:[2,43]},s(f,[2,28],{38:[1,48]}),s(f,[2,29]),s(f,[2,31],{37:[1,49]}),{11:[1,50]},s(f,[2,30]),s(f,[2,32]),s(wt,[2,26])],defaultActions:{5:[2,41],6:[2,1],34:[2,44],43:[2,43]},parseError:function(ze,Ze){if(!Ze.recoverable){var We=new Error(ze);throw We.hash=Ze,We}this.trace(ze)},parse:function(ze){var We=[0],ge=[],Qe=[null],J=[],pt=this.table,ae="",Tt=0,Jn=0,B=J.slice.call(arguments,1),P=Object.create(this.lexer),et={yy:{}};for(var zn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,zn)&&(et.yy[zn]=this.yy[zn]);P.setInput(ze,et.yy),et.yy.lexer=P,et.yy.parser=this,typeof P.yylloc>"u"&&(P.yylloc={});var On=P.yylloc;J.push(On);var _r,Ft=P.options&&P.options.ranges;this.parseError="function"==typeof et.yy.parseError?et.yy.parseError:Object.getPrototypeOf(this).parseError;for(var xt,bn,Gt,Yt,qe,tt,Cn,ht={};;){if(this.defaultActions[bn=We[We.length-1]]?Gt=this.defaultActions[bn]:((null===xt||typeof xt>"u")&&(_r=void 0,"number"!=typeof(_r=ge.pop()||P.lex()||1)&&(_r instanceof Array&&(_r=(ge=_r).pop()),_r=this.symbols_[_r]||_r),xt=_r),Gt=pt[bn]&&pt[bn][xt]),typeof Gt>"u"||!Gt.length||!Gt[0]){var Te;for(qe in Cn=[],pt[bn])this.terminals_[qe]&&qe>2&&Cn.push("'"+this.terminals_[qe]+"'");Te=P.showPosition?"Parse error on line "+(Tt+1)+":\n"+P.showPosition()+"\nExpecting "+Cn.join(", ")+", got '"+(this.terminals_[xt]||xt)+"'":"Parse error on line "+(Tt+1)+": Unexpected "+(1==xt?"end of input":"'"+(this.terminals_[xt]||xt)+"'"),this.parseError(Te,{text:P.match,token:this.terminals_[xt]||xt,line:P.yylineno,loc:On,expected:Cn})}if(Gt[0]instanceof Array&&Gt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+bn+", token: "+xt);switch(Gt[0]){case 1:We.push(xt),Qe.push(P.yytext),J.push(P.yylloc),We.push(Gt[1]),xt=null,Jn=P.yyleng,ae=P.yytext,Tt=P.yylineno,On=P.yylloc;break;case 2:if(ht.$=Qe[Qe.length-(tt=this.productions_[Gt[1]][1])],ht._$={first_line:J[J.length-(tt||1)].first_line,last_line:J[J.length-1].last_line,first_column:J[J.length-(tt||1)].first_column,last_column:J[J.length-1].last_column},Ft&&(ht._$.range=[J[J.length-(tt||1)].range[0],J[J.length-1].range[1]]),typeof(Yt=this.performAction.apply(ht,[ae,Jn,Tt,et.yy,Gt[1],Qe,J].concat(B)))<"u")return Yt;tt&&(We=We.slice(0,-1*tt*2),Qe=Qe.slice(0,-1*tt),J=J.slice(0,-1*tt)),We.push(this.productions_[Gt[1]][0]),Qe.push(ht.$),J.push(ht._$),We.push(pt[We[We.length-2]][We[We.length-1]]);break;case 3:return!0}}return!0}};function ut(){this.yy={}}return Bt.lexer=function(){return{EOF:1,parseError:function(Ze,We){if(!this.yy.parser)throw new Error(Ze);this.yy.parser.parseError(Ze,We)},setInput:function(ze,Ze){return this.yy=Ze||this.yy||{},this._input=ze,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ze=this._input[0];return this.yytext+=ze,this.yyleng++,this.offset++,this.match+=ze,this.matched+=ze,ze.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ze},unput:function(ze){var Ze=ze.length,We=ze.split(/(?:\r\n?|\n)/g);this._input=ze+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ze),this.offset-=Ze;var ge=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),We.length-1&&(this.yylineno-=We.length-1);var Qe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:We?(We.length===ge.length?this.yylloc.first_column:0)+ge[ge.length-We.length].length-We[0].length:this.yylloc.first_column-Ze},this.options.ranges&&(this.yylloc.range=[Qe[0],Qe[0]+this.yyleng-Ze]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(ze){this.unput(this.match.slice(ze))},pastInput:function(){var ze=this.matched.substr(0,this.matched.length-this.match.length);return(ze.length>20?"...":"")+ze.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ze=this.match;return ze.length<20&&(ze+=this._input.substr(0,20-ze.length)),(ze.substr(0,20)+(ze.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ze=this.pastInput(),Ze=new Array(ze.length+1).join("-");return ze+this.upcomingInput()+"\n"+Ze+"^"},test_match:function(ze,Ze){var We,ge,Qe;if(this.options.backtrack_lexer&&(Qe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Qe.yylloc.range=this.yylloc.range.slice(0))),(ge=ze[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=ge.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ge?ge[ge.length-1].length-ge[ge.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ze[0].length},this.yytext+=ze[0],this.match+=ze[0],this.matches=ze,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ze[0].length),this.matched+=ze[0],We=this.performAction.call(this,this.yy,this,Ze,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),We)return We;if(this._backtrack){for(var J in Qe)this[J]=Qe[J];return!1}return!1},next:function(){if(this.done)return this.EOF;var ze,Ze,We,ge;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Qe=this._currentRules(),J=0;J<Qe.length;J++)if((We=this._input.match(this.rules[Qe[J]]))&&(!Ze||We[0].length>Ze[0].length)){if(Ze=We,ge=J,this.options.backtrack_lexer){if(!1!==(ze=this.test_match(We,Qe[J])))return ze;if(this._backtrack){Ze=!1;continue}return!1}if(!this.options.flex)break}return Ze?!1!==(ze=this.test_match(Ze,Qe[ge]))&&ze:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(Ze){this.conditionStack.push(Ze)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ze){return(Ze=this.conditionStack.length-1-Math.abs(Ze||0))>=0?this.conditionStack[Ze]:"INITIAL"},pushState:function(Ze){this.begin(Ze)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Ze,We,ge,Qe){switch(ge){case 0:return this.begin("open_directive"),40;case 1:return this.begin("type_directive"),41;case 2:return this.popState(),this.begin("arg_directive"),33;case 3:return this.popState(),this.popState(),43;case 4:return 42;case 5:return this.begin("acc_title"),21;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),23;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:case 20:case 23:case 26:case 29:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:case 13:case 14:case 16:case 17:case 18:break;case 15:return 11;case 19:this.begin("href");break;case 21:return 38;case 22:this.begin("callbackname");break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 36;case 27:return 37;case 28:this.begin("click");break;case 30:return 35;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 16;case 37:return 18;case 38:return 17;case 39:return 19;case 40:return"date";case 41:return 20;case 42:return"accDescription";case 43:return 26;case 44:return 28;case 45:return 29;case 46:return 33;case 47:return 7;case 48:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],inclusive:!0}}}}(),ut.prototype=Bt,Bt.Parser=ut,new ut}();lt.parser=lt;const rM=lt,Vx=s=>null!==s.match(/^\s*gantt/);re().extend(vs()),re().extend(zi()),re().extend(fo());let Kg,Bf="",D1="",ny="",Xp=[],x1=[],iy={},ry=[],k1=[],a0="";const Av=["active","done","crit","milestone"];let vC=[],sy=!1,wC=!1,Mv=0;const Yx=function(s,a,h,f){return!f.includes(s.format(a.trim()))&&(!!(s.isoWeekday()>=6&&h.includes("weekends")||h.includes(s.format("dddd").toLowerCase()))||h.includes(s.format(a.trim())))},$x=function(s,a,h,f){if(!h.length||s.manualEndTime)return;let p,y;p=s.startTime instanceof Date?re()(s.startTime):re()(s.startTime,a,!0),p=p.add(1,"d"),y=s.endTime instanceof Date?re()(s.endTime):re()(s.endTime,a,!0);const[b,w]=bM(p,y,a,h,f);s.endTime=b.toDate(),s.renderEndTime=w},bM=function(s,a,h,f,p){let y=!1,b=null;for(;s<=a;)y||(b=a.toDate()),y=Yx(s,h,f,p),y&&(a=a.add(1,"d")),s=s.add(1,"d");return[a,b]},DC=function(s,a,h){h=h.trim();const p=/^after\s+([\d\w- ]+)/.exec(h.trim());if(null!==p){let b=null;if(p[1].split(" ").forEach(function(w){let C=l0(w);void 0!==C&&(b?C.endTime>b.endTime&&(b=C):b=C)}),b)return b.endTime;{const w=new Date;return w.setHours(0,0,0,0),w}}let y=re()(h,a.trim(),!0);if(y.isValid())return y.toDate();{Me.debug("Invalid date:"+h),Me.debug("With date format:"+a.trim());const b=new Date(h);if(void 0===b||isNaN(b.getTime()))throw new Error("Invalid date:"+h);return b}},zh=function(s){const a=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(s.trim());return null!==a?[Number.parseFloat(a[1]),a[2]]:[NaN,"ms"]},Ov=function(s,a,h,f=!1){h=h.trim();let p=re()(h,a.trim(),!0);if(p.isValid())return f&&(p=p.add(1,"d")),p.toDate();let y=re()(s);const[b,w]=zh(h);if(!Number.isNaN(b)){const C=y.add(b,w);C.isValid()&&(y=C)}return y.toDate()};let Iv=0;const S1=function(s){return void 0===s?(Iv+=1,"task"+Iv):s};let E1,A1,Tc=[];const xC={},l0=function(s){return Tc[xC[s]]},Rv=function(){const s=function(h){const f=Tc[h];let p="";switch(Tc[h].raw.startTime.type){case"prevTaskEnd":{const y=l0(f.prevTaskId);f.startTime=y.endTime;break}case"getStartDate":p=DC(0,Bf,Tc[h].raw.startTime.startData),p&&(Tc[h].startTime=p)}return Tc[h].startTime&&(Tc[h].endTime=Ov(Tc[h].startTime,Bf,Tc[h].raw.endTime.data,sy),Tc[h].endTime&&(Tc[h].processed=!0,Tc[h].manualEndTime=re()(Tc[h].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),$x(Tc[h],Bf,x1,Xp))),Tc[h].processed};let a=!0;for(const[h,f]of Tc.entries())s(h),a=a&&f.processed;return a},qx=function(s,a){s.split(",").forEach(function(h){let f=l0(h);void 0!==f&&f.classes.push(a)})},Lv=function(s,a){vC.push(function(){const h=document.querySelector(`[id="${s}"]`);null!==h&&h.addEventListener("click",function(){a()})},function(){const h=document.querySelector(`[id="${s}-text"]`);null!==h&&h.addEventListener("click",function(){a()})})},Fv={parseDirective:function(s,a,h){ci.parseDirective(this,s,a,h)},getConfig:()=>ft().gantt,clear:function(){ry=[],k1=[],a0="",vC=[],Iv=0,E1=void 0,A1=void 0,Tc=[],Bf="",D1="",Kg=void 0,ny="",Xp=[],x1=[],sy=!1,wC=!1,Mv=0,iy={},$e()},setDateFormat:function(s){Bf=s},getDateFormat:function(){return Bf},enableInclusiveEndDates:function(){sy=!0},endDatesAreInclusive:function(){return sy},enableTopAxis:function(){wC=!0},topAxisEnabled:function(){return wC},setAxisFormat:function(s){D1=s},getAxisFormat:function(){return D1},setTickInterval:function(s){Kg=s},getTickInterval:function(){return Kg},setTodayMarker:function(s){ny=s},getTodayMarker:function(){return ny},setAccTitle:it,getAccTitle:mt,setDiagramTitle:Rt,getDiagramTitle:dn,setAccDescription:rt,getAccDescription:It,addSection:function(s){a0=s,ry.push(s)},getSections:function(){return ry},getTasks:function(){let s=Rv(),h=0;for(;!s&&h<10;)s=Rv(),h++;return k1=Tc,k1},addTask:function(s,a){const h={section:a0,type:a0,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:a},task:s,classes:[]},f=function(s,a){let h;h=":"===a.substr(0,1)?a.substr(1,a.length):a;const f=h.split(","),p={};c0(f,p,Av);for(let y=0;y<f.length;y++)f[y]=f[y].trim();switch(f.length){case 1:p.id=S1(),p.startTime={type:"prevTaskEnd",id:s},p.endTime={data:f[0]};break;case 2:p.id=S1(),p.startTime={type:"getStartDate",startData:f[0]},p.endTime={data:f[1]};break;case 3:p.id=S1(f[0]),p.startTime={type:"getStartDate",startData:f[1]},p.endTime={data:f[2]}}return p}(A1,a);h.raw.startTime=f.startTime,h.raw.endTime=f.endTime,h.id=f.id,h.prevTaskId=A1,h.active=f.active,h.done=f.done,h.crit=f.crit,h.milestone=f.milestone,h.order=Mv,Mv++;const p=Tc.push(h);A1=h.id,xC[h.id]=p-1},findTaskById:l0,addTaskOrg:function(s,a){const h={section:a0,type:a0,description:s,task:s,classes:[]},f=function(s,a){let h;h=":"===a.substr(0,1)?a.substr(1,a.length):a;const f=h.split(","),p={};c0(f,p,Av);for(let b=0;b<f.length;b++)f[b]=f[b].trim();let y="";switch(f.length){case 1:p.id=S1(),p.startTime=s.endTime,y=f[0];break;case 2:p.id=S1(),p.startTime=DC(0,Bf,f[0]),y=f[1];break;case 3:p.id=S1(f[0]),p.startTime=DC(0,Bf,f[1]),y=f[2]}return y&&(p.endTime=Ov(p.startTime,Bf,y,sy),p.manualEndTime=re()(y,"YYYY-MM-DD",!0).isValid(),$x(p,Bf,x1,Xp)),p}(E1,a);h.startTime=f.startTime,h.endTime=f.endTime,h.id=f.id,h.active=f.active,h.done=f.done,h.crit=f.crit,h.milestone=f.milestone,E1=h,k1.push(h)},setIncludes:function(s){Xp=s.toLowerCase().split(/[\s,]+/)},getIncludes:function(){return Xp},setExcludes:function(s){x1=s.toLowerCase().split(/[\s,]+/)},getExcludes:function(){return x1},setClickEvent:function(s,a,h){s.split(",").forEach(function(f){!function(s,a,h){if("loose"!==ft().securityLevel||void 0===a)return;let f=[];if("string"==typeof h){f=h.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let y=0;y<f.length;y++){let b=f[y].trim();'"'===b.charAt(0)&&'"'===b.charAt(b.length-1)&&(b=b.substr(1,b.length-2)),f[y]=b}}0===f.length&&f.push(s),void 0!==l0(s)&&Lv(s,()=>{Hr.runFunc(a,...f)})}(f,a,h)}),qx(s,"clickable")},setLink:function(s,a){let h=a;"loose"!==ft().securityLevel&&(h=(0,S.J)(a)),s.split(",").forEach(function(f){void 0!==l0(f)&&(Lv(f,()=>{window.open(h,"_self")}),iy[f]=h)}),qx(s,"clickable")},getLinks:function(){return iy},bindFunctions:function(s){vC.forEach(function(a){a(s)})},parseDuration:zh,isInvalidDate:Yx};function c0(s,a,h){let f=!0;for(;f;)f=!1,h.forEach(function(p){const b=new RegExp("^\\s*"+p+"\\s*$");s[0].match(b)&&(a[p]=!0,s.shift(1),f=!0)})}let Yh;const Kx={setConf:function(){Me.debug("Something is calling, setConf, remove the call")},draw:function(s,a,h,f){const p=ft().gantt,y=ft().securityLevel;let b;"sandbox"===y&&(b=(0,F.Ltv)("#i"+a));const w=(0,F.Ltv)("sandbox"===y?b.nodes()[0].contentDocument.body:"body"),C="sandbox"===y?b.nodes()[0].contentDocument:document,A=C.getElementById(a);Yh=A.parentElement.offsetWidth,void 0===Yh&&(Yh=1200),void 0!==p.useWidth&&(Yh=p.useWidth);const V=f.db.getTasks(),Y=V.length*(p.barHeight+p.barGap)+2*p.topPadding;A.setAttribute("viewBox","0 0 "+Yh+" "+Y);const z=w.select(`[id="${a}"]`),X=(0,F.w7C)().domain([(0,F.jkA)(V,function(Ze){return Ze.startTime}),(0,F.T9B)(V,function(Ze){return Ze.endTime})]).rangeRound([0,Yh-p.leftPadding-p.rightPadding]);let xe=[];for(const Ze of V)xe.push(Ze.type);const Oe=xe;function ze(Ze,We){return function ct(Ze){let We=Ze.length;const ge={};for(;We;)ge[Ze[--We]]=(ge[Ze[We]]||0)+1;return ge}(We)[Ze]||0}xe=function ut(Ze){const We={},ge=[];for(let Qe=0,J=Ze.length;Qe<J;++Qe)Object.prototype.hasOwnProperty.call(We,Ze[Qe])||(We[Ze[Qe]]=!0,ge.push(Ze[Qe]));return ge}(xe),V.sort(function Fe(Ze,We){const ge=Ze.startTime,Qe=We.startTime;let J=0;return ge>Qe?J=1:ge<Qe&&(J=-1),J}),function Ue(Ze,We,ge){const Qe=p.barHeight,J=Qe+p.barGap,pt=p.topPadding,ae=p.leftPadding;(0,F.m4Y)().domain([0,xe.length]).range(["#00B9FA","#F95002"]).interpolate(F.bEH),function nt(Ze,We,ge,Qe,J,pt,ae,Tt){const Jn=pt.reduce((On,{startTime:Ft})=>On?Math.min(On,Ft):Ft,0),Kt=pt.reduce((On,{endTime:Ft})=>On?Math.max(On,Ft):Ft,0),nn=f.db.getDateFormat();if(!Jn||!Kt)return;const B=[];let P=null,et=re()(Jn);for(;et.valueOf()<=Kt;)f.db.isInvalidDate(et,nn,ae,Tt)?P?P.end=et:P={start:et,end:et}:P&&(B.push(P),P=null),et=et.add(1,"d");z.append("g").selectAll("rect").data(B).enter().append("rect").attr("id",function(On){return"exclude-"+On.start.format("YYYY-MM-DD")}).attr("x",function(On){return X(On.start)+ge}).attr("y",p.gridLineStartPadding).attr("width",function(On){const Ft=On.end.add(1,"day");return X(Ft)-X(On.start)}).attr("height",J-We-p.gridLineStartPadding).attr("transform-origin",function(On,Ft){return(X(On.start)+ge+.5*(X(On.end)-X(On.start))).toString()+"px "+(Ft*Ze+.5*J).toString()+"px"}).attr("class","exclude-range")}(J,pt,ae,0,ge,Ze,f.db.getExcludes(),f.db.getIncludes()),function wt(Ze,We,ge,Qe){let J=(0,F.l78)(X).tickSize(-Qe+We+p.gridLineStartPadding).tickFormat((0,F.DCK)(f.db.getAxisFormat()||p.axisFormat||"%Y-%m-%d"));const ae=/^([1-9]\d*)(minute|hour|day|week|month)$/.exec(f.db.getTickInterval()||p.tickInterval);if(null!==ae){const Tt=ae[1];switch(ae[2]){case"minute":J.ticks(F.wXd.every(Tt));break;case"hour":J.ticks(F.Agd.every(Tt));break;case"day":J.ticks(F.UAC.every(Tt));break;case"week":J.ticks(F.Kgo.every(Tt));break;case"month":J.ticks(F.Ui6.every(Tt))}}if(z.append("g").attr("class","grid").attr("transform","translate("+Ze+", "+(Qe-50)+")").call(J).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),f.db.topAxisEnabled()||p.topAxis){let Tt=(0,F.tlR)(X).tickSize(-Qe+We+p.gridLineStartPadding).tickFormat((0,F.DCK)(f.db.getAxisFormat()||p.axisFormat||"%Y-%m-%d"));if(null!==ae){const Jn=ae[1];switch(ae[2]){case"minute":Tt.ticks(F.wXd.every(Jn));break;case"hour":Tt.ticks(F.Agd.every(Jn));break;case"day":Tt.ticks(F.UAC.every(Jn));break;case"week":Tt.ticks(F.Kgo.every(Jn));break;case"month":Tt.ticks(F.Ui6.every(Jn))}}z.append("g").attr("class","grid").attr("transform","translate("+Ze+", "+We+")").call(Tt).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}(ae,pt,0,ge),function Ee(Ze,We,ge,Qe,J,pt,ae){z.append("g").selectAll("rect").data(Ze).enter().append("rect").attr("x",0).attr("y",function(nn,B){return nn.order*We+ge-2}).attr("width",function(){return ae-p.rightPadding/2}).attr("height",We).attr("class",function(nn){for(const[B,P]of xe.entries())if(nn.type===P)return"section section"+B%p.numberSectionStyles;return"section section0"});const Tt=z.append("g").selectAll("rect").data(Ze).enter(),Jn=f.db.getLinks();if(Tt.append("rect").attr("id",function(nn){return nn.id}).attr("rx",3).attr("ry",3).attr("x",function(nn){return nn.milestone?X(nn.startTime)+Qe+.5*(X(nn.endTime)-X(nn.startTime))-.5*J:X(nn.startTime)+Qe}).attr("y",function(nn,B){return nn.order*We+ge}).attr("width",function(nn){return nn.milestone?J:X(nn.renderEndTime||nn.endTime)-X(nn.startTime)}).attr("height",J).attr("transform-origin",function(nn,B){return B=nn.order,(X(nn.startTime)+Qe+.5*(X(nn.endTime)-X(nn.startTime))).toString()+"px "+(B*We+ge+.5*J).toString()+"px"}).attr("class",function(nn){let P="";nn.classes.length>0&&(P=nn.classes.join(" "));let et=0;for(const[On,Ft]of xe.entries())nn.type===Ft&&(et=On%p.numberSectionStyles);let zn="";return nn.active?nn.crit?zn+=" activeCrit":zn=" active":nn.done?zn=nn.crit?" doneCrit":" done":nn.crit&&(zn+=" crit"),0===zn.length&&(zn=" task"),nn.milestone&&(zn=" milestone "+zn),zn+=et,zn+=" "+P,"task"+zn}),Tt.append("text").attr("id",function(nn){return nn.id+"-text"}).text(function(nn){return nn.task}).attr("font-size",p.fontSize).attr("x",function(nn){let B=X(nn.startTime),P=X(nn.renderEndTime||nn.endTime);nn.milestone&&(B+=.5*(X(nn.endTime)-X(nn.startTime))-.5*J),nn.milestone&&(P=B+J);const et=this.getBBox().width;return et>P-B?P+et+1.5*p.leftPadding>ae?B+Qe-5:P+Qe+5:(P-B)/2+B+Qe}).attr("y",function(nn,B){return nn.order*We+p.barHeight/2+(p.fontSize/2-2)+ge}).attr("text-height",J).attr("class",function(nn){const B=X(nn.startTime);let P=X(nn.endTime);nn.milestone&&(P=B+J);const et=this.getBBox().width;let zn="";nn.classes.length>0&&(zn=nn.classes.join(" "));let On=0;for(const[or,xt]of xe.entries())nn.type===xt&&(On=or%p.numberSectionStyles);let Ft="";return nn.active&&(Ft=nn.crit?"activeCritText"+On:"activeText"+On),nn.done?Ft=nn.crit?Ft+" doneCritText"+On:Ft+" doneText"+On:nn.crit&&(Ft=Ft+" critText"+On),nn.milestone&&(Ft+=" milestoneText"),et>P-B?P+et+1.5*p.leftPadding>ae?zn+" taskTextOutsideLeft taskTextOutside"+On+" "+Ft:zn+" taskTextOutsideRight taskTextOutside"+On+" "+Ft+" width-"+et:zn+" taskText taskText"+On+" "+Ft+" width-"+et}),"sandbox"===ft().securityLevel){let nn;nn=(0,F.Ltv)("#i"+a);const B=nn.nodes()[0].contentDocument;Tt.filter(function(P){return void 0!==Jn[P.id]}).each(function(P){var et=B.querySelector("#"+P.id),zn=B.querySelector("#"+P.id+"-text");const On=et.parentNode;var Ft=B.createElement("a");Ft.setAttribute("xlink:href",Jn[P.id]),Ft.setAttribute("target","_top"),On.appendChild(Ft),Ft.appendChild(et),Ft.appendChild(zn)})}}(Ze,J,pt,ae,Qe,0,We),function Bt(Ze,We){const ge=[];let Qe=0;for(const[J,pt]of xe.entries())ge[J]=[pt,ze(pt,Oe)];z.append("g").selectAll("text").data(ge).enter().append(function(J){const pt=J[0].split(sr.lineBreakRegex),ae=-(pt.length-1)/2,Tt=C.createElementNS("http://www.w3.org/2000/svg","text");Tt.setAttribute("dy",ae+"em");for(const[Jn,Kt]of pt.entries()){const nn=C.createElementNS("http://www.w3.org/2000/svg","tspan");nn.setAttribute("alignment-baseline","central"),nn.setAttribute("x","10"),Jn>0&&nn.setAttribute("dy","1em"),nn.textContent=Kt,Tt.appendChild(nn)}return Tt}).attr("x",10).attr("y",function(J,pt){if(!(pt>0))return J[1]*Ze/2+We;for(let ae=0;ae<pt;ae++)return Qe+=ge[pt-1][1],J[1]*Ze/2+Qe*Ze+We}).attr("font-size",p.sectionFontSize).attr("font-size",p.sectionFontSize).attr("class",function(J){for(const[pt,ae]of xe.entries())if(J[0]===ae)return"sectionTitle sectionTitle"+pt%p.numberSectionStyles;return"sectionTitle"})}(J,pt),function tn(Ze,We,ge,Qe){const J=f.db.getTodayMarker();if("off"===J)return;const pt=z.append("g").attr("class","today"),ae=new Date,Tt=pt.append("line");Tt.attr("x1",X(ae)+Ze).attr("x2",X(ae)+Ze).attr("y1",p.titleTopMargin).attr("y2",Qe-p.titleTopMargin).attr("class","today"),""!==J&&Tt.attr("style",J.replace(/,/g,";"))}(ae,0,0,ge)}(V,Yh,Y),Su(z,Y,Yh,p.useMaxWidth),z.append("text").text(f.db.getDiagramTitle()).attr("x",Yh/2).attr("y",p.titleTopMargin).attr("class","titleText")}};var Vv=function(){var s=function(y,b,w,C){for(w=w||{},C=y.length;C--;w[y[C]]=b);return w},a=[6,9,10],h={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(b,w,C,A,V,Y,z){switch(V){case 1:return A;case 4:break;case 6:A.setInfo(!0)}},table:[{3:1,4:[1,2]},{1:[3]},s(a,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},s(a,[2,3]),s(a,[2,4]),s(a,[2,5]),s(a,[2,6])],defaultActions:{4:[2,1]},parseError:function(b,w){if(!w.recoverable){var C=new Error(b);throw C.hash=w,C}this.trace(b)},parse:function(b){var C=[0],A=[],V=[null],Y=[],z=this.table,X="",xe=0,Oe=0,Ee=Y.slice.call(arguments,1),nt=Object.create(this.lexer),wt={yy:{}};for(var Bt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Bt)&&(wt.yy[Bt]=this.yy[Bt]);nt.setInput(b,wt.yy),wt.yy.lexer=nt,wt.yy.parser=this,typeof nt.yylloc>"u"&&(nt.yylloc={});var tn=nt.yylloc;Y.push(tn);var Kt,ut=nt.options&&nt.options.ranges;this.parseError="function"==typeof wt.yy.parseError?wt.yy.parseError:Object.getPrototypeOf(this).parseError;for(var ze,Ze,We,ge,J,pt,Tt,Qe={};;){if(this.defaultActions[Ze=C[C.length-1]]?We=this.defaultActions[Ze]:((null===ze||typeof ze>"u")&&(Kt=void 0,"number"!=typeof(Kt=A.pop()||nt.lex()||1)&&(Kt instanceof Array&&(Kt=(A=Kt).pop()),Kt=this.symbols_[Kt]||Kt),ze=Kt),We=z[Ze]&&z[Ze][ze]),typeof We>"u"||!We.length||!We[0]){var Jn;for(J in Tt=[],z[Ze])this.terminals_[J]&&J>2&&Tt.push("'"+this.terminals_[J]+"'");Jn=nt.showPosition?"Parse error on line "+(xe+1)+":\n"+nt.showPosition()+"\nExpecting "+Tt.join(", ")+", got '"+(this.terminals_[ze]||ze)+"'":"Parse error on line "+(xe+1)+": Unexpected "+(1==ze?"end of input":"'"+(this.terminals_[ze]||ze)+"'"),this.parseError(Jn,{text:nt.match,token:this.terminals_[ze]||ze,line:nt.yylineno,loc:tn,expected:Tt})}if(We[0]instanceof Array&&We.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ze+", token: "+ze);switch(We[0]){case 1:C.push(ze),V.push(nt.yytext),Y.push(nt.yylloc),C.push(We[1]),ze=null,Oe=nt.yyleng,X=nt.yytext,xe=nt.yylineno,tn=nt.yylloc;break;case 2:if(Qe.$=V[V.length-(pt=this.productions_[We[1]][1])],Qe._$={first_line:Y[Y.length-(pt||1)].first_line,last_line:Y[Y.length-1].last_line,first_column:Y[Y.length-(pt||1)].first_column,last_column:Y[Y.length-1].last_column},ut&&(Qe._$.range=[Y[Y.length-(pt||1)].range[0],Y[Y.length-1].range[1]]),typeof(ge=this.performAction.apply(Qe,[X,Oe,xe,wt.yy,We[1],V,Y].concat(Ee)))<"u")return ge;pt&&(C=C.slice(0,-1*pt*2),V=V.slice(0,-1*pt),Y=Y.slice(0,-1*pt)),C.push(this.productions_[We[1]][0]),V.push(Qe.$),Y.push(Qe._$),C.push(z[C[C.length-2]][C[C.length-1]]);break;case 3:return!0}}return!0}};function p(){this.yy={}}return h.lexer=function(){return{EOF:1,parseError:function(w,C){if(!this.yy.parser)throw new Error(w);this.yy.parser.parseError(w,C)},setInput:function(b,w){return this.yy=w||this.yy||{},this._input=b,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var b=this._input[0];return this.yytext+=b,this.yyleng++,this.offset++,this.match+=b,this.matched+=b,b.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),b},unput:function(b){var w=b.length,C=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-w),this.offset-=w;var A=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),C.length-1&&(this.yylineno-=C.length-1);var V=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:C?(C.length===A.length?this.yylloc.first_column:0)+A[A.length-C.length].length-C[0].length:this.yylloc.first_column-w},this.options.ranges&&(this.yylloc.range=[V[0],V[0]+this.yyleng-w]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(b){this.unput(this.match.slice(b))},pastInput:function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(b.length>20?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=this.match;return b.length<20&&(b+=this._input.substr(0,20-b.length)),(b.substr(0,20)+(b.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),w=new Array(b.length+1).join("-");return b+this.upcomingInput()+"\n"+w+"^"},test_match:function(b,w){var C,A,V;if(this.options.backtrack_lexer&&(V={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(V.yylloc.range=this.yylloc.range.slice(0))),(A=b[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=A.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:A?A[A.length-1].length-A[A.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],C=this.performAction.call(this,this.yy,this,w,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),C)return C;if(this._backtrack){for(var Y in V)this[Y]=V[Y];return!1}return!1},next:function(){if(this.done)return this.EOF;var b,w,C,A;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var V=this._currentRules(),Y=0;Y<V.length;Y++)if((C=this._input.match(this.rules[V[Y]]))&&(!w||C[0].length>w[0].length)){if(w=C,A=Y,this.options.backtrack_lexer){if(!1!==(b=this.test_match(C,V[Y])))return b;if(this._backtrack){w=!1;continue}return!1}if(!this.options.flex)break}return w?!1!==(b=this.test_match(w,V[A]))&&b:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(w){this.conditionStack.push(w)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(w){return(w=this.conditionStack.length-1-Math.abs(w||0))>=0?this.conditionStack[w]:"INITIAL"},pushState:function(w){this.begin(w)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(w,C,A,V){switch(A){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}}}(),p.prototype=h,h.Parser=p,new p}();Vv.parser=Vv;const wM=Vv;var Zx="",Qx=!1;const iN={setMessage:s=>{Me.debug("Setting message to: "+s),Zx=s},getMessage:()=>Zx,setInfo:s=>{Qx=s},getInfo:()=>Qx,clear:$e},TM={draw:(s,a,h)=>{try{Me.debug("Rendering info diagram\n"+s);const f=ft().securityLevel;let p;"sandbox"===f&&(p=(0,F.Ltv)("#i"+a));const b=(0,F.Ltv)("sandbox"===f?p.nodes()[0].contentDocument.body:"body").select("#"+a);b.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+h),b.attr("height",100),b.attr("width",400)}catch(f){Me.error("Error while rendering info diagram"),Me.error(f.message)}}},Jx=s=>null!==s.match(/^\s*info/);var SC=function(){var s=function(tn,ut,ct,ze){for(ct=ct||{},ze=tn.length;ze--;ct[tn[ze]]=ut);return ct},a=[1,4],h=[1,5],f=[1,6],p=[1,7],y=[1,9],b=[1,11,13,15,17,19,20,26,27,28,29],w=[2,5],C=[1,6,11,13,15,17,19,20,26,27,28,29],A=[26,27,28],V=[2,8],Y=[1,18],z=[1,19],X=[1,20],xe=[1,21],Oe=[1,22],Fe=[1,23],Ue=[1,28],Ee=[6,26,27,28,29],nt={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function(ut,ct,ze,Ze,We,ge,Qe){var J=ge.length-1;switch(We){case 4:Ze.setShowData(!0);break;case 7:this.$=ge[J-1];break;case 9:Ze.addSection(ge[J-1],Ze.cleanupValue(ge[J]));break;case 10:this.$=ge[J].trim(),Ze.setDiagramTitle(this.$);break;case 11:this.$=ge[J].trim(),Ze.setAccTitle(this.$);break;case 12:case 13:this.$=ge[J].trim(),Ze.setAccDescription(this.$);break;case 14:Ze.addSection(ge[J].substr(8)),this.$=ge[J].substr(8);break;case 21:Ze.parseDirective("%%{","open_directive");break;case 22:Ze.parseDirective(ge[J],"type_directive");break;case 23:ge[J]=ge[J].trim().replace(/'/g,'"'),Ze.parseDirective(ge[J],"arg_directive");break;case 24:Ze.parseDirective("}%%","close_directive","pie")}},table:[{3:1,4:2,5:3,6:a,21:8,26:h,27:f,28:p,29:y},{1:[3]},{3:10,4:2,5:3,6:a,21:8,26:h,27:f,28:p,29:y},{3:11,4:2,5:3,6:a,21:8,26:h,27:f,28:p,29:y},s(b,w,{7:12,8:[1,13]}),s(C,[2,18]),s(C,[2,19]),s(C,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},s(A,V,{21:8,9:16,10:17,5:24,1:[2,3],11:Y,13:z,15:X,17:xe,19:Oe,20:Fe,29:y}),s(b,w,{7:25}),{23:26,24:[1,27],32:Ue},s([24,32],[2,22]),s(b,[2,6]),{4:29,26:h,27:f,28:p},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},s(A,[2,13]),s(A,[2,14]),s(A,[2,15]),s(A,V,{21:8,9:16,10:17,5:24,1:[2,4],11:Y,13:z,15:X,17:xe,19:Oe,20:Fe,29:y}),s(Ee,[2,16]),{25:34,31:[1,35]},s(Ee,[2,24]),s(b,[2,7]),s(A,[2,9]),s(A,[2,10]),s(A,[2,11]),s(A,[2,12]),{23:36,32:Ue},{32:[2,23]},s(Ee,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function(ut,ct){if(!ct.recoverable){var ze=new Error(ut);throw ze.hash=ct,ze}this.trace(ut)},parse:function(ut){var ze=[0],Ze=[],We=[null],ge=[],Qe=this.table,J="",pt=0,ae=0,Kt=ge.slice.call(arguments,1),nn=Object.create(this.lexer),B={yy:{}};for(var P in this.yy)Object.prototype.hasOwnProperty.call(this.yy,P)&&(B.yy[P]=this.yy[P]);nn.setInput(ut,B.yy),B.yy.lexer=nn,B.yy.parser=this,typeof nn.yylloc>"u"&&(nn.yylloc={});var et=nn.yylloc;ge.push(et);var Cn,zn=nn.options&&nn.options.ranges;this.parseError="function"==typeof B.yy.parseError?B.yy.parseError:Object.getPrototypeOf(this).parseError;for(var Ft,or,xt,bn,Yt,ht,tt,Gt={};;){if(this.defaultActions[or=ze[ze.length-1]]?xt=this.defaultActions[or]:((null===Ft||typeof Ft>"u")&&(Cn=void 0,"number"!=typeof(Cn=Ze.pop()||nn.lex()||1)&&(Cn instanceof Array&&(Cn=(Ze=Cn).pop()),Cn=this.symbols_[Cn]||Cn),Ft=Cn),xt=Qe[or]&&Qe[or][Ft]),typeof xt>"u"||!xt.length||!xt[0]){var Re;for(Yt in tt=[],Qe[or])this.terminals_[Yt]&&Yt>2&&tt.push("'"+this.terminals_[Yt]+"'");Re=nn.showPosition?"Parse error on line "+(pt+1)+":\n"+nn.showPosition()+"\nExpecting "+tt.join(", ")+", got '"+(this.terminals_[Ft]||Ft)+"'":"Parse error on line "+(pt+1)+": Unexpected "+(1==Ft?"end of input":"'"+(this.terminals_[Ft]||Ft)+"'"),this.parseError(Re,{text:nn.match,token:this.terminals_[Ft]||Ft,line:nn.yylineno,loc:et,expected:tt})}if(xt[0]instanceof Array&&xt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+or+", token: "+Ft);switch(xt[0]){case 1:ze.push(Ft),We.push(nn.yytext),ge.push(nn.yylloc),ze.push(xt[1]),Ft=null,ae=nn.yyleng,J=nn.yytext,pt=nn.yylineno,et=nn.yylloc;break;case 2:if(Gt.$=We[We.length-(ht=this.productions_[xt[1]][1])],Gt._$={first_line:ge[ge.length-(ht||1)].first_line,last_line:ge[ge.length-1].last_line,first_column:ge[ge.length-(ht||1)].first_column,last_column:ge[ge.length-1].last_column},zn&&(Gt._$.range=[ge[ge.length-(ht||1)].range[0],ge[ge.length-1].range[1]]),typeof(bn=this.performAction.apply(Gt,[J,ae,pt,B.yy,xt[1],We,ge].concat(Kt)))<"u")return bn;ht&&(ze=ze.slice(0,-1*ht*2),We=We.slice(0,-1*ht),ge=ge.slice(0,-1*ht)),ze.push(this.productions_[xt[1]][0]),We.push(Gt.$),ge.push(Gt._$),ze.push(Qe[ze[ze.length-2]][ze[ze.length-1]]);break;case 3:return!0}}return!0}};function Bt(){this.yy={}}return nt.lexer=function(){return{EOF:1,parseError:function(ct,ze){if(!this.yy.parser)throw new Error(ct);this.yy.parser.parseError(ct,ze)},setInput:function(ut,ct){return this.yy=ct||this.yy||{},this._input=ut,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ut=this._input[0];return this.yytext+=ut,this.yyleng++,this.offset++,this.match+=ut,this.matched+=ut,ut.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ut},unput:function(ut){var ct=ut.length,ze=ut.split(/(?:\r\n?|\n)/g);this._input=ut+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ct),this.offset-=ct;var Ze=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ze.length-1&&(this.yylineno-=ze.length-1);var We=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ze?(ze.length===Ze.length?this.yylloc.first_column:0)+Ze[Ze.length-ze.length].length-ze[0].length:this.yylloc.first_column-ct},this.options.ranges&&(this.yylloc.range=[We[0],We[0]+this.yyleng-ct]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(ut){this.unput(this.match.slice(ut))},pastInput:function(){var ut=this.matched.substr(0,this.matched.length-this.match.length);return(ut.length>20?"...":"")+ut.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ut=this.match;return ut.length<20&&(ut+=this._input.substr(0,20-ut.length)),(ut.substr(0,20)+(ut.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ut=this.pastInput(),ct=new Array(ut.length+1).join("-");return ut+this.upcomingInput()+"\n"+ct+"^"},test_match:function(ut,ct){var ze,Ze,We;if(this.options.backtrack_lexer&&(We={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(We.yylloc.range=this.yylloc.range.slice(0))),(Ze=ut[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=Ze.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ze?Ze[Ze.length-1].length-Ze[Ze.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ut[0].length},this.yytext+=ut[0],this.match+=ut[0],this.matches=ut,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ut[0].length),this.matched+=ut[0],ze=this.performAction.call(this,this.yy,this,ct,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ze)return ze;if(this._backtrack){for(var ge in We)this[ge]=We[ge];return!1}return!1},next:function(){if(this.done)return this.EOF;var ut,ct,ze,Ze;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var We=this._currentRules(),ge=0;ge<We.length;ge++)if((ze=this._input.match(this.rules[We[ge]]))&&(!ct||ze[0].length>ct[0].length)){if(ct=ze,Ze=ge,this.options.backtrack_lexer){if(!1!==(ut=this.test_match(ze,We[ge])))return ut;if(this._backtrack){ct=!1;continue}return!1}if(!this.options.flex)break}return ct?!1!==(ut=this.test_match(ct,We[Ze]))&&ut:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(ct){this.conditionStack.push(ct)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(ct){return(ct=this.conditionStack.length-1-Math.abs(ct||0))>=0?this.conditionStack[ct]:"INITIAL"},pushState:function(ct){this.begin(ct)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(ct,ze,Ze,We){switch(Ze){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:case 6:case 8:case 9:break;case 7:return 26;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:case 20:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}}}(),Bt.prototype=nt,nt.Parser=Bt,new Bt}();SC.parser=SC;const DM=SC,ek=s=>null!==s.match(/^\s*pie/)||null!==s.match(/^\s*bar/);let M1={},Hv=!1;const AC={parseDirective:function(s,a,h){ci.parseDirective(this,s,a,h)},getConfig:()=>ft().pie,addSection:function(s,a){s=sr.sanitizeText(s,ft()),void 0===M1[s]&&(M1[s]=a,Me.debug("Added new section :",s))},getSections:()=>M1,cleanupValue:function(s){return":"===s.substring(0,1)&&(s=s.substring(1).trim()),Number(s.trim())},clear:function(){M1={},Hv=!1,$e()},setAccTitle:it,getAccTitle:mt,setDiagramTitle:Rt,getDiagramTitle:dn,setShowData:function(s){Hv=s},getShowData:function(){return Hv},getAccDescription:It,setAccDescription:rt};let Zg,Kp=ft();const xM={draw:(s,a,h,f)=>{try{Kp=ft(),Me.debug("Rendering info diagram\n"+s);const Ee=ft().securityLevel;let nt;"sandbox"===Ee&&(nt=(0,F.Ltv)("#i"+a));const wt=(0,F.Ltv)("sandbox"===Ee?nt.nodes()[0].contentDocument.body:"body"),Bt="sandbox"===Ee?nt.nodes()[0].contentDocument:document;f.db.clear(),f.parser.parse(s),Me.debug("Parsed info diagram");const tn=Bt.getElementById(a);Zg=tn.parentElement.offsetWidth,void 0===Zg&&(Zg=1200),void 0!==Kp.useWidth&&(Zg=Kp.useWidth),void 0!==Kp.pie.useWidth&&(Zg=Kp.pie.useWidth);const ut=wt.select("#"+a);Su(ut,450,Zg,Kp.pie.useMaxWidth),tn.setAttribute("viewBox","0 0 "+Zg+" 450");var w=Math.min(Zg,450)/2-40,C=ut.append("g").attr("transform","translate("+Zg/2+",225)"),A=f.db.getSections(),V=0;Object.keys(A).forEach(function(ze){V+=A[ze]});const ct=Kp.themeVariables;var Y=[ct.pie1,ct.pie2,ct.pie3,ct.pie4,ct.pie5,ct.pie6,ct.pie7,ct.pie8,ct.pie9,ct.pie10,ct.pie11,ct.pie12],z=(0,F.UMr)().range(Y),X=Object.entries(A).map(function(ze,Ze){return{order:Ze,name:ze[0],value:ze[1]}}),Oe=(0,F.rLf)().value(function(ze){return ze.value}).sort(function(ze,Ze){return ze.order-Ze.order})(X),Fe=(0,F.JLW)().innerRadius(0).outerRadius(w);C.selectAll("mySlices").data(Oe).enter().append("path").attr("d",Fe).attr("fill",function(ze){return z(ze.data.name)}).attr("class","pieCircle"),C.selectAll("mySlices").data(Oe).enter().append("text").text(function(ze){return(ze.data.value/V*100).toFixed(0)+"%"}).attr("transform",function(ze){return"translate("+Fe.centroid(ze)+")"}).style("text-anchor","middle").attr("class","slice"),C.append("text").text(f.db.getDiagramTitle()).attr("x",0).attr("y",-200).attr("class","pieTitleText");var Ue=C.selectAll(".legend").data(z.domain()).enter().append("g").attr("class","legend").attr("transform",function(ze,Ze){return"translate(216,"+(22*Ze-22*z.domain().length/2)+")"});Ue.append("rect").attr("width",18).attr("height",18).style("fill",z).style("stroke",z),Ue.data(Oe).append("text").attr("x",22).attr("y",14).text(function(ze){return f.db.getShowData()||Kp.showData||Kp.pie.showData?ze.data.name+" ["+ze.data.value+"]":ze.data.name})}catch(Ee){Me.error("Error while rendering info diagram"),Me.error(Ee)}}};var tk=function(){var s=function(or,xt,bn,Gt){for(bn=bn||{},Gt=or.length;Gt--;bn[or[Gt]]=xt);return bn},a=[1,3],h=[1,5],f=[1,6],p=[1,7],y=[1,8],b=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],w=[1,22],C=[2,13],A=[1,26],V=[1,27],Y=[1,28],z=[1,29],X=[1,30],xe=[1,31],Oe=[1,24],Fe=[1,32],Ue=[1,33],Ee=[1,36],nt=[71,72],wt=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],Bt=[1,56],tn=[1,57],ut=[1,58],ct=[1,59],ze=[1,60],Ze=[1,61],We=[1,62],ge=[62,63],Qe=[1,74],J=[1,70],pt=[1,71],ae=[1,72],Tt=[1,73],Jn=[1,75],Kt=[1,79],nn=[1,80],B=[1,77],P=[1,78],et=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],zn={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:function(xt,bn,Gt,Yt,ht,qe,tt){var Re=qe.length-1;switch(ht){case 6:this.$=qe[Re].trim(),Yt.setAccTitle(this.$);break;case 7:case 8:this.$=qe[Re].trim(),Yt.setAccDescription(this.$);break;case 9:Yt.parseDirective("%%{","open_directive");break;case 10:Yt.parseDirective(qe[Re],"type_directive");break;case 11:qe[Re]=qe[Re].trim().replace(/'/g,'"'),Yt.parseDirective(qe[Re],"arg_directive");break;case 12:Yt.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:Yt.addRequirement(qe[Re-3],qe[Re-4]);break;case 20:Yt.setNewReqId(qe[Re-2]);break;case 21:Yt.setNewReqText(qe[Re-2]);break;case 22:Yt.setNewReqRisk(qe[Re-2]);break;case 23:Yt.setNewReqVerifyMethod(qe[Re-2]);break;case 26:this.$=Yt.RequirementType.REQUIREMENT;break;case 27:this.$=Yt.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=Yt.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=Yt.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=Yt.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=Yt.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=Yt.RiskLevel.LOW_RISK;break;case 33:this.$=Yt.RiskLevel.MED_RISK;break;case 34:this.$=Yt.RiskLevel.HIGH_RISK;break;case 35:this.$=Yt.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=Yt.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=Yt.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=Yt.VerifyType.VERIFY_TEST;break;case 39:Yt.addElement(qe[Re-3]);break;case 40:Yt.setNewElementType(qe[Re-2]);break;case 41:Yt.setNewElementDocRef(qe[Re-2]);break;case 44:Yt.addRelationship(qe[Re-2],qe[Re],qe[Re-4]);break;case 45:Yt.addRelationship(qe[Re-2],qe[Re-4],qe[Re]);break;case 46:this.$=Yt.Relationships.CONTAINS;break;case 47:this.$=Yt.Relationships.COPIES;break;case 48:this.$=Yt.Relationships.DERIVES;break;case 49:this.$=Yt.Relationships.SATISFIES;break;case 50:this.$=Yt.Relationships.VERIFIES;break;case 51:this.$=Yt.Relationships.REFINES;break;case 52:this.$=Yt.Relationships.TRACES}},table:[{3:1,4:2,6:a,9:4,14:h,16:f,18:p,19:y},{1:[3]},{3:10,4:2,5:[1,9],6:a,9:4,14:h,16:f,18:p,19:y},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},s(b,[2,8]),{20:[2,9]},{3:16,4:2,6:a,9:4,14:h,16:f,18:p,19:y},{1:[2,2]},{4:21,5:w,7:17,8:C,9:4,14:h,16:f,18:p,19:y,23:18,24:19,25:20,26:23,32:25,40:A,41:V,42:Y,43:z,44:X,45:xe,53:Oe,71:Fe,72:Ue},{11:34,12:[1,35],22:Ee},s([12,22],[2,10]),s(b,[2,6]),s(b,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:w,7:38,8:C,9:4,14:h,16:f,18:p,19:y,23:18,24:19,25:20,26:23,32:25,40:A,41:V,42:Y,43:z,44:X,45:xe,53:Oe,71:Fe,72:Ue},{4:21,5:w,7:39,8:C,9:4,14:h,16:f,18:p,19:y,23:18,24:19,25:20,26:23,32:25,40:A,41:V,42:Y,43:z,44:X,45:xe,53:Oe,71:Fe,72:Ue},{4:21,5:w,7:40,8:C,9:4,14:h,16:f,18:p,19:y,23:18,24:19,25:20,26:23,32:25,40:A,41:V,42:Y,43:z,44:X,45:xe,53:Oe,71:Fe,72:Ue},{4:21,5:w,7:41,8:C,9:4,14:h,16:f,18:p,19:y,23:18,24:19,25:20,26:23,32:25,40:A,41:V,42:Y,43:z,44:X,45:xe,53:Oe,71:Fe,72:Ue},{4:21,5:w,7:42,8:C,9:4,14:h,16:f,18:p,19:y,23:18,24:19,25:20,26:23,32:25,40:A,41:V,42:Y,43:z,44:X,45:xe,53:Oe,71:Fe,72:Ue},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},s(nt,[2,26]),s(nt,[2,27]),s(nt,[2,28]),s(nt,[2,29]),s(nt,[2,30]),s(nt,[2,31]),s(wt,[2,55]),s(wt,[2,56]),s(b,[2,4]),{13:51,21:[1,52]},s(b,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:Bt,65:tn,66:ut,67:ct,68:ze,69:Ze,70:We},{61:63,64:Bt,65:tn,66:ut,67:ct,68:ze,69:Ze,70:We},{11:64,22:Ee},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},s(ge,[2,46]),s(ge,[2,47]),s(ge,[2,48]),s(ge,[2,49]),s(ge,[2,50]),s(ge,[2,51]),s(ge,[2,52]),{63:[1,68]},s(b,[2,5]),{5:Qe,29:69,30:J,33:pt,35:ae,37:Tt,39:Jn},{5:Kt,39:nn,55:76,56:B,58:P},{32:81,71:Fe,72:Ue},{32:82,71:Fe,72:Ue},s(et,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:Qe,29:87,30:J,33:pt,35:ae,37:Tt,39:Jn},s(et,[2,25]),s(et,[2,39]),{31:[1,88]},{31:[1,89]},{5:Kt,39:nn,55:90,56:B,58:P},s(et,[2,43]),s(et,[2,44]),s(et,[2,45]),{32:91,71:Fe,72:Ue},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},s(et,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},s(et,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:Qe,29:116,30:J,33:pt,35:ae,37:Tt,39:Jn},{5:Qe,29:117,30:J,33:pt,35:ae,37:Tt,39:Jn},{5:Qe,29:118,30:J,33:pt,35:ae,37:Tt,39:Jn},{5:Qe,29:119,30:J,33:pt,35:ae,37:Tt,39:Jn},{5:Kt,39:nn,55:120,56:B,58:P},{5:Kt,39:nn,55:121,56:B,58:P},s(et,[2,20]),s(et,[2,21]),s(et,[2,22]),s(et,[2,23]),s(et,[2,40]),s(et,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:function(xt,bn){if(!bn.recoverable){var Gt=new Error(xt);throw Gt.hash=bn,Gt}this.trace(xt)},parse:function(xt){var Gt=[0],Yt=[],ht=[null],qe=[],tt=this.table,Re="",Cn=0,Te=0,fi=qe.slice.call(arguments,1),qn=Object.create(this.lexer),_n={yy:{}};for(var Sn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Sn)&&(_n.yy[Sn]=this.yy[Sn]);qn.setInput(xt,_n.yy),_n.yy.lexer=qn,_n.yy.parser=this,typeof qn.yylloc>"u"&&(qn.yylloc={});var Fn=qn.yylloc;qe.push(Fn);var Bn,kn=qn.options&&qn.options.ranges;this.parseError="function"==typeof _n.yy.parseError?_n.yy.parseError:Object.getPrototypeOf(this).parseError;for(var Ar,Ys,Tr,br,Ua,Hs,Ei,is={};;){if(this.defaultActions[Ys=Gt[Gt.length-1]]?Tr=this.defaultActions[Ys]:((null===Ar||typeof Ar>"u")&&(Bn=void 0,"number"!=typeof(Bn=Yt.pop()||qn.lex()||1)&&(Bn instanceof Array&&(Bn=(Yt=Bn).pop()),Bn=this.symbols_[Bn]||Bn),Ar=Bn),Tr=tt[Ys]&&tt[Ys][Ar]),typeof Tr>"u"||!Tr.length||!Tr[0]){var Yn;for(Ua in Ei=[],tt[Ys])this.terminals_[Ua]&&Ua>2&&Ei.push("'"+this.terminals_[Ua]+"'");Yn=qn.showPosition?"Parse error on line "+(Cn+1)+":\n"+qn.showPosition()+"\nExpecting "+Ei.join(", ")+", got '"+(this.terminals_[Ar]||Ar)+"'":"Parse error on line "+(Cn+1)+": Unexpected "+(1==Ar?"end of input":"'"+(this.terminals_[Ar]||Ar)+"'"),this.parseError(Yn,{text:qn.match,token:this.terminals_[Ar]||Ar,line:qn.yylineno,loc:Fn,expected:Ei})}if(Tr[0]instanceof Array&&Tr.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ys+", token: "+Ar);switch(Tr[0]){case 1:Gt.push(Ar),ht.push(qn.yytext),qe.push(qn.yylloc),Gt.push(Tr[1]),Ar=null,Te=qn.yyleng,Re=qn.yytext,Cn=qn.yylineno,Fn=qn.yylloc;break;case 2:if(is.$=ht[ht.length-(Hs=this.productions_[Tr[1]][1])],is._$={first_line:qe[qe.length-(Hs||1)].first_line,last_line:qe[qe.length-1].last_line,first_column:qe[qe.length-(Hs||1)].first_column,last_column:qe[qe.length-1].last_column},kn&&(is._$.range=[qe[qe.length-(Hs||1)].range[0],qe[qe.length-1].range[1]]),typeof(br=this.performAction.apply(is,[Re,Te,Cn,_n.yy,Tr[1],ht,qe].concat(fi)))<"u")return br;Hs&&(Gt=Gt.slice(0,-1*Hs*2),ht=ht.slice(0,-1*Hs),qe=qe.slice(0,-1*Hs)),Gt.push(this.productions_[Tr[1]][0]),ht.push(is.$),qe.push(is._$),Gt.push(tt[Gt[Gt.length-2]][Gt[Gt.length-1]]);break;case 3:return!0}}return!0}};function Ft(){this.yy={}}return zn.lexer=function(){return{EOF:1,parseError:function(bn,Gt){if(!this.yy.parser)throw new Error(bn);this.yy.parser.parseError(bn,Gt)},setInput:function(xt,bn){return this.yy=bn||this.yy||{},this._input=xt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var xt=this._input[0];return this.yytext+=xt,this.yyleng++,this.offset++,this.match+=xt,this.matched+=xt,xt.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),xt},unput:function(xt){var bn=xt.length,Gt=xt.split(/(?:\r\n?|\n)/g);this._input=xt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-bn),this.offset-=bn;var Yt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Gt.length-1&&(this.yylineno-=Gt.length-1);var ht=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Gt?(Gt.length===Yt.length?this.yylloc.first_column:0)+Yt[Yt.length-Gt.length].length-Gt[0].length:this.yylloc.first_column-bn},this.options.ranges&&(this.yylloc.range=[ht[0],ht[0]+this.yyleng-bn]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(xt){this.unput(this.match.slice(xt))},pastInput:function(){var xt=this.matched.substr(0,this.matched.length-this.match.length);return(xt.length>20?"...":"")+xt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var xt=this.match;return xt.length<20&&(xt+=this._input.substr(0,20-xt.length)),(xt.substr(0,20)+(xt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var xt=this.pastInput(),bn=new Array(xt.length+1).join("-");return xt+this.upcomingInput()+"\n"+bn+"^"},test_match:function(xt,bn){var Gt,Yt,ht;if(this.options.backtrack_lexer&&(ht={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ht.yylloc.range=this.yylloc.range.slice(0))),(Yt=xt[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=Yt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Yt?Yt[Yt.length-1].length-Yt[Yt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+xt[0].length},this.yytext+=xt[0],this.match+=xt[0],this.matches=xt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(xt[0].length),this.matched+=xt[0],Gt=this.performAction.call(this,this.yy,this,bn,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Gt)return Gt;if(this._backtrack){for(var qe in ht)this[qe]=ht[qe];return!1}return!1},next:function(){if(this.done)return this.EOF;var xt,bn,Gt,Yt;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var ht=this._currentRules(),qe=0;qe<ht.length;qe++)if((Gt=this._input.match(this.rules[ht[qe]]))&&(!bn||Gt[0].length>bn[0].length)){if(bn=Gt,Yt=qe,this.options.backtrack_lexer){if(!1!==(xt=this.test_match(Gt,ht[qe])))return xt;if(this._backtrack){bn=!1;continue}return!1}if(!this.options.flex)break}return bn?!1!==(xt=this.test_match(bn,ht[Yt]))&&xt:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(bn){this.conditionStack.push(bn)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(bn){return(bn=this.conditionStack.length-1-Math.abs(bn||0))>=0?this.conditionStack[bn]:"INITIAL"},pushState:function(bn){this.begin(bn)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(bn,Gt,Yt,ht){switch(Yt){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 53:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:case 15:case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 54:return"qString";case 55:return Gt.yytext=Gt.yytext.trim(),71}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}}}(),Ft.prototype=zn,zn.Parser=Ft,new Ft}();tk.parser=tk;const kM=tk,cN=s=>null!==s.match(/^\s*requirement(Diagram)?/);let MC=[],ed={},ay={},Vf={},Zp={};const ly={RequirementType:{REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel:{LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType:{VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships:{CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},parseDirective:function(s,a,h){ci.parseDirective(this,s,a,h)},getConfig:()=>ft().req,addRequirement:(s,a)=>(void 0===ay[s]&&(ay[s]={name:s,type:a,id:ed.id,text:ed.text,risk:ed.risk,verifyMethod:ed.verifyMethod}),ed={},ay[s]),getRequirements:()=>ay,setNewReqId:s=>{void 0!==ed&&(ed.id=s)},setNewReqText:s=>{void 0!==ed&&(ed.text=s)},setNewReqRisk:s=>{void 0!==ed&&(ed.risk=s)},setNewReqVerifyMethod:s=>{void 0!==ed&&(ed.verifyMethod=s)},setAccTitle:it,getAccTitle:mt,setAccDescription:rt,getAccDescription:It,addElement:s=>(void 0===Zp[s]&&(Zp[s]={name:s,type:Vf.type,docRef:Vf.docRef},Me.info("Added new requirement: ",s)),Vf={},Zp[s]),getElements:()=>Zp,setNewElementType:s=>{void 0!==Vf&&(Vf.type=s)},setNewElementDocRef:s=>{void 0!==Vf&&(Vf.docRef=s)},addRelationship:(s,a,h)=>{MC.push({type:s,src:a,dst:h})},getRelationships:()=>MC,clear:()=>{MC=[],ed={},ay={},Vf={},Zp={},$e()}},NC={CONTAINS:"contains",ARROW:"arrow"},cy_ReqMarkers=NC;let xl={},rk=0;const sk=(s,a)=>s.insert("rect","#"+a).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",xl.rect_min_width+"px").attr("height",xl.rect_min_height+"px"),Wv=(s,a,h)=>{let f=xl.rect_min_width/2,p=s.append("text").attr("class","req reqLabel reqTitle").attr("id",a).attr("x",f).attr("y",xl.rect_padding).attr("dominant-baseline","hanging"),y=0;h.forEach(A=>{0==y?p.append("tspan").attr("text-anchor","middle").attr("x",xl.rect_min_width/2).attr("dy",0).text(A):p.append("tspan").attr("text-anchor","middle").attr("x",xl.rect_min_width/2).attr("dy",.75*xl.line_height).text(A),y++});let C=1.5*xl.rect_padding+y*xl.line_height*.75;return s.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",xl.rect_min_width).attr("y1",C).attr("y2",C),{titleNode:p,y:C}},ok=(s,a,h,f)=>{let p=s.append("text").attr("class","req reqLabel").attr("id",a).attr("x",xl.rect_padding).attr("y",f).attr("dominant-baseline","hanging"),y=0,w=[];return h.forEach(C=>{let A=C.length;for(;A>30&&y<3;){let V=C.substring(0,30);A=(C=C.substring(30,C.length)).length,w[w.length]=V,y++}if(3==y){let V=w[w.length-1];w[w.length-1]=V.substring(0,V.length-4)+"..."}else w[w.length]=C;y=0}),w.forEach(C=>{p.append("tspan").attr("x",xl.rect_padding).attr("dy",xl.line_height).text(C)}),p},$h=s=>s.replace(/\s/g,"").replace(/\./g,"_"),LM={draw:(s,a,h,f)=>{xl=ft().requirement,f.db.clear(),f.parser.parse(s);const p=xl.securityLevel;let y;"sandbox"===p&&(y=(0,F.Ltv)("#i"+a));const w=(0,F.Ltv)("sandbox"===p?y.nodes()[0].contentDocument.body:"body").select(`[id='${a}']`);((s,a)=>{let h=s.append("defs").append("marker").attr("id",NC.CONTAINS+"_line_ending").attr("refX",0).attr("refY",a.line_height/2).attr("markerWidth",a.line_height).attr("markerHeight",a.line_height).attr("orient","auto").append("g");h.append("circle").attr("cx",a.line_height/2).attr("cy",a.line_height/2).attr("r",a.line_height/2).attr("fill","none"),h.append("line").attr("x1",0).attr("x2",a.line_height).attr("y1",a.line_height/2).attr("y2",a.line_height/2).attr("stroke-width",1),h.append("line").attr("y1",0).attr("y2",a.line_height).attr("x1",a.line_height/2).attr("x2",a.line_height/2).attr("stroke-width",1),s.append("defs").append("marker").attr("id",NC.ARROW+"_line_ending").attr("refX",a.line_height).attr("refY",.5*a.line_height).attr("markerWidth",a.line_height).attr("markerHeight",a.line_height).attr("orient","auto").append("path").attr("d",`M0,0\n      L${a.line_height},${a.line_height/2}\n      M${a.line_height},${a.line_height/2}\n      L0,${a.line_height}`).attr("stroke-width",1)})(w,xl);const C=new Ji.T({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:xl.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let A=f.db.getRequirements(),V=f.db.getElements(),Y=f.db.getRelationships();((s,a,h)=>{Object.keys(s).forEach(f=>{let p=s[f];f=$h(f),Me.info("Added new requirement: ",f);const y=h.append("g").attr("id",f),w=sk(y,"req-"+f);let C=Wv(y,f+"_title",[`<<${p.type}>>`,`${p.name}`]);ok(y,f+"_body",[`Id: ${p.id}`,`Text: ${p.text}`,`Risk: ${p.risk}`,`Verification: ${p.verifyMethod}`],C.y);const A=w.node().getBBox();a.setNode(f,{width:A.width,height:A.height,shape:"rect",id:f})})})(A,C,w),((s,a,h)=>{Object.keys(s).forEach(f=>{let p=s[f];const y=$h(f),b=h.append("g").attr("id",y),w="element-"+y,C=sk(b,w);let A=Wv(b,w+"_title",["<<Element>>",`${f}`]);ok(b,w+"_body",[`Type: ${p.type||"Not Specified"}`,`Doc Ref: ${p.docRef||"None"}`],A.y);const V=C.node().getBBox();a.setNode(y,{width:V.width,height:V.height,shape:"rect",id:y})})})(V,C,w),((s,a)=>{s.forEach(function(h){let f=$h(h.src),p=$h(h.dst);a.setEdge(f,p,{relationship:h})})})(Y,C),(0,ii.Zp)(C),function(s,a){a.nodes().forEach(function(h){void 0!==h&&void 0!==a.node(h)&&(s.select("#"+h),s.select("#"+h).attr("transform","translate("+(a.node(h).x-a.node(h).width/2)+","+(a.node(h).y-a.node(h).height/2)+" )"))})}(w,C),Y.forEach(function(Fe){!function(s,a,h,f,p){const y=h.edge($h(a.src),$h(a.dst)),b=(0,F.n8j)().x(function(C){return C.x}).y(function(C){return C.y}),w=s.insert("path","#"+f).attr("class","er relationshipLine").attr("d",b(y.points)).attr("fill","none");a.type==p.db.Relationships.CONTAINS?w.attr("marker-start","url("+sr.getUrl(xl.arrowMarkerAbsolute)+"#"+a.type+"_line_ending)"):(w.attr("stroke-dasharray","10,7"),w.attr("marker-end","url("+sr.getUrl(xl.arrowMarkerAbsolute)+"#"+cy_ReqMarkers.ARROW+"_line_ending)")),((s,a,h,f)=>{const p=a.node().getTotalLength(),y=a.node().getPointAtLength(.5*p),b="rel"+rk;rk++;const C=s.append("text").attr("class","req relationshipLabel").attr("id",b).attr("x",y.x).attr("y",y.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(f).node().getBBox();s.insert("rect","#"+b).attr("class","req reqLabelBox").attr("x",y.x-C.width/2).attr("y",y.y-C.height/2).attr("width",C.width).attr("height",C.height).attr("fill","white").attr("fill-opacity","85%")})(s,w,0,`<<${a.type}>>`)}(w,Fe,C,a,f)});const z=xl.rect_padding,X=w.node().getBBox(),xe=X.width+2*z,Oe=X.height+2*z;Su(w,Oe,xe,xl.useMaxWidth),w.attr("viewBox",`${X.x-z} ${X.y-z} ${xe} ${Oe}`)}};var Gv=function(){var s=function(bn,Gt,Yt,ht){for(Yt=Yt||{},ht=bn.length;ht--;Yt[bn[ht]]=Gt);return Yt},a=[1,2],h=[1,3],f=[1,5],p=[1,7],y=[2,5],b=[1,15],w=[1,17],C=[1,19],A=[1,21],V=[1,22],Y=[1,23],z=[1,29],X=[1,30],xe=[1,31],Oe=[1,32],Fe=[1,33],Ue=[1,34],Ee=[1,35],nt=[1,36],wt=[1,37],Bt=[1,38],tn=[1,39],ut=[1,40],ct=[1,42],ze=[1,43],Ze=[1,45],We=[1,46],ge=[1,47],Qe=[1,48],J=[1,49],pt=[1,50],ae=[1,53],Tt=[1,4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,51,52,53,54,56,57,62,63,64,65,73,83],Jn=[4,5,21,54,56],Kt=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,54,56,57,62,63,64,65,73,83],nn=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,53,54,56,57,62,63,64,65,73,83],B=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,52,54,56,57,62,63,64,65,73,83],P=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,51,54,56,57,62,63,64,65,73,83],et=[71,72,73],zn=[1,125],On=[1,4,5,7,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,51,52,53,54,56,57,62,63,64,65,73,83],Ft={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,box_section:11,box_line:12,participant_statement:13,openDirective:14,typeDirective:15,closeDirective:16,":":17,argDirective:18,box:19,restOfLine:20,end:21,signal:22,autonumber:23,NUM:24,off:25,activate:26,actor:27,deactivate:28,note_statement:29,links_statement:30,link_statement:31,properties_statement:32,details_statement:33,title:34,legacy_title:35,acc_title:36,acc_title_value:37,acc_descr:38,acc_descr_value:39,acc_descr_multiline_value:40,loop:41,rect:42,opt:43,alt:44,else_sections:45,par:46,par_sections:47,critical:48,option_sections:49,break:50,option:51,and:52,else:53,participant:54,AS:55,participant_actor:56,note:57,placement:58,text2:59,over:60,actor_pair:61,links:62,link:63,properties:64,details:65,spaceList:66,",":67,left_of:68,right_of:69,signaltype:70,"+":71,"-":72,ACTOR:73,SOLID_OPEN_ARROW:74,DOTTED_OPEN_ARROW:75,SOLID_ARROW:76,DOTTED_ARROW:77,SOLID_CROSS:78,DOTTED_CROSS:79,SOLID_POINT:80,DOTTED_POINT:81,TXT:82,open_directive:83,type_directive:84,arg_directive:85,close_directive:86,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",17:":",19:"box",20:"restOfLine",21:"end",23:"autonumber",24:"NUM",25:"off",26:"activate",28:"deactivate",34:"title",35:"legacy_title",36:"acc_title",37:"acc_title_value",38:"acc_descr",39:"acc_descr_value",40:"acc_descr_multiline_value",41:"loop",42:"rect",43:"opt",44:"alt",46:"par",48:"critical",50:"break",51:"option",52:"and",53:"else",54:"participant",55:"AS",56:"participant_actor",57:"note",60:"over",62:"links",63:"link",64:"properties",65:"details",67:",",68:"left_of",69:"right_of",71:"+",72:"-",73:"ACTOR",74:"SOLID_OPEN_ARROW",75:"DOTTED_OPEN_ARROW",76:"SOLID_ARROW",77:"DOTTED_ARROW",78:"SOLID_CROSS",79:"DOTTED_CROSS",80:"SOLID_POINT",81:"DOTTED_POINT",82:"TXT",83:"open_directive",84:"type_directive",85:"arg_directive",86:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[11,0],[11,2],[12,2],[12,1],[12,1],[6,4],[6,6],[10,1],[10,4],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[49,1],[49,4],[47,1],[47,4],[45,1],[45,4],[13,5],[13,3],[13,5],[13,3],[29,4],[29,4],[30,3],[31,3],[32,3],[33,3],[66,2],[66,1],[61,3],[61,1],[58,1],[58,1],[22,5],[22,5],[22,4],[27,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[59,1],[14,1],[15,1],[18,1],[16,1]],performAction:function(Gt,Yt,ht,qe,tt,Re,Cn){var Te=Re.length-1;switch(tt){case 4:return qe.apply(Re[Te]),Re[Te];case 5:case 10:case 9:case 14:this.$=[];break;case 6:case 11:Re[Te-1].push(Re[Te]),this.$=Re[Te-1];break;case 7:case 8:case 12:case 13:case 63:this.$=Re[Te];break;case 18:Re[Te-1].unshift({type:"boxStart",boxData:qe.parseBoxData(Re[Te-2])}),Re[Te-1].push({type:"boxEnd",boxText:Re[Te-2]}),this.$=Re[Te-1];break;case 20:this.$={type:"sequenceIndex",sequenceIndex:Number(Re[Te-2]),sequenceIndexStep:Number(Re[Te-1]),sequenceVisible:!0,signalType:qe.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceIndex:Number(Re[Te-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:qe.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:qe.LINETYPE.AUTONUMBER};break;case 23:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:qe.LINETYPE.AUTONUMBER};break;case 24:this.$={type:"activeStart",signalType:qe.LINETYPE.ACTIVE_START,actor:Re[Te-1]};break;case 25:this.$={type:"activeEnd",signalType:qe.LINETYPE.ACTIVE_END,actor:Re[Te-1]};break;case 31:qe.setDiagramTitle(Re[Te].substring(6)),this.$=Re[Te].substring(6);break;case 32:qe.setDiagramTitle(Re[Te].substring(7)),this.$=Re[Te].substring(7);break;case 33:this.$=Re[Te].trim(),qe.setAccTitle(this.$);break;case 34:case 35:this.$=Re[Te].trim(),qe.setAccDescription(this.$);break;case 36:Re[Te-1].unshift({type:"loopStart",loopText:qe.parseMessage(Re[Te-2]),signalType:qe.LINETYPE.LOOP_START}),Re[Te-1].push({type:"loopEnd",loopText:Re[Te-2],signalType:qe.LINETYPE.LOOP_END}),this.$=Re[Te-1];break;case 37:Re[Te-1].unshift({type:"rectStart",color:qe.parseMessage(Re[Te-2]),signalType:qe.LINETYPE.RECT_START}),Re[Te-1].push({type:"rectEnd",color:qe.parseMessage(Re[Te-2]),signalType:qe.LINETYPE.RECT_END}),this.$=Re[Te-1];break;case 38:Re[Te-1].unshift({type:"optStart",optText:qe.parseMessage(Re[Te-2]),signalType:qe.LINETYPE.OPT_START}),Re[Te-1].push({type:"optEnd",optText:qe.parseMessage(Re[Te-2]),signalType:qe.LINETYPE.OPT_END}),this.$=Re[Te-1];break;case 39:Re[Te-1].unshift({type:"altStart",altText:qe.parseMessage(Re[Te-2]),signalType:qe.LINETYPE.ALT_START}),Re[Te-1].push({type:"altEnd",signalType:qe.LINETYPE.ALT_END}),this.$=Re[Te-1];break;case 40:Re[Te-1].unshift({type:"parStart",parText:qe.parseMessage(Re[Te-2]),signalType:qe.LINETYPE.PAR_START}),Re[Te-1].push({type:"parEnd",signalType:qe.LINETYPE.PAR_END}),this.$=Re[Te-1];break;case 41:Re[Te-1].unshift({type:"criticalStart",criticalText:qe.parseMessage(Re[Te-2]),signalType:qe.LINETYPE.CRITICAL_START}),Re[Te-1].push({type:"criticalEnd",signalType:qe.LINETYPE.CRITICAL_END}),this.$=Re[Te-1];break;case 42:Re[Te-1].unshift({type:"breakStart",breakText:qe.parseMessage(Re[Te-2]),signalType:qe.LINETYPE.BREAK_START}),Re[Te-1].push({type:"breakEnd",optText:qe.parseMessage(Re[Te-2]),signalType:qe.LINETYPE.BREAK_END}),this.$=Re[Te-1];break;case 45:this.$=Re[Te-3].concat([{type:"option",optionText:qe.parseMessage(Re[Te-1]),signalType:qe.LINETYPE.CRITICAL_OPTION},Re[Te]]);break;case 47:this.$=Re[Te-3].concat([{type:"and",parText:qe.parseMessage(Re[Te-1]),signalType:qe.LINETYPE.PAR_AND},Re[Te]]);break;case 49:this.$=Re[Te-3].concat([{type:"else",altText:qe.parseMessage(Re[Te-1]),signalType:qe.LINETYPE.ALT_ELSE},Re[Te]]);break;case 50:Re[Te-3].type="addParticipant",Re[Te-3].description=qe.parseMessage(Re[Te-1]),this.$=Re[Te-3];break;case 51:Re[Te-1].type="addParticipant",this.$=Re[Te-1];break;case 52:Re[Te-3].type="addActor",Re[Te-3].description=qe.parseMessage(Re[Te-1]),this.$=Re[Te-3];break;case 53:Re[Te-1].type="addActor",this.$=Re[Te-1];break;case 54:this.$=[Re[Te-1],{type:"addNote",placement:Re[Te-2],actor:Re[Te-1].actor,text:Re[Te]}];break;case 55:Re[Te-2]=[].concat(Re[Te-1],Re[Te-1]).slice(0,2),Re[Te-2][0]=Re[Te-2][0].actor,Re[Te-2][1]=Re[Te-2][1].actor,this.$=[Re[Te-1],{type:"addNote",placement:qe.PLACEMENT.OVER,actor:Re[Te-2].slice(0,2),text:Re[Te]}];break;case 56:this.$=[Re[Te-1],{type:"addLinks",actor:Re[Te-1].actor,text:Re[Te]}];break;case 57:this.$=[Re[Te-1],{type:"addALink",actor:Re[Te-1].actor,text:Re[Te]}];break;case 58:this.$=[Re[Te-1],{type:"addProperties",actor:Re[Te-1].actor,text:Re[Te]}];break;case 59:this.$=[Re[Te-1],{type:"addDetails",actor:Re[Te-1].actor,text:Re[Te]}];break;case 62:this.$=[Re[Te-2],Re[Te]];break;case 64:this.$=qe.PLACEMENT.LEFTOF;break;case 65:this.$=qe.PLACEMENT.RIGHTOF;break;case 66:this.$=[Re[Te-4],Re[Te-1],{type:"addMessage",from:Re[Te-4].actor,to:Re[Te-1].actor,signalType:Re[Te-3],msg:Re[Te]},{type:"activeStart",signalType:qe.LINETYPE.ACTIVE_START,actor:Re[Te-1]}];break;case 67:this.$=[Re[Te-4],Re[Te-1],{type:"addMessage",from:Re[Te-4].actor,to:Re[Te-1].actor,signalType:Re[Te-3],msg:Re[Te]},{type:"activeEnd",signalType:qe.LINETYPE.ACTIVE_END,actor:Re[Te-4]}];break;case 68:this.$=[Re[Te-3],Re[Te-1],{type:"addMessage",from:Re[Te-3].actor,to:Re[Te-1].actor,signalType:Re[Te-2],msg:Re[Te]}];break;case 69:this.$={type:"addParticipant",actor:Re[Te]};break;case 70:this.$=qe.LINETYPE.SOLID_OPEN;break;case 71:this.$=qe.LINETYPE.DOTTED_OPEN;break;case 72:this.$=qe.LINETYPE.SOLID;break;case 73:this.$=qe.LINETYPE.DOTTED;break;case 74:this.$=qe.LINETYPE.SOLID_CROSS;break;case 75:this.$=qe.LINETYPE.DOTTED_CROSS;break;case 76:this.$=qe.LINETYPE.SOLID_POINT;break;case 77:this.$=qe.LINETYPE.DOTTED_POINT;break;case 78:this.$=qe.parseMessage(Re[Te].trim().substring(1));break;case 79:qe.parseDirective("%%{","open_directive");break;case 80:qe.parseDirective(Re[Te],"type_directive");break;case 81:Re[Te]=Re[Te].trim().replace(/'/g,'"'),qe.parseDirective(Re[Te],"arg_directive");break;case 82:qe.parseDirective("}%%","close_directive","sequence")}},table:[{3:1,4:a,5:h,6:4,7:f,14:6,83:p},{1:[3]},{3:8,4:a,5:h,6:4,7:f,14:6,83:p},{3:9,4:a,5:h,6:4,7:f,14:6,83:p},{3:10,4:a,5:h,6:4,7:f,14:6,83:p},s([1,4,5,19,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,54,56,57,62,63,64,65,73,83],y,{8:11}),{15:12,84:[1,13]},{84:[2,79]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:b,5:w,6:41,9:14,10:16,13:18,14:6,19:C,22:20,23:A,26:V,27:44,28:Y,29:24,30:25,31:26,32:27,33:28,34:z,35:X,36:xe,38:Oe,40:Fe,41:Ue,42:Ee,43:nt,44:wt,46:Bt,48:tn,50:ut,54:ct,56:ze,57:Ze,62:We,63:ge,64:Qe,65:J,73:pt,83:p},{16:51,17:[1,52],86:ae},s([17,86],[2,80]),s(Tt,[2,6]),{6:41,10:54,13:18,14:6,19:C,22:20,23:A,26:V,27:44,28:Y,29:24,30:25,31:26,32:27,33:28,34:z,35:X,36:xe,38:Oe,40:Fe,41:Ue,42:Ee,43:nt,44:wt,46:Bt,48:tn,50:ut,54:ct,56:ze,57:Ze,62:We,63:ge,64:Qe,65:J,73:pt,83:p},s(Tt,[2,8]),s(Tt,[2,9]),s(Tt,[2,17]),{20:[1,55]},{5:[1,56]},{5:[1,59],24:[1,57],25:[1,58]},{27:60,73:pt},{27:61,73:pt},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},{5:[1,66]},s(Tt,[2,31]),s(Tt,[2,32]),{37:[1,67]},{39:[1,68]},s(Tt,[2,35]),{20:[1,69]},{20:[1,70]},{20:[1,71]},{20:[1,72]},{20:[1,73]},{20:[1,74]},{20:[1,75]},s(Tt,[2,43]),{27:76,73:pt},{27:77,73:pt},{70:78,74:[1,79],75:[1,80],76:[1,81],77:[1,82],78:[1,83],79:[1,84],80:[1,85],81:[1,86]},{58:87,60:[1,88],68:[1,89],69:[1,90]},{27:91,73:pt},{27:92,73:pt},{27:93,73:pt},{27:94,73:pt},s([5,55,67,74,75,76,77,78,79,80,81,82],[2,69]),{5:[1,95]},{18:96,85:[1,97]},{5:[2,82]},s(Tt,[2,7]),s(Jn,[2,10],{11:98}),s(Tt,[2,19]),{5:[1,100],24:[1,99]},{5:[1,101]},s(Tt,[2,23]),{5:[1,102]},{5:[1,103]},s(Tt,[2,26]),s(Tt,[2,27]),s(Tt,[2,28]),s(Tt,[2,29]),s(Tt,[2,30]),s(Tt,[2,33]),s(Tt,[2,34]),s(Kt,y,{8:104}),s(Kt,y,{8:105}),s(Kt,y,{8:106}),s(nn,y,{45:107,8:108}),s(B,y,{47:109,8:110}),s(P,y,{49:111,8:112}),s(Kt,y,{8:113}),{5:[1,115],55:[1,114]},{5:[1,117],55:[1,116]},{27:120,71:[1,118],72:[1,119],73:pt},s(et,[2,70]),s(et,[2,71]),s(et,[2,72]),s(et,[2,73]),s(et,[2,74]),s(et,[2,75]),s(et,[2,76]),s(et,[2,77]),{27:121,73:pt},{27:123,61:122,73:pt},{73:[2,64]},{73:[2,65]},{59:124,82:zn},{59:126,82:zn},{59:127,82:zn},{59:128,82:zn},s(On,[2,15]),{16:129,86:ae},{86:[2,81]},{4:[1,132],5:[1,134],12:131,13:133,21:[1,130],54:ct,56:ze},{5:[1,135]},s(Tt,[2,21]),s(Tt,[2,22]),s(Tt,[2,24]),s(Tt,[2,25]),{4:b,5:w,6:41,9:14,10:16,13:18,14:6,19:C,21:[1,136],22:20,23:A,26:V,27:44,28:Y,29:24,30:25,31:26,32:27,33:28,34:z,35:X,36:xe,38:Oe,40:Fe,41:Ue,42:Ee,43:nt,44:wt,46:Bt,48:tn,50:ut,54:ct,56:ze,57:Ze,62:We,63:ge,64:Qe,65:J,73:pt,83:p},{4:b,5:w,6:41,9:14,10:16,13:18,14:6,19:C,21:[1,137],22:20,23:A,26:V,27:44,28:Y,29:24,30:25,31:26,32:27,33:28,34:z,35:X,36:xe,38:Oe,40:Fe,41:Ue,42:Ee,43:nt,44:wt,46:Bt,48:tn,50:ut,54:ct,56:ze,57:Ze,62:We,63:ge,64:Qe,65:J,73:pt,83:p},{4:b,5:w,6:41,9:14,10:16,13:18,14:6,19:C,21:[1,138],22:20,23:A,26:V,27:44,28:Y,29:24,30:25,31:26,32:27,33:28,34:z,35:X,36:xe,38:Oe,40:Fe,41:Ue,42:Ee,43:nt,44:wt,46:Bt,48:tn,50:ut,54:ct,56:ze,57:Ze,62:We,63:ge,64:Qe,65:J,73:pt,83:p},{21:[1,139]},{4:b,5:w,6:41,9:14,10:16,13:18,14:6,19:C,21:[2,48],22:20,23:A,26:V,27:44,28:Y,29:24,30:25,31:26,32:27,33:28,34:z,35:X,36:xe,38:Oe,40:Fe,41:Ue,42:Ee,43:nt,44:wt,46:Bt,48:tn,50:ut,53:[1,140],54:ct,56:ze,57:Ze,62:We,63:ge,64:Qe,65:J,73:pt,83:p},{21:[1,141]},{4:b,5:w,6:41,9:14,10:16,13:18,14:6,19:C,21:[2,46],22:20,23:A,26:V,27:44,28:Y,29:24,30:25,31:26,32:27,33:28,34:z,35:X,36:xe,38:Oe,40:Fe,41:Ue,42:Ee,43:nt,44:wt,46:Bt,48:tn,50:ut,52:[1,142],54:ct,56:ze,57:Ze,62:We,63:ge,64:Qe,65:J,73:pt,83:p},{21:[1,143]},{4:b,5:w,6:41,9:14,10:16,13:18,14:6,19:C,21:[2,44],22:20,23:A,26:V,27:44,28:Y,29:24,30:25,31:26,32:27,33:28,34:z,35:X,36:xe,38:Oe,40:Fe,41:Ue,42:Ee,43:nt,44:wt,46:Bt,48:tn,50:ut,51:[1,144],54:ct,56:ze,57:Ze,62:We,63:ge,64:Qe,65:J,73:pt,83:p},{4:b,5:w,6:41,9:14,10:16,13:18,14:6,19:C,21:[1,145],22:20,23:A,26:V,27:44,28:Y,29:24,30:25,31:26,32:27,33:28,34:z,35:X,36:xe,38:Oe,40:Fe,41:Ue,42:Ee,43:nt,44:wt,46:Bt,48:tn,50:ut,54:ct,56:ze,57:Ze,62:We,63:ge,64:Qe,65:J,73:pt,83:p},{20:[1,146]},s(Tt,[2,51]),{20:[1,147]},s(Tt,[2,53]),{27:148,73:pt},{27:149,73:pt},{59:150,82:zn},{59:151,82:zn},{59:152,82:zn},{67:[1,153],82:[2,63]},{5:[2,56]},{5:[2,78]},{5:[2,57]},{5:[2,58]},{5:[2,59]},{5:[1,154]},s(Tt,[2,18]),s(Jn,[2,11]),{13:155,54:ct,56:ze},s(Jn,[2,13]),s(Jn,[2,14]),s(Tt,[2,20]),s(Tt,[2,36]),s(Tt,[2,37]),s(Tt,[2,38]),s(Tt,[2,39]),{20:[1,156]},s(Tt,[2,40]),{20:[1,157]},s(Tt,[2,41]),{20:[1,158]},s(Tt,[2,42]),{5:[1,159]},{5:[1,160]},{59:161,82:zn},{59:162,82:zn},{5:[2,68]},{5:[2,54]},{5:[2,55]},{27:163,73:pt},s(On,[2,16]),s(Jn,[2,12]),s(nn,y,{8:108,45:164}),s(B,y,{8:110,47:165}),s(P,y,{8:112,49:166}),s(Tt,[2,50]),s(Tt,[2,52]),{5:[2,66]},{5:[2,67]},{82:[2,62]},{21:[2,49]},{21:[2,47]},{21:[2,45]}],defaultActions:{7:[2,79],8:[2,1],9:[2,2],10:[2,3],53:[2,82],89:[2,64],90:[2,65],97:[2,81],124:[2,56],125:[2,78],126:[2,57],127:[2,58],128:[2,59],150:[2,68],151:[2,54],152:[2,55],161:[2,66],162:[2,67],163:[2,62],164:[2,49],165:[2,47],166:[2,45]},parseError:function(Gt,Yt){if(!Yt.recoverable){var ht=new Error(Gt);throw ht.hash=Yt,ht}this.trace(Gt)},parse:function(Gt){var ht=[0],qe=[],tt=[null],Re=[],Cn=this.table,Te="",_r=0,Ut=0,_n=Re.slice.call(arguments,1),Sn=Object.create(this.lexer),Fn={yy:{}};for(var kn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,kn)&&(Fn.yy[kn]=this.yy[kn]);Sn.setInput(Gt,Fn.yy),Fn.yy.lexer=Sn,Fn.yy.parser=this,typeof Sn.yylloc>"u"&&(Sn.yylloc={});var jn=Sn.yylloc;Re.push(jn);var Tn,Ar=Sn.options&&Sn.options.ranges;this.parseError="function"==typeof Fn.yy.parseError?Fn.yy.parseError:Object.getPrototypeOf(this).parseError;for(var Tr,br,is,Ua,Mr,Ei,Bn,Hs={};;){if(this.defaultActions[br=ht[ht.length-1]]?is=this.defaultActions[br]:((null===Tr||typeof Tr>"u")&&(Tn=void 0,"number"!=typeof(Tn=qe.pop()||Sn.lex()||1)&&(Tn instanceof Array&&(Tn=(qe=Tn).pop()),Tn=this.symbols_[Tn]||Tn),Tr=Tn),is=Cn[br]&&Cn[br][Tr]),typeof is>"u"||!is.length||!is[0]){var vi;for(Mr in Bn=[],Cn[br])this.terminals_[Mr]&&Mr>2&&Bn.push("'"+this.terminals_[Mr]+"'");vi=Sn.showPosition?"Parse error on line "+(_r+1)+":\n"+Sn.showPosition()+"\nExpecting "+Bn.join(", ")+", got '"+(this.terminals_[Tr]||Tr)+"'":"Parse error on line "+(_r+1)+": Unexpected "+(1==Tr?"end of input":"'"+(this.terminals_[Tr]||Tr)+"'"),this.parseError(vi,{text:Sn.match,token:this.terminals_[Tr]||Tr,line:Sn.yylineno,loc:jn,expected:Bn})}if(is[0]instanceof Array&&is.length>1)throw new Error("Parse Error: multiple actions possible at state: "+br+", token: "+Tr);switch(is[0]){case 1:ht.push(Tr),tt.push(Sn.yytext),Re.push(Sn.yylloc),ht.push(is[1]),Tr=null,Ut=Sn.yyleng,Te=Sn.yytext,_r=Sn.yylineno,jn=Sn.yylloc;break;case 2:if(Hs.$=tt[tt.length-(Ei=this.productions_[is[1]][1])],Hs._$={first_line:Re[Re.length-(Ei||1)].first_line,last_line:Re[Re.length-1].last_line,first_column:Re[Re.length-(Ei||1)].first_column,last_column:Re[Re.length-1].last_column},Ar&&(Hs._$.range=[Re[Re.length-(Ei||1)].range[0],Re[Re.length-1].range[1]]),typeof(Ua=this.performAction.apply(Hs,[Te,Ut,_r,Fn.yy,is[1],tt,Re].concat(_n)))<"u")return Ua;Ei&&(ht=ht.slice(0,-1*Ei*2),tt=tt.slice(0,-1*Ei),Re=Re.slice(0,-1*Ei)),ht.push(this.productions_[is[1]][0]),tt.push(Hs.$),Re.push(Hs._$),ht.push(Cn[ht[ht.length-2]][ht[ht.length-1]]);break;case 3:return!0}}return!0}};function xt(){this.yy={}}return Ft.lexer=function(){return{EOF:1,parseError:function(Yt,ht){if(!this.yy.parser)throw new Error(Yt);this.yy.parser.parseError(Yt,ht)},setInput:function(Gt,Yt){return this.yy=Yt||this.yy||{},this._input=Gt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Gt=this._input[0];return this.yytext+=Gt,this.yyleng++,this.offset++,this.match+=Gt,this.matched+=Gt,Gt.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Gt},unput:function(Gt){var Yt=Gt.length,ht=Gt.split(/(?:\r\n?|\n)/g);this._input=Gt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Yt),this.offset-=Yt;var qe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ht.length-1&&(this.yylineno-=ht.length-1);var tt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ht?(ht.length===qe.length?this.yylloc.first_column:0)+qe[qe.length-ht.length].length-ht[0].length:this.yylloc.first_column-Yt},this.options.ranges&&(this.yylloc.range=[tt[0],tt[0]+this.yyleng-Yt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(Gt){this.unput(this.match.slice(Gt))},pastInput:function(){var Gt=this.matched.substr(0,this.matched.length-this.match.length);return(Gt.length>20?"...":"")+Gt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Gt=this.match;return Gt.length<20&&(Gt+=this._input.substr(0,20-Gt.length)),(Gt.substr(0,20)+(Gt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Gt=this.pastInput(),Yt=new Array(Gt.length+1).join("-");return Gt+this.upcomingInput()+"\n"+Yt+"^"},test_match:function(Gt,Yt){var ht,qe,tt;if(this.options.backtrack_lexer&&(tt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(tt.yylloc.range=this.yylloc.range.slice(0))),(qe=Gt[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=qe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:qe?qe[qe.length-1].length-qe[qe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Gt[0].length},this.yytext+=Gt[0],this.match+=Gt[0],this.matches=Gt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Gt[0].length),this.matched+=Gt[0],ht=this.performAction.call(this,this.yy,this,Yt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ht)return ht;if(this._backtrack){for(var Re in tt)this[Re]=tt[Re];return!1}return!1},next:function(){if(this.done)return this.EOF;var Gt,Yt,ht,qe;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var tt=this._currentRules(),Re=0;Re<tt.length;Re++)if((ht=this._input.match(this.rules[tt[Re]]))&&(!Yt||ht[0].length>Yt[0].length)){if(Yt=ht,qe=Re,this.options.backtrack_lexer){if(!1!==(Gt=this.test_match(ht,tt[Re])))return Gt;if(this._backtrack){Yt=!1;continue}return!1}if(!this.options.flex)break}return Yt?!1!==(Gt=this.test_match(Yt,tt[qe]))&&Gt:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(Yt){this.conditionStack.push(Yt)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Yt){return(Yt=this.conditionStack.length-1-Math.abs(Yt||0))>=0?this.conditionStack[Yt]:"INITIAL"},pushState:function(Yt){this.begin(Yt)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Yt,ht,qe,tt){switch(qe){case 0:return this.begin("open_directive"),83;case 1:return this.begin("type_directive"),84;case 2:return this.popState(),this.begin("arg_directive"),17;case 3:return this.popState(),this.popState(),86;case 4:return 85;case 5:case 53:case 66:return 5;case 6:case 7:case 8:case 9:case 10:break;case 11:return 24;case 12:return this.begin("LINE"),19;case 13:return this.begin("ID"),54;case 14:return this.begin("ID"),56;case 15:return ht.yytext=ht.yytext.trim(),this.begin("ALIAS"),73;case 16:return this.popState(),this.popState(),this.begin("LINE"),55;case 17:return this.popState(),this.popState(),5;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),44;case 22:return this.begin("LINE"),53;case 23:return this.begin("LINE"),46;case 24:return this.begin("LINE"),52;case 25:return this.begin("LINE"),48;case 26:return this.begin("LINE"),51;case 27:return this.begin("LINE"),50;case 28:return this.popState(),20;case 29:return 21;case 30:return 68;case 31:return 69;case 32:return 62;case 33:return 63;case 34:return 64;case 35:return 65;case 36:return 60;case 37:return 57;case 38:return this.begin("ID"),26;case 39:return this.begin("ID"),28;case 40:return 34;case 41:return 35;case 42:return this.begin("acc_title"),36;case 43:return this.popState(),"acc_title_value";case 44:return this.begin("acc_descr"),38;case 45:return this.popState(),"acc_descr_value";case 46:this.begin("acc_descr_multiline");break;case 47:this.popState();break;case 48:return"acc_descr_multiline_value";case 49:return 7;case 50:return 23;case 51:return 25;case 52:return 67;case 54:return ht.yytext=ht.yytext.trim(),73;case 55:return 76;case 56:return 77;case 57:return 74;case 58:return 75;case 59:return 78;case 60:return 79;case 61:return 80;case 62:return 81;case 63:return 82;case 64:return 71;case 65:return 72;case 67:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?([\-]*[^\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[47,48],inclusive:!1},acc_descr:{rules:[45],inclusive:!1},acc_title:{rules:[43],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,15],inclusive:!1},ALIAS:{rules:[7,8,16,17],inclusive:!1},LINE:{rules:[7,8,28],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,14,18,19,20,21,22,23,24,25,26,27,29,30,31,32,33,34,35,36,37,38,39,40,41,42,44,46,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0}}}}(),xt.prototype=Ft,Ft.Parser=xt,new xt}();Gv.parser=Gv;const PM=Gv,ck=s=>null!==s.match(/^\s*sequenceDiagram/);let Xv,PC,Qp,Qg={},Wh=[],td=[],hl=!1;const qv=function(s,a,h,f){let p=Qp;const y=Qg[s];if(y){if(Qp&&y.box&&Qp!==y.box)throw new Error("A same participant should only be defined in one Box: "+y.name+" can't be in '"+y.box.name+"' and in '"+Qp.name+"' at the same time.");if(p=y.box?y.box:Qp,y.box=p,y&&a===y.name&&null==h)return}(null==h||null==h.text)&&(h={text:a,wrap:null,type:f}),(null==f||null==h.text)&&(h={text:a,wrap:null,type:f}),Qg[s]={box:p,name:a,description:h.text,wrap:void 0===h.wrap&&u0()||!!h.wrap,prevActor:Xv,links:{},properties:{},actorCnt:null,rectData:null,type:f||"participant"},Xv&&Qg[Xv]&&(Qg[Xv].nextActor=s),Qp&&Qp.actorKeys.push(s),Xv=s},kl=function(s,a,h={text:void 0,wrap:void 0},f){if(f===dy.ACTIVE_END&&(s=>{let a,h=0;for(a=0;a<td.length;a++)td[a].type===dy.ACTIVE_START&&td[a].from.actor===s&&h++,td[a].type===dy.ACTIVE_END&&td[a].from.actor===s&&h--;return h})(s.actor)<1){let y=new Error("Trying to inactivate an inactive participant ("+s.actor+")");throw y.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},y}return td.push({from:s,to:a,message:h.text,wrap:void 0===h.wrap&&u0()||!!h.wrap,type:f}),!0},uy=function(s){return Qg[s]},u0=()=>void 0!==PC?PC:ft().sequence.wrap,dy={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},jC=function(s,a,h){void 0===h.wrap&&u0();const f=[].concat(s,s);td.push({from:f[0],to:f[1],message:h.text,wrap:void 0===h.wrap&&u0()||!!h.wrap,type:dy.NOTE,placement:a})},O1=function(s,a){const h=uy(s);try{let f=An(a.text,ft());f=f.replace(/&amp;/g,"&"),f=f.replace(/&equals;/g,"="),Jp(h,JSON.parse(f))}catch(f){Me.error("error while parsing actor link text",f)}};function Jp(s,a){if(null==s.links)s.links=a;else for(let h in a)s.links[h]=a[h]}const hy=function(s,a){const h=uy(s);try{let f=An(a.text,ft());zC(h,JSON.parse(f))}catch(f){Me.error("error while parsing actor properties text",f)}};function zC(s,a){if(null==s.properties)s.properties=a;else for(let h in a)s.properties[h]=a[h]}const mk=function(s,a){const h=uy(s),f=document.getElementById(a.text);try{const y=JSON.parse(f.innerHTML);y.properties&&zC(h,y.properties),y.links&&Jp(h,y.links)}catch(p){Me.error("error while parsing actor details text",p)}},Kv=function(s){if(Array.isArray(s))s.forEach(function(a){Kv(a)});else switch(s.type){case"sequenceIndex":td.push({from:void 0,to:void 0,message:{start:s.sequenceIndex,step:s.sequenceIndexStep,visible:s.sequenceVisible},wrap:!1,type:s.signalType});break;case"addParticipant":qv(s.actor,s.actor,s.description,"participant");break;case"addActor":qv(s.actor,s.actor,s.description,"actor");break;case"activeStart":case"activeEnd":kl(s.actor,void 0,void 0,s.signalType);break;case"addNote":jC(s.actor,s.placement,s.text);break;case"addLinks":O1(s.actor,s.text);break;case"addALink":!function(s,a){const h=uy(s);try{const b={};let w=An(a.text,ft());var f=w.indexOf("@");w=w.replace(/&amp;/g,"&"),w=w.replace(/&equals;/g,"=");var p=w.slice(0,f-1).trim(),y=w.slice(f+1).trim();b[p]=y,Jp(h,b)}catch(b){Me.error("error while parsing actor link text",b)}}(s.actor,s.text);break;case"addProperties":hy(s.actor,s.text);break;case"addDetails":mk(s.actor,s.text);break;case"addMessage":kl(s.from,s.to,s.msg,s.signalType);break;case"boxStart":!function(s){Wh.push({name:s.text,wrap:void 0===s.wrap&&u0()||!!s.wrap,fill:s.color,actorKeys:[]}),Qp=Wh.slice(-1)[0]}(s.boxData);break;case"boxEnd":!function fy(){Qp=void 0}();break;case"loopStart":kl(void 0,void 0,s.loopText,s.signalType);break;case"loopEnd":case"rectEnd":case"optEnd":case"altEnd":case"parEnd":case"criticalEnd":case"breakEnd":kl(void 0,void 0,void 0,s.signalType);break;case"rectStart":kl(void 0,void 0,s.color,s.signalType);break;case"optStart":kl(void 0,void 0,s.optText,s.signalType);break;case"altStart":case"else":kl(void 0,void 0,s.altText,s.signalType);break;case"setAccTitle":it(s.text);break;case"parStart":case"and":kl(void 0,void 0,s.parText,s.signalType);break;case"criticalStart":kl(void 0,void 0,s.criticalText,s.signalType);break;case"option":kl(void 0,void 0,s.optionText,s.signalType);break;case"breakStart":kl(void 0,void 0,s.breakText,s.signalType)}},YC={addActor:qv,addMessage:function(s,a,h,f){td.push({from:s,to:a,message:h.text,wrap:void 0===h.wrap&&u0()||!!h.wrap,answer:f})},addSignal:kl,addLinks:O1,addDetails:mk,addProperties:hy,autoWrap:u0,setWrap:function(s){PC=s},enableSequenceNumbers:function(){hl=!0},disableSequenceNumbers:function(){hl=!1},showSequenceNumbers:()=>hl,getMessages:function(){return td},getActors:function(){return Qg},getActor:uy,getActorKeys:function(){return Object.keys(Qg)},getActorProperty:function(s,a){if(void 0!==s&&void 0!==s.properties)return s.properties[a]},getAccTitle:mt,getBoxes:function(){return Wh},getDiagramTitle:dn,setDiagramTitle:Rt,parseDirective:function(s,a,h){ci.parseDirective(this,s,a,h)},getConfig:()=>ft().sequence,clear:function(){Qg={},Wh=[],td=[],hl=!1,$e()},parseMessage:function(s){const a=s.trim(),h={text:a.replace(/^:?(?:no)?wrap:/,"").trim(),wrap:null!==a.match(/^:?wrap:/)||null===a.match(/^:?nowrap:/)&&void 0};return Me.debug("parseMessage:",h),h},parseBoxData:function(s){const a=s.match(/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/);let h=null!=a&&a[1]?a[1].trim():"transparent",f=null!=a&&a[2]?a[2].trim():void 0;if(window&&window.CSS)window.CSS.supports("color",h)||(h="transparent",f=s.trim());else{const y=(new Option).style;y.color=h,y.color!==h&&(h="transparent",f=s.trim())}return{color:h,text:void 0!==f?An(f.replace(/^:?(?:no)?wrap:/,""),ft()):void 0,wrap:void 0!==f?null!==f.match(/^:?wrap:/)||null===f.match(/^:?nowrap:/)&&void 0:void 0}},LINETYPE:dy,ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},addNote:jC,setAccTitle:it,apply:Kv,setAccDescription:rt,getAccDescription:It,hasAtLeastOneBox:function(){return Wh.length>0},hasAtLeastOneBoxWithTitle:function(){return Wh.some(s=>s.name)}};let jf=[];const UM=()=>{jf.forEach(s=>{s()}),jf=[]},h0=function(s,a){const h=s.append("rect");return h.attr("x",a.x),h.attr("y",a.y),h.attr("fill",a.fill),h.attr("stroke",a.stroke),h.attr("width",a.width),h.attr("height",a.height),h.attr("rx",a.rx),h.attr("ry",a.ry),void 0!==a.class&&h.attr("class",a.class),h},$C=(s,a)=>{(s=>{jf.push(s)})(()=>{const h=document.querySelectorAll(s);0!==h.length&&(h[0].addEventListener("mouseover",function(){YM("actor"+a+"_popup")}),h[0].addEventListener("mouseout",function(){$M("actor"+a+"_popup")}))})},yk=function(s,a,h,f){const p=s.append("image");p.attr("x",a),p.attr("y",h);var y=(0,S.J)(f);p.attr("xlink:href",y)},gy=function(s,a,h,f){const p=s.append("use");p.attr("x",a),p.attr("y",h);var y=(0,S.J)(f);p.attr("xlink:href","#"+y)},YM=function(s){var a=document.getElementById(s);null!=a&&(a.style.display="block")},$M=function(s){var a=document.getElementById(s);null!=a&&(a.style.display="none")},I1=function(s,a){let h=0,f=0;const p=a.text.split(sr.lineBreakRegex),[y,b]=Rr(a.fontSize);let w=[],C=0,A=()=>a.y;if(void 0!==a.valign&&void 0!==a.textMargin&&a.textMargin>0)switch(a.valign){case"top":case"start":A=()=>Math.round(a.y+a.textMargin);break;case"middle":case"center":A=()=>Math.round(a.y+(h+f+a.textMargin)/2);break;case"bottom":case"end":A=()=>Math.round(a.y+(h+f+2*a.textMargin)-a.textMargin)}if(void 0!==a.anchor&&void 0!==a.textMargin&&void 0!==a.width)switch(a.anchor){case"left":case"start":a.x=Math.round(a.x+a.textMargin),a.anchor="start",a.dominantBaseline="middle",a.alignmentBaseline="middle";break;case"middle":case"center":a.x=Math.round(a.x+a.width/2),a.anchor="middle",a.dominantBaseline="middle",a.alignmentBaseline="middle";break;case"right":case"end":a.x=Math.round(a.x+a.width-a.textMargin),a.anchor="end",a.dominantBaseline="middle",a.alignmentBaseline="middle"}for(let[V,Y]of p.entries()){void 0!==a.textMargin&&0===a.textMargin&&void 0!==y&&(C=V*y);const z=s.append("text");if(z.attr("x",a.x),z.attr("y",A()),void 0!==a.anchor&&z.attr("text-anchor",a.anchor).attr("dominant-baseline",a.dominantBaseline).attr("alignment-baseline",a.alignmentBaseline),void 0!==a.fontFamily&&z.style("font-family",a.fontFamily),void 0!==b&&z.style("font-size",b),void 0!==a.fontWeight&&z.style("font-weight",a.fontWeight),void 0!==a.fill&&z.attr("fill",a.fill),void 0!==a.class&&z.attr("class",a.class),void 0!==a.dy?z.attr("dy",a.dy):0!==C&&z.attr("dy",C),a.tspan){const X=z.append("tspan");X.attr("x",a.x),void 0!==a.fill&&X.attr("fill",a.fill),X.text(Y)}else z.text(Y);void 0!==a.valign&&void 0!==a.textMargin&&a.textMargin>0&&(f+=(z._groups||z)[0][0].getBBox().height,h=f),w.push(z)}return w},bk=function(s,a){const f=s.append("polygon");return f.attr("points",function h(p,y,b,w,C){return p+","+y+" "+(p+b)+","+y+" "+(p+b)+","+(y+w-C)+" "+(p+b-1.2*C)+","+(y+w)+" "+p+","+(y+w)}(a.x,a.y,a.width,a.height,7)),f.attr("class","labelBox"),a.y=a.y+a.height/2,I1(s,a),f};let Uf=-1;const vk=(s,a)=>{s.selectAll&&s.selectAll(".actor-line").attr("class","200").attr("y2",a-55)},GC=function(s,a){h0(s,{x:a.startx,y:a.starty,width:a.stopx-a.startx,height:a.stopy-a.starty,fill:a.fill,stroke:a.stroke,class:"rect"}).lower()},qC=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},N1=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},_y=function(){function s(p,y,b,w,C,A,V){f(y.append("text").attr("x",b+C/2).attr("y",w+A/2+5).style("text-anchor","middle").text(p),V)}function a(p,y,b,w,C,A,V,Y){const{actorFontSize:z,actorFontFamily:X,actorFontWeight:xe}=Y,[Oe,Fe]=Rr(z),Ue=p.split(sr.lineBreakRegex);for(let Ee=0;Ee<Ue.length;Ee++){const nt=Ee*Oe-Oe*(Ue.length-1)/2,wt=y.append("text").attr("x",b+C/2).attr("y",w).style("text-anchor","middle").style("font-size",Fe).style("font-weight",xe).style("font-family",X);wt.append("tspan").attr("x",b+C/2).attr("dy",nt).text(Ue[Ee]),wt.attr("y",w+A/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),f(wt,V)}}function h(p,y,b,w,C,A,V,Y){const z=y.append("switch"),xe=z.append("foreignObject").attr("x",b).attr("y",w).attr("width",C).attr("height",A).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");xe.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(p),a(p,z,b,w,C,A,V,Y),f(xe,V)}function f(p,y){for(const b in y)y.hasOwnProperty(b)&&p.attr(b,y[b])}return function(p){return"fo"===p.textPlacement?h:"old"===p.textPlacement?s:a}}(),kk=function(){function s(p,y,b,w,C,A,V){f(y.append("text").attr("x",b).attr("y",w).style("text-anchor","start").text(p),V)}function a(p,y,b,w,C,A,V,Y){const{actorFontSize:z,actorFontFamily:X,actorFontWeight:xe}=Y,Oe=p.split(sr.lineBreakRegex);for(let Fe=0;Fe<Oe.length;Fe++){const Ue=Fe*z-z*(Oe.length-1)/2,Ee=y.append("text").attr("x",b).attr("y",w).style("text-anchor","start").style("font-size",z).style("font-weight",xe).style("font-family",X);Ee.append("tspan").attr("x",b).attr("dy",Ue).text(Oe[Fe]),Ee.attr("y",w+A/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),f(Ee,V)}}function h(p,y,b,w,C,A,V,Y){const z=y.append("switch"),xe=z.append("foreignObject").attr("x",b).attr("y",w).attr("width",C).attr("height",A).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");xe.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(p),a(p,z,b,w,0,A,V,Y),f(xe,V)}function f(p,y){for(const b in y)y.hasOwnProperty(b)&&p.attr(b,y[b])}return function(p){return"fo"===p.textPlacement?h:"old"===p.textPlacement?s:a}}(),xa_drawRect=h0,xa_drawActor=function(s,a,h,f){switch(a.type){case"actor":return function(s,a,h,f){const p=a.x+a.width/2,y=a.y+80;f||(Uf++,s.append("line").attr("id","actor"+Uf).attr("x1",p).attr("y1",y).attr("x2",p).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));const b=s.append("g");b.attr("class","actor-man");const w={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0};w.x=a.x,w.y=a.y,w.fill="#eaeaea",w.width=a.width,w.height=a.height,w.class="actor",w.rx=3,w.ry=3,b.append("line").attr("id","actor-man-torso"+Uf).attr("x1",p).attr("y1",a.y+25).attr("x2",p).attr("y2",a.y+45),b.append("line").attr("id","actor-man-arms"+Uf).attr("x1",p-18).attr("y1",a.y+33).attr("x2",p+18).attr("y2",a.y+33),b.append("line").attr("x1",p-18).attr("y1",a.y+60).attr("x2",p).attr("y2",a.y+45),b.append("line").attr("x1",p).attr("y1",a.y+45).attr("x2",p+16).attr("y2",a.y+60);const C=b.append("circle");C.attr("cx",a.x+a.width/2),C.attr("cy",a.y+10),C.attr("r",15),C.attr("width",a.width),C.attr("height",a.height);const A=b.node().getBBox();return a.height=A.height,_y(h)(a.description,b,w.x,w.y+35,w.width,w.height,{class:"actor"},h),a.height}(s,a,h,f);case"participant":return function(s,a,h,f){const p=a.x+a.width/2,y=a.y+5,b=s.append("g");var w=b;f||(Uf++,w.append("line").attr("id","actor"+Uf).attr("x1",p).attr("y1",y).attr("x2",p).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),w=b.append("g"),a.actorCnt=Uf,null!=a.links&&(w.attr("id","root-"+Uf),$C("#root-"+Uf,Uf)));const C={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0};var A="actor";null!=a.properties&&a.properties.class?A=a.properties.class:C.fill="#eaeaea",C.x=a.x,C.y=a.y,C.width=a.width,C.height=a.height,C.class=A,C.rx=3,C.ry=3;const V=h0(w,C);if(a.rectData=C,null!=a.properties&&a.properties.icon){const z=a.properties.icon.trim();"@"===z.charAt(0)?gy(w,C.x+C.width-20,C.y+10,z.substr(1)):yk(w,C.x+C.width-20,C.y+10,z)}_y(h)(a.description,w,C.x,C.y,C.width,C.height,{class:"actor"},h);let Y=a.height;if(V.node){const z=V.node().getBBox();a.height=z.height,Y=z.height}return Y}(s,a,h,f)}},xa_drawBox=function(s,a,h){const p=s.append("g");GC(p,a),a.name&&_y(h)(a.name,p,a.x,a.y+(a.textMaxHeight||0)/2,a.width,0,{class:"text"},h),p.lower()},xa_drawPopup=function(s,a,h,f,p){if(null==a.links||0===Object.keys(a.links).length)return{height:0,width:0};const y=a.links,b=a.actorCnt,w=a.rectData;var C="none";p&&(C="block !important");const A=s.append("g");A.attr("id","actor"+b+"_popup"),A.attr("class","actorPopupMenu"),A.attr("display",C),$C("#actor"+b+"_popup",b);var V="";void 0!==w.class&&(V=" "+w.class);let Y=w.width>h?w.width:h;const z=A.append("rect");if(z.attr("class","actorPopupMenuPanel"+V),z.attr("x",w.x),z.attr("y",w.height),z.attr("fill",w.fill),z.attr("stroke",w.stroke),z.attr("width",Y),z.attr("height",w.height),z.attr("rx",w.rx),z.attr("ry",w.ry),null!=y){var X=20;for(let Fe in y){var xe=A.append("a"),Oe=(0,S.J)(y[Fe]);xe.attr("xlink:href",Oe),xe.attr("target","_blank"),kk(f)(Fe,xe,w.x+10,w.height+X,Y,20,{class:"actor"},f),X+=30}}return z.attr("height",X),{height:w.height+X,width:Y}},xa_anchorElement=function(s){return s.append("g")},xa_drawActivation=function(s,a,h,f,p){const y={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0},b=a.anchored;y.x=a.startx,y.y=a.starty,y.class="activation"+p%3,y.width=a.stopx-a.startx,y.height=h-a.starty,h0(b,y)},xa_drawLoop=function(s,a,h,f){const{boxMargin:p,boxTextMargin:y,labelBoxHeight:b,labelBoxWidth:w,messageFontFamily:C,messageFontSize:A,messageFontWeight:V}=f,Y=s.append("g"),z=function(Oe,Fe,Ue,Ee){return Y.append("line").attr("x1",Oe).attr("y1",Fe).attr("x2",Ue).attr("y2",Ee).attr("class","loopLine")};z(a.startx,a.starty,a.stopx,a.starty),z(a.stopx,a.starty,a.stopx,a.stopy),z(a.startx,a.stopy,a.stopx,a.stopy),z(a.startx,a.starty,a.startx,a.stopy),void 0!==a.sections&&a.sections.forEach(function(Oe){z(a.startx,Oe.y,a.stopx,Oe.y).style("stroke-dasharray","3, 3")});let X={x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0};X.text=h,X.x=a.startx,X.y=a.starty,X.fontFamily=C,X.fontSize=A,X.fontWeight=V,X.anchor="middle",X.valign="middle",X.tspan=!1,X.width=w||50,X.height=b||20,X.textMargin=y,X.class="labelText",bk(Y,X),X={x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0},X.text=a.title,X.x=a.startx+w/2+(a.stopx-a.startx)/2,X.y=a.starty+p+y,X.anchor="middle",X.valign="middle",X.textMargin=y,X.class="loopText",X.fontFamily=C,X.fontSize=A,X.fontWeight=V,X.wrap=!0;let xe=I1(Y,X);return void 0!==a.sectionTitles&&a.sectionTitles.forEach(function(Oe,Fe){if(Oe.message){X.text=Oe.message,X.x=a.startx+(a.stopx-a.startx)/2,X.y=a.sections[Fe].y+p+y,X.class="loopText",X.anchor="middle",X.valign="middle",X.tspan=!1,X.fontFamily=C,X.fontSize=A,X.fontWeight=V,X.wrap=a.wrap,xe=I1(Y,X);let Ue=Math.round(xe.map(Ee=>(Ee._groups||Ee)[0][0].getBBox().height).reduce((Ee,nt)=>Ee+nt));a.sections[Fe].height+=Ue-(p+y)}}),a.height=Math.round(a.stopy-a.starty),Y},xa_drawBackgroundRect=GC,xa_insertArrowHead=function(s){s.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},xa_insertArrowFilledHead=function(s){s.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},xa_insertSequenceNumber=function(s){s.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},xa_insertArrowCrossHead=function(s){s.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},xa_insertDatabaseIcon=function(s){s.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},xa_insertComputerIcon=function(s){s.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},xa_insertClockIcon=function(s){s.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},xa_getTextObj=qC,xa_getNoteRect=N1;let jt={};const Qn={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,0===this.actors.length?[0]:this.actors.map(s=>s.height||0))+(0===this.loops.length?0:this.loops.map(s=>s.height||0).reduce((s,a)=>s+a))+(0===this.messages.length?0:this.messages.map(s=>s.height||0).reduce((s,a)=>s+a))+(0===this.notes.length?0:this.notes.map(s=>s.height||0).reduce((s,a)=>s+a))},clear:function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},addBox:function(s){this.boxes.push(s)},addActor:function(s){this.actors.push(s)},addLoop:function(s){this.loops.push(s)},addMessage:function(s){this.messages.push(s)},addNote:function(s){this.notes.push(s)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],boxes:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,JC(ft())},updateVal:function(s,a,h,f){s[a]=void 0===s[a]?h:f(h,s[a])},updateBounds:function(s,a,h,f){const p=this;let y=0;function b(w){return function(A){y++;const V=p.sequenceItems.length-y+1;p.updateVal(A,"starty",a-V*jt.boxMargin,Math.min),p.updateVal(A,"stopy",f+V*jt.boxMargin,Math.max),p.updateVal(Qn.data,"startx",s-V*jt.boxMargin,Math.min),p.updateVal(Qn.data,"stopx",h+V*jt.boxMargin,Math.max),"activation"!==w&&(p.updateVal(A,"startx",s-V*jt.boxMargin,Math.min),p.updateVal(A,"stopx",h+V*jt.boxMargin,Math.max),p.updateVal(Qn.data,"starty",a-V*jt.boxMargin,Math.min),p.updateVal(Qn.data,"stopy",f+V*jt.boxMargin,Math.max))}}this.sequenceItems.forEach(b()),this.activations.forEach(b("activation"))},insert:function(s,a,h,f){const p=Math.min(s,h),y=Math.max(s,h),b=Math.min(a,f),w=Math.max(a,f);this.updateVal(Qn.data,"startx",p,Math.min),this.updateVal(Qn.data,"starty",b,Math.min),this.updateVal(Qn.data,"stopx",y,Math.max),this.updateVal(Qn.data,"stopy",w,Math.max),this.updateBounds(p,b,y,w)},newActivation:function(s,a,h){const f=h[s.from.actor],p=Jv(s.from.actor).length||0,y=f.x+f.width/2+(p-1)*jt.activationWidth/2;this.activations.push({startx:y,starty:this.verticalPos+2,stopx:y+jt.activationWidth,stopy:void 0,actor:s.from.actor,anchored:xa_anchorElement(a)})},endActivation:function(s){const a=this.activations.map(function(h){return h.actor}).lastIndexOf(s.from.actor);return this.activations.splice(a,1)[0]},createLoop:function(s={message:void 0,wrap:!1,width:void 0},a){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:s.message,wrap:s.wrap,width:s.width,height:0,fill:a}},newLoop:function(s={message:void 0,wrap:!1,width:void 0},a){this.sequenceItems.push(this.createLoop(s,a))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(s){const a=this.sequenceItems.pop();a.sections=a.sections||[],a.sectionTitles=a.sectionTitles||[],a.sections.push({y:Qn.getVerticalPos(),height:0}),a.sectionTitles.push(s),this.sequenceItems.push(a)},bumpVerticalPos:function(s){this.verticalPos=this.verticalPos+s,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},f0=s=>({fontFamily:s.messageFontFamily,fontSize:s.messageFontSize,fontWeight:s.messageFontWeight}),R1=s=>({fontFamily:s.noteFontFamily,fontSize:s.noteFontSize,fontWeight:s.noteFontWeight}),Zv=s=>({fontFamily:s.actorFontFamily,fontSize:s.actorFontSize,fontWeight:s.actorFontWeight}),Qv=function(s,a,h,f,p,y,b){if(!0===p.hideUnusedParticipants){const Y=new Set;y.forEach(z=>{Y.add(z.from),Y.add(z.to)}),h=h.filter(z=>Y.has(z))}let V,w=0,C=0,A=0;for(const Y of h){const z=a[Y],X=z.box;V&&V!=X&&(b||Qn.models.addBox(V),C+=jt.boxMargin+V.margin),X&&X!=V&&(b||(X.x=w+C,X.y=f),C+=X.margin),z.width=z.width||jt.width,z.height=Math.max(z.height||jt.height,jt.height),z.margin=z.margin||jt.actorMargin,z.x=w+C,z.y=Qn.getVerticalPos();const xe=xa_drawActor(s,z,jt,b);A=Math.max(A,xe),Qn.insert(z.x,f,z.x+z.width,z.height),w+=z.width+C,z.box&&(z.box.width=w+X.margin-z.box.x),C=z.margin,V=z.box,Qn.models.addActor(z)}V&&!b&&Qn.models.addBox(V),Qn.bumpVerticalPos(A)},QC=function(s,a,h,f){let p=0,y=0;for(const b of h){const w=a[b],C=Ek(w),A=xa_drawPopup(s,w,C,jt,jt.forceMenus,f);A.height>p&&(p=A.height),A.width+w.x>y&&(y=A.width+w.x)}return{maxHeight:p,maxWidth:y}},JC=function(s){Le(jt,s),s.fontFamily&&(jt.actorFontFamily=jt.noteFontFamily=jt.messageFontFamily=s.fontFamily),s.fontSize&&(jt.actorFontSize=jt.noteFontSize=jt.messageFontSize=s.fontSize),s.fontWeight&&(jt.actorFontWeight=jt.noteFontWeight=jt.messageFontWeight=s.fontWeight)},Jv=function(s){return Qn.activations.filter(function(a){return a.actor===s})},eT=function(s,a){const h=a[s],f=Jv(s);return[f.reduce(function(b,w){return Math.min(b,w.startx)},h.x+h.width/2),f.reduce(function(b,w){return Math.max(b,w.stopx)},h.x+h.width/2)]};function zf(s,a,h,f,p){Qn.bumpVerticalPos(h);let y=f;if(a.id&&a.message&&s[a.id]){const b=s[a.id].width,w=f0(jt);a.message=Hr.wrapLabel(`[${a.message}]`,b-2*jt.wrapPadding,w),a.width=b,a.wrap=!0;const C=Hr.calculateTextDimensions(a.message,w),A=Math.max(C.height,jt.labelBoxHeight);y=f+A,Me.debug(`${A} - ${a.message}`)}p(a),Qn.bumpVerticalPos(y)}const Ek=function(s){let a=0;const h=Zv(jt);for(const f in s.links){const y=Hr.calculateTextDimensions(f,h).width+2*jt.wrapPadding+2*jt.boxMargin;a<y&&(a=y)}return a},nT={bounds:Qn,drawActors:Qv,drawActorsPopup:QC,setConf:JC,draw:function(s,a,h,f){const{securityLevel:p,sequence:y}=ft();let b;jt=y,f.db.clear(),f.parser.parse(s),"sandbox"===p&&(b=(0,F.Ltv)("#i"+a));const w=(0,F.Ltv)("sandbox"===p?b.nodes()[0].contentDocument.body:"body"),C="sandbox"===p?b.nodes()[0].contentDocument:document;Qn.init(),Me.debug(f.db);const A="sandbox"===p?w.select(`[id="${a}"]`):(0,F.Ltv)(`[id="${a}"]`),V=f.db.getActors(),Y=f.db.getBoxes(),z=f.db.getActorKeys(),X=f.db.getMessages(),xe=f.db.getDiagramTitle(),Oe=f.db.hasAtLeastOneBox(),Fe=f.db.hasAtLeastOneBoxWithTitle(),Ue=function Sk(s,a,h){const f={};return a.forEach(function(p){if(s[p.to]&&s[p.from]){const y=s[p.to];if(p.placement===h.db.PLACEMENT.LEFTOF&&!y.prevActor||p.placement===h.db.PLACEMENT.RIGHTOF&&!y.nextActor)return;const b=void 0!==p.placement,w=!b,C=b?R1(jt):f0(jt),A=p.wrap?Hr.wrapLabel(p.message,jt.width-2*jt.wrapPadding,C):p.message,Y=Hr.calculateTextDimensions(A,C).width+2*jt.wrapPadding;w&&p.from===y.nextActor?f[p.to]=Math.max(f[p.to]||0,Y):w&&p.from===y.prevActor?f[p.from]=Math.max(f[p.from]||0,Y):w&&p.from===p.to?(f[p.from]=Math.max(f[p.from]||0,Y/2),f[p.to]=Math.max(f[p.to]||0,Y/2)):p.placement===h.db.PLACEMENT.RIGHTOF?f[p.from]=Math.max(f[p.from]||0,Y):p.placement===h.db.PLACEMENT.LEFTOF?f[y.prevActor]=Math.max(f[y.prevActor]||0,Y):p.placement===h.db.PLACEMENT.OVER&&(y.prevActor&&(f[y.prevActor]=Math.max(f[y.prevActor]||0,Y/2)),y.nextActor&&(f[p.from]=Math.max(f[p.from]||0,Y/2)))}}),Me.debug("maxMessageWidthPerActor:",f),f}(V,X,f);jt.height=function vN(s,a,h){let f=0;Object.keys(s).forEach(y=>{const b=s[y];b.wrap&&(b.description=Hr.wrapLabel(b.description,jt.width-2*jt.wrapPadding,Zv(jt)));const w=Hr.calculateTextDimensions(b.description,Zv(jt));b.width=b.wrap?jt.width:Math.max(jt.width,w.width+2*jt.wrapPadding),b.height=b.wrap?Math.max(w.height,jt.height):jt.height,f=Math.max(f,b.height)});for(const y in a){const b=s[y];if(!b)continue;const w=s[b.nextActor];w?b.margin=Math.max(a[y]+jt.actorMargin-b.width/2-w.width/2,jt.actorMargin):b.margin=Math.max(a[y]+jt.actorMargin-b.width/2,jt.actorMargin)}let p=0;return h.forEach(y=>{const b=f0(jt);let w=y.actorKeys.reduce((V,Y)=>V+(s[Y].width+(s[Y].margin||0)),0);w-=2*jt.boxTextMargin,y.wrap&&(y.name=Hr.wrapLabel(y.name,w-2*jt.wrapPadding,b));const C=Hr.calculateTextDimensions(y.name,b);p=Math.max(C.height,p);const A=Math.max(w,C.width+2*jt.wrapPadding);y.margin=jt.boxTextMargin,w<A&&(y.margin+=(A-w)/2)}),h.forEach(y=>y.textMaxHeight=p),Math.max(f,jt.height)}(V,Ue,Y),xa_insertComputerIcon(A),xa_insertDatabaseIcon(A),xa_insertClockIcon(A),Oe&&(Qn.bumpVerticalPos(jt.boxMargin),Fe&&Qn.bumpVerticalPos(Y[0].textMaxHeight)),Qv(A,V,z,0,jt,X,!1);const Ee=function(s,a,h,f){const p={},y=[];let b,w,C;return s.forEach(function(A){switch(A.id=Hr.random({length:10}),A.type){case f.db.LINETYPE.LOOP_START:case f.db.LINETYPE.ALT_START:case f.db.LINETYPE.OPT_START:case f.db.LINETYPE.PAR_START:case f.db.LINETYPE.CRITICAL_START:case f.db.LINETYPE.BREAK_START:y.push({id:A.id,msg:A.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case f.db.LINETYPE.ALT_ELSE:case f.db.LINETYPE.PAR_AND:case f.db.LINETYPE.CRITICAL_OPTION:A.message&&(b=y.pop(),p[b.id]=b,p[A.id]=b,y.push(b));break;case f.db.LINETYPE.LOOP_END:case f.db.LINETYPE.ALT_END:case f.db.LINETYPE.OPT_END:case f.db.LINETYPE.PAR_END:case f.db.LINETYPE.CRITICAL_END:case f.db.LINETYPE.BREAK_END:b=y.pop(),p[b.id]=b;break;case f.db.LINETYPE.ACTIVE_START:{const Y=a[A.from?A.from.actor:A.to.actor],z=Jv(A.from?A.from.actor:A.to.actor).length,X=Y.x+Y.width/2+(z-1)*jt.activationWidth/2;Qn.activations.push({startx:X,stopx:X+jt.activationWidth,actor:A.from.actor,enabled:!0})}break;case f.db.LINETYPE.ACTIVE_END:{const Y=Qn.activations.map(z=>z.actor).lastIndexOf(A.from.actor);delete Qn.activations.splice(Y,1)[0]}}void 0!==A.placement?(w=function(s,a,h){const f=a[s.from].x,p=a[s.to].x,y=s.wrap&&s.message;let b=Hr.calculateTextDimensions(y?Hr.wrapLabel(s.message,jt.width,R1(jt)):s.message,R1(jt));const w={width:y?jt.width:Math.max(jt.width,b.width+2*jt.noteMargin),height:0,startx:a[s.from].x,stopx:0,starty:0,stopy:0,message:s.message};return s.placement===h.db.PLACEMENT.RIGHTOF?(w.width=y?Math.max(jt.width,b.width):Math.max(a[s.from].width/2+a[s.to].width/2,b.width+2*jt.noteMargin),w.startx=f+(a[s.from].width+jt.actorMargin)/2):s.placement===h.db.PLACEMENT.LEFTOF?(w.width=Math.max(y?jt.width:a[s.from].width/2+a[s.to].width/2,b.width+2*jt.noteMargin),w.startx=f-w.width+(a[s.from].width-jt.actorMargin)/2):s.to===s.from?(b=Hr.calculateTextDimensions(y?Hr.wrapLabel(s.message,Math.max(jt.width,a[s.from].width),R1(jt)):s.message,R1(jt)),w.width=y?Math.max(jt.width,a[s.from].width):Math.max(a[s.from].width,jt.width,b.width+2*jt.noteMargin),w.startx=f+(a[s.from].width-w.width)/2):(w.width=Math.abs(f+a[s.from].width/2-(p+a[s.to].width/2))+jt.actorMargin,w.startx=f<p?f+a[s.from].width/2-jt.actorMargin/2:p+a[s.to].width/2-jt.actorMargin/2),y&&(w.message=Hr.wrapLabel(s.message,w.width-2*jt.wrapPadding,R1(jt))),Me.debug(`NM:[${w.startx},${w.stopx},${w.starty},${w.stopy}:${w.width},${w.height}=${s.message}]`),w}(A,a,f),A.noteModel=w,y.forEach(Y=>{b=Y,b.from=Math.min(b.from,w.startx),b.to=Math.max(b.to,w.startx+w.width),b.width=Math.max(b.width,Math.abs(b.from-b.to))-jt.labelBoxWidth})):(C=function(s,a,h){let f=!1;if([h.db.LINETYPE.SOLID_OPEN,h.db.LINETYPE.DOTTED_OPEN,h.db.LINETYPE.SOLID,h.db.LINETYPE.DOTTED,h.db.LINETYPE.SOLID_CROSS,h.db.LINETYPE.DOTTED_CROSS,h.db.LINETYPE.SOLID_POINT,h.db.LINETYPE.DOTTED_POINT].includes(s.type)&&(f=!0),!f)return{};const p=eT(s.from,a),y=eT(s.to,a),b=p[0]<=y[0]?1:0,w=p[0]<y[0]?0:1,C=[...p,...y],A=Math.abs(y[w]-p[b]);s.wrap&&s.message&&(s.message=Hr.wrapLabel(s.message,Math.max(A+2*jt.wrapPadding,jt.width),f0(jt)));const V=Hr.calculateTextDimensions(s.message,f0(jt));return{width:Math.max(s.wrap?0:V.width+2*jt.wrapPadding,A+2*jt.wrapPadding,jt.width),height:0,startx:p[b],stopx:y[w],starty:0,stopy:0,message:s.message,type:s.type,wrap:s.wrap,fromBounds:Math.min.apply(null,C),toBounds:Math.max.apply(null,C)}}(A,a,f),A.msgModel=C,C.startx&&C.stopx&&y.length>0&&y.forEach(Y=>{if(b=Y,C.startx===C.stopx){const z=a[A.from],X=a[A.to];b.from=Math.min(z.x-C.width/2,z.x-z.width/2,b.from),b.to=Math.max(X.x+C.width/2,X.x+z.width/2,b.to),b.width=Math.max(b.width,Math.abs(b.to-b.from))-jt.labelBoxWidth}else b.from=Math.min(C.startx,b.from),b.to=Math.max(C.stopx,b.to),b.width=Math.max(b.width,C.width)-jt.labelBoxWidth}))}),Qn.activations=[],Me.debug("Loop type widths:",p),p}(X,V,0,f);xa_insertArrowHead(A),xa_insertArrowCrossHead(A),xa_insertArrowFilledHead(A),xa_insertSequenceNumber(A);let wt=1,Bt=1;const tn=[];X.forEach(function(pt){let ae,Tt,Jn;switch(pt.type){case f.db.LINETYPE.NOTE:Tt=pt.noteModel,function(s,a){Qn.bumpVerticalPos(jt.boxMargin),a.height=jt.boxMargin,a.starty=Qn.getVerticalPos();const h=xa_getNoteRect();h.x=a.startx,h.y=a.starty,h.width=a.width||jt.width,h.class="note";const f=s.append("g"),p=xa_drawRect(f,h),y=xa_getTextObj();y.x=a.startx,y.y=a.starty,y.width=h.width,y.dy="1em",y.text=a.message,y.class="noteText",y.fontFamily=jt.noteFontFamily,y.fontSize=jt.noteFontSize,y.fontWeight=jt.noteFontWeight,y.anchor=jt.noteAlign,y.textMargin=jt.noteMargin,y.valign="center";const b=I1(f,y),w=Math.round(b.map(C=>(C._groups||C)[0][0].getBBox().height).reduce((C,A)=>C+A));p.attr("height",w+2*jt.noteMargin),a.height+=w+2*jt.noteMargin,Qn.bumpVerticalPos(w+2*jt.noteMargin),a.stopy=a.starty+w+2*jt.noteMargin,a.stopx=a.startx+h.width,Qn.insert(a.startx,a.starty,a.stopx,a.stopy),Qn.models.addNote(a)}(A,Tt);break;case f.db.LINETYPE.ACTIVE_START:Qn.newActivation(pt,A,V);break;case f.db.LINETYPE.ACTIVE_END:!function nt(pt,ae){const Tt=Qn.endActivation(pt);Tt.starty+18>ae&&(Tt.starty=ae-6,ae+=12),xa_drawActivation(A,Tt,ae,jt,Jv(pt.from.actor).length),Qn.insert(Tt.startx,ae-10,Tt.stopx,ae)}(pt,Qn.getVerticalPos());break;case f.db.LINETYPE.LOOP_START:zf(Ee,pt,jt.boxMargin,jt.boxMargin+jt.boxTextMargin,Kt=>Qn.newLoop(Kt));break;case f.db.LINETYPE.LOOP_END:ae=Qn.endLoop(),xa_drawLoop(A,ae,"loop",jt),Qn.bumpVerticalPos(ae.stopy-Qn.getVerticalPos()),Qn.models.addLoop(ae);break;case f.db.LINETYPE.RECT_START:zf(Ee,pt,jt.boxMargin,jt.boxMargin,Kt=>Qn.newLoop(void 0,Kt.message));break;case f.db.LINETYPE.RECT_END:ae=Qn.endLoop(),xa_drawBackgroundRect(A,ae),Qn.models.addLoop(ae),Qn.bumpVerticalPos(ae.stopy-Qn.getVerticalPos());break;case f.db.LINETYPE.OPT_START:zf(Ee,pt,jt.boxMargin,jt.boxMargin+jt.boxTextMargin,Kt=>Qn.newLoop(Kt));break;case f.db.LINETYPE.OPT_END:ae=Qn.endLoop(),xa_drawLoop(A,ae,"opt",jt),Qn.bumpVerticalPos(ae.stopy-Qn.getVerticalPos()),Qn.models.addLoop(ae);break;case f.db.LINETYPE.ALT_START:zf(Ee,pt,jt.boxMargin,jt.boxMargin+jt.boxTextMargin,Kt=>Qn.newLoop(Kt));break;case f.db.LINETYPE.ALT_ELSE:zf(Ee,pt,jt.boxMargin+jt.boxTextMargin,jt.boxMargin,Kt=>Qn.addSectionToLoop(Kt));break;case f.db.LINETYPE.ALT_END:ae=Qn.endLoop(),xa_drawLoop(A,ae,"alt",jt),Qn.bumpVerticalPos(ae.stopy-Qn.getVerticalPos()),Qn.models.addLoop(ae);break;case f.db.LINETYPE.PAR_START:zf(Ee,pt,jt.boxMargin,jt.boxMargin+jt.boxTextMargin,Kt=>Qn.newLoop(Kt));break;case f.db.LINETYPE.PAR_AND:zf(Ee,pt,jt.boxMargin+jt.boxTextMargin,jt.boxMargin,Kt=>Qn.addSectionToLoop(Kt));break;case f.db.LINETYPE.PAR_END:ae=Qn.endLoop(),xa_drawLoop(A,ae,"par",jt),Qn.bumpVerticalPos(ae.stopy-Qn.getVerticalPos()),Qn.models.addLoop(ae);break;case f.db.LINETYPE.AUTONUMBER:wt=pt.message.start||wt,Bt=pt.message.step||Bt,pt.message.visible?f.db.enableSequenceNumbers():f.db.disableSequenceNumbers();break;case f.db.LINETYPE.CRITICAL_START:zf(Ee,pt,jt.boxMargin,jt.boxMargin+jt.boxTextMargin,Kt=>Qn.newLoop(Kt));break;case f.db.LINETYPE.CRITICAL_OPTION:zf(Ee,pt,jt.boxMargin+jt.boxTextMargin,jt.boxMargin,Kt=>Qn.addSectionToLoop(Kt));break;case f.db.LINETYPE.CRITICAL_END:ae=Qn.endLoop(),xa_drawLoop(A,ae,"critical",jt),Qn.bumpVerticalPos(ae.stopy-Qn.getVerticalPos()),Qn.models.addLoop(ae);break;case f.db.LINETYPE.BREAK_START:zf(Ee,pt,jt.boxMargin,jt.boxMargin+jt.boxTextMargin,Kt=>Qn.newLoop(Kt));break;case f.db.LINETYPE.BREAK_END:ae=Qn.endLoop(),xa_drawLoop(A,ae,"break",jt),Qn.bumpVerticalPos(ae.stopy-Qn.getVerticalPos()),Qn.models.addLoop(ae);break;default:try{Jn=pt.msgModel,Jn.starty=Qn.getVerticalPos(),Jn.sequenceIndex=wt,Jn.sequenceVisible=f.db.showSequenceNumbers();const Kt=function KC(s,a){Qn.bumpVerticalPos(10);const{startx:h,stopx:f,message:p}=a,y=sr.splitBreaks(p).length,b=Hr.calculateTextDimensions(p,f0(jt)),w=b.height/y;a.height+=w,Qn.bumpVerticalPos(w);let C,A=b.height-10;const V=b.width;if(h===f){C=Qn.getVerticalPos()+A,jt.rightAngles||(A+=jt.boxMargin,C=Qn.getVerticalPos()+A),A+=30;const Y=Math.max(V/2,jt.width/2);Qn.insert(h-Y,Qn.getVerticalPos()-10+A,f+Y,Qn.getVerticalPos()+30+A)}else A+=jt.boxMargin,C=Qn.getVerticalPos()+A,Qn.insert(h,C-10,f,C);return Qn.bumpVerticalPos(A),a.height+=A,a.stopy=a.starty+a.height,Qn.insert(a.fromBounds,a.starty,a.toBounds,a.stopy),C}(0,Jn);tn.push({messageModel:Jn,lineStartY:Kt}),Qn.models.addMessage(Jn)}catch(Kt){Me.error("error while drawing message",Kt)}}[f.db.LINETYPE.SOLID_OPEN,f.db.LINETYPE.DOTTED_OPEN,f.db.LINETYPE.SOLID,f.db.LINETYPE.DOTTED,f.db.LINETYPE.SOLID_CROSS,f.db.LINETYPE.DOTTED_CROSS,f.db.LINETYPE.SOLID_POINT,f.db.LINETYPE.DOTTED_POINT].includes(pt.type)&&(wt+=Bt)}),tn.forEach(pt=>function(s,a,h,f){const{startx:p,stopx:y,starty:b,message:w,type:C,sequenceIndex:A,sequenceVisible:V}=a,Y=Hr.calculateTextDimensions(w,f0(jt)),z=xa_getTextObj();z.x=p,z.y=b+10,z.width=y-p,z.class="messageText",z.dy="1em",z.text=w,z.fontFamily=jt.messageFontFamily,z.fontSize=jt.messageFontSize,z.fontWeight=jt.messageFontWeight,z.anchor=jt.messageAlign,z.valign="center",z.textMargin=jt.wrapPadding,z.tspan=!1,I1(s,z);const X=Y.width;let xe;p===y?xe=jt.rightAngles?s.append("path").attr("d",`M  ${p},${h} H ${p+Math.max(jt.width/2,X/2)} V ${h+25} H ${p}`):s.append("path").attr("d","M "+p+","+h+" C "+(p+60)+","+(h-10)+" "+(p+60)+","+(h+30)+" "+p+","+(h+20)):(xe=s.append("line"),xe.attr("x1",p),xe.attr("y1",h),xe.attr("x2",y),xe.attr("y2",h)),C===f.db.LINETYPE.DOTTED||C===f.db.LINETYPE.DOTTED_CROSS||C===f.db.LINETYPE.DOTTED_POINT||C===f.db.LINETYPE.DOTTED_OPEN?(xe.style("stroke-dasharray","3, 3"),xe.attr("class","messageLine1")):xe.attr("class","messageLine0");let Oe="";jt.arrowMarkerAbsolute&&(Oe=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Oe=Oe.replace(/\(/g,"\\("),Oe=Oe.replace(/\)/g,"\\)")),xe.attr("stroke-width",2),xe.attr("stroke","none"),xe.style("fill","none"),(C===f.db.LINETYPE.SOLID||C===f.db.LINETYPE.DOTTED)&&xe.attr("marker-end","url("+Oe+"#arrowhead)"),(C===f.db.LINETYPE.SOLID_POINT||C===f.db.LINETYPE.DOTTED_POINT)&&xe.attr("marker-end","url("+Oe+"#filled-head)"),(C===f.db.LINETYPE.SOLID_CROSS||C===f.db.LINETYPE.DOTTED_CROSS)&&xe.attr("marker-end","url("+Oe+"#crosshead)"),(V||jt.showSequenceNumbers)&&(xe.attr("marker-start","url("+Oe+"#sequencenumber)"),s.append("text").attr("x",p).attr("y",h+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(A))}(A,pt.messageModel,pt.lineStartY,f)),jt.mirrorActors&&(Qn.bumpVerticalPos(2*jt.boxMargin),Qv(A,V,z,Qn.getVerticalPos(),jt,X,!0),Qn.bumpVerticalPos(jt.boxMargin),vk(A,Qn.getVerticalPos())),Qn.models.boxes.forEach(function(pt){pt.height=Qn.getVerticalPos()-pt.y,Qn.insert(pt.x,pt.y,pt.x+pt.width,pt.height),pt.startx=pt.x,pt.starty=pt.y,pt.stopx=pt.startx+pt.width,pt.stopy=pt.starty+pt.height,pt.stroke="rgb(0,0,0, 0.5)",xa_drawBox(A,pt,jt)}),Oe&&Qn.bumpVerticalPos(jt.boxMargin);const ut=QC(A,V,z,C),{bounds:ct}=Qn.getBounds();Me.debug("For line height fix Querying: #"+a+" .actor-line"),(0,F.Ubm)("#"+a+" .actor-line").attr("y2",ct.stopy);let Ze=ct.stopy-ct.starty;Ze<ut.maxHeight&&(Ze=ut.maxHeight);let We=Ze+2*jt.diagramMarginY;jt.mirrorActors&&(We=We-jt.boxMargin+jt.bottomMarginAdj);let ge=ct.stopx-ct.startx;ge<ut.maxWidth&&(ge=ut.maxWidth);const Qe=ge+2*jt.diagramMarginX;xe&&A.append("text").text(xe).attr("x",(ct.stopx-ct.startx)/2-2*jt.diagramMarginX).attr("y",-25),Su(A,We,Qe,jt.useMaxWidth);const J=xe?40:0;A.attr("viewBox",ct.startx-jt.diagramMarginX+" -"+(jt.diagramMarginY+J)+" "+Qe+" "+(We+J)),Me.debug("models:",Qn.models)}};var yy=function(){var s=function(nn,B,P,et){for(P=P||{},et=nn.length;et--;P[nn[et]]=B);return P},a=[1,2],h=[1,3],f=[1,5],p=[1,7],y=[2,5],b=[1,15],w=[1,17],C=[1,21],A=[1,22],V=[1,23],Y=[1,24],z=[1,37],X=[1,25],xe=[1,26],Oe=[1,27],Fe=[1,28],Ue=[1,29],Ee=[1,32],nt=[1,33],wt=[1,34],Bt=[1,35],tn=[1,36],ut=[1,39],ct=[1,40],ze=[1,41],Ze=[1,42],We=[1,38],ge=[1,45],Qe=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],J=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],pt=[1,4,5,7,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],ae=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],Tt={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,classDefStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"--\x3e":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,class:42,CLASSENTITY_IDS:43,STYLECLASS:44,openDirective:45,typeDirective:46,closeDirective:47,":":48,argDirective:49,direction_tb:50,direction_bt:51,direction_rl:52,direction_lr:53,eol:54,";":55,EDGE_STATE:56,STYLE_SEPARATOR:57,left_of:58,right_of:59,open_directive:60,type_directive:61,arg_directive:62,close_directive:63,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",14:"DESCR",15:"--\x3e",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"class",43:"CLASSENTITY_IDS",44:"STYLECLASS",48:":",50:"direction_tb",51:"direction_bt",52:"direction_rl",53:"direction_lr",55:";",56:"EDGE_STATE",57:"STYLE_SEPARATOR",58:"left_of",59:"right_of",60:"open_directive",61:"type_directive",62:"arg_directive",63:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[11,3],[11,3],[12,3],[6,3],[6,5],[32,1],[32,1],[32,1],[32,1],[54,1],[54,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1],[45,1],[46,1],[49,1],[47,1]],performAction:function(B,P,et,zn,On,Ft,or){var xt=Ft.length-1;switch(On){case 4:return zn.setRootDoc(Ft[xt]),Ft[xt];case 5:this.$=[];break;case 6:"nl"!=Ft[xt]&&(Ft[xt-1].push(Ft[xt]),this.$=Ft[xt-1]);break;case 7:case 8:case 12:this.$=Ft[xt];break;case 9:this.$="nl";break;case 13:const ht=Ft[xt-1];ht.description=zn.trimColon(Ft[xt]),this.$=ht;break;case 14:this.$={stmt:"relation",state1:Ft[xt-2],state2:Ft[xt]};break;case 15:const qe=zn.trimColon(Ft[xt]);this.$={stmt:"relation",state1:Ft[xt-3],state2:Ft[xt-1],description:qe};break;case 19:this.$={stmt:"state",id:Ft[xt-3],type:"default",description:"",doc:Ft[xt-1]};break;case 20:var bn=Ft[xt],Gt=Ft[xt-2].trim();if(Ft[xt].match(":")){var Yt=Ft[xt].split(":");bn=Yt[0],Gt=[Gt,Yt[1]]}this.$={stmt:"state",id:bn,type:"default",description:Gt};break;case 21:this.$={stmt:"state",id:Ft[xt-3],type:"default",description:Ft[xt-5],doc:Ft[xt-1]};break;case 22:this.$={stmt:"state",id:Ft[xt],type:"fork"};break;case 23:this.$={stmt:"state",id:Ft[xt],type:"join"};break;case 24:this.$={stmt:"state",id:Ft[xt],type:"choice"};break;case 25:this.$={stmt:"state",id:zn.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:Ft[xt-1].trim(),note:{position:Ft[xt-2].trim(),text:Ft[xt].trim()}};break;case 30:this.$=Ft[xt].trim(),zn.setAccTitle(this.$);break;case 31:case 32:this.$=Ft[xt].trim(),zn.setAccDescription(this.$);break;case 33:case 34:this.$={stmt:"classDef",id:Ft[xt-1].trim(),classes:Ft[xt].trim()};break;case 35:this.$={stmt:"applyClass",id:Ft[xt-1].trim(),styleClass:Ft[xt].trim()};break;case 38:zn.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:zn.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:zn.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:zn.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:Ft[xt].trim(),type:"default",description:""};break;case 46:case 47:this.$={stmt:"state",id:Ft[xt-2].trim(),classes:[Ft[xt].trim()],type:"default",description:""};break;case 50:zn.parseDirective("%%{","open_directive");break;case 51:zn.parseDirective(Ft[xt],"type_directive");break;case 52:Ft[xt]=Ft[xt].trim().replace(/'/g,'"'),zn.parseDirective(Ft[xt],"arg_directive");break;case 53:zn.parseDirective("}%%","close_directive","state")}},table:[{3:1,4:a,5:h,6:4,7:f,45:6,60:p},{1:[3]},{3:8,4:a,5:h,6:4,7:f,45:6,60:p},{3:9,4:a,5:h,6:4,7:f,45:6,60:p},{3:10,4:a,5:h,6:4,7:f,45:6,60:p},s([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],y,{8:11}),{46:12,61:[1,13]},{61:[2,50]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:b,5:w,6:30,9:14,10:16,11:18,12:19,13:20,16:C,17:A,19:V,22:Y,24:z,25:X,26:xe,27:Oe,28:Fe,29:Ue,32:31,33:Ee,35:nt,37:wt,38:Bt,42:tn,45:6,50:ut,51:ct,52:ze,53:Ze,56:We,60:p},{47:43,48:[1,44],63:ge},s([48,63],[2,51]),s(Qe,[2,6]),{6:30,10:46,11:18,12:19,13:20,16:C,17:A,19:V,22:Y,24:z,25:X,26:xe,27:Oe,28:Fe,29:Ue,32:31,33:Ee,35:nt,37:wt,38:Bt,42:tn,45:6,50:ut,51:ct,52:ze,53:Ze,56:We,60:p},s(Qe,[2,8]),s(Qe,[2,9]),s(Qe,[2,10]),s(Qe,[2,11]),s(Qe,[2,12],{14:[1,47],15:[1,48]}),s(Qe,[2,16]),{18:[1,49]},s(Qe,[2,18],{20:[1,50]}),{23:[1,51]},s(Qe,[2,22]),s(Qe,[2,23]),s(Qe,[2,24]),s(Qe,[2,25]),{30:52,31:[1,53],58:[1,54],59:[1,55]},s(Qe,[2,28]),s(Qe,[2,29]),{34:[1,56]},{36:[1,57]},s(Qe,[2,32]),{39:[1,58],41:[1,59]},{43:[1,60]},s(J,[2,44],{57:[1,61]}),s(J,[2,45],{57:[1,62]}),s(Qe,[2,38]),s(Qe,[2,39]),s(Qe,[2,40]),s(Qe,[2,41]),s(pt,[2,36]),{49:63,62:[1,64]},s(pt,[2,53]),s(Qe,[2,7]),s(Qe,[2,13]),{13:65,24:z,56:We},s(Qe,[2,17]),s(ae,y,{8:66}),{24:[1,67]},{24:[1,68]},{23:[1,69]},{24:[2,48]},{24:[2,49]},s(Qe,[2,30]),s(Qe,[2,31]),{40:[1,70]},{40:[1,71]},{44:[1,72]},{24:[1,73]},{24:[1,74]},{47:75,63:ge},{63:[2,52]},s(Qe,[2,14],{14:[1,76]}),{4:b,5:w,6:30,9:14,10:16,11:18,12:19,13:20,16:C,17:A,19:V,21:[1,77],22:Y,24:z,25:X,26:xe,27:Oe,28:Fe,29:Ue,32:31,33:Ee,35:nt,37:wt,38:Bt,42:tn,45:6,50:ut,51:ct,52:ze,53:Ze,56:We,60:p},s(Qe,[2,20],{20:[1,78]}),{31:[1,79]},{24:[1,80]},s(Qe,[2,33]),s(Qe,[2,34]),s(Qe,[2,35]),s(J,[2,46]),s(J,[2,47]),s(pt,[2,37]),s(Qe,[2,15]),s(Qe,[2,19]),s(ae,y,{8:81}),s(Qe,[2,26]),s(Qe,[2,27]),{4:b,5:w,6:30,9:14,10:16,11:18,12:19,13:20,16:C,17:A,19:V,21:[1,82],22:Y,24:z,25:X,26:xe,27:Oe,28:Fe,29:Ue,32:31,33:Ee,35:nt,37:wt,38:Bt,42:tn,45:6,50:ut,51:ct,52:ze,53:Ze,56:We,60:p},s(Qe,[2,21])],defaultActions:{7:[2,50],8:[2,1],9:[2,2],10:[2,3],54:[2,48],55:[2,49],64:[2,52]},parseError:function(B,P){if(!P.recoverable){var et=new Error(B);throw et.hash=P,et}this.trace(B)},parse:function(B){var et=[0],zn=[],On=[null],Ft=[],or=this.table,xt="",bn=0,Gt=0,qe=Ft.slice.call(arguments,1),tt=Object.create(this.lexer),Re={yy:{}};for(var Cn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Cn)&&(Re.yy[Cn]=this.yy[Cn]);tt.setInput(B,Re.yy),Re.yy.lexer=tt,Re.yy.parser=this,typeof tt.yylloc>"u"&&(tt.yylloc={});var Te=tt.yylloc;Ft.push(Te);var br,_r=tt.options&&tt.options.ranges;this.parseError="function"==typeof Re.yy.parseError?Re.yy.parseError:Object.getPrototypeOf(this).parseError;for(var fi,qn,_n,Sn,kn,jn,Ys,Fn={};;){if(this.defaultActions[qn=et[et.length-1]]?_n=this.defaultActions[qn]:((null===fi||typeof fi>"u")&&(br=void 0,"number"!=typeof(br=zn.pop()||tt.lex()||1)&&(br instanceof Array&&(br=(zn=br).pop()),br=this.symbols_[br]||br),fi=br),_n=or[qn]&&or[qn][fi]),typeof _n>"u"||!_n.length||!_n[0]){var Tr;for(kn in Ys=[],or[qn])this.terminals_[kn]&&kn>2&&Ys.push("'"+this.terminals_[kn]+"'");Tr=tt.showPosition?"Parse error on line "+(bn+1)+":\n"+tt.showPosition()+"\nExpecting "+Ys.join(", ")+", got '"+(this.terminals_[fi]||fi)+"'":"Parse error on line "+(bn+1)+": Unexpected "+(1==fi?"end of input":"'"+(this.terminals_[fi]||fi)+"'"),this.parseError(Tr,{text:tt.match,token:this.terminals_[fi]||fi,line:tt.yylineno,loc:Te,expected:Ys})}if(_n[0]instanceof Array&&_n.length>1)throw new Error("Parse Error: multiple actions possible at state: "+qn+", token: "+fi);switch(_n[0]){case 1:et.push(fi),On.push(tt.yytext),Ft.push(tt.yylloc),et.push(_n[1]),fi=null,Gt=tt.yyleng,xt=tt.yytext,bn=tt.yylineno,Te=tt.yylloc;break;case 2:if(Fn.$=On[On.length-(jn=this.productions_[_n[1]][1])],Fn._$={first_line:Ft[Ft.length-(jn||1)].first_line,last_line:Ft[Ft.length-1].last_line,first_column:Ft[Ft.length-(jn||1)].first_column,last_column:Ft[Ft.length-1].last_column},_r&&(Fn._$.range=[Ft[Ft.length-(jn||1)].range[0],Ft[Ft.length-1].range[1]]),typeof(Sn=this.performAction.apply(Fn,[xt,Gt,bn,Re.yy,_n[1],On,Ft].concat(qe)))<"u")return Sn;jn&&(et=et.slice(0,-1*jn*2),On=On.slice(0,-1*jn),Ft=Ft.slice(0,-1*jn)),et.push(this.productions_[_n[1]][0]),On.push(Fn.$),Ft.push(Fn._$),et.push(or[et[et.length-2]][et[et.length-1]]);break;case 3:return!0}}return!0}};function Kt(){this.yy={}}return Tt.lexer=function(){return{EOF:1,parseError:function(P,et){if(!this.yy.parser)throw new Error(P);this.yy.parser.parseError(P,et)},setInput:function(B,P){return this.yy=P||this.yy||{},this._input=B,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var B=this._input[0];return this.yytext+=B,this.yyleng++,this.offset++,this.match+=B,this.matched+=B,B.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),B},unput:function(B){var P=B.length,et=B.split(/(?:\r\n?|\n)/g);this._input=B+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-P),this.offset-=P;var zn=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),et.length-1&&(this.yylineno-=et.length-1);var On=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:et?(et.length===zn.length?this.yylloc.first_column:0)+zn[zn.length-et.length].length-et[0].length:this.yylloc.first_column-P},this.options.ranges&&(this.yylloc.range=[On[0],On[0]+this.yyleng-P]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(B){this.unput(this.match.slice(B))},pastInput:function(){var B=this.matched.substr(0,this.matched.length-this.match.length);return(B.length>20?"...":"")+B.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var B=this.match;return B.length<20&&(B+=this._input.substr(0,20-B.length)),(B.substr(0,20)+(B.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var B=this.pastInput(),P=new Array(B.length+1).join("-");return B+this.upcomingInput()+"\n"+P+"^"},test_match:function(B,P){var et,zn,On;if(this.options.backtrack_lexer&&(On={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(On.yylloc.range=this.yylloc.range.slice(0))),(zn=B[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=zn.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:zn?zn[zn.length-1].length-zn[zn.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+B[0].length},this.yytext+=B[0],this.match+=B[0],this.matches=B,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(B[0].length),this.matched+=B[0],et=this.performAction.call(this,this.yy,this,P,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),et)return et;if(this._backtrack){for(var Ft in On)this[Ft]=On[Ft];return!1}return!1},next:function(){if(this.done)return this.EOF;var B,P,et,zn;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var On=this._currentRules(),Ft=0;Ft<On.length;Ft++)if((et=this._input.match(this.rules[On[Ft]]))&&(!P||et[0].length>P[0].length)){if(P=et,zn=Ft,this.options.backtrack_lexer){if(!1!==(B=this.test_match(et,On[Ft])))return B;if(this._backtrack){P=!1;continue}return!1}if(!this.options.flex)break}return P?!1!==(B=this.test_match(P,On[zn]))&&B:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(P){this.conditionStack.push(P)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(P){return(P=this.conditionStack.length-1-Math.abs(P||0))>=0?this.conditionStack[P]:"INITIAL"},pushState:function(P){this.begin(P)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(P,et,zn,On){switch(zn){case 0:return 41;case 1:case 44:return 50;case 2:case 45:return 51;case 3:case 46:return 52;case 4:case 47:return 53;case 5:return this.begin("open_directive"),60;case 6:return this.begin("type_directive"),61;case 7:return this.popState(),this.begin("arg_directive"),48;case 8:return this.popState(),this.popState(),63;case 9:return 62;case 10:case 11:case 13:case 14:case 15:case 16:case 56:case 58:case 64:break;case 12:case 79:return 5;case 17:case 34:return this.pushState("SCALE"),17;case 18:case 35:return 18;case 19:case 25:case 36:case 51:case 54:this.popState();break;case 20:return this.begin("acc_title"),33;case 21:return this.popState(),"acc_title_value";case 22:return this.begin("acc_descr"),35;case 23:return this.popState(),"acc_descr_value";case 24:this.begin("acc_descr_multiline");break;case 26:return"acc_descr_multiline_value";case 27:return this.pushState("CLASSDEF"),38;case 28:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 29:return this.popState(),this.pushState("CLASSDEFID"),39;case 30:return this.popState(),40;case 31:return this.pushState("CLASS"),42;case 32:return this.popState(),this.pushState("CLASS_STYLE"),43;case 33:return this.popState(),44;case 37:this.pushState("STATE");break;case 38:case 41:return this.popState(),et.yytext=et.yytext.slice(0,-8).trim(),25;case 39:case 42:return this.popState(),et.yytext=et.yytext.slice(0,-8).trim(),26;case 40:case 43:return this.popState(),et.yytext=et.yytext.slice(0,-10).trim(),27;case 48:this.pushState("STATE_STRING");break;case 49:return this.pushState("STATE_ID"),"AS";case 50:case 66:return this.popState(),"ID";case 52:return"STATE_DESCR";case 53:return 19;case 55:return this.popState(),this.pushState("struct"),20;case 57:return this.popState(),21;case 59:return this.begin("NOTE"),29;case 60:return this.popState(),this.pushState("NOTE_ID"),58;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:this.popState(),this.pushState("FLOATING_NOTE");break;case 63:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 65:return"NOTE_TEXT";case 67:return this.popState(),this.pushState("NOTE_TEXT"),24;case 68:return this.popState(),et.yytext=et.yytext.substr(2).trim(),31;case 69:return this.popState(),et.yytext=et.yytext.slice(0,-8).trim(),31;case 70:case 71:return 7;case 72:return 16;case 73:return 56;case 74:return 24;case 75:return et.yytext=et.yytext.trim(),14;case 76:return 15;case 77:return 28;case 78:return 57;case 80:return"INVALID"}},rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[14,15],inclusive:!1},close_directive:{rules:[14,15],inclusive:!1},arg_directive:{rules:[8,9,14,15],inclusive:!1},type_directive:{rules:[7,8,14,15],inclusive:!1},open_directive:{rules:[6,14,15],inclusive:!1},struct:{rules:[14,15,27,31,37,44,45,46,47,56,57,58,59,73,74,75,76,77],inclusive:!1},FLOATING_NOTE_ID:{rules:[66],inclusive:!1},FLOATING_NOTE:{rules:[63,64,65],inclusive:!1},NOTE_TEXT:{rules:[68,69],inclusive:!1},NOTE_ID:{rules:[67],inclusive:!1},NOTE:{rules:[60,61,62],inclusive:!1},CLASS_STYLE:{rules:[33],inclusive:!1},CLASS:{rules:[32],inclusive:!1},CLASSDEFID:{rules:[30],inclusive:!1},CLASSDEF:{rules:[28,29],inclusive:!1},acc_descr_multiline:{rules:[25,26],inclusive:!1},acc_descr:{rules:[23],inclusive:!1},acc_title:{rules:[21],inclusive:!1},SCALE:{rules:[18,19,35,36],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[50],inclusive:!1},STATE_STRING:{rules:[51,52],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[14,15,38,39,40,41,42,43,48,49,53,54,55],inclusive:!1},ID:{rules:[14,15],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,10,11,12,13,15,16,17,20,22,24,27,31,34,37,55,59,70,71,72,73,74,75,76,78,79,80],inclusive:!0}}}}(),Kt.prototype=Tt,Tt.Parser=Kt,new Kt}();yy.parser=yy;const iT=yy,Mk=(s,a)=>{var h;return"dagre-wrapper"!==(null==(h=a?.state)?void 0:h.defaultRenderer)&&null!==s.match(/^\s*stateDiagram/)},Ok=(s,a)=>{var h;return!!(null!==s.match(/^\s*stateDiagram-v2/)||s.match(/^\s*stateDiagram/)&&"dagre-wrapper"===(null==(h=a?.state)?void 0:h.defaultRenderer))},sT="state",Ik="relation",e2="default",t3="divider";let o3="LR",lT=[],t2={},n2={root:{relations:[],states:{},documents:{}}},Sl=n2.root,eg=0,Rk=0;const r2=s=>JSON.parse(JSON.stringify(s)),s2=(s,a,h)=>{if(a.stmt===Ik)s2(s,a.state1,!0),s2(s,a.state2,!1);else if(a.stmt===sT&&("[*]"===a.id?(a.id=h?s.id+"_start":s.id+"_end",a.start=h):a.id=a.id.trim()),a.doc){const f=[];let y,p=[];for(y=0;y<a.doc.length;y++)if(a.doc[y].type===t3){const b=r2(a.doc[y]);b.doc=r2(p),f.push(b),p=[]}else p.push(a.doc[y]);if(f.length>0&&p.length>0){const b={stmt:sT,id:Bc(),type:"divider",doc:r2(p)};f.push(r2(b)),a.doc=f}a.doc.forEach(b=>s2(a,b,!0))}},p0=function(s,a=e2,h=null,f=null,p=null,y=null,b=null,w=null){const C=s?.trim();void 0===Sl.states[C]?(Me.info("Adding state ",C,f),Sl.states[C]={id:C,descriptions:[],type:a,doc:h,note:p,classes:[],styles:[],textStyles:[]}):(Sl.states[C].doc||(Sl.states[C].doc=h),Sl.states[C].type||(Sl.states[C].type=a)),f&&(Me.info("Setting state description",C,f),"string"==typeof f&&uT(C,f.trim()),"object"==typeof f&&f.forEach(A=>uT(C,A.trim()))),p&&(Sl.states[C].note=p,Sl.states[C].note.text=sr.sanitizeText(Sl.states[C].note.text,ft())),y&&(Me.info("Setting state classes",C,y),("string"==typeof y?[y]:y).forEach(V=>by(C,V.trim()))),b&&(Me.info("Setting state styles",C,b),("string"==typeof b?[b]:b).forEach(V=>Hk(C,V.trim()))),w&&(Me.info("Setting state styles",C,b),("string"==typeof w?[w]:w).forEach(V=>jk(C,V.trim())))},cT=function(s){n2={root:{relations:[],states:{},documents:{}}},Sl=n2.root,eg=0,t2={},s||$e()},a2=function(s){return Sl.states[s]};function l2(s=""){let a=s;return"[*]"===s&&(eg++,a=`start${eg}`),a}function lo(s="",a=e2){return"[*]"===s?"start":a}const Bk=function(s,a,h){if("object"==typeof s)!function c2(s,a,h){let f=l2(s.id.trim()),p=lo(s.id.trim(),s.type),y=l2(a.id.trim()),b=lo(a.id.trim(),a.type);p0(f,p,s.doc,s.description,s.note,s.classes,s.styles,s.textStyles),p0(y,b,a.doc,a.description,a.note,a.classes,a.styles,a.textStyles),Sl.relations.push({id1:f,id2:y,relationTitle:sr.sanitizeText(h,ft())})}(s,a,h);else{const f=l2(s.trim()),p=lo(s),y=function d3(s=""){let a=s;return"[*]"===s&&(eg++,a=`end${eg}`),a}(a.trim()),b=function h3(s="",a=e2){return"[*]"===s?"end":a}(a);p0(f,p),p0(y,b),Sl.relations.push({id1:f,id2:y,title:sr.sanitizeText(h,ft())})}},uT=function(s,a){const h=Sl.states[s],f=a.startsWith(":")?a.replace(":","").trim():a;h.descriptions.push(sr.sanitizeText(f,ft()))},Vk=function(s,a=""){void 0===t2[s]&&(t2[s]={id:s,styles:[],textStyles:[]});const h=t2[s];a?.split(",").forEach(f=>{const p=f.replace(/([^;]*);/,"$1").trim();if(f.match("color")){const b=p.replace("fill","bgFill").replace("color","fill");h.textStyles.push(b)}h.styles.push(p)})},by=function(s,a){s.split(",").forEach(function(h){let f=a2(h);if(void 0===f){const p=h.trim();p0(p),f=a2(p)}f.classes.push(a)})},Hk=function(s,a){const h=a2(s);void 0!==h&&h.textStyles.push(a)},jk=function(s,a){const h=a2(s);void 0!==h&&h.textStyles.push(a)},tg={parseDirective:function(s,a,h){ci.parseDirective(this,s,a,h)},getConfig:()=>ft().state,addState:p0,clear:cT,getState:a2,getStates:function(){return Sl.states},getRelations:function(){return Sl.relations},getClasses:function(){return t2},getDirection:()=>o3,addRelation:Bk,getDividerId:()=>(Rk++,"divider-id-"+Rk),setDirection:s=>{o3=s},cleanupLabel:function(s){return":"===s.substring(0,1)?s.substr(2).trim():s.trim()},lineType:{LINE:0,DOTTED_LINE:1},relationType:{AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},logDocuments:function(){Me.info("Documents = ",n2)},getRootDoc:()=>lT,setRootDoc:s=>{Me.info("Setting root doc",s),lT=s},getRootDocV2:()=>(s2({id:"root"},{id:"root",doc:lT},!0),{id:"root",doc:lT}),extract:s=>{let a;a=s.doc?s.doc:s,Me.info(a),cT(!0),Me.info("Extract",a),a.forEach(h=>{switch(h.stmt){case sT:p0(h.id.trim(),h.type,h.doc,h.description,h.note,h.classes,h.styles,h.textStyles);break;case Ik:Bk(h.state1,h.state2,h.description);break;case"classDef":Vk(h.id.trim(),h.classes);break;case"applyClass":by(h.id.trim(),h.styleClass)}})},trimColon:s=>s&&":"===s[0]?s.substr(1).trim():s.trim(),getAccTitle:mt,setAccTitle:it,getAccDescription:It,setAccDescription:rt,addStyleClass:Vk,setCssClass:by,addDescription:uT,setDiagramTitle:Rt,getDiagramTitle:dn},ng={},u2=(s,a,h)=>{const f=ft().state.padding,p=2*ft().state.padding,y=s.node().getBBox(),b=y.width,w=y.x,C=s.append("text").attr("x",0).attr("y",ft().state.titleShift).attr("font-size",ft().state.fontSize).attr("class","state-title").text(a.id),V=C.node().getBBox().width+p;let z,Y=Math.max(V,b);Y===b&&(Y+=p);const X=s.node().getBBox();z=w-f,V>b&&(z=(b-Y)/2+f),Math.abs(w-X.x)<f&&V>b&&(z=w-(V-b)/2);const xe=1-ft().state.textHeight;return s.insert("rect",":first-child").attr("x",z).attr("y",xe).attr("class",h?"alt-composit":"composit").attr("width",Y).attr("height",X.height+ft().state.textHeight+ft().state.titleShift+1).attr("rx","0"),C.attr("x",z+f),V<=b&&C.attr("x",w+(Y-p)/2-V/2+f),s.insert("rect",":first-child").attr("x",z).attr("y",ft().state.titleShift-ft().state.textHeight-ft().state.padding).attr("width",Y).attr("height",3*ft().state.textHeight).attr("rx",ft().state.radius),s.insert("rect",":first-child").attr("x",z).attr("y",ft().state.titleShift-ft().state.textHeight-ft().state.padding).attr("width",Y).attr("height",X.height+3+2*ft().state.textHeight).attr("rx",ft().state.radius),s},Jg=function(s,a){const h=a.id,f={id:h,label:a.id,width:0,height:0},p=s.append("g").attr("id",h).attr("class","stateGroup");"start"===a.type&&(s=>{s.append("circle").attr("class","start-state").attr("r",ft().state.sizeUnit).attr("cx",ft().state.padding+ft().state.sizeUnit).attr("cy",ft().state.padding+ft().state.sizeUnit)})(p),"end"===a.type&&(s=>{s.append("circle").attr("class","end-state-outer").attr("r",ft().state.sizeUnit+ft().state.miniPadding).attr("cx",ft().state.padding+ft().state.sizeUnit+ft().state.miniPadding).attr("cy",ft().state.padding+ft().state.sizeUnit+ft().state.miniPadding),s.append("circle").attr("class","end-state-inner").attr("r",ft().state.sizeUnit).attr("cx",ft().state.padding+ft().state.sizeUnit+2).attr("cy",ft().state.padding+ft().state.sizeUnit+2)})(p),("fork"===a.type||"join"===a.type)&&((s,a)=>{let h=ft().state.forkWidth,f=ft().state.forkHeight;if(a.parentId){let p=h;h=f,f=p}s.append("rect").style("stroke","black").style("fill","black").attr("width",h).attr("height",f).attr("x",ft().state.padding).attr("y",ft().state.padding)})(p,a),"note"===a.type&&((s,a)=>{a.attr("class","state-note");const h=a.append("rect").attr("x",0).attr("y",ft().state.padding),f=a.append("g"),{textWidth:p,textHeight:y}=((s,a,h,f)=>{let p=0;const y=f.append("text");y.style("text-anchor","start"),y.attr("class","noteText");let b=s.replace(/\r\n/g,"<br/>");b=b.replace(/\n/g,"<br/>");const w=b.split(sr.lineBreakRegex);let C=1.25*ft().state.noteMargin;for(const A of w){const V=A.trim();if(V.length>0){const Y=y.append("tspan");Y.text(V),0===C&&(C+=Y.node().getBBox().height),p+=C,Y.attr("x",0+ft().state.noteMargin),Y.attr("y",0+p+1.25*ft().state.noteMargin)}}return{textWidth:y.node().getBBox().width,textHeight:p}})(s,0,0,f);h.attr("height",y+2*ft().state.noteMargin),h.attr("width",p+2*ft().state.noteMargin)})(a.note.text,p),"divider"===a.type&&(s=>{s.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",ft().state.textHeight).attr("class","divider").attr("x2",2*ft().state.textHeight).attr("y1",0).attr("y2",0)})(p),"default"===a.type&&0===a.descriptions.length&&((s,a)=>{const f=s.append("text").attr("x",2*ft().state.padding).attr("y",ft().state.textHeight+2*ft().state.padding).attr("font-size",ft().state.fontSize).attr("class","state-title").text(a.id).node().getBBox();s.insert("rect",":first-child").attr("x",ft().state.padding).attr("y",ft().state.padding).attr("width",f.width+2*ft().state.padding).attr("height",f.height+2*ft().state.padding).attr("rx",ft().state.radius)})(p,a),"default"===a.type&&a.descriptions.length>0&&((s,a)=>{const p=s.append("text").attr("x",2*ft().state.padding).attr("y",ft().state.textHeight+1.3*ft().state.padding).attr("font-size",ft().state.fontSize).attr("class","state-title").text(a.descriptions[0]).node().getBBox(),y=p.height,b=s.append("text").attr("x",ft().state.padding).attr("y",y+.4*ft().state.padding+ft().state.dividerMargin+ft().state.textHeight).attr("class","state-description");let w=!0,C=!0;a.descriptions.forEach(function(z){w||(function(z,X,xe){const Oe=z.append("tspan").attr("x",2*ft().state.padding).text(X);xe||Oe.attr("dy",ft().state.textHeight)}(b,z,C),C=!1),w=!1});const A=s.append("line").attr("x1",ft().state.padding).attr("y1",ft().state.padding+y+ft().state.dividerMargin/2).attr("y2",ft().state.padding+y+ft().state.dividerMargin/2).attr("class","descr-divider"),V=b.node().getBBox(),Y=Math.max(V.width,p.width);A.attr("x2",Y+3*ft().state.padding),s.insert("rect",":first-child").attr("x",ft().state.padding).attr("y",ft().state.padding).attr("width",Y+2*ft().state.padding).attr("height",V.height+y+2*ft().state.padding).attr("rx",ft().state.radius)})(p,a);const y=p.node().getBBox();return f.width=y.width+2*ft().state.padding,f.height=y.height+2*ft().state.padding,((s,a)=>{ng[s]=a})(h,f),f};let Ed,T3=0;const hT={},vy=s=>s?s.length*Ed.fontSizeFactor:1,fl=(s,a,h,f,p,y,b)=>{const w=new Ji.T({compound:!0,multigraph:!0});let C,A=!0;for(C=0;C<s.length;C++)if("relation"===s[C].stmt){A=!1;break}w.setGraph(h?{rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:A?1:Ed.edgeLengthFactor,nodeSep:A?1:50,isMultiGraph:!0}:{rankdir:"TB",multigraph:!0,compound:!0,ranksep:A?1:Ed.edgeLengthFactor,nodeSep:A?1:50,ranker:"tight-tree",isMultiGraph:!0}),w.setDefaultEdgeLabel(function(){return{}}),b.db.extract(s);const V=b.db.getStates(),Y=b.db.getRelations(),z=Object.keys(V);for(const Ue of z){const Ee=V[Ue];let nt;if(h&&(Ee.parentId=h),Ee.doc){let wt=a.append("g").attr("id",Ee.id).attr("class","stateGroup");nt=fl(Ee.doc,wt,Ee.id,!f,p,y,b);{wt=u2(wt,Ee,f);let Bt=wt.node().getBBox();nt.width=Bt.width,nt.height=Bt.height+Ed.padding/2,hT[Ee.id]={y:Ed.compositTitleSize}}}else nt=Jg(a,Ee);if(Ee.note){const Bt=Jg(a,{descriptions:[],id:Ee.id+"-note",note:Ee.note,type:"note"});"left of"===Ee.note.position?(w.setNode(nt.id+"-note",Bt),w.setNode(nt.id,nt)):(w.setNode(nt.id,nt),w.setNode(nt.id+"-note",Bt)),w.setParent(nt.id,nt.id+"-group"),w.setParent(nt.id+"-note",nt.id+"-group")}else w.setNode(nt.id,nt)}Me.debug("Count=",w.nodeCount(),w);let X=0;Y.forEach(function(Ue){X++,Me.debug("Setting edge",Ue),w.setEdge(Ue.id1,Ue.id2,{relation:Ue,width:vy(Ue.title),height:Ed.labelHeight*sr.getRows(Ue.title).length,labelpos:"c"},"id"+X)}),(0,ii.Zp)(w),Me.debug("Graph after layout",w.nodes());const xe=a.node();w.nodes().forEach(function(Ue){void 0!==Ue&&void 0!==w.node(Ue)?(Me.warn("Node "+Ue+": "+JSON.stringify(w.node(Ue))),p.select("#"+xe.id+" #"+Ue).attr("transform","translate("+(w.node(Ue).x-w.node(Ue).width/2)+","+(w.node(Ue).y+(hT[Ue]?hT[Ue].y:0)-w.node(Ue).height/2)+" )"),p.select("#"+xe.id+" #"+Ue).attr("data-x-shift",w.node(Ue).x-w.node(Ue).width/2),y.querySelectorAll("#"+xe.id+" #"+Ue+" .divider").forEach(nt=>{const wt=nt.parentElement;let Bt=0,tn=0;wt&&(wt.parentElement&&(Bt=wt.parentElement.getBBox().width),tn=parseInt(wt.getAttribute("data-x-shift"),10),Number.isNaN(tn)&&(tn=0)),nt.setAttribute("x1",0-tn+8),nt.setAttribute("x2",Bt-tn-8)})):Me.debug("No Node "+Ue+": "+JSON.stringify(w.node(Ue)))});let Oe=xe.getBBox();w.edges().forEach(function(Ue){void 0!==Ue&&void 0!==w.edge(Ue)&&(Me.debug("Edge "+Ue.v+" -> "+Ue.w+": "+JSON.stringify(w.edge(Ue))),function(s,a,h){a.points=a.points.filter(C=>!Number.isNaN(C.y));const p=a.points,y=(0,F.n8j)().x(function(C){return C.x}).y(function(C){return C.y}).curve(F.qrM),b=s.append("path").attr("d",y(p)).attr("id","edge"+T3).attr("class","transition");let w="";if(ft().state.arrowMarkerAbsolute&&(w=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,w=w.replace(/\(/g,"\\("),w=w.replace(/\)/g,"\\)")),b.attr("marker-end","url("+w+"#"+function(C){switch(C){case tg.relationType.AGGREGATION:return"aggregation";case tg.relationType.EXTENSION:return"extension";case tg.relationType.COMPOSITION:return"composition";case tg.relationType.DEPENDENCY:return"dependency"}}(tg.relationType.DEPENDENCY)+"End)"),void 0!==h.title){const C=s.append("g").attr("class","stateLabel"),{x:A,y:V}=Hr.calcLabelPosition(a.points),Y=sr.getRows(h.title);let z=0;const X=[];let xe=0,Oe=0;for(let Ee=0;Ee<=Y.length;Ee++){const nt=C.append("text").attr("text-anchor","middle").text(Y[Ee]).attr("x",A).attr("y",V+z),wt=nt.node().getBBox();xe=Math.max(xe,wt.width),Oe=Math.min(Oe,wt.x),Me.info(wt.x,A,V+z),0===z&&(z=nt.node().getBBox().height,Me.info("Title height",z,V)),X.push(nt)}let Fe=z*Y.length;if(Y.length>1){const Ee=(Y.length-1)*z*.5;X.forEach((nt,wt)=>nt.attr("y",V+wt*z-Ee)),Fe=z*Y.length}const Ue=C.node().getBBox();C.insert("rect",":first-child").attr("class","box").attr("x",A-xe/2-ft().state.padding/2).attr("y",V-Fe/2-ft().state.padding/2-3.5).attr("width",xe+ft().state.padding).attr("height",Fe+ft().state.padding),Me.info(Ue)}T3++}(a,w.edge(Ue),w.edge(Ue).relation))}),Oe=xe.getBBox();const Fe={id:h||"root",label:h||"root",width:0,height:0};return Fe.width=Oe.width+2*Ed.padding,Fe.height=Oe.height+2*Ed.padding,Me.debug("Doc rendered",Fe,w),Fe},g0={setConf:function(){},draw:function(s,a,h,f){Ed=ft().state;const p=ft().securityLevel;let y;"sandbox"===p&&(y=(0,F.Ltv)("#i"+a));const b=(0,F.Ltv)("sandbox"===p?y.nodes()[0].contentDocument.body:"body"),w="sandbox"===p?y.nodes()[0].contentDocument:document;Me.debug("Rendering diagram "+s);const C=b.select(`[id='${a}']`);(function(s){s.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")})(C),new Ji.T({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel(function(){return{}});const V=f.db.getRootDoc();fl(V,C,void 0,!1,b,w,f);const Y=Ed.padding,z=C.node().getBBox(),X=z.width+2*Y,xe=z.height+2*Y;Su(C,xe,1.75*X,Ed.useMaxWidth),C.attr("viewBox",`${z.x-Ed.padding}  ${z.y-Ed.padding} `+X+" "+xe)}},m0="rect",nd="rectWithTitle",L1="statediagram",Gk=`${L1}-state`,Xk="transition",P1=`${Xk} note-edge`,f2=`${L1}-note`,g2=`${L1}-cluster`,qk=`${L1}-cluster-alt`,m2="----",_2=`${m2}note`,em=`${m2}parent`,Kk="fill:none",id="fill: #333";let Ty={},ig=0;function F1(s="",a=0,h="",f=m2){return`state-${s}${null!==h&&h.length>0?`${f}${h}`:""}-${a}`}const _0=(s,a,h,f,p,y)=>{const b=h.id,w=function A3(s){return null==s?"":s.classes?s.classes.join(" "):""}(f[b]);if("root"!==b){let C=m0;!0===h.start&&(C="start"),!1===h.start&&(C="end"),h.type!==e2&&(C=h.type),Ty[b]||(Ty[b]={id:b,shape:C,description:sr.sanitizeText(b,ft()),classes:`${w} ${Gk}`});const A=Ty[b];h.description&&(Array.isArray(A.description)?(A.shape=nd,A.description.push(h.description)):A.description.length>0?(A.shape=nd,A.description=A.description===b?[h.description]:[A.description,h.description]):(A.shape=m0,A.description=h.description),A.description=sr.sanitizeTextOrArray(A.description,ft())),1===A.description.length&&A.shape===nd&&(A.shape=m0),!A.type&&h.doc&&(Me.info("Setting cluster for ",b,tm(h)),A.type="group",A.dir=tm(h),A.shape=h.type===t3?"divider":"roundedWithTitle",A.classes=A.classes+" "+g2+" "+(y?qk:""));const V={labelStyle:"",shape:A.shape,labelText:A.description,classes:A.classes,style:"",id:b,dir:A.dir,domId:F1(b,ig),type:A.type,padding:15};if(h.note){const Y={labelStyle:"",shape:"note",labelText:h.note.text,classes:f2,style:"",id:b+_2+"-"+ig,domId:F1(b,ig,"note"),type:A.type,padding:15},z={labelStyle:"",shape:"noteGroup",labelText:h.note.text,classes:A.classes,style:"",id:b+em,domId:F1(b,ig,"parent"),type:"group",padding:0};ig++;const X=b+em;s.setNode(X,z),s.setNode(Y.id,Y),s.setNode(b,V),s.setParent(b,X),s.setParent(Y.id,X);let xe=b,Oe=Y.id;"left of"===h.note.position&&(xe=Y.id,Oe=b),s.setEdge(xe,Oe,{arrowhead:"none",arrowType:"",style:Kk,labelStyle:"",classes:P1,arrowheadStyle:id,labelpos:"c",labelType:"text",thickness:"normal"})}else s.setNode(b,V)}a&&"root"!==a.id&&(Me.trace("Setting node ",b," to be child of its parent ",a.id),s.setParent(b,a.id)),h.doc&&(Me.trace("Adding nodes children "),mT(s,h,h.doc,f,p,!y))},mT=(s,a,h,f,p,y)=>{Me.trace("items",h),h.forEach(b=>{switch(b.stmt){case sT:case e2:_0(s,a,b,f,p,y);break;case Ik:{_0(s,a,b.state1,f,p,y),_0(s,a,b.state2,f,p,y);const w={id:"edge"+ig,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:Kk,labelStyle:"",label:sr.sanitizeText(b.description,ft()),arrowheadStyle:id,labelpos:"c",labelType:"text",thickness:"normal",classes:Xk};s.setEdge(b.state1.id,b.state2.id,w,ig),ig++}}})},tm=(s,a="TB")=>{let h=a;if(s.doc)for(let f=0;f<s.doc.length;f++){const p=s.doc[f];"dir"===p.stmt&&(h=p.value)}return h},Jk={setConf:function(s){const a=Object.keys(s);for(const h of a);},getClasses:function(s,a){Me.trace("Extracting classes"),a.db.clear();try{return a.parser.parse(s),a.db.extract(a.db.getRootDocV2()),a.db.getClasses()}catch(h){return h}},draw:function(s,a,h,f){Me.info("Drawing state diagram (v2)",a),Ty={};let p=f.db.getDirection();void 0===p&&(p="LR");const{securityLevel:y,state:b}=ft(),w=b.nodeSpacing||50,C=b.rankSpacing||50;Me.info(f.db.getRootDocV2()),f.db.extract(f.db.getRootDocV2()),Me.info(f.db.getRootDocV2());const A=f.db.getStates(),V=new Ji.T({multigraph:!0,compound:!0}).setGraph({rankdir:tm(f.db.getRootDocV2()),nodesep:w,ranksep:C,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});let Y;_0(V,void 0,f.db.getRootDocV2(),A,f.db,!0),"sandbox"===y&&(Y=(0,F.Ltv)("#i"+a));const z=(0,F.Ltv)("sandbox"===y?Y.nodes()[0].contentDocument.body:"body"),X=z.select(`[id="${a}"]`),xe=z.select("#"+a+" g");$n(xe,V,["barb"],L1,a),Hr.insertTitle(X,"statediagramTitleText",b.titleTopMargin,f.db.getDiagramTitle());const Fe=X.node().getBBox(),Ue=Fe.width+16,Ee=Fe.height+16;X.attr("class",L1);const nt=X.node().getBBox();Su(X,Ee,Ue,b.useMaxWidth);const wt=`${nt.x-8} ${nt.y-8} ${Ue} ${Ee}`;Me.debug(`viewBox ${wt}`),X.attr("viewBox",wt);const Bt=document.querySelectorAll('[id="'+a+'"] .edgeLabel .label');for(const tn of Bt){const ut=tn.getBBox(),ct=document.createElementNS("http://www.w3.org/2000/svg",m0);ct.setAttribute("rx",0),ct.setAttribute("ry",0),ct.setAttribute("width",ut.width),ct.setAttribute("height",ut.height),tn.insertBefore(ct,tn.firstChild)}}};var nm=function(){var s=function(Oe,Fe,Ue,Ee){for(Ue=Ue||{},Ee=Oe.length;Ee--;Ue[Oe[Ee]]=Fe);return Ue},a=[1,2],h=[1,5],f=[6,9,11,17,18,20,22,23,24,26],p=[1,15],y=[1,16],b=[1,17],w=[1,18],C=[1,19],A=[1,20],V=[1,24],Y=[4,6,9,11,17,18,20,22,23,24,26],z={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(Fe,Ue,Ee,nt,wt,Bt,tn){var ut=Bt.length-1;switch(wt){case 1:return Bt[ut-1];case 3:case 7:case 8:this.$=[];break;case 4:Bt[ut-1].push(Bt[ut]),this.$=Bt[ut-1];break;case 5:case 6:this.$=Bt[ut];break;case 11:nt.setDiagramTitle(Bt[ut].substr(6)),this.$=Bt[ut].substr(6);break;case 12:this.$=Bt[ut].trim(),nt.setAccTitle(this.$);break;case 13:case 14:this.$=Bt[ut].trim(),nt.setAccDescription(this.$);break;case 15:nt.addSection(Bt[ut].substr(8)),this.$=Bt[ut].substr(8);break;case 16:nt.addTask(Bt[ut-1],Bt[ut]),this.$="task";break;case 18:nt.parseDirective("%%{","open_directive");break;case 19:nt.parseDirective(Bt[ut],"type_directive");break;case 20:Bt[ut]=Bt[ut].trim().replace(/'/g,'"'),nt.parseDirective(Bt[ut],"arg_directive");break;case 21:nt.parseDirective("}%%","close_directive","journey")}},table:[{3:1,4:a,7:3,12:4,26:h},{1:[3]},s(f,[2,3],{5:6}),{3:7,4:a,7:3,12:4,26:h},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:p,18:y,20:b,22:w,23:C,24:A,26:h},{1:[2,2]},{14:22,15:[1,23],29:V},s([15,29],[2,19]),s(f,[2,8],{1:[2,1]}),s(f,[2,4]),{7:21,10:25,12:4,17:p,18:y,20:b,22:w,23:C,24:A,26:h},s(f,[2,6]),s(f,[2,7]),s(f,[2,11]),{19:[1,26]},{21:[1,27]},s(f,[2,14]),s(f,[2,15]),{25:[1,28]},s(f,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},s(f,[2,5]),s(f,[2,12]),s(f,[2,13]),s(f,[2,16]),s(Y,[2,9]),{14:32,29:V},{29:[2,20]},{11:[1,33]},s(Y,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:function(Fe,Ue){if(!Ue.recoverable){var Ee=new Error(Fe);throw Ee.hash=Ue,Ee}this.trace(Fe)},parse:function(Fe){var Ee=[0],nt=[],wt=[null],Bt=[],tn=this.table,ut="",ct=0,ze=0,ge=Bt.slice.call(arguments,1),Qe=Object.create(this.lexer),J={yy:{}};for(var pt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,pt)&&(J.yy[pt]=this.yy[pt]);Qe.setInput(Fe,J.yy),J.yy.lexer=Qe,J.yy.parser=this,typeof Qe.yylloc>"u"&&(Qe.yylloc={});var ae=Qe.yylloc;Bt.push(ae);var bn,Tt=Qe.options&&Qe.options.ranges;this.parseError="function"==typeof J.yy.parseError?J.yy.parseError:Object.getPrototypeOf(this).parseError;for(var Kt,nn,B,P,zn,On,or,et={};;){if(this.defaultActions[nn=Ee[Ee.length-1]]?B=this.defaultActions[nn]:((null===Kt||typeof Kt>"u")&&(bn=void 0,"number"!=typeof(bn=nt.pop()||Qe.lex()||1)&&(bn instanceof Array&&(bn=(nt=bn).pop()),bn=this.symbols_[bn]||bn),Kt=bn),B=tn[nn]&&tn[nn][Kt]),typeof B>"u"||!B.length||!B[0]){var xt;for(zn in or=[],tn[nn])this.terminals_[zn]&&zn>2&&or.push("'"+this.terminals_[zn]+"'");xt=Qe.showPosition?"Parse error on line "+(ct+1)+":\n"+Qe.showPosition()+"\nExpecting "+or.join(", ")+", got '"+(this.terminals_[Kt]||Kt)+"'":"Parse error on line "+(ct+1)+": Unexpected "+(1==Kt?"end of input":"'"+(this.terminals_[Kt]||Kt)+"'"),this.parseError(xt,{text:Qe.match,token:this.terminals_[Kt]||Kt,line:Qe.yylineno,loc:ae,expected:or})}if(B[0]instanceof Array&&B.length>1)throw new Error("Parse Error: multiple actions possible at state: "+nn+", token: "+Kt);switch(B[0]){case 1:Ee.push(Kt),wt.push(Qe.yytext),Bt.push(Qe.yylloc),Ee.push(B[1]),Kt=null,ze=Qe.yyleng,ut=Qe.yytext,ct=Qe.yylineno,ae=Qe.yylloc;break;case 2:if(et.$=wt[wt.length-(On=this.productions_[B[1]][1])],et._$={first_line:Bt[Bt.length-(On||1)].first_line,last_line:Bt[Bt.length-1].last_line,first_column:Bt[Bt.length-(On||1)].first_column,last_column:Bt[Bt.length-1].last_column},Tt&&(et._$.range=[Bt[Bt.length-(On||1)].range[0],Bt[Bt.length-1].range[1]]),typeof(P=this.performAction.apply(et,[ut,ze,ct,J.yy,B[1],wt,Bt].concat(ge)))<"u")return P;On&&(Ee=Ee.slice(0,-1*On*2),wt=wt.slice(0,-1*On),Bt=Bt.slice(0,-1*On)),Ee.push(this.productions_[B[1]][0]),wt.push(et.$),Bt.push(et._$),Ee.push(tn[Ee[Ee.length-2]][Ee[Ee.length-1]]);break;case 3:return!0}}return!0}};function xe(){this.yy={}}return z.lexer=function(){return{EOF:1,parseError:function(Ue,Ee){if(!this.yy.parser)throw new Error(Ue);this.yy.parser.parseError(Ue,Ee)},setInput:function(Fe,Ue){return this.yy=Ue||this.yy||{},this._input=Fe,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Fe=this._input[0];return this.yytext+=Fe,this.yyleng++,this.offset++,this.match+=Fe,this.matched+=Fe,Fe.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Fe},unput:function(Fe){var Ue=Fe.length,Ee=Fe.split(/(?:\r\n?|\n)/g);this._input=Fe+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ue),this.offset-=Ue;var nt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ee.length-1&&(this.yylineno-=Ee.length-1);var wt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ee?(Ee.length===nt.length?this.yylloc.first_column:0)+nt[nt.length-Ee.length].length-Ee[0].length:this.yylloc.first_column-Ue},this.options.ranges&&(this.yylloc.range=[wt[0],wt[0]+this.yyleng-Ue]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(Fe){this.unput(this.match.slice(Fe))},pastInput:function(){var Fe=this.matched.substr(0,this.matched.length-this.match.length);return(Fe.length>20?"...":"")+Fe.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Fe=this.match;return Fe.length<20&&(Fe+=this._input.substr(0,20-Fe.length)),(Fe.substr(0,20)+(Fe.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Fe=this.pastInput(),Ue=new Array(Fe.length+1).join("-");return Fe+this.upcomingInput()+"\n"+Ue+"^"},test_match:function(Fe,Ue){var Ee,nt,wt;if(this.options.backtrack_lexer&&(wt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(wt.yylloc.range=this.yylloc.range.slice(0))),(nt=Fe[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=nt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:nt?nt[nt.length-1].length-nt[nt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Fe[0].length},this.yytext+=Fe[0],this.match+=Fe[0],this.matches=Fe,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Fe[0].length),this.matched+=Fe[0],Ee=this.performAction.call(this,this.yy,this,Ue,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ee)return Ee;if(this._backtrack){for(var Bt in wt)this[Bt]=wt[Bt];return!1}return!1},next:function(){if(this.done)return this.EOF;var Fe,Ue,Ee,nt;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var wt=this._currentRules(),Bt=0;Bt<wt.length;Bt++)if((Ee=this._input.match(this.rules[wt[Bt]]))&&(!Ue||Ee[0].length>Ue[0].length)){if(Ue=Ee,nt=Bt,this.options.backtrack_lexer){if(!1!==(Fe=this.test_match(Ee,wt[Bt])))return Fe;if(this._backtrack){Ue=!1;continue}return!1}if(!this.options.flex)break}return Ue?!1!==(Fe=this.test_match(Ue,wt[nt]))&&Fe:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(Ue){this.conditionStack.push(Ue)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ue){return(Ue=this.conditionStack.length-1-Math.abs(Ue||0))>=0?this.conditionStack[Ue]:"INITIAL"},pushState:function(Ue){this.begin(Ue)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Ue,Ee,nt,wt){switch(nt){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:case 6:case 8:case 9:break;case 7:return 11;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}}}(),xe.prototype=z,z.Parser=xe,new xe}();nm.parser=nm;const _T=nm,yT=s=>null!==s.match(/^\s*journey/);let y0="";const b2=[],B1=[],Dy=[],iS=function(){const s=function(h){return Dy[h].processed};let a=!0;for(const[h,f]of Dy.entries())s(h),a=a&&f.processed;return a},rS={parseDirective:function(s,a,h){ci.parseDirective(this,s,a,h)},getConfig:()=>ft().journey,clear:function(){b2.length=0,B1.length=0,y0="",Dy.length=0,$e()},setDiagramTitle:Rt,getDiagramTitle:dn,setAccTitle:it,getAccTitle:mt,setAccDescription:rt,getAccDescription:It,addSection:function(s){y0=s,b2.push(s)},getSections:function(){return b2},getTasks:function(){let s=iS(),h=0;for(;!s&&h<100;)s=iS(),h++;return B1.push(...Dy),B1},addTask:function(s,a){const h=a.substr(1).split(":");let f=0,p=[];1===h.length?(f=Number(h[0]),p=[]):(f=Number(h[0]),p=h[1].split(","));const y=p.map(w=>w.trim());Dy.push({section:y0,type:y0,people:y,task:s,score:f})},addTaskOrg:function(s){B1.push({section:y0,type:y0,description:s,task:s,classes:[]})},getActors:function(){return function(){const s=[];return B1.forEach(h=>{h.people&&s.push(...h.people)}),[...new Set(s)].sort()}()}},H1=function(s,a){const h=s.append("rect");return h.attr("x",a.x),h.attr("y",a.y),h.attr("fill",a.fill),h.attr("stroke",a.stroke),h.attr("width",a.width),h.attr("height",a.height),h.attr("rx",a.rx),h.attr("ry",a.ry),void 0!==a.class&&h.attr("class",a.class),h},sS=function(s,a){const h=s.append("circle");return h.attr("cx",a.cx),h.attr("cy",a.cy),h.attr("class","actor-"+a.pos),h.attr("fill",a.fill),h.attr("stroke",a.stroke),h.attr("r",a.r),void 0!==h.class&&h.attr("class",h.class),void 0!==a.title&&h.append("title").text(a.title),h};let aS=-1;const lS=function(){function s(p,y,b,w,C,A,V,Y){f(y.append("text").attr("x",b+C/2).attr("y",w+A/2+5).style("font-color",Y).style("text-anchor","middle").text(p),V)}function a(p,y,b,w,C,A,V,Y,z){const{taskFontSize:X,taskFontFamily:xe}=Y,Oe=p.split(/<br\s*\/?>/gi);for(let Fe=0;Fe<Oe.length;Fe++){const Ue=Fe*X-X*(Oe.length-1)/2,Ee=y.append("text").attr("x",b+C/2).attr("y",w).attr("fill",z).style("text-anchor","middle").style("font-size",X).style("font-family",xe);Ee.append("tspan").attr("x",b+C/2).attr("dy",Ue).text(Oe[Fe]),Ee.attr("y",w+A/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),f(Ee,V)}}function h(p,y,b,w,C,A,V,Y){const z=y.append("switch"),xe=z.append("foreignObject").attr("x",b).attr("y",w).attr("width",C).attr("height",A).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");xe.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(p),a(p,z,b,w,C,A,V,Y),f(xe,V)}function f(p,y){for(const b in y)b in y&&p.attr(b,y[b])}return function(p){return"fo"===p.textPlacement?h:"old"===p.textPlacement?s:a}}(),xy_drawCircle=sS,xy_drawSection=function(s,a,h){const f=s.append("g"),p={x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0};p.x=a.x,p.y=a.y,p.fill=a.fill,p.width=h.width,p.height=h.height,p.class="journey-section section-type-"+a.num,p.rx=3,p.ry=3,H1(f,p),lS(h)(a.text,f,p.x,p.y,p.width,p.height,{class:"journey-section section-type-"+a.num},h,a.colour)},xy_drawText=function(s,a){const h=a.text.replace(/<br\s*\/?>/gi," "),f=s.append("text");f.attr("x",a.x),f.attr("y",a.y),f.attr("class","legend"),f.style("text-anchor",a.anchor),void 0!==a.class&&f.attr("class",a.class);const p=f.append("tspan");return p.attr("x",a.x+2*a.textMargin),p.text(h),f},xy_drawTask=function(s,a,h){const f=a.x+h.width/2,p=s.append("g");aS++,p.append("line").attr("id","task"+aS).attr("x1",f).attr("y1",a.y).attr("x2",f).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),function(s,a){s.append("circle").attr("cx",a.cx).attr("cy",a.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible");const p=s.append("g");p.append("circle").attr("cx",a.cx-5).attr("cy",a.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),p.append("circle").attr("cx",a.cx+5).attr("cy",a.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),a.score>3?function y(C){const A=(0,F.JLW)().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(7.5).outerRadius(6.8181818181818175);C.append("path").attr("class","mouth").attr("d",A).attr("transform","translate("+a.cx+","+(a.cy+2)+")")}(p):a.score<3?function b(C){const A=(0,F.JLW)().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(7.5).outerRadius(6.8181818181818175);C.append("path").attr("class","mouth").attr("d",A).attr("transform","translate("+a.cx+","+(a.cy+7)+")")}(p):function w(C){C.append("line").attr("class","mouth").attr("stroke",2).attr("x1",a.cx-5).attr("y1",a.cy+7).attr("x2",a.cx+5).attr("y2",a.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}(p)}(p,{cx:f,cy:300+30*(5-a.score),score:a.score});const b={x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0};b.x=a.x,b.y=a.y,b.fill=a.fill,b.width=h.width,b.height=h.height,b.class="task task-type-"+a.num,b.rx=3,b.ry=3,H1(p,b);let w=a.x+14;a.people.forEach(C=>{sS(p,{cx:w,cy:a.y,r:7,fill:a.actors[C].color,stroke:"#000",title:C,pos:a.actors[C].position}),w+=10}),lS(h)(a.task,p,b.x,b.y,b.width,b.height,{class:"task"},h,a.colour)},rg={},v2=ft().journey,im=v2.leftMargin,ac={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(s,a,h,f){s[a]=void 0===s[a]?h:f(h,s[a])},updateBounds:function(s,a,h,f){const p=ft().journey,y=this;let b=0;this.sequenceItems.forEach(function w(C){return function(V){b++;const Y=y.sequenceItems.length-b+1;y.updateVal(V,"starty",a-Y*p.boxMargin,Math.min),y.updateVal(V,"stopy",f+Y*p.boxMargin,Math.max),y.updateVal(ac.data,"startx",s-Y*p.boxMargin,Math.min),y.updateVal(ac.data,"stopx",h+Y*p.boxMargin,Math.max),"activation"!==C&&(y.updateVal(V,"startx",s-Y*p.boxMargin,Math.min),y.updateVal(V,"stopx",h+Y*p.boxMargin,Math.max),y.updateVal(ac.data,"starty",a-Y*p.boxMargin,Math.min),y.updateVal(ac.data,"stopy",f+Y*p.boxMargin,Math.max))}}())},insert:function(s,a,h,f){const p=Math.min(s,h),y=Math.max(s,h),b=Math.min(a,f),w=Math.max(a,f);this.updateVal(ac.data,"startx",p,Math.min),this.updateVal(ac.data,"starty",b,Math.min),this.updateVal(ac.data,"stopx",y,Math.max),this.updateVal(ac.data,"stopy",w,Math.max),this.updateBounds(p,b,y,w)},bumpVerticalPos:function(s){this.verticalPos=this.verticalPos+s,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},wT=v2.sectionFills,uS=v2.sectionColours,hS={setConf:function(s){Object.keys(s).forEach(function(h){v2[h]=s[h]})},draw:function(s,a,h,f){const p=ft().journey;f.db.clear(),f.parser.parse(s+"\n");const y=ft().securityLevel;let b;"sandbox"===y&&(b=(0,F.Ltv)("#i"+a));const w=(0,F.Ltv)("sandbox"===y?b.nodes()[0].contentDocument.body:"body");ac.init();const C=w.select("#"+a);!function(s){s.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")}(C);const A=f.db.getTasks(),V=f.db.getDiagramTitle(),Y=f.db.getActors();for(const Ue in rg)delete rg[Ue];let z=0;Y.forEach(Ue=>{rg[Ue]={color:p.actorColours[z%p.actorColours.length],position:z},z++}),function j3(s){const a=ft().journey;let h=60;Object.keys(rg).forEach(f=>{xy_drawCircle(s,{cx:20,cy:h,r:7,fill:rg[f].color,stroke:"#000",pos:rg[f].position}),xy_drawText(s,{x:40,y:h+7,fill:"#666",text:f,textMargin:5|a.boxTextMargin}),h+=20})}(C),ac.insert(0,0,im,50*Object.keys(rg).length),function(s,a,h){const f=ft().journey;let p="";const b=h+(2*f.height+f.diagramMarginY);let w=0,C="#CCC",A="black",V=0;for(const[Y,z]of a.entries()){p!==z.section&&(C=wT[w%wT.length],V=w%wT.length,A=uS[w%uS.length],xy_drawSection(s,{x:Y*f.taskMargin+Y*f.width+im,y:50,text:z.section,fill:C,num:V,colour:A},f),p=z.section,w++);const X=z.people.reduce((xe,Oe)=>(rg[Oe]&&(xe[Oe]=rg[Oe]),xe),{});z.x=Y*f.taskMargin+Y*f.width+im,z.y=b,z.width=f.diagramMarginX,z.height=f.diagramMarginY,z.colour=A,z.fill=C,z.num=V,z.actors=X,xy_drawTask(s,z,f),ac.insert(z.x,z.y,z.x+z.width+f.taskMargin,450)}}(C,A,0);const X=ac.getBounds();V&&C.append("text").text(V).attr("x",im).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const xe=X.stopy-X.starty+2*p.diagramMarginY,Oe=im+X.stopx+2*p.diagramMarginX;Su(C,xe,Oe,p.useMaxWidth),C.append("line").attr("x1",im).attr("y1",4*p.height).attr("x2",Oe-im-4).attr("y2",4*p.height).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const Fe=V?70:0;C.attr("viewBox",`${X.startx} -25 ${Oe} ${xe+Fe}`),C.attr("preserveAspectRatio","xMinYMin meet"),C.attr("height",xe+Fe+25)}};let CT={};const j1={setConf:function(s){CT={...CT,...s}},draw:(s,a,h)=>{try{Me.debug("Renering svg for syntax error\n");const f=(0,F.Ltv)("#"+a),p=f.append("g");p.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),p.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),p.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),p.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),p.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),p.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),p.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),p.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+h),f.attr("height",100),f.attr("width",500),f.attr("viewBox","768 0 912 512")}catch(f){Me.error("Error while rendering info diagram"),Me.error(function Sp(s){return s instanceof Error?s.message:String(s)}(f))}}},b0="flowchart-elk",U1={id:b0,detector:(s,a)=>{var h;return!!(s.match(/^\s*flowchart-elk/)||s.match(/^\s*flowchart|graph/)&&"elk"===(null==(h=a?.flowchart)?void 0:h.defaultRenderer))},loader:function(){var s=(0,R.A)(function*(){const{diagram:a}=yield N.e(504).then(N.bind(N,3504));return{id:b0,diagram:a}});return function(){return s.apply(this,arguments)}}()},v0="timeline",z1={id:v0,detector:s=>null!==s.match(/^\s*timeline/),loader:function(){var s=(0,R.A)(function*(){const{diagram:a}=yield Promise.all([N.e(76),N.e(191)]).then(N.bind(N,3191));return{id:v0,diagram:a}});return function(){return s.apply(this,arguments)}}()},w0="mindmap",fS={id:w0,detector:s=>null!==s.match(/^\s*mindmap/),loader:function(){var s=(0,R.A)(function*(){const{diagram:a}=yield Promise.all([N.e(76),N.e(138)]).then(N.bind(N,3138));return{id:w0,diagram:a}});return function(){return s.apply(this,arguments)}}()};let TT=!1;const Y1=()=>{TT||(TT=!0,Z(U1,z1,fS),Mn("error",{db:{clear:()=>{}},styles:Pa,renderer:j1,parser:{parser:{yy:{}},parse:()=>{}},init:()=>{}},s=>"error"===s.toLowerCase().trim()),Mn("---",{db:{clear:()=>{}},styles:Pa,renderer:j1,parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with unindented `---` blocks")}},init:()=>null},s=>s.toLowerCase().trimStart().startsWith("---")),Mn("c4",{parser:e1,db:Pp,renderer:Rw,styles:Lg,init:s=>{Rw.setConf(s.c4)}},Rh),Mn("class",{parser:Lw,db:Qd,renderer:dx,styles:Ap,init:s=>{s.class||(s.class={}),s.class.arrowMarkerAbsolute=s.arrowMarkerAbsolute,Qd.clear()}},ux),Mn("classDiagram",{parser:Lw,db:Qd,renderer:Ds,styles:Ap,init:s=>{s.class||(s.class={}),s.class.arrowMarkerAbsolute=s.arrowMarkerAbsolute,Qd.clear()}},Pw),Mn("er",{parser:Ot,db:go,renderer:GA,styles:Am},Ai),Mn("gantt",{parser:rM,db:Fv,renderer:Kx,styles:Mm},Vx),Mn("info",{parser:wM,db:iN,renderer:TM,styles:G0},Jx),Mn("pie",{parser:DM,db:AC,renderer:xM,styles:Om},ek),Mn("requirement",{parser:kM,db:ly,renderer:LM,styles:Fa},cN),Mn("sequence",{parser:PM,db:YC,renderer:nT,styles:X0,init:s=>{if(s.sequence||(s.sequence={}),s.sequence.arrowMarkerAbsolute=s.arrowMarkerAbsolute,"sequenceDiagram"in s)throw new Error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.");YC.setWrap(s.wrap),nT.setConf(s.sequence)}},ck),Mn("state",{parser:iT,db:tg,renderer:g0,styles:Eu,init:s=>{s.state||(s.state={}),s.state.arrowMarkerAbsolute=s.arrowMarkerAbsolute,tg.clear()}},Mk),Mn("stateDiagram",{parser:iT,db:tg,renderer:Jk,styles:Eu,init:s=>{s.state||(s.state={}),s.state.arrowMarkerAbsolute=s.arrowMarkerAbsolute,tg.clear()}},Ok),Mn("journey",{parser:_T,db:rS,renderer:hS,styles:q0,init:s=>{hS.setConf(s.journey),rS.clear()}},yT),Mn("flowchart",{parser:mv,db:Uh,renderer:Ev,styles:Mp,init:s=>{s.flowchart||(s.flowchart={}),s.flowchart.arrowMarkerAbsolute=s.arrowMarkerAbsolute,function(s){const a=Object.keys(s);for(const h of a)T1[h]=s[h]}(s.flowchart),Uh.clear(),Uh.setGen("gen-1")}},XA),Mn("flowchart-v2",{parser:mv,db:Uh,renderer:Ev,styles:Mp,init:s=>{s.flowchart||(s.flowchart={}),s.flowchart.arrowMarkerAbsolute=s.arrowMarkerAbsolute,Hc({flowchart:{arrowMarkerAbsolute:s.arrowMarkerAbsolute}}),Ev.setConf(s.flowchart),Uh.clear(),Uh.setGen("gen-2")}},qA),Mn("gitGraph",{parser:gs,db:Lb,renderer:kf,styles:Mu},cl))};class C2{constructor(a,h){var f,p;this.txt=a,this.type="graph",this.detectTypeFailed=!1;const y=ft();this.txt=a;try{this.type=M(a,y)}catch(C){this.handleError(C,h),this.type="error",this.detectTypeFailed=!0}const b=Er(this.type);Me.debug("Type "+this.type),this.db=b.db,null==(p=(f=this.db).clear)||p.call(f),this.renderer=b.renderer,this.parser=b.parser;const w=this.parser.parse.bind(this.parser);this.parser.parse=C=>w(function wd(s,a){var h;const f=s.match(kp);if(f){const p=Dm(f[1],{schema:$d});return p?.title&&(null==(h=a.setDiagramTitle)||h.call(a,p.title)),s.slice(f[0].length)}return s}(C,this.db)),this.parser.parser.yy=this.db,b.init&&(b.init(y),Me.info("Initialized diagram "+this.type,y)),this.txt+="\n",this.parse(this.txt,h)}parse(a,h){var f,p;if(this.detectTypeFailed)return!1;try{return a+="\n",null==(p=(f=this.db).clear)||p.call(f),this.parser.parse(a),!0}catch(y){this.handleError(y,h)}return!1}handleError(a,h){if(void 0===h)throw a;ic(a)?h(a.str,a.hash):h(a)}getParser(){return this.parser}getType(){return this.type}}const T2=(s,a)=>{const h=M(s,ft());try{Er(h)}catch{const p=(s=>mc[s].loader)(h);if(!p)throw new Error(`Diagram ${h} not found.`);return p().then(({diagram:y})=>(Mn(h,y,void 0),new C2(s,a)))}return new C2(s,a)},D2=C2,$f=["graph","flowchart","flowchart-v2","stateDiagram","stateDiagram-v2"],mS="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",_S="sandbox",S2="http://www.w3.org/1999/xlink",yS="http://www.w3.org/1999/xhtml",vS=["foreignobject"],Wl=["dominant-baseline"];function xT(){return(xT=(0,R.A)(function*(s,a){return Y1(),(yield T2(s,a)).parse(s,a)})).apply(this,arguments)}const kT=function(s){let a=s;return a=a.replace(/style.*:\S*#.*;/g,function(h){return h.substring(0,h.length-1)}),a=a.replace(/classDef.*:\S*#.*;/g,function(h){return h.substring(0,h.length-1)}),a=a.replace(/#\w+;/g,function(h){const f=h.substring(1,h.length-1);return/^\+?\d+$/.test(f)?"\ufb02\xb0\xb0"+f+"\xb6\xdf":"\ufb02\xb0"+f+"\xb6\xdf"}),a},ST=function(s){let a=s;return a=a.replace(/\ufb02\xb0\xb0/g,"&#"),a=a.replace(/\ufb02\xb0/g,"&"),a=a.replace(/\xb6\xdf/g,";"),a},ET=(s,a,h=[])=>`\n.${s} ${a} { ${h.join(" !important; ")} !important; }`,T0=(s,a,h,f)=>{const p=((s,a,h={})=>{var f;let p="";if(void 0!==s.themeCSS&&(p+=`\n${s.themeCSS}`),void 0!==s.fontFamily&&(p+=`\n:root { --mermaid-font-family: ${s.fontFamily}}`),void 0!==s.altFontFamily&&(p+=`\n:root { --mermaid-alt-font-family: ${s.altFontFamily}}`),!(0,ws.A)(h)&&$f.includes(a)){const C=s.htmlLabels||(null==(f=s.flowchart)?void 0:f.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const A in h){const V=h[A];(0,ws.A)(V.styles)||C.forEach(Y=>{p+=ET(V.id,Y,V.styles)}),(0,ws.A)(V.textStyles)||(p+=ET(V.id,"tspan",V.textStyles))}}return p})(s,a,h);return vn(yr(`${f}{${((s,a,h)=>{let f="";return s in sc&&sc[s]?f=sc[s](h):Me.warn(`No theme found for ${s}`),` & {\n    font-family: ${h.fontFamily};\n    font-size: ${h.fontSize};\n    fill: ${h.textColor}\n  }\n\n  /* Classes common for multiple diagrams */\n\n  & .error-icon {\n    fill: ${h.errorBkgColor};\n  }\n  & .error-text {\n    fill: ${h.errorTextColor};\n    stroke: ${h.errorTextColor};\n  }\n\n  & .edge-thickness-normal {\n    stroke-width: 2px;\n  }\n  & .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  & .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n\n  & .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  & .marker {\n    fill: ${h.lineColor};\n    stroke: ${h.lineColor};\n  }\n  & .marker.cross {\n    stroke: ${h.lineColor};\n  }\n\n  & svg {\n    font-family: ${h.fontFamily};\n    font-size: ${h.fontSize};\n  }\n\n  ${f}\n\n  ${a}\n`})(a,p,s.themeVariables)}}`),Hn)},TS=(s="",a,h)=>{let f=s;return!h&&!a&&(f=f.replace(/marker-end="url\(.*?#/g,'marker-end="url(#')),f=ST(f),f=f.replace(/<br>/g,"<br/>"),f},DS=(s="",a)=>`<iframe style="width:100%;height:${a?a.viewBox.baseVal.height+"px":"100%"};border:0;margin:0;" src="data:text/html;base64,${btoa('<body style="margin:0">'+s+"</body>")}" sandbox="allow-top-navigation-by-user-activation allow-popups">\n  The "iframe" tag is not supported by your browser.\n</iframe>`,Iy=(s,a,h,f,p)=>{const y=s.append("div");y.attr("id",h),f&&y.attr("style",f);const b=y.append("svg").attr("id",a).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg");return p&&b.attr("xmlns:xlink",p),b.append("g"),s};function E2(s,a){return s.append("iframe").attr("id",a).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const AT=(s,a,h,f)=>{var p,y,b;null==(p=s.getElementById(a))||p.remove(),null==(y=s.getElementById(h))||y.remove(),null==(b=s.getElementById(f))||b.remove()};function Gh(s,a,h,f){(function gS(s,a){s.attr("role","graphics-document document"),(0,ws.A)(a)||s.attr("aria-roledescription",a)})(a,s),function x2(s,a,h,f){if(void 0!==s.insert){if(!a&&!h)return;if(h){const p="chart-desc-"+f;s.attr("aria-describedby",p),s.insert("desc",":first-child").attr("id",p).text(h)}if(a){const p="chart-title-"+f;s.attr("aria-labelledby",p),s.insert("title",":first-child").attr("id",p).text(a)}}}(a,h,f,a.attr("id"))}const ci=Object.freeze({render:function(s,a,h,f){var p,y,b,w;Y1(),Eh();const C=Hr.detectInit(a);C&&(Ga(C),xm(C));const A=ft();Me.debug(A),a.length>(A?.maxTextSize??5e4)&&(a=mS),a=a.replace(/\r\n?/g,"\n");const V="#"+s,Y="i"+s,z="#"+Y,X="d"+s,xe="#"+X;let Oe=(0,F.Ltv)("body");const Fe=A.securityLevel===_S,Ue="loose"===A.securityLevel,Ee=A.fontFamily;if(void 0!==f){if(f&&(f.innerHTML=""),Fe){const Jn=E2((0,F.Ltv)(f),Y);Oe=(0,F.Ltv)(Jn.nodes()[0].contentDocument.body),Oe.node().style.margin=0}else Oe=(0,F.Ltv)(f);Iy(Oe,s,X,`font-family: ${Ee}`,S2)}else{if(AT(document,s,X,Y),Fe){const Jn=E2((0,F.Ltv)("body"),Y);Oe=(0,F.Ltv)(Jn.nodes()[0].contentDocument.body),Oe.node().style.margin=0}else Oe=(0,F.Ltv)("body");Iy(Oe,s,X)}let nt,wt;a=kT(a);try{if(nt=T2(a),"then"in nt)throw new Error("Diagram is a promise. Use renderAsync.")}catch(Jn){nt=new D2("error"),wt=Jn}const Bt=Oe.select(xe).node(),tn=nt.type,ut=Bt.firstChild,ct=ut.firstChild,ze=$f.includes(tn)?nt.renderer.getClasses(a,nt):{},Ze=T0(A,tn,ze,V),We=document.createElement("style");We.innerHTML=Ze,ut.insertBefore(We,ct);try{nt.renderer.draw(a,s,Xd,nt)}catch(Jn){throw j1.draw(a,s,Xd),Jn}Gh(tn,Oe.select(`${xe} svg`),null==(y=(p=nt.db).getAccTitle)?void 0:y.call(p),null==(w=(b=nt.db).getAccDescription)?void 0:w.call(b)),Oe.select(`[id="${s}"]`).selectAll("foreignobject > *").attr("xmlns",yS);let pt=Oe.select(xe).node().innerHTML;if(Me.debug("config.arrowMarkerAbsolute",A.arrowMarkerAbsolute),pt=TS(pt,Fe,Bo(A.arrowMarkerAbsolute)),Fe){const Jn=Oe.select(xe+" svg").node();pt=DS(pt,Jn)}else Ue||(pt=x().sanitize(pt,{ADD_TAGS:vS,ADD_ATTR:Wl}));if(void 0!==h)switch(tn){case"flowchart":case"flowchart-v2":h(pt,Uh.bindFunctions);break;case"gantt":h(pt,Fv.bindFunctions);break;case"class":case"classDiagram":h(pt,Qd.bindFunctions);break;default:h(pt)}else Me.debug("CB = undefined!");UM();const Tt=(0,F.Ltv)(Fe?z:xe).node();if(Tt&&"remove"in Tt&&Tt.remove(),wt)throw wt;return pt},renderAsync:function(){var s=(0,R.A)(function*(a,h,f,p){var y,b,w,C;Y1(),Eh();const A=Hr.detectInit(h);A&&(Ga(A),xm(A));const V=ft();Me.debug(V),h.length>(V?.maxTextSize??5e4)&&(h=mS),h=h.replace(/\r\n?/g,"\n");const Y="#"+a,z="i"+a,X="#"+z,xe="d"+a,Oe="#"+xe;let Fe=(0,F.Ltv)("body");const Ue=V.securityLevel===_S,Ee="loose"===V.securityLevel,nt=V.fontFamily;if(void 0!==p){if(p&&(p.innerHTML=""),Ue){const Kt=E2((0,F.Ltv)(p),z);Fe=(0,F.Ltv)(Kt.nodes()[0].contentDocument.body),Fe.node().style.margin=0}else Fe=(0,F.Ltv)(p);Iy(Fe,a,xe,`font-family: ${nt}`,S2)}else{if(AT(document,a,xe,z),Ue){const Kt=E2((0,F.Ltv)("body"),z);Fe=(0,F.Ltv)(Kt.nodes()[0].contentDocument.body),Fe.node().style.margin=0}else Fe=(0,F.Ltv)("body");Iy(Fe,a,xe)}let wt,Bt;h=kT(h);try{wt=yield T2(h)}catch(Kt){wt=new D2("error"),Bt=Kt}const tn=Fe.select(Oe).node(),ut=wt.type,ct=tn.firstChild,ze=ct.firstChild,Ze=$f.includes(ut)?wt.renderer.getClasses(h,wt):{},We=T0(V,ut,Ze,Y),ge=document.createElement("style");ge.innerHTML=We,ct.insertBefore(ge,ze);try{yield wt.renderer.draw(h,a,Xd,wt)}catch(Kt){throw j1.draw(h,a,Xd),Kt}Gh(ut,Fe.select(`${Oe} svg`),null==(b=(y=wt.db).getAccTitle)?void 0:b.call(y),null==(C=(w=wt.db).getAccDescription)?void 0:C.call(w)),Fe.select(`[id="${a}"]`).selectAll("foreignobject > *").attr("xmlns",yS);let ae=Fe.select(Oe).node().innerHTML;if(Me.debug("config.arrowMarkerAbsolute",V.arrowMarkerAbsolute),ae=TS(ae,Ue,Bo(V.arrowMarkerAbsolute)),Ue){const Kt=Fe.select(Oe+" svg").node();ae=DS(ae,Kt)}else Ee||(ae=x().sanitize(ae,{ADD_TAGS:vS,ADD_ATTR:Wl}));if(void 0!==f)switch(ut){case"flowchart":case"flowchart-v2":f(ae,Uh.bindFunctions);break;case"gantt":f(ae,Fv.bindFunctions);break;case"class":case"classDiagram":f(ae,Qd.bindFunctions);break;default:f(ae)}else Me.debug("CB = undefined!");UM();const Jn=(0,F.Ltv)(Ue?X:Oe).node();if(Jn&&"remove"in Jn&&Jn.remove(),Bt)throw Bt;return ae});return function(h,f,p,y){return s.apply(this,arguments)}}(),parse:function wS(s,a){return Y1(),new D2(s,a).parse(s,a)},parseAsync:function G3(s,a){return xT.apply(this,arguments)},parseDirective:Vi,initialize:function MT(s={}){var a;s?.fontFamily&&!(null!=(a=s.themeVariables)&&a.fontFamily)&&(s.themeVariables={fontFamily:s.fontFamily}),(s=>{Cd=Le({},s)})(s),s?.theme&&s.theme in vl?s.themeVariables=vl[s.theme].getThemeVariables(s.themeVariables):s&&(s.themeVariables=vl.default.getThemeVariables(s.themeVariables));const h="object"==typeof s?(s=>(Xa=Le({},zo),Xa=Le(Xa,s),s.theme&&vl[s.theme]&&(Xa.themeVariables=vl[s.theme].getThemeVariables(s.themeVariables)),La(Xa,vo),Xa))(s):Sh();Fo(h.logLevel),Y1()},getConfig:ft,setConfig:Hc,getSiteConfig:Sh,updateSiteConfig:s=>(Xa=Le(Xa,s),La(Xa,vo),Xa),reset:()=>{Eh()},globalReset:()=>{Eh(zo)},defaultConfig:zo});Fo(ft().logLevel),Eh(ft());const Wf=function(){var s=(0,R.A)(function*(a,h,f){try{yield nh(a,h,f)}catch(p){Me.warn("Syntax Error rendering"),ic(p)&&Me.warn(p.str),Ad.parseError&&Ad.parseError(p)}});return function(h,f,p){return s.apply(this,arguments)}}(),xS=(s,a,h)=>{Me.warn(s),ic(s)?(h&&h(s.str,s.hash),a.push({...s,message:s.str,error:s})):(h&&h(s),s instanceof Error&&a.push({str:s.message,message:s.message,hash:s.name,error:s}))},Gf=function(){var s=(0,R.A)(function*(...a){Me.debug(`Loading ${a.length} external diagrams`);const f=(yield Promise.allSettled(a.map(function(){var p=(0,R.A)(function*({id:y,detector:b,loader:w}){const{diagram:C}=yield w();Mn(y,C,b)});return function(y){return p.apply(this,arguments)}}()))).filter(p=>"rejected"===p.status);if(f.length>0){Me.error(`Failed to load ${f.length} external diagrams`);for(const p of f)Me.error(p);throw new Error(`Failed to load ${f.length} external diagrams`)}});return function(){return s.apply(this,arguments)}}(),nh=function(){var s=(0,R.A)(function*(a,h,f){const p=ci.getConfig();let y;if(a&&(Ad.sequenceConfig=a),Me.debug((f?"":"No ")+"Callback function found"),void 0===h)y=document.querySelectorAll(".mermaid");else if("string"==typeof h)y=document.querySelectorAll(h);else if(h instanceof HTMLElement)y=[h];else{if(!(h instanceof NodeList))throw new Error("Invalid argument nodes for mermaid.init");y=h}Me.debug(`Found ${y.length} diagrams`),void 0!==a?.startOnLoad&&(Me.debug("Start On Load: "+a?.startOnLoad),ci.updateSiteConfig({startOnLoad:a?.startOnLoad}));const b=new Hr.initIdGenerator(p.deterministicIds,p.deterministicIDSeed);let w;const C=[];for(const A of Array.from(y)){if(Me.info("Rendering diagram: "+A.id),A.getAttribute("data-processed"))continue;A.setAttribute("data-processed","true");const V=`mermaid-${b.next()}`;w=A.innerHTML,w=q(Hr.entityDecode(w)).trim().replace(/<br\s*\/?>/gi,"<br/>");const Y=Hr.detectInit(w);Y&&Me.debug("Detected early reinit: ",Y);try{yield ci.renderAsync(V,w,(z,X)=>{A.innerHTML=z,void 0!==f&&f(V),X&&X(A)},A)}catch(z){xS(z,C,Ad.parseError)}}if(C.length>0)throw C[0]});return function(h,f,p){return s.apply(this,arguments)}}(),kS=function(){var s=(0,R.A)(function*(a,{lazyLoad:h=!0}={}){h?Z(...a):yield Gf(...a)});return function(h){return s.apply(this,arguments)}}(),OT=function(){if(Ad.startOnLoad){const{startOnLoad:s}=ci.getConfig();s&&Ad.init().catch(a=>Me.error("Mermaid failed to initialize",a))}};typeof document<"u"&&window.addEventListener("load",OT,!1);const A2=[];let IT=!1;const M2=function(){var s=(0,R.A)(function*(){if(!IT){for(IT=!0;A2.length>0;){const a=A2.shift();if(a)try{yield a()}catch(h){Me.error("Error executing queue",h)}}IT=!1}});return function(){return s.apply(this,arguments)}}(),Ad={startOnLoad:!0,diagrams:{},mermaidAPI:ci,parse:s=>ci.parse(s,Ad.parseError),parseAsync:s=>new Promise((a,h)=>{A2.push(()=>new Promise((p,y)=>{ci.parseAsync(s,Ad.parseError).then(b=>{p(b),a(b)},b=>{Me.error("Error parsing",b),y(b),h(b)})})),M2().catch(h)}),render:ci.render,renderAsync:(s,a,h,f)=>new Promise((p,y)=>{A2.push(()=>new Promise((w,C)=>{ci.renderAsync(s,a,h,f).then(A=>{w(A),p(A)},A=>{Me.error("Error parsing",A),C(A),y(A)})})),M2().catch(y)}),init:Wf,initThrowsErrors:function(s,a,h){const f=ci.getConfig();let p;if(s&&(Ad.sequenceConfig=s),Me.debug((h?"":"No ")+"Callback function found"),void 0===a)p=document.querySelectorAll(".mermaid");else if("string"==typeof a)p=document.querySelectorAll(a);else if(a instanceof HTMLElement)p=[a];else{if(!(a instanceof NodeList))throw new Error("Invalid argument nodes for mermaid.init");p=a}Me.debug(`Found ${p.length} diagrams`),void 0!==s?.startOnLoad&&(Me.debug("Start On Load: "+s?.startOnLoad),ci.updateSiteConfig({startOnLoad:s?.startOnLoad}));const y=new Hr.initIdGenerator(f.deterministicIds,f.deterministicIDSeed);let b;const w=[];for(const C of Array.from(p)){if(Me.info("Rendering diagram: "+C.id),C.getAttribute("data-processed"))continue;C.setAttribute("data-processed","true");const A=`mermaid-${y.next()}`;b=C.innerHTML,b=q(Hr.entityDecode(b)).trim().replace(/<br\s*\/?>/gi,"<br/>");const V=Hr.detectInit(b);V&&Me.debug("Detected early reinit: ",V);try{ci.render(A,b,(Y,z)=>{C.innerHTML=Y,void 0!==h&&h(A),z&&z(C)},C)}catch(Y){xS(Y,w,Ad.parseError)}}if(w.length>0)throw w[0]},initThrowsErrorsAsync:nh,registerExternalDiagrams:kS,initialize:function(s){ci.initialize(s)},parseError:void 0,contentLoaded:OT,setParseErrorHandler:function(s){Ad.parseError=s}}},9182:(Nt,Ae,N)=>{const R=N(5979),H=N(1481),q=N(4250),te=N(2567),re=N(900),S=N(9654),F=N(3912);var ne=!!(typeof window<"u"&&window.document&&window.document.createElement),x={Version:"1.0.0"};x.Drawer=R,x.Parser=H,x.SvgDrawer=te,x.ReactionDrawer=re,x.ReactionParser=q,x.GaussDrawer=F,x.clean=function(E){return E.replace(/[^A-Za-z0-9@\.\+\-\?!\(\)\[\]\{\}/\\=#\$:\*]/g,"")},x.apply=function(E,O="canvas[data-smiles]",k="light",j=null){let ee=new R(E),Q=document.querySelectorAll(O);for(var we=0;we<Q.length;we++){let U=Q[we];x.parse(U.getAttribute("data-smiles"),function(W){ee.draw(W,U,k,!1)},function(W){j&&j(W)})}},x.parse=function(E,O,k){try{O&&O(H.parse(E))}catch(j){k&&k(j)}},x.parseReaction=function(E,O,k){try{O&&O(q.parse(E))}catch(j){k&&k(j)}},ne&&(window.SmilesDrawer=x,window.SmiDrawer=S),x.SmiDrawer=S,Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(E){if(null==this)throw new TypeError("this is null or not defined");for(var O=Object(this),k=O.length>>>0,ee=0|arguments[1],Q=ee<0?Math.max(k+ee,0):Math.min(ee,k),we=arguments[2],U=void 0===we?k:0|we,W=U<0?Math.max(k+U,0):Math.min(U,k);Q<W;)O[Q]=E,Q++;return O}}),Nt.exports=x},7809:Nt=>{class Ae{static clone(R){let H=Array.isArray(R)?Array():{};for(let q in R){let te=R[q];H[q]="function"==typeof te.clone?te.clone():"object"==typeof te?Ae.clone(te):te}return H}static equals(R,H){if(R.length!==H.length)return!1;let q=R.slice().sort(),te=H.slice().sort();for(var re=0;re<q.length;re++)if(q[re]!==te[re])return!1;return!0}static print(R){if(0==R.length)return"";let H="(";for(let q=0;q<R.length;q++)H+=R[q].id?R[q].id+", ":R[q]+", ";return H=H.substring(0,H.length-2),H+")"}static each(R,H){for(let q=0;q<R.length;q++)H(R[q])}static get(R,H,q){for(let te=0;te<R.length;te++)if(R[te][H]==q)return R[te]}static contains(R,H){if(H.property||H.func){if(H.func){for(let q=0;q<R.length;q++)if(H.func(R[q]))return!0}else for(let q=0;q<R.length;q++)if(R[q][H.property]==H.value)return!0}else for(let q=0;q<R.length;q++)if(R[q]==H.value)return!0;return!1}static intersection(R,H){let q=new Array;for(let te=0;te<R.length;te++)for(let re=0;re<H.length;re++)R[te]===H[re]&&q.push(R[te]);return q}static unique(R){let H={};return R.filter(function(q){return void 0===H[q]&&(H[q]=!0)})}static count(R,H){let q=0;for(let te=0;te<R.length;te++)R[te]===H&&q++;return q}static toggle(R,H){let q=Array(),te=!1;for(let re=0;re<R.length;re++)R[re]!==H?q.push(R[re]):te=!0;return te||q.push(H),q}static remove(R,H){let q=Array();for(let te=0;te<R.length;te++)R[te]!==H&&q.push(R[te]);return q}static removeUnique(R,H){let q=R.indexOf(H);return q>-1&&R.splice(q,1),R}static removeAll(R,H){return R.filter(function(q){return-1===H.indexOf(q)})}static merge(R,H){let q=new Array(R.length+H.length);for(let te=0;te<R.length;te++)q[te]=R[te];for(let te=0;te<H.length;te++)q[R.length+te]=H[te];return q}static containsAll(R,H){let q=0;for(let te=0;te<R.length;te++)for(let re=0;re<H.length;re++)R[te]===H[re]&&q++;return q===H.length}static sortByAtomicNumberDesc(R){let H=R.map(function(q,te){return{index:te,value:q.atomicNumber.split(".").map(Number)}});return H.sort(function(q,te){let re=Math.min(te.value.length,q.value.length),S=0;for(;S<re&&te.value[S]===q.value[S];)S++;return S===re?te.value.length-q.value.length:te.value[S]-q.value[S]}),H.map(function(q){return R[q.index]})}static deepCopy(R){let H=Array();for(let q=0;q<R.length;q++){let te=R[q];H[q]=te instanceof Array?Ae.deepCopy(te):te}return H}}Nt.exports=Ae},2848:(Nt,Ae,N)=>{const R=N(7809);N(768),N(1644);class te{constructor(S,F="-"){this.idx=null,this.element=1===S.length?S.toUpperCase():S,this.drawExplicit=!1,this.ringbonds=Array(),this.rings=Array(),this.bondType=F,this.branchBond=null,this.isBridge=!1,this.isBridgeNode=!1,this.originalRings=Array(),this.bridgedRing=null,this.anchoredRings=Array(),this.bracket=null,this.plane=0,this.attachedPseudoElements={},this.hasAttachedPseudoElements=!1,this.isDrawn=!0,this.isConnectedToRing=!1,this.neighbouringElements=Array(),this.isPartOfAromaticRing=S!==this.element,this.bondCount=0,this.chirality="",this.isStereoCenter=!1,this.priority=0,this.mainChain=!1,this.hydrogenDirection="down",this.subtreeDepth=1,this.hasHydrogen=!1,this.class=void 0}addNeighbouringElement(S){this.neighbouringElements.push(S)}attachPseudoElement(S,F,ne=0,x=0){null===ne&&(ne=0),null===x&&(x=0);let E=ne+S+x;this.attachedPseudoElements[E]?this.attachedPseudoElements[E].count+=1:this.attachedPseudoElements[E]={element:S,count:1,hydrogenCount:ne,previousElement:F,charge:x},this.hasAttachedPseudoElements=!0}getAttachedPseudoElements(){let S={},F=this;return Object.keys(this.attachedPseudoElements).sort().forEach(function(ne){S[ne]=F.attachedPseudoElements[ne]}),S}getAttachedPseudoElementsCount(){return Object.keys(this.attachedPseudoElements).length}isHeteroAtom(){return"C"!==this.element&&"H"!==this.element}addAnchoredRing(S){R.contains(this.anchoredRings,{value:S})||this.anchoredRings.push(S)}getRingbondCount(){return this.ringbonds.length}backupRings(){this.originalRings=Array(this.rings.length);for(let S=0;S<this.rings.length;S++)this.originalRings[S]=this.rings[S]}restoreRings(){this.rings=Array(this.originalRings.length);for(let S=0;S<this.originalRings.length;S++)this.rings[S]=this.originalRings[S]}haveCommonRingbond(S,F){for(let ne=0;ne<S.ringbonds.length;ne++)for(let x=0;x<F.ringbonds.length;x++)if(S.ringbonds[ne].id==F.ringbonds[x].id)return!0;return!1}neighbouringElementsEqual(S){if(S.length!==this.neighbouringElements.length)return!1;S.sort(),this.neighbouringElements.sort();for(var F=0;F<this.neighbouringElements.length;F++)if(S[F]!==this.neighbouringElements[F])return!1;return!0}getAtomicNumber(){return te.atomicNumbers[this.element]}getMaxBonds(){return te.maxBonds[this.element]}static get maxBonds(){return{H:1,C:4,N:3,O:2,P:3,S:2,B:3,F:1,I:1,Cl:1,Br:1}}static get atomicNumbers(){return{H:1,He:2,Li:3,Be:4,B:5,b:5,C:6,c:6,N:7,n:7,O:8,o:8,F:9,Ne:10,Na:11,Mg:12,Al:13,Si:14,P:15,p:15,S:16,s:16,Cl:17,Ar:18,K:19,Ca:20,Sc:21,Ti:22,V:23,Cr:24,Mn:25,Fe:26,Co:27,Ni:28,Cu:29,Zn:30,Ga:31,Ge:32,As:33,Se:34,Br:35,Kr:36,Rb:37,Sr:38,Y:39,Zr:40,Nb:41,Mo:42,Tc:43,Ru:44,Rh:45,Pd:46,Ag:47,Cd:48,In:49,Sn:50,Sb:51,Te:52,I:53,Xe:54,Cs:55,Ba:56,La:57,Ce:58,Pr:59,Nd:60,Pm:61,Sm:62,Eu:63,Gd:64,Tb:65,Dy:66,Ho:67,Er:68,Tm:69,Yb:70,Lu:71,Hf:72,Ta:73,W:74,Re:75,Os:76,Ir:77,Pt:78,Au:79,Hg:80,Tl:81,Pb:82,Bi:83,Po:84,At:85,Rn:86,Fr:87,Ra:88,Ac:89,Th:90,Pa:91,U:92,Np:93,Pu:94,Am:95,Cm:96,Bk:97,Cf:98,Es:99,Fm:100,Md:101,No:102,Lr:103,Rf:104,Db:105,Sg:106,Bh:107,Hs:108,Mt:109,Ds:110,Rg:111,Cn:112,Uut:113,Uuq:114,Uup:115,Uuh:116,Uus:117,Uuo:118}}static get mass(){return{H:1,He:2,Li:3,Be:4,B:5,b:5,C:6,c:6,N:7,n:7,O:8,o:8,F:9,Ne:10,Na:11,Mg:12,Al:13,Si:14,P:15,p:15,S:16,s:16,Cl:17,Ar:18,K:19,Ca:20,Sc:21,Ti:22,V:23,Cr:24,Mn:25,Fe:26,Co:27,Ni:28,Cu:29,Zn:30,Ga:31,Ge:32,As:33,Se:34,Br:35,Kr:36,Rb:37,Sr:38,Y:39,Zr:40,Nb:41,Mo:42,Tc:43,Ru:44,Rh:45,Pd:46,Ag:47,Cd:48,In:49,Sn:50,Sb:51,Te:52,I:53,Xe:54,Cs:55,Ba:56,La:57,Ce:58,Pr:59,Nd:60,Pm:61,Sm:62,Eu:63,Gd:64,Tb:65,Dy:66,Ho:67,Er:68,Tm:69,Yb:70,Lu:71,Hf:72,Ta:73,W:74,Re:75,Os:76,Ir:77,Pt:78,Au:79,Hg:80,Tl:81,Pb:82,Bi:83,Po:84,At:85,Rn:86,Fr:87,Ra:88,Ac:89,Th:90,Pa:91,U:92,Np:93,Pu:94,Am:95,Cm:96,Bk:97,Cf:98,Es:99,Fm:100,Md:101,No:102,Lr:103,Rf:104,Db:105,Sg:106,Bh:107,Hs:108,Mt:109,Ds:110,Rg:111,Cn:112,Uut:113,Uuq:114,Uup:115,Uuh:116,Uus:117,Uuo:118}}}Nt.exports=te},6387:(Nt,Ae,N)=>{const R=N(5980),H=N(1611),{getChargeText:S}=(N(7680),N(768),N(1644),N(1927));Nt.exports=class F{constructor(x,E,O){this.canvas="string"==typeof x||x instanceof String?document.getElementById(x):x,this.ctx=this.canvas.getContext("2d"),this.themeManager=E,this.opts=O,this.drawingWidth=0,this.drawingHeight=0,this.offsetX=0,this.offsetY=0,this.fontLarge=this.opts.fontSizeLarge+"pt Helvetica, Arial, sans-serif",this.fontSmall=this.opts.fontSizeSmall+"pt Helvetica, Arial, sans-serif",this.updateSize(this.opts.width,this.opts.height),this.ctx.font=this.fontLarge,this.hydrogenWidth=this.ctx.measureText("H").width,this.halfHydrogenWidth=this.hydrogenWidth/2,this.halfBondThickness=this.opts.bondThickness/2}updateSize(x,E){this.devicePixelRatio=window.devicePixelRatio||1,this.backingStoreRatio=this.ctx.webkitBackingStorePixelRatio||this.ctx.mozBackingStorePixelRatio||this.ctx.msBackingStorePixelRatio||this.ctx.oBackingStorePixelRatio||this.ctx.backingStorePixelRatio||1,this.ratio=this.devicePixelRatio/this.backingStoreRatio,1!==this.ratio?(this.canvas.width=x*this.ratio,this.canvas.height=E*this.ratio,this.canvas.style.width=x+"px",this.canvas.style.height=E+"px",this.ctx.setTransform(this.ratio,0,0,this.ratio,0,0)):(this.canvas.width=x*this.ratio,this.canvas.height=E*this.ratio)}setTheme(x){this.colors=x}scale(x){let E=-Number.MAX_VALUE,O=-Number.MAX_VALUE,k=Number.MAX_VALUE,j=Number.MAX_VALUE;for(var ee=0;ee<x.length;ee++){if(!x[ee].value.isDrawn)continue;let K=x[ee].position;E<K.x&&(E=K.x),O<K.y&&(O=K.y),k>K.x&&(k=K.x),j>K.y&&(j=K.y)}var Q=this.opts.padding;E+=Q,O+=Q,k-=Q,j-=Q,this.drawingWidth=E-k,this.drawingHeight=O-j;var we=this.canvas.offsetWidth/this.drawingWidth,U=this.canvas.offsetHeight/this.drawingHeight,W=we<U?we:U;this.ctx.scale(W,W),this.offsetX=-k,this.offsetY=-j,we<U?this.offsetY+=this.canvas.offsetHeight/(2*W)-this.drawingHeight/2:this.offsetX+=this.canvas.offsetWidth/(2*W)-this.drawingWidth/2}reset(){this.ctx.setTransform(1,0,0,1,0,0)}getColor(x){return(x=x.toUpperCase())in this.colors?this.colors[x]:this.colors.C}drawCircle(x,E,O,k,j=!0,ee=!1,Q=""){let we=this.ctx,U=this.offsetX,W=this.offsetY;we.save(),we.lineWidth=1.5,we.beginPath(),we.arc(x+U,E+W,O,0,R.twoPI,!0),we.closePath(),ee?(j?(we.fillStyle="#f00",we.fill()):(we.strokeStyle="#f00",we.stroke()),this.drawDebugText(x,E,Q)):j?(we.fillStyle=k,we.fill()):(we.strokeStyle=k,we.stroke()),we.restore()}drawLine(x,E=!1,O=1){let k=this.ctx,j=this.offsetX,ee=this.offsetY,Q=x.clone().shorten(4),we=Q.getLeftVector().clone(),U=Q.getRightVector().clone();we.x+=j,we.y+=ee,U.x+=j,U.y+=ee,E||(k.save(),k.globalCompositeOperation="destination-out",k.beginPath(),k.moveTo(we.x,we.y),k.lineTo(U.x,U.y),k.lineCap="round",k.lineWidth=this.opts.bondThickness+1.2,k.strokeStyle=this.themeManager.getColor("BACKGROUND"),k.stroke(),k.globalCompositeOperation="source-over",k.restore()),we=x.getLeftVector().clone(),U=x.getRightVector().clone(),we.x+=j,we.y+=ee,U.x+=j,U.y+=ee,k.save(),k.beginPath(),k.moveTo(we.x,we.y),k.lineTo(U.x,U.y),k.lineCap="round",k.lineWidth=this.opts.bondThickness;let W=this.ctx.createLinearGradient(we.x,we.y,U.x,U.y);W.addColorStop(.4,this.themeManager.getColor(x.getLeftElement())||this.themeManager.getColor("C")),W.addColorStop(.6,this.themeManager.getColor(x.getRightElement())||this.themeManager.getColor("C")),E&&(k.setLineDash([1,1.5]),k.lineWidth=this.opts.bondThickness/1.5),O<1&&(k.globalAlpha=O),k.strokeStyle=W,k.stroke(),k.restore()}drawWedge(x,E=1){if(isNaN(x.from.x)||isNaN(x.from.y)||isNaN(x.to.x)||isNaN(x.to.y))return;let O=this.ctx,k=this.offsetX,j=this.offsetY,ee=x.clone().shorten(5),Q=ee.getLeftVector().clone(),we=ee.getRightVector().clone();Q.x+=k,Q.y+=j,we.x+=k,we.y+=j,Q=x.getLeftVector().clone(),we=x.getRightVector().clone(),Q.x+=k,Q.y+=j,we.x+=k,we.y+=j,O.save();let U=H.normals(Q,we);U[0].normalize(),U[1].normalize();let K=Q,ie=we;x.getRightChiral()&&(K=we,ie=Q);let me=H.add(K,H.multiplyScalar(U[0],this.halfBondThickness)),ve=H.add(ie,H.multiplyScalar(U[0],1.5+this.halfBondThickness)),pe=H.add(ie,H.multiplyScalar(U[1],1.5+this.halfBondThickness)),Ce=H.add(K,H.multiplyScalar(U[1],this.halfBondThickness));O.beginPath(),O.moveTo(me.x,me.y),O.lineTo(ve.x,ve.y),O.lineTo(pe.x,pe.y),O.lineTo(Ce.x,Ce.y);let st=this.ctx.createRadialGradient(we.x,we.y,this.opts.bondLength,we.x,we.y,0);st.addColorStop(.4,this.themeManager.getColor(x.getLeftElement())||this.themeManager.getColor("C")),st.addColorStop(.6,this.themeManager.getColor(x.getRightElement())||this.themeManager.getColor("C")),O.fillStyle=st,O.fill(),O.restore()}drawDashedWedge(x){if(isNaN(x.from.x)||isNaN(x.from.y)||isNaN(x.to.x)||isNaN(x.to.y))return;let E=this.ctx,O=this.offsetX,k=this.offsetY,j=x.getLeftVector().clone(),ee=x.getRightVector().clone();j.x+=O,j.y+=k,ee.x+=O,ee.y+=k,E.save();let Q=H.normals(j,ee);Q[0].normalize(),Q[1].normalize();let U,W,K,ie,we=x.getRightChiral(),me=x.clone();we?(U=ee,W=j,me.shortenRight(1),K=me.getRightVector().clone(),ie=me.getLeftVector().clone()):(U=j,W=ee,me.shortenLeft(1),K=me.getLeftVector().clone(),ie=me.getRightVector().clone()),K.x+=O,K.y+=k,ie.x+=O,ie.y+=k;let ve=H.subtract(W,U).normalize();E.strokeStyle=this.themeManager.getColor("C"),E.lineCap="round",E.lineWidth=this.opts.bondThickness,E.beginPath();let pe=x.getLength(),Ce=1.25/(pe/(3*this.opts.bondThickness)),st=!1;for(var Je=0;Je<1;Je+=Ce){let He=H.multiplyScalar(ve,Je*pe),Be=H.add(U,He),bt=H.multiplyScalar(Q[0],1.5*Je);!st&&Je>.5&&(E.stroke(),E.beginPath(),E.strokeStyle=this.themeManager.getColor(x.getRightElement())||this.themeManager.getColor("C"),st=!0),Be.subtract(bt),E.moveTo(Be.x,Be.y),Be.add(H.multiplyScalar(bt,2)),E.lineTo(Be.x,Be.y)}E.stroke(),E.restore()}drawDebugText(x,E,O){let k=this.ctx;k.save(),k.font="5px Droid Sans, sans-serif",k.textAlign="start",k.textBaseline="top",k.fillStyle="#ff0000",k.fillText(O,x+this.offsetX,E+this.offsetY),k.restore()}drawBall(x,E,O){let k=this.ctx;k.save(),k.beginPath(),k.arc(x+this.offsetX,E+this.offsetY,this.opts.bondLength/4.5,0,R.twoPI,!1),k.fillStyle=this.themeManager.getColor(O),k.fill(),k.restore()}drawPoint(x,E,O){let k=this.ctx,j=this.offsetX,ee=this.offsetY;k.save(),k.globalCompositeOperation="destination-out",k.beginPath(),k.arc(x+j,E+ee,1.5,0,R.twoPI,!0),k.closePath(),k.fill(),k.globalCompositeOperation="source-over",k.beginPath(),k.arc(x+this.offsetX,E+this.offsetY,.75,0,R.twoPI,!1),k.fillStyle=this.themeManager.getColor(O),k.fill(),k.restore()}drawText(x,E,O,k,j,ee,Q,we,U,W={}){let K=this.ctx,ie=this.offsetX,me=this.offsetY;K.save(),K.textAlign="start",K.textBaseline="alphabetic";let pe="",Ce=0;Q&&(pe=S(Q),K.font=this.fontSmall,Ce=K.measureText(pe).width);let st="0",Je=0;we>0&&(st=we.toString(),K.font=this.fontSmall,Je=K.measureText(st).width),1===Q&&"N"===O&&W.hasOwnProperty("0O")&&W.hasOwnProperty("0O-1")&&(W={"0O":{element:"O",count:2,hydrogenCount:0,previousElement:"C",charge:""}},Q=0),K.font=this.fontLarge,K.fillStyle=this.themeManager.getColor("BACKGROUND");let He=K.measureText(O);He.totalWidth=He.width+Ce,He.height=parseInt(this.fontLarge,10);let Be=He.width>this.opts.fontSizeLarge?He.width:this.opts.fontSizeLarge;Be/=1.5,K.globalCompositeOperation="destination-out",K.beginPath(),K.arc(x+ie,E+me,Be,0,R.twoPI,!0),K.closePath(),K.fill(),K.globalCompositeOperation="source-over";let Ke=-He.width/2,bt=-He.width/2;K.fillStyle=this.themeManager.getColor(O),K.fillText(O,x+ie+Ke,E+this.opts.halfFontSizeLarge+me),Ke+=He.width,Q&&(K.font=this.fontSmall,K.fillText(pe,x+ie+Ke,E-this.opts.fifthFontSizeSmall+me),Ke+=Ce),we>0&&(K.font=this.fontSmall,K.fillText(st,x+ie+bt-Je,E-this.opts.fifthFontSizeSmall+me),bt-=Je),K.font=this.fontLarge;let gt=0,en=0;if(1===k){let Dt=x+ie,Ln=E+me+this.opts.halfFontSizeLarge;gt=this.hydrogenWidth,bt-=gt,"left"===j?Dt+=bt:"right"===j||"up"===j&&ee||"down"===j&&ee?Dt+=Ke:"up"!==j||ee?"down"===j&&!ee&&(Ln+=this.opts.fontSizeLarge+this.opts.quarterFontSizeLarge,Dt-=this.halfHydrogenWidth):(Ln-=this.opts.fontSizeLarge+this.opts.quarterFontSizeLarge,Dt-=this.halfHydrogenWidth),K.fillText("H",Dt,Ln),Ke+=gt}else if(k>1){let Dt=x+ie,Ln=E+me+this.opts.halfFontSizeLarge;gt=this.hydrogenWidth,K.font=this.fontSmall,en=K.measureText(k).width,bt-=gt+en,"left"===j?Dt+=bt:"right"===j||"up"===j&&ee||"down"===j&&ee?Dt+=Ke:"up"!==j||ee?"down"===j&&!ee&&(Ln+=this.opts.fontSizeLarge+this.opts.quarterFontSizeLarge,Dt-=this.halfHydrogenWidth):(Ln-=this.opts.fontSizeLarge+this.opts.quarterFontSizeLarge,Dt-=this.halfHydrogenWidth),K.font=this.fontLarge,K.fillText("H",Dt,Ln),K.font=this.fontSmall,K.fillText(k,Dt+this.halfHydrogenWidth+en,Ln+this.opts.fifthFontSizeSmall),Ke+=gt+this.halfHydrogenWidth+en}for(let Dt in W){if(!W.hasOwnProperty(Dt))continue;let Ln=0,wi=0,ki=W[Dt].element,Pi=W[Dt].count,Ki=W[Dt].hydrogenCount,vr=W[Dt].charge;K.font=this.fontLarge,Pi>1&&Ki>0&&(Ln=K.measureText("(").width,wi=K.measureText(")").width);let Wn=K.measureText(ki).width,Fi=0,Oi="",Ni=0;gt=0,Ki>0&&(gt=this.hydrogenWidth),K.font=this.fontSmall,Pi>1&&(Fi=K.measureText(Pi).width),0!==vr&&(Oi=S(vr),Ni=K.measureText(Oi).width),en=0,Ki>1&&(en=K.measureText(Ki).width),K.font=this.fontLarge;let cr=x+ie,Qi=E+me+this.opts.halfFontSizeLarge;K.fillStyle=this.themeManager.getColor(ki),Pi>0&&(bt-=Fi),Pi>1&&Ki>0&&("left"===j?(bt-=wi,K.fillText(")",cr+bt,Qi)):(K.fillText("(",cr+Ke,Qi),Ke+=Ln)),"left"===j?(bt-=Wn,K.fillText(ki,cr+bt,Qi)):(K.fillText(ki,cr+Ke,Qi),Ke+=Wn),Ki>0&&("left"===j?(bt-=gt+en,K.fillText("H",cr+bt,Qi),Ki>1&&(K.font=this.fontSmall,K.fillText(Ki,cr+bt+gt,Qi+this.opts.fifthFontSizeSmall))):(K.fillText("H",cr+Ke,Qi),Ke+=gt,Ki>1&&(K.font=this.fontSmall,K.fillText(Ki,cr+Ke,Qi+this.opts.fifthFontSizeSmall),Ke+=en))),K.font=this.fontLarge,Pi>1&&Ki>0&&("left"===j?(bt-=Ln,K.fillText("(",cr+bt,Qi)):(K.fillText(")",cr+Ke,Qi),Ke+=wi)),K.font=this.fontSmall,Pi>1&&("left"===j?K.fillText(Pi,cr+bt+Ln+wi+gt+en+Wn,Qi+this.opts.fifthFontSizeSmall):(K.fillText(Pi,cr+Ke,Qi+this.opts.fifthFontSizeSmall),Ke+=Fi)),0!==vr&&("left"===j?K.fillText(Oi,cr+bt+Ln+wi+gt+en+Wn,E-this.opts.fifthFontSizeSmall+me):(K.fillText(Oi,cr+Ke,E-this.opts.fifthFontSizeSmall+me),Ke+=Ni))}K.restore()}getChargeText(x){return 1===x?"+":2===x?"2+":-1===x?"-":-2===x?"2-":""}drawDebugPoint(x,E,O="",k="#f00"){this.drawCircle(x,E,2,k,!0,!0,O)}drawAromaticityRing(x){let E=this.ctx,O=R.apothemFromSideLength(this.opts.bondLength,x.getSize());E.save(),E.strokeStyle=this.themeManager.getColor("C"),E.lineWidth=this.opts.bondThickness,E.beginPath(),E.arc(x.center.x+this.offsetX,x.center.y+this.offsetY,O-this.opts.bondSpacing,0,2*Math.PI,!0),E.closePath(),E.stroke(),E.restore()}clear(){this.ctx.clearRect(0,0,this.canvas.offsetWidth,this.canvas.offsetHeight)}}},5979:(Nt,Ae,N)=>{const R=N(2567);Nt.exports=class H{constructor(te){this.svgDrawer=new R(te)}draw(te,re,S="light",F=!1,ne=[]){let x=null;x="string"==typeof re||re instanceof String?document.getElementById(re):re;let E=document.createElementNS("http://www.w3.org/2000/svg","svg");E.setAttribute("xmlns","http://www.w3.org/2000/svg"),E.setAttributeNS(null,"viewBox","0 0 "+this.svgDrawer.opts.width+" "+this.svgDrawer.opts.height),E.setAttributeNS(null,"width",this.svgDrawer.opts.width+""),E.setAttributeNS(null,"height",this.svgDrawer.opts.height+""),this.svgDrawer.draw(te,E,S,F,ne),this.svgDrawer.svgWrapper.toCanvas(x,this.svgDrawer.opts.width,this.svgDrawer.opts.height)}getTotalOverlapScore(){return this.svgDrawer.getTotalOverlapScore()}getMolecularFormula(){this.svgDrawer.getMolecularFormula()}}},5090:(Nt,Ae,N)=>{const R=N(5980),H=N(7809),q=N(1611),te=N(7680),S=(N(768),N(9119)),F=N(2848),ne=N(1644),x=N(8684),E=N(6387),O=N(4336),k=N(7789),j=N(4430),ee=N(7570);Nt.exports=class Q{constructor(U){this.graph=null,this.doubleBondConfigCount=0,this.doubleBondConfig=null,this.ringIdCounter=0,this.ringConnectionIdCounter=0,this.canvasWrapper=null,this.totalOverlapScore=0,this.defaultOptions={width:500,height:500,scale:0,bondThickness:1,bondLength:30,shortBondLength:.8,bondSpacing:.17*30,atomVisualization:"default",isomeric:!0,debug:!1,terminalCarbons:!1,explicitHydrogens:!0,overlapSensitivity:.42,overlapResolutionIterations:1,compactDrawing:!0,fontFamily:"Arial, Helvetica, sans-serif",fontSizeLarge:11,fontSizeSmall:3,padding:10,experimentalSSSR:!1,kkThreshold:.1,kkInnerThreshold:.1,kkMaxIteration:2e4,kkMaxInnerIteration:50,kkMaxEnergy:1e9,weights:{colormap:null,additionalPadding:20,sigma:10,interval:0,opacity:1},themes:{dark:{C:"#fff",O:"#e74c3c",N:"#3498db",F:"#27ae60",CL:"#16a085",BR:"#d35400",I:"#8e44ad",P:"#d35400",S:"#f1c40f",B:"#e67e22",SI:"#e67e22",H:"#aaa",BACKGROUND:"#141414"},light:{C:"#222",O:"#e74c3c",N:"#3498db",F:"#27ae60",CL:"#16a085",BR:"#d35400",I:"#8e44ad",P:"#d35400",S:"#f1c40f",B:"#e67e22",SI:"#e67e22",H:"#666",BACKGROUND:"#fff"},oldschool:{C:"#000",O:"#000",N:"#000",F:"#000",CL:"#000",BR:"#000",I:"#000",P:"#000",S:"#000",B:"#000",SI:"#000",H:"#000",BACKGROUND:"#fff"},solarized:{C:"#586e75",O:"#dc322f",N:"#268bd2",F:"#859900",CL:"#16a085",BR:"#cb4b16",I:"#6c71c4",P:"#d33682",S:"#b58900",B:"#2aa198",SI:"#2aa198",H:"#657b83",BACKGROUND:"#fff"},"solarized-dark":{C:"#93a1a1",O:"#dc322f",N:"#268bd2",F:"#859900",CL:"#16a085",BR:"#cb4b16",I:"#6c71c4",P:"#d33682",S:"#b58900",B:"#2aa198",SI:"#2aa198",H:"#839496",BACKGROUND:"#fff"},matrix:{C:"#678c61",O:"#2fc079",N:"#4f7e7e",F:"#90d762",CL:"#82d967",BR:"#23755a",I:"#409931",P:"#c1ff8a",S:"#faff00",B:"#50b45a",SI:"#409931",H:"#426644",BACKGROUND:"#fff"},github:{C:"#24292f",O:"#cf222e",N:"#0969da",F:"#2da44e",CL:"#6fdd8b",BR:"#bc4c00",I:"#8250df",P:"#bf3989",S:"#d4a72c",B:"#fb8f44",SI:"#bc4c00",H:"#57606a",BACKGROUND:"#fff"},carbon:{C:"#161616",O:"#da1e28",N:"#0f62fe",F:"#198038",CL:"#007d79",BR:"#fa4d56",I:"#8a3ffc",P:"#ff832b",S:"#f1c21b",B:"#8a3800",SI:"#e67e22",H:"#525252",BACKGROUND:"#fff"},cyberpunk:{C:"#ea00d9",O:"#ff3131",N:"#0abdc6",F:"#00ff9f",CL:"#00fe00",BR:"#fe9f20",I:"#ff00ff",P:"#fe7f00",S:"#fcee0c",B:"#ff00ff",SI:"#ffffff",H:"#913cb1",BACKGROUND:"#fff"},gruvbox:{C:"#665c54",O:"#cc241d",N:"#458588",F:"#98971a",CL:"#79740e",BR:"#d65d0e",I:"#b16286",P:"#af3a03",S:"#d79921",B:"#689d6a",SI:"#427b58",H:"#7c6f64",BACKGROUND:"#fbf1c7"},"gruvbox-dark":{C:"#ebdbb2",O:"#cc241d",N:"#458588",F:"#98971a",CL:"#b8bb26",BR:"#d65d0e",I:"#b16286",P:"#fe8019",S:"#d79921",B:"#8ec07c",SI:"#83a598",H:"#bdae93",BACKGROUND:"#282828"},custom:{C:"#222",O:"#e74c3c",N:"#3498db",F:"#27ae60",CL:"#16a085",BR:"#d35400",I:"#8e44ad",P:"#d35400",S:"#f1c40f",B:"#e67e22",SI:"#e67e22",H:"#666",BACKGROUND:"#fff"}}},this.opts=ee.extend(!0,this.defaultOptions,U),this.opts.halfBondSpacing=this.opts.bondSpacing/2,this.opts.bondLengthSq=this.opts.bondLength*this.opts.bondLength,this.opts.halfFontSizeLarge=this.opts.fontSizeLarge/2,this.opts.quarterFontSizeLarge=this.opts.fontSizeLarge/4,this.opts.fifthFontSizeSmall=this.opts.fontSizeSmall/5,this.theme=this.opts.themes.dark}draw(U,W,K="light",ie=!1){this.initDraw(U,K,ie),this.infoOnly||(this.themeManager=new j(this.opts.themes,K),this.canvasWrapper=new E(W,this.themeManager,this.opts)),ie||(this.processGraph(),this.canvasWrapper.scale(this.graph.vertices),this.drawEdges(this.opts.debug),this.drawVertices(this.opts.debug),this.canvasWrapper.reset(),this.opts.debug&&(console.log(this.graph),console.log(this.rings),console.log(this.ringConnections)))}edgeRingCount(U){let W=this.graph.edges[U];return Math.min(this.graph.vertices[W.sourceId].value.rings.length,this.graph.vertices[W.targetId].value.rings.length)}getBridgedRings(){let U=Array();for(var W=0;W<this.rings.length;W++)this.rings[W].isBridged&&U.push(this.rings[W]);return U}getFusedRings(){let U=Array();for(var W=0;W<this.rings.length;W++)this.rings[W].isFused&&U.push(this.rings[W]);return U}getSpiros(){let U=Array();for(var W=0;W<this.rings.length;W++)this.rings[W].isSpiro&&U.push(this.rings[W]);return U}printRingInfo(){let U="";for(var W=0;W<this.rings.length;W++){const K=this.rings[W];U+=K.id+";",U+=K.members.length+";",U+=K.neighbours.length+";",U+=K.isSpiro?"true;":"false;",U+=K.isFused?"true;":"false;",U+=K.isBridged?"true;":"false;",U+=K.rings.length+";",U+="\n"}return U}rotateDrawing(){let U=0,W=0,K=0;for(var ie=0;ie<this.graph.vertices.length;ie++){let pe=this.graph.vertices[ie];if(pe.value.isDrawn)for(var me=ie+1;me<this.graph.vertices.length;me++){let Ce=this.graph.vertices[me];if(!Ce.value.isDrawn)continue;let st=pe.position.distanceSq(Ce.position);st>K&&(K=st,U=ie,W=me)}}let ve=-q.subtract(this.graph.vertices[U].position,this.graph.vertices[W].position).angle();if(!isNaN(ve)){let pe=ve%.523599;for(pe<.2617995?ve-=pe:ve+=.523599-pe,ie=0;ie<this.graph.vertices.length;ie++)ie!==W&&this.graph.vertices[ie].position.rotateAround(ve,this.graph.vertices[W].position);for(ie=0;ie<this.rings.length;ie++)this.rings[ie].center.rotateAround(ve,this.graph.vertices[W].position)}}getTotalOverlapScore(){return this.totalOverlapScore}getRingCount(){return this.rings.length}hasBridgedRing(){return this.bridgedRing}getHeavyAtomCount(){let U=0;for(var W=0;W<this.graph.vertices.length;W++)"H"!==this.graph.vertices[W].value.element&&U++;return U}getMolecularFormula(U=null){let W="",K=new Map,ie=null===U?this.graph:new O(U,this.opts.isomeric);for(var me=0;me<ie.vertices.length;me++){let pe=ie.vertices[me].value;if(K.has(pe.element)?K.set(pe.element,K.get(pe.element)+1):K.set(pe.element,1),pe.bracket&&!pe.bracket.chirality&&(K.has("H")?K.set("H",K.get("H")+pe.bracket.hcount):K.set("H",pe.bracket.hcount)),!pe.bracket){let Ce=F.maxBonds[pe.element]-pe.bondCount;pe.isPartOfAromaticRing&&Ce--,K.has("H")?K.set("H",K.get("H")+Ce):K.set("H",Ce)}}if(K.has("C")){let pe=K.get("C");W+="C"+(pe>1?pe:""),K.delete("C")}if(K.has("H")){let pe=K.get("H");W+="H"+(pe>1?pe:""),K.delete("H")}return Object.keys(F.atomicNumbers).sort().map(pe=>{if(K.has(pe)){let Ce=K.get(pe);W+=pe+(Ce>1?Ce:"")}}),W}getRingbondType(U,W){if(U.value.getRingbondCount()<1||W.value.getRingbondCount()<1)return null;for(var K=0;K<U.value.ringbonds.length;K++)for(var ie=0;ie<W.value.ringbonds.length;ie++)if(U.value.ringbonds[K].id===W.value.ringbonds[ie].id)return"-"===U.value.ringbonds[K].bondType?W.value.ringbonds[ie].bond:U.value.ringbonds[K].bond;return null}initDraw(U,W,K,ie){this.data=U,this.infoOnly=K,this.ringIdCounter=0,this.ringConnectionIdCounter=0,this.graph=new O(U,this.opts.isomeric),this.rings=Array(),this.ringConnections=Array(),this.originalRings=Array(),this.originalRingConnections=Array(),this.bridgedRing=!1,this.doubleBondConfigCount=null,this.doubleBondConfig=null,this.highlight_atoms=ie,this.initRings(),this.initHydrogens()}processGraph(){this.position(),this.restoreRingInformation(),this.resolvePrimaryOverlaps();let U=this.getOverlapScore();this.totalOverlapScore=this.getOverlapScore().total;for(var W=0;W<this.opts.overlapResolutionIterations;W++)for(var K=0;K<this.graph.edges.length;K++){let ie=this.graph.edges[K];if(this.isEdgeRotatable(ie)){let me=this.graph.getTreeDepth(ie.sourceId,ie.targetId),ve=this.graph.getTreeDepth(ie.targetId,ie.sourceId),pe=ie.targetId,Ce=ie.sourceId;if(me>ve&&(pe=ie.sourceId,Ce=ie.targetId),this.getSubtreeOverlapScore(Ce,pe,U.vertexScores).value>this.opts.overlapSensitivity){let Je=this.graph.vertices[pe],He=this.graph.vertices[Ce],Be=He.getNeighbours(pe);if(1===Be.length){let Ke=this.graph.vertices[Be[0]],bt=Ke.position.getRotateAwayFromAngle(Je.position,He.position,R.toRad(120));this.rotateSubtree(Ke.id,He.id,bt,He.position);let gt=this.getOverlapScore().total;gt>this.totalOverlapScore?this.rotateSubtree(Ke.id,He.id,-bt,He.position):this.totalOverlapScore=gt}else if(2===Be.length){if(0!==He.value.rings.length&&0!==Je.value.rings.length)continue;let Ke=this.graph.vertices[Be[0]],bt=this.graph.vertices[Be[1]];if(1===Ke.value.rings.length&&1===bt.value.rings.length){if(Ke.value.rings[0]!==bt.value.rings[0])continue}else{if(0!==Ke.value.rings.length||0!==bt.value.rings.length)continue;{let gt=Ke.position.getRotateAwayFromAngle(Je.position,He.position,R.toRad(120)),en=bt.position.getRotateAwayFromAngle(Je.position,He.position,R.toRad(120));this.rotateSubtree(Ke.id,He.id,gt,He.position),this.rotateSubtree(bt.id,He.id,en,He.position);let Dt=this.getOverlapScore().total;Dt>this.totalOverlapScore?(this.rotateSubtree(Ke.id,He.id,-gt,He.position),this.rotateSubtree(bt.id,He.id,-en,He.position)):this.totalOverlapScore=Dt}}}U=this.getOverlapScore()}}}this.resolveSecondaryOverlaps(U.scores),this.opts.isomeric&&this.annotateStereochemistry(),this.opts.compactDrawing&&"default"===this.opts.atomVisualization&&this.initPseudoElements(),this.rotateDrawing()}initRings(){let U=new Map;for(var W=this.graph.vertices.length-1;W>=0;W--){let me=this.graph.vertices[W];if(0!==me.value.ringbonds.length)for(var K=0;K<me.value.ringbonds.length;K++){let ve=me.value.ringbonds[K].id,pe=me.value.ringbonds[K].bond;if(U.has(ve)){let Ce=me.id,st=U.get(ve)[0],Je=U.get(ve)[1],He=new S(Ce,st,1);He.setBondType(Je||pe||"-");let Be=this.graph.addEdge(He),Ke=this.graph.vertices[st];me.addRingbondChild(st,K),me.value.addNeighbouringElement(Ke.value.element),Ke.addRingbondChild(Ce,K),Ke.value.addNeighbouringElement(me.value.element),me.edges.push(Be),Ke.edges.push(Be),U.delete(ve)}else U.set(ve,[me.id,pe])}}let ie=k.getRings(this.graph,this.opts.experimentalSSSR);if(null!==ie){for(W=0;W<ie.length;W++){let ve=[...ie[W]],pe=this.addRing(new ne(ve));for(K=0;K<ve.length;K++)this.graph.vertices[ve[K]].value.rings.push(pe)}for(W=0;W<this.rings.length-1;W++)for(K=W+1;K<this.rings.length;K++){let st=new x(this.rings[W],this.rings[K]);st.vertices.size>0&&this.addRingConnection(st)}for(W=0;W<this.rings.length;W++){let ve=this.rings[W];ve.neighbours=x.getNeighbours(this.ringConnections,ve.id)}for(W=0;W<this.rings.length;W++){let ve=this.rings[W];this.graph.vertices[ve.members[0]].value.addAnchoredRing(ve.id)}for(this.backupRingInformation();this.rings.length>0;){let me=-1;for(W=0;W<this.rings.length;W++){let st=this.rings[W];this.isPartOfBridgedRing(st.id)&&!st.isBridged&&(me=st.id)}if(-1===me)break;let ve=this.getRing(me),pe=this.getBridgedRingRings(ve.id);for(this.bridgedRing=!0,this.createBridgedRing(pe,ve.members[0]),W=0;W<pe.length;W++)this.removeRing(pe[W])}}}initHydrogens(){if(!this.opts.explicitHydrogens)for(var U=0;U<this.graph.vertices.length;U++){let W=this.graph.vertices[U];if("H"!==W.value.element)continue;let K=this.graph.vertices[W.neighbours[0]];K.value.hasHydrogen=!0,(!K.value.isStereoCenter||K.value.rings.length<2&&!K.value.bridgedRing||K.value.bridgedRing&&K.value.originalRings.length<2)&&(W.value.isDrawn=!1)}}getBridgedRingRings(U){let W=Array(),K=this,ie=function(me){let ve=K.getRing(me);W.push(me);for(var pe=0;pe<ve.neighbours.length;pe++){let Ce=ve.neighbours[pe];-1===W.indexOf(Ce)&&Ce!==me&&x.isBridge(K.ringConnections,K.graph.vertices,me,Ce)&&ie(Ce)}};return ie(U),H.unique(W)}isPartOfBridgedRing(U){for(var W=0;W<this.ringConnections.length;W++)if(this.ringConnections[W].containsRing(U)&&this.ringConnections[W].isBridge(this.graph.vertices))return!0;return!1}createBridgedRing(U,W){let K=new Set,ie=new Set,me=new Set;for(var ve=0;ve<U.length;ve++){let Be=this.getRing(U[ve]);Be.isPartOfBridged=!0;for(var pe=0;pe<Be.members.length;pe++)ie.add(Be.members[pe]);for(pe=0;pe<Be.neighbours.length;pe++)-1===U.indexOf(Be.neighbours[pe])&&me.add(Be.neighbours[pe])}let Ce=new Set;for(let Be of ie){let Ke=this.graph.vertices[Be],bt=H.intersection(U,Ke.value.rings);1===Ke.value.rings.length||1===bt.length?K.add(Ke.id):Ce.add(Ke.id)}Array();let Je=Array();for(let Be of Ce){let Ke=this.graph.vertices[Be],bt=!1;for(let gt=0;gt<Ke.edges.length;gt++)1===this.edgeRingCount(Ke.edges[gt])&&(bt=!0);bt?(Ke.value.isBridgeNode=!0,K.add(Ke.id)):(Ke.value.isBridge=!0,K.add(Ke.id))}let He=new ne([...K]);for(this.addRing(He),He.isBridged=!0,He.neighbours=[...me],ve=0;ve<U.length;ve++)He.rings.push(this.getRing(U[ve]).clone());for(ve=0;ve<He.members.length;ve++)this.graph.vertices[He.members[ve]].value.bridgedRing=He.id;for(ve=0;ve<Je.length;ve++)this.graph.vertices[Je[ve]].value.rings=Array();for(let Be of K){let Ke=this.graph.vertices[Be];Ke.value.rings=H.removeAll(Ke.value.rings,U),Ke.value.rings.push(He.id)}for(ve=0;ve<U.length;ve++)for(pe=ve+1;pe<U.length;pe++)this.removeRingConnectionsBetween(U[ve],U[pe]);for(let Be of me){let Ke=this.getRingConnections(Be,U);for(pe=0;pe<Ke.length;pe++)this.getRingConnection(Ke[pe]).updateOther(He.id,Be);this.getRing(Be).neighbours.push(He.id)}return He}areVerticesInSameRing(U,W){for(var K=0;K<U.value.rings.length;K++)for(var ie=0;ie<W.value.rings.length;ie++)if(U.value.rings[K]===W.value.rings[ie])return!0;return!1}getCommonRings(U,W){let K=Array();for(var ie=0;ie<U.value.rings.length;ie++)for(var me=0;me<W.value.rings.length;me++)U.value.rings[ie]==W.value.rings[me]&&K.push(U.value.rings[ie]);return K}getLargestOrAromaticCommonRing(U,W){let K=this.getCommonRings(U,W),ie=0,me=null;for(var ve=0;ve<K.length;ve++){let pe=this.getRing(K[ve]),Ce=pe.getSize();if(pe.isBenzeneLike(this.graph.vertices))return pe;Ce>ie&&(ie=Ce,me=pe)}return me}getVerticesAt(U,W,K){let ie=Array();for(var me=0;me<this.graph.vertices.length;me++){let ve=this.graph.vertices[me];ve.id!==K&&ve.positioned&&U.distanceSq(ve.position)<=W*W&&ie.push(ve.id)}return ie}getClosestVertex(U){let W=99999,K=null;for(var ie=0;ie<this.graph.vertices.length;ie++){let me=this.graph.vertices[ie];if(me.id===U.id)continue;let ve=U.position.distanceSq(me.position);ve<W&&(W=ve,K=me)}return K}addRing(U){return U.id=this.ringIdCounter++,this.rings.push(U),U.id}removeRing(U){this.rings=this.rings.filter(function(K){return K.id!==U}),this.ringConnections=this.ringConnections.filter(function(K){return K.firstRingId!==U&&K.secondRingId!==U});for(var W=0;W<this.rings.length;W++){let K=this.rings[W];K.neighbours=K.neighbours.filter(function(ie){return ie!==U})}}getRing(U){for(var W=0;W<this.rings.length;W++)if(this.rings[W].id==U)return this.rings[W]}addRingConnection(U){return U.id=this.ringConnectionIdCounter++,this.ringConnections.push(U),U.id}removeRingConnection(U){this.ringConnections=this.ringConnections.filter(function(W){return W.id!==U})}removeRingConnectionsBetween(U,W){let K=Array();for(var ie=0;ie<this.ringConnections.length;ie++){let me=this.ringConnections[ie];(me.firstRingId===U&&me.secondRingId===W||me.firstRingId===W&&me.secondRingId===U)&&K.push(me.id)}for(ie=0;ie<K.length;ie++)this.removeRingConnection(K[ie])}getRingConnection(U){for(var W=0;W<this.ringConnections.length;W++)if(this.ringConnections[W].id==U)return this.ringConnections[W]}getRingConnections(U,W){let K=Array();for(var ie=0;ie<this.ringConnections.length;ie++){let ve=this.ringConnections[ie];for(var me=0;me<W.length;me++){let pe=W[me];(ve.firstRingId===U&&ve.secondRingId===pe||ve.firstRingId===pe&&ve.secondRingId===U)&&K.push(ve.id)}}return K}getOverlapScore(){let U=0,W=new Float32Array(this.graph.vertices.length);for(var K=0;K<this.graph.vertices.length;K++)W[K]=0;for(K=0;K<this.graph.vertices.length;K++)for(var ie=this.graph.vertices.length;--ie>K;){let pe=this.graph.vertices[K],Ce=this.graph.vertices[ie];if(!pe.value.isDrawn||!Ce.value.isDrawn)continue;let st=q.subtract(pe.position,Ce.position).lengthSq();if(st<this.opts.bondLengthSq){let Je=(this.opts.bondLength-Math.sqrt(st))/this.opts.bondLength;U+=Je,W[K]+=Je,W[ie]+=Je}}let me=Array();for(K=0;K<this.graph.vertices.length;K++)me.push({id:K,score:W[K]});return me.sort(function(ve,pe){return pe.score-ve.score}),{total:U,scores:me,vertexScores:W}}chooseSide(U,W,K){let ie=U.getNeighbours(W.id),me=W.getNeighbours(U.id),ve=ie.length,pe=me.length,Ce=H.merge(ie,me),st=[0,0];for(var Je=0;Je<Ce.length;Je++)this.graph.vertices[Ce[Je]].position.sameSideAs(U.position,W.position,K[0])?st[0]++:st[1]++;let He=[0,0];for(Je=0;Je<this.graph.vertices.length;Je++)this.graph.vertices[Je].position.sameSideAs(U.position,W.position,K[0])?He[0]++:He[1]++;return{totalSideCount:He,totalPosition:He[0]>He[1]?0:1,sideCount:st,position:st[0]>st[1]?0:1,anCount:ve,bnCount:pe}}setRingCenter(U){let W=U.getSize(),K=new q(0,0);for(var ie=0;ie<W;ie++)K.add(this.graph.vertices[U.members[ie]].position);U.center=K.divide(W)}getSubringCenter(U,W){let K=W.value.originalRings,ie=U.center,me=Number.MAX_VALUE;for(var ve=0;ve<K.length;ve++)for(var pe=0;pe<U.rings.length;pe++)K[ve]===U.rings[pe].id&&U.rings[pe].getSize()<me&&(ie=U.rings[pe].center,me=U.rings[pe].getSize());return ie}drawEdges(U){let W=this,K=Array(this.graph.edges.length);if(K.fill(!1),this.graph.traverseBF(0,function(me){let ve=W.graph.getEdges(me.id);for(var pe=0;pe<ve.length;pe++){let Ce=ve[pe];K[Ce]||(K[Ce]=!0,W.drawEdge(Ce,U))}}),!this.bridgedRing)for(var ie=0;ie<this.rings.length;ie++){let me=this.rings[ie];this.isRingAromatic(me)&&this.canvasWrapper.drawAromaticityRing(me)}}drawEdge(U,W){let K=this,ie=this.graph.edges[U],me=this.graph.vertices[ie.sourceId],ve=this.graph.vertices[ie.targetId],pe=me.value.element,Ce=ve.value.element;if(!(me.value.isDrawn&&ve.value.isDrawn||"default"!==this.opts.atomVisualization))return;let st=me.position,Je=ve.position,He=this.getEdgeNormals(ie),Be=H.clone(He);if(Be[0].multiplyScalar(10).add(st),Be[1].multiplyScalar(10).add(st),"="===ie.bondType||"="===this.getRingbondType(me,ve)||ie.isPartOfAromaticRing&&this.bridgedRing){let Ke=this.areVerticesInSameRing(me,ve),bt=this.chooseSide(me,ve,Be);if(Ke){let en=this.getLargestOrAromaticCommonRing(me,ve).center;He[0].multiplyScalar(K.opts.bondSpacing),He[1].multiplyScalar(K.opts.bondSpacing);let Dt=null;Dt=en.sameSideAs(me.position,ve.position,q.add(st,He[0]))?new te(q.add(st,He[0]),q.add(Je,He[0]),pe,Ce):new te(q.add(st,He[1]),q.add(Je,He[1]),pe,Ce),Dt.shorten(this.opts.bondLength-this.opts.shortBondLength*this.opts.bondLength),ie.isPartOfAromaticRing?this.canvasWrapper.drawLine(Dt,!0):this.canvasWrapper.drawLine(Dt),this.canvasWrapper.drawLine(new te(st,Je,pe,Ce))}else if(ie.center||me.isTerminal()&&ve.isTerminal()){He[0].multiplyScalar(K.opts.halfBondSpacing),He[1].multiplyScalar(K.opts.halfBondSpacing);let gt=new te(q.add(st,He[0]),q.add(Je,He[0]),pe,Ce),en=new te(q.add(st,He[1]),q.add(Je,He[1]),pe,Ce);this.canvasWrapper.drawLine(gt),this.canvasWrapper.drawLine(en)}else if(0==bt.anCount&&bt.bnCount>1||0==bt.bnCount&&bt.anCount>1){He[0].multiplyScalar(K.opts.halfBondSpacing),He[1].multiplyScalar(K.opts.halfBondSpacing);let gt=new te(q.add(st,He[0]),q.add(Je,He[0]),pe,Ce),en=new te(q.add(st,He[1]),q.add(Je,He[1]),pe,Ce);this.canvasWrapper.drawLine(gt),this.canvasWrapper.drawLine(en)}else if(bt.sideCount[0]>bt.sideCount[1]){He[0].multiplyScalar(K.opts.bondSpacing),He[1].multiplyScalar(K.opts.bondSpacing);let gt=new te(q.add(st,He[0]),q.add(Je,He[0]),pe,Ce);gt.shorten(this.opts.bondLength-this.opts.shortBondLength*this.opts.bondLength),this.canvasWrapper.drawLine(gt),this.canvasWrapper.drawLine(new te(st,Je,pe,Ce))}else if(bt.sideCount[0]<bt.sideCount[1]){He[0].multiplyScalar(K.opts.bondSpacing),He[1].multiplyScalar(K.opts.bondSpacing);let gt=new te(q.add(st,He[1]),q.add(Je,He[1]),pe,Ce);gt.shorten(this.opts.bondLength-this.opts.shortBondLength*this.opts.bondLength),this.canvasWrapper.drawLine(gt),this.canvasWrapper.drawLine(new te(st,Je,pe,Ce))}else if(bt.totalSideCount[0]>bt.totalSideCount[1]){He[0].multiplyScalar(K.opts.bondSpacing),He[1].multiplyScalar(K.opts.bondSpacing);let gt=new te(q.add(st,He[0]),q.add(Je,He[0]),pe,Ce);gt.shorten(this.opts.bondLength-this.opts.shortBondLength*this.opts.bondLength),this.canvasWrapper.drawLine(gt),this.canvasWrapper.drawLine(new te(st,Je,pe,Ce))}else if(bt.totalSideCount[0]<=bt.totalSideCount[1]){He[0].multiplyScalar(K.opts.bondSpacing),He[1].multiplyScalar(K.opts.bondSpacing);let gt=new te(q.add(st,He[1]),q.add(Je,He[1]),pe,Ce);gt.shorten(this.opts.bondLength-this.opts.shortBondLength*this.opts.bondLength),this.canvasWrapper.drawLine(gt),this.canvasWrapper.drawLine(new te(st,Je,pe,Ce))}}else if("#"===ie.bondType){He[0].multiplyScalar(K.opts.bondSpacing/1.5),He[1].multiplyScalar(K.opts.bondSpacing/1.5);let Ke=new te(q.add(st,He[0]),q.add(Je,He[0]),pe,Ce),bt=new te(q.add(st,He[1]),q.add(Je,He[1]),pe,Ce);this.canvasWrapper.drawLine(Ke),this.canvasWrapper.drawLine(bt),this.canvasWrapper.drawLine(new te(st,Je,pe,Ce))}else if("."!==ie.bondType){let Ke=me.value.isStereoCenter,bt=ve.value.isStereoCenter;"up"===ie.wedge?this.canvasWrapper.drawWedge(new te(st,Je,pe,Ce,Ke,bt)):"down"===ie.wedge?this.canvasWrapper.drawDashedWedge(new te(st,Je,pe,Ce,Ke,bt)):this.canvasWrapper.drawLine(new te(st,Je,pe,Ce,Ke,bt))}if(W){let Ke=q.midpoint(st,Je);this.canvasWrapper.drawDebugText(Ke.x,Ke.y,"e: "+U)}}drawVertices(U){var W=this.graph.vertices.length;for(W=0;W<this.graph.vertices.length;W++){let ie=this.graph.vertices[W],me=ie.value,ve=0,pe=0,st=me.element,Je=F.maxBonds[st]-ie.value.bondCount,He=ie.getTextDirection(this.graph.vertices),Be=!(!this.opts.terminalCarbons&&"C"===st&&!me.hasAttachedPseudoElements)&&ie.isTerminal(),Ke="C"===me.element;if("N"===me.element&&me.isPartOfAromaticRing&&(Je=0),me.bracket&&(Je=me.bracket.hcount,ve=me.bracket.charge,pe=me.bracket.isotope),"allballs"===this.opts.atomVisualization)this.canvasWrapper.drawBall(ie.position.x,ie.position.y,st);else if(me.isDrawn&&(!Ke||me.drawExplicit||Be||me.hasAttachedPseudoElements)||1===this.graph.vertices.length)"default"===this.opts.atomVisualization?this.canvasWrapper.drawText(ie.position.x,ie.position.y,st,Je,He,Be,ve,pe,this.graph.vertices.length,me.getAttachedPseudoElements()):"balls"===this.opts.atomVisualization&&this.canvasWrapper.drawBall(ie.position.x,ie.position.y,st);else if(2===ie.getNeighbourCount()&&1==ie.forcePositioned){let en=q.threePointangle(ie.position,this.graph.vertices[ie.neighbours[0]].position,this.graph.vertices[ie.neighbours[1]].position);Math.abs(Math.PI-en)<.1&&this.canvasWrapper.drawPoint(ie.position.x,ie.position.y,st)}if(U){let bt="v: "+ie.id+" "+H.print(me.ringbonds);this.canvasWrapper.drawDebugText(ie.position.x,ie.position.y,bt)}}if(this.opts.debug)for(W=0;W<this.rings.length;W++){let ie=this.rings[W].center;this.canvasWrapper.drawDebugPoint(ie.x,ie.y,"r: "+this.rings[W].id)}}position(){let U=null;for(var W=0;W<this.graph.vertices.length;W++)if(null!==this.graph.vertices[W].value.bridgedRing){U=this.graph.vertices[W];break}for(W=0;W<this.rings.length;W++)this.rings[W].isBridged&&(U=this.graph.vertices[this.rings[W].members[0]]);this.rings.length>0&&null===U&&(U=this.graph.vertices[this.rings[0].members[0]]),null===U&&(U=this.graph.vertices[0]),this.createNextBond(U,null,0)}backupRingInformation(){this.originalRings=Array(),this.originalRingConnections=Array();for(var U=0;U<this.rings.length;U++)this.originalRings.push(this.rings[U]);for(U=0;U<this.ringConnections.length;U++)this.originalRingConnections.push(this.ringConnections[U]);for(U=0;U<this.graph.vertices.length;U++)this.graph.vertices[U].value.backupRings()}restoreRingInformation(){let U=this.getBridgedRings();this.rings=Array(),this.ringConnections=Array();for(var W=0;W<U.length;W++){let ie=U[W];for(var K=0;K<ie.rings.length;K++){let me=ie.rings[K];this.originalRings[me.id].center=me.center}}for(W=0;W<this.originalRings.length;W++)this.rings.push(this.originalRings[W]);for(W=0;W<this.originalRingConnections.length;W++)this.ringConnections.push(this.originalRingConnections[W]);for(W=0;W<this.graph.vertices.length;W++)this.graph.vertices[W].value.restoreRings()}createRing(U,W=null,K=null,ie=null){if(U.positioned)return;W=W||new q(0,0);let me=U.getOrderedNeighbours(this.ringConnections),ve=K?q.subtract(K.position,W).angle():0,pe=R.polyCircumradius(this.opts.bondLength,U.getSize()),Ce=R.centralAngle(U.getSize());U.centralAngle=Ce;let st=ve,Je=this,He=K?K.id:null;if(-1===U.members.indexOf(He)&&(K&&(K.positioned=!1),He=U.members[0]),U.isBridged){this.graph.kkLayout(U.members.slice(),W,K.id,U,this.opts.bondLength,this.opts.kkThreshold,this.opts.kkInnerThreshold,this.opts.kkMaxIteration,this.opts.kkMaxInnerIteration,this.opts.kkMaxEnergy),U.positioned=!0,this.setRingCenter(U),W=U.center;for(var Be=0;Be<U.rings.length;Be++)this.setRingCenter(U.rings[Be])}else U.eachMember(this.graph.vertices,function(bt){let gt=Je.graph.vertices[bt];gt.positioned||gt.setPosition(W.x+Math.cos(st)*pe,W.y+Math.sin(st)*pe),st+=Ce,(!U.isBridged||U.rings.length<3)&&(gt.angle=st,gt.positioned=!0)},He,ie?ie.id:null);for(U.positioned=!0,U.center=W,Be=0;Be<me.length;Be++){let gt=this.getRing(me[Be].neighbour);if(gt.positioned)continue;let en=x.getVertices(this.ringConnections,U.id,gt.id);if(2===en.length){U.isFused=!0,gt.isFused=!0;let Dt=this.graph.vertices[en[0]],Ln=this.graph.vertices[en[1]],wi=q.midpoint(Dt.position,Ln.position),ki=q.normals(Dt.position,Ln.position);ki[0].normalize(),ki[1].normalize();let Pi=R.polyCircumradius(this.opts.bondLength,gt.getSize()),Ki=R.apothem(Pi,gt.getSize());ki[0].multiplyScalar(Ki).add(wi),ki[1].multiplyScalar(Ki).add(wi);let vr=ki[0];q.subtract(W,ki[1]).lengthSq()>q.subtract(W,ki[0]).lengthSq()&&(vr=ki[1]);let Wn=q.subtract(Dt.position,vr),Fi=q.subtract(Ln.position,vr);-1===Wn.clockwise(Fi)?gt.positioned||this.createRing(gt,vr,Dt,Ln):gt.positioned||this.createRing(gt,vr,Ln,Dt)}else if(1===en.length){U.isSpiro=!0,gt.isSpiro=!0;let Dt=this.graph.vertices[en[0]],Ln=q.subtract(W,Dt.position);Ln.invert(),Ln.normalize();let wi=R.polyCircumradius(this.opts.bondLength,gt.getSize());Ln.multiplyScalar(wi),Ln.add(Dt.position),gt.positioned||this.createRing(gt,Ln,Dt)}}for(Be=0;Be<U.members.length;Be++){let gt=this.graph.vertices[U.members[Be]],en=gt.neighbours;for(var Ke=0;Ke<en.length;Ke++){let Dt=this.graph.vertices[en[Ke]];Dt.positioned||(Dt.value.isConnectedToRing=!0,this.createNextBond(Dt,gt,0))}}}rotateSubtree(U,W,K,ie){let me=this;this.graph.traverseTree(U,W,function(ve){ve.position.rotateAround(K,ie);for(var pe=0;pe<ve.value.anchoredRings.length;pe++){let Ce=me.rings[ve.value.anchoredRings[pe]];Ce&&Ce.center.rotateAround(K,ie)}})}getSubtreeOverlapScore(U,W,K){let ie=this,me=0,ve=new q(0,0),pe=0;return this.graph.traverseTree(U,W,function(Ce){if(!Ce.value.isDrawn)return;let st=K[Ce.id];st>ie.opts.overlapSensitivity&&(me+=st,pe++);let Je=ie.graph.vertices[Ce.id].position.clone();Je.multiplyScalar(st),ve.add(Je)}),ve.divide(me),{value:me/pe,center:ve}}getCurrentCenterOfMass(){let U=new q(0,0),W=0;for(var K=0;K<this.graph.vertices.length;K++){let ie=this.graph.vertices[K];ie.positioned&&(U.add(ie.position),W++)}return U.divide(W)}getCurrentCenterOfMassInNeigbourhood(U,W=2*this.opts.bondLength){let K=new q(0,0),ie=0,me=W*W;for(var ve=0;ve<this.graph.vertices.length;ve++){let pe=this.graph.vertices[ve];pe.positioned&&U.distanceSq(pe.position)<me&&(K.add(pe.position),ie++)}return K.divide(ie)}resolvePrimaryOverlaps(){let U=Array(),W=Array(this.graph.vertices.length);for(var K=0;K<this.rings.length;K++){let ve=this.rings[K];for(var ie=0;ie<ve.members.length;ie++){let pe=this.graph.vertices[ve.members[ie]];if(W[pe.id])continue;W[pe.id]=!0;let Ce=this.getNonRingNeighbours(pe.id);if(Ce.length>1){let st=Array();for(var me=0;me<pe.value.rings.length;me++)st.push(pe.value.rings[me]);U.push({common:pe,rings:st,vertices:Ce})}else if(1===Ce.length&&2===pe.value.rings.length){let st=Array();for(me=0;me<pe.value.rings.length;me++)st.push(pe.value.rings[me]);U.push({common:pe,rings:st,vertices:Ce})}}}for(K=0;K<U.length;K++){let pe=U[K];if(2===pe.vertices.length){let Ce=pe.vertices[0],st=pe.vertices[1];if(!Ce.value.isDrawn||!st.value.isDrawn)continue;let Je=(2*Math.PI-this.getRing(pe.rings[0]).getAngle())/6;this.rotateSubtree(Ce.id,pe.common.id,Je,pe.common.position),this.rotateSubtree(st.id,pe.common.id,-Je,pe.common.position);let He=this.getOverlapScore(),Be=this.getSubtreeOverlapScore(Ce.id,pe.common.id,He.vertexScores),Ke=this.getSubtreeOverlapScore(st.id,pe.common.id,He.vertexScores),bt=Be.value+Ke.value;this.rotateSubtree(Ce.id,pe.common.id,-2*Je,pe.common.position),this.rotateSubtree(st.id,pe.common.id,2*Je,pe.common.position),He=this.getOverlapScore(),Be=this.getSubtreeOverlapScore(Ce.id,pe.common.id,He.vertexScores),Ke=this.getSubtreeOverlapScore(st.id,pe.common.id,He.vertexScores),Be.value+Ke.value>bt&&(this.rotateSubtree(Ce.id,pe.common.id,2*Je,pe.common.position),this.rotateSubtree(st.id,pe.common.id,-2*Je,pe.common.position))}}}resolveSecondaryOverlaps(U){for(var W=0;W<U.length;W++)if(U[W].score>this.opts.overlapSensitivity){let K=this.graph.vertices[U[W].id];if(K.isTerminal()){let ie=this.getClosestVertex(K);if(ie){let me=null;me=ie.isTerminal()?0===ie.id?this.graph.vertices[1].position:ie.previousPosition:0===ie.id?this.graph.vertices[1].position:ie.position,K.position.rotateAwayFrom(me,0===K.id?this.graph.vertices[1].position:K.previousPosition,R.toRad(20))}}}}getLastVertexWithAngle(U){let W=0,K=null;for(;!W&&U;)K=this.graph.vertices[U],W=K.angle,U=K.parentVertexId;return K}createNextBond(U,W=null,K=0,ie=!1,me=!1){if(U.positioned&&!me)return;let ve=!1;if(W){let Ce=this.graph.getEdge(U.id,W.id);("/"===Ce.bondType||"\\"===Ce.bondType)&&++this.doubleBondConfigCount%2==1&&null===this.doubleBondConfig&&(this.doubleBondConfig=Ce.bondType,ve=!0,null===W.parentVertexId&&U.value.branchBond&&("/"===this.doubleBondConfig?this.doubleBondConfig="\\":"\\"===this.doubleBondConfig&&(this.doubleBondConfig="/")))}if(!me)if(W)if(W.value.rings.length>0){let Ce=W.neighbours,st=null,Je=new q(0,0);if(null===W.value.bridgedRing&&W.value.rings.length>1)for(var pe=0;pe<Ce.length;pe++){let He=this.graph.vertices[Ce[pe]];if(H.containsAll(He.value.rings,W.value.rings)){st=He;break}}if(null===st){for(pe=0;pe<Ce.length;pe++){let Be=this.graph.vertices[Ce[pe]];Be.positioned&&this.areVerticesInSameRing(Be,W)&&Je.add(q.subtract(Be.position,W.position))}Je.invert().normalize().multiplyScalar(this.opts.bondLength).add(W.position)}else Je=st.position.clone().rotateAround(Math.PI,W.position);U.previousPosition=W.position,U.setPositionFromVector(Je),U.positioned=!0}else{let Ce=new q(this.opts.bondLength,0);Ce.rotate(K),Ce.add(W.position),U.setPositionFromVector(Ce),U.previousPosition=W.position,U.positioned=!0}else{let Ce=new q(this.opts.bondLength,0);Ce.rotate(R.toRad(-60)),U.previousPosition=Ce,U.setPosition(this.opts.bondLength,0),U.angle=R.toRad(-60),null===U.value.bridgedRing&&(U.positioned=!0)}if(null!==U.value.bridgedRing){let Ce=this.getRing(U.value.bridgedRing);if(!Ce.positioned){let st=q.subtract(U.previousPosition,U.position);st.invert(),st.normalize();let Je=R.polyCircumradius(this.opts.bondLength,Ce.members.length);st.multiplyScalar(Je),st.add(U.position),this.createRing(Ce,st,U)}}else if(U.value.rings.length>0){let Ce=this.getRing(U.value.rings[0]);if(!Ce.positioned){let st=q.subtract(U.previousPosition,U.position);st.invert(),st.normalize();let Je=R.polyCircumradius(this.opts.bondLength,Ce.getSize());st.multiplyScalar(Je),st.add(U.position),this.createRing(Ce,st,U)}}else{let st=U.getNeighbours(),Je=Array();for(pe=0;pe<st.length;pe++)this.graph.vertices[st[pe]].value.isDrawn&&Je.push(st[pe]);W&&(Je=H.remove(Je,W.id));let He=U.getAngle();if(1===Je.length){let Be=this.graph.vertices[Je[0]];if("#"===U.value.bondType||W&&"#"===W.value.bondType||"="===U.value.bondType&&W&&0===W.value.rings.length&&"="===W.value.bondType&&"-"!==U.value.branchBond)U.value.drawExplicit=!1,W&&(this.graph.getEdge(U.id,W.id).center=!0),this.graph.getEdge(U.id,Be.id).center=!0,("#"===U.value.bondType||W&&"#"===W.value.bondType)&&(Be.angle=0),Be.drawExplicit=!0,this.createNextBond(Be,U,He+Be.angle);else if(W&&W.value.rings.length>0){let Ke=R.toRad(60),bt=-Ke,gt=new q(this.opts.bondLength,0),en=new q(this.opts.bondLength,0);gt.rotate(Ke).add(U.position),en.rotate(bt).add(U.position);let Dt=this.getCurrentCenterOfMass(),Ln=gt.distanceSq(Dt),wi=en.distanceSq(Dt);Be.angle=Ln<wi?bt:Ke,this.createNextBond(Be,U,He+Be.angle)}else{let Ke=U.angle;if(W&&W.neighbours.length>3?Ke=Ke>0?Math.min(1.0472,Ke):Ke<0?Math.max(-1.0472,Ke):1.0472:Ke||(Ke=this.getLastVertexWithAngle(U.id).angle,Ke||(Ke=1.0472)),W&&!ve){let bt=this.graph.getEdge(U.id,Be.id).bondType;"/"===bt?("/"===this.doubleBondConfig||"\\"===this.doubleBondConfig&&(Ke=-Ke),this.doubleBondConfig=null):"\\"===bt&&("/"===this.doubleBondConfig&&(Ke=-Ke),this.doubleBondConfig=null)}Be.angle=ie?Ke:-Ke,this.createNextBond(Be,U,He+Be.angle)}}else if(2===Je.length){let Be=U.angle;Be||(Be=1.0472);let Ke=this.graph.getTreeDepth(Je[0],U.id),bt=this.graph.getTreeDepth(Je[1],U.id),gt=this.graph.vertices[Je[0]],en=this.graph.vertices[Je[1]];gt.value.subtreeDepth=Ke,en.value.subtreeDepth=bt;let Dt=this.graph.getTreeDepth(W?W.id:null,U.id);W&&(W.value.subtreeDepth=Dt);let Ln=0,wi=1;"C"===en.value.element&&"C"!==gt.value.element&&bt>1&&Ke<5?(Ln=1,wi=0):"C"!==en.value.element&&"C"===gt.value.element&&Ke>1&&bt<5?(Ln=0,wi=1):bt>Ke&&(Ln=1,wi=0);let ki=this.graph.vertices[Je[Ln]],Pi=this.graph.vertices[Je[wi]],Wn=(this.graph.getEdge(U.id,ki.id),this.graph.getEdge(U.id,Pi.id),!1);Dt<Ke&&Dt<bt&&(Wn=!0),Pi.angle=Be,ki.angle=-Be,"\\"===this.doubleBondConfig?"\\"===Pi.value.branchBond&&(Pi.angle=-Be,ki.angle=Be):"/"===this.doubleBondConfig&&"/"===Pi.value.branchBond&&(Pi.angle=-Be,ki.angle=Be),this.createNextBond(Pi,U,He+Pi.angle,Wn),this.createNextBond(ki,U,He+ki.angle,Wn)}else if(3===Je.length){let Be=this.graph.getTreeDepth(Je[0],U.id),Ke=this.graph.getTreeDepth(Je[1],U.id),bt=this.graph.getTreeDepth(Je[2],U.id),gt=this.graph.vertices[Je[0]],en=this.graph.vertices[Je[1]],Dt=this.graph.vertices[Je[2]];gt.value.subtreeDepth=Be,en.value.subtreeDepth=Ke,Dt.value.subtreeDepth=bt,Ke>Be&&Ke>bt?(gt=this.graph.vertices[Je[1]],en=this.graph.vertices[Je[0]],Dt=this.graph.vertices[Je[2]]):bt>Be&&bt>Ke&&(gt=this.graph.vertices[Je[2]],en=this.graph.vertices[Je[0]],Dt=this.graph.vertices[Je[1]]),W&&W.value.rings.length<1&&gt.value.rings.length<1&&en.value.rings.length<1&&Dt.value.rings.length<1&&1===this.graph.getTreeDepth(en.id,U.id)&&1===this.graph.getTreeDepth(Dt.id,U.id)&&this.graph.getTreeDepth(gt.id,U.id)>1?(gt.angle=-U.angle,U.angle>=0?(en.angle=R.toRad(30),Dt.angle=R.toRad(90)):(en.angle=-R.toRad(30),Dt.angle=-R.toRad(90)),this.createNextBond(gt,U,He+gt.angle),this.createNextBond(en,U,He+en.angle),this.createNextBond(Dt,U,He+Dt.angle)):(gt.angle=0,en.angle=R.toRad(90),Dt.angle=-R.toRad(90),this.createNextBond(gt,U,He+gt.angle),this.createNextBond(en,U,He+en.angle),this.createNextBond(Dt,U,He+Dt.angle))}else if(4===Je.length){let Be=this.graph.getTreeDepth(Je[0],U.id),Ke=this.graph.getTreeDepth(Je[1],U.id),bt=this.graph.getTreeDepth(Je[2],U.id),gt=this.graph.getTreeDepth(Je[3],U.id),en=this.graph.vertices[Je[0]],Dt=this.graph.vertices[Je[1]],Ln=this.graph.vertices[Je[2]],wi=this.graph.vertices[Je[3]];en.value.subtreeDepth=Be,Dt.value.subtreeDepth=Ke,Ln.value.subtreeDepth=bt,wi.value.subtreeDepth=gt,Ke>Be&&Ke>bt&&Ke>gt?(en=this.graph.vertices[Je[1]],Dt=this.graph.vertices[Je[0]],Ln=this.graph.vertices[Je[2]],wi=this.graph.vertices[Je[3]]):bt>Be&&bt>Ke&&bt>gt?(en=this.graph.vertices[Je[2]],Dt=this.graph.vertices[Je[0]],Ln=this.graph.vertices[Je[1]],wi=this.graph.vertices[Je[3]]):gt>Be&&gt>Ke&&gt>bt&&(en=this.graph.vertices[Je[3]],Dt=this.graph.vertices[Je[0]],Ln=this.graph.vertices[Je[1]],wi=this.graph.vertices[Je[2]]),en.angle=-R.toRad(36),Dt.angle=R.toRad(36),Ln.angle=-R.toRad(108),wi.angle=R.toRad(108),this.createNextBond(en,U,He+en.angle),this.createNextBond(Dt,U,He+Dt.angle),this.createNextBond(Ln,U,He+Ln.angle),this.createNextBond(wi,U,He+wi.angle)}}}getCommonRingbondNeighbour(U){let W=U.neighbours;for(var K=0;K<W.length;K++){let ie=this.graph.vertices[W[K]];if(H.containsAll(ie.value.rings,U.value.rings))return ie}return null}isPointInRing(U){for(var W=0;W<this.rings.length;W++){let K=this.rings[W];if(!K.positioned)continue;let ie=R.polyCircumradius(this.opts.bondLength,K.getSize()),me=ie*ie;if(U.distanceSq(K.center)<me)return!0}return!1}isEdgeInRing(U){return this.areVerticesInSameRing(this.graph.vertices[U.sourceId],this.graph.vertices[U.targetId])}isEdgeRotatable(U){let W=this.graph.vertices[U.sourceId],K=this.graph.vertices[U.targetId];return!("-"!==U.bondType||W.isTerminal()||K.isTerminal()||W.value.rings.length>0&&K.value.rings.length>0&&this.areVerticesInSameRing(W,K))}isRingAromatic(U){for(var W=0;W<U.members.length;W++)if(!this.graph.vertices[U.members[W]].value.isPartOfAromaticRing)return!1;return!0}getEdgeNormals(U){return q.units(this.graph.vertices[U.sourceId].position,this.graph.vertices[U.targetId].position)}getNonRingNeighbours(U){let W=Array(),K=this.graph.vertices[U],ie=K.neighbours;for(var me=0;me<ie.length;me++){let ve=this.graph.vertices[ie[me]];0===H.intersection(K.value.rings,ve.value.rings).length&&0==ve.value.isBridge&&W.push(ve)}return W}annotateStereochemistry(){for(var W=0;W<this.graph.vertices.length;W++){let ve=this.graph.vertices[W];if(!ve.value.isStereoCenter)continue;let pe=ve.getNeighbours(),Ce=pe.length,st=Array(Ce);for(var K=0;K<Ce;K++){let Oi=new Uint8Array(this.graph.vertices.length),Ni=Array(Array());Oi[ve.id]=1,this.visitStereochemistry(pe[K],ve.id,Oi,Ni,10,0);for(var ie=0;ie<Ni.length;ie++)Ni[ie].sort(function(cr,Qi){return Qi-cr});st[K]=[K,Ni]}let Je=0,He=0;for(K=0;K<st.length;K++)for(st[K][1].length>Je&&(Je=st[K][1].length),ie=0;ie<st[K][1].length;ie++)st[K][1][ie].length>He&&(He=st[K][1][ie].length);for(K=0;K<st.length;K++){let Ni=Je-st[K][1].length;for(ie=0;ie<Ni;ie++)st[K][1].push([]);for(st[K][1].push([pe[K]]),ie=0;ie<st[K][1].length;ie++){let Qi=He-st[K][1][ie].length;for(var me=0;me<Qi;me++)st[K][1][ie].push(0)}}st.sort(function(Oi,Ni){for(var cr=0;cr<Oi[1].length;cr++)for(var Qi=0;Qi<Oi[1][cr].length;Qi++){if(Oi[1][cr][Qi]>Ni[1][cr][Qi])return-1;if(Oi[1][cr][Qi]<Ni[1][cr][Qi])return 1}return 0});let Be=new Uint8Array(Ce);for(K=0;K<Ce;K++)Be[K]=st[K][0],ve.value.priority=K;let Ke=this.graph.vertices[pe[Be[0]]].position,gt=this.graph.vertices[pe[Be[2]]].position,en=Ke.relativeClockwise(this.graph.vertices[pe[Be[1]]].position,ve.position),Ln=(Ke.relativeClockwise(gt,ve.position),-1===en),wi="@"===ve.value.bracket.chirality?-1:1,ki=R.parityOfPermutation(Be)*wi==1?"R":"S",Pi="down",Ki="up";(Ln&&"R"!==ki||!Ln&&"S"!==ki)&&(ve.value.hydrogenDirection="up",Pi="up",Ki="down"),ve.value.hasHydrogen&&(this.graph.getEdge(ve.id,pe[Be[Be.length-1]]).wedge=Pi);let vr=new Array(pe.length-1),Wn=ve.value.rings.length>1&&ve.value.hasHydrogen,Fi=ve.value.hasHydrogen?1:0;for(K=0;K<Be.length-Fi;K++){vr[K]=new Uint32Array(2);let Ni=this.graph.vertices[pe[Be[K]]];vr[K][0]+=Ni.value.isStereoCenter?0:1e5,vr[K][0]+=this.areVerticesInSameRing(Ni,ve)?0:1e4,vr[K][0]+=Ni.value.isHeteroAtom()?1e3:0,vr[K][0]-=0===Ni.value.subtreeDepth?1e3:0,vr[K][0]+=1e3-Ni.value.subtreeDepth,vr[K][1]=pe[Be[K]]}if(vr.sort(function(Oi,Ni){return Oi[0]>Ni[0]?-1:Oi[0]<Ni[0]?1:0}),!Wn){let Oi=vr[0][1];if(ve.value.hasHydrogen)this.graph.getEdge(ve.id,Oi).wedge=Ki;else{let Ni=Ki;for(K=Be.length-1;K>=0&&(Ni=Ni===Pi?Ki:Pi,pe[Be[K]]!==Oi);K--);this.graph.getEdge(ve.id,Oi).wedge=Ni}}ve.value.chirality=ki}}visitStereochemistry(U,W,K,ie,me,ve,pe=0){K[U]=1;let Ce=this.graph.vertices[U],st=Ce.value.getAtomicNumber();ie.length<=ve&&ie.push(Array());for(var Je=0;Je<this.graph.getEdge(U,W).weight;Je++)ie[ve].push(1e3*pe+st);let He=this.graph.vertices[U].neighbours;for(Je=0;Je<He.length;Je++)1!==K[He[Je]]&&ve<me-1&&this.visitStereochemistry(He[Je],U,K.slice(),ie,me,ve+1,st);if(ve<me-1){let Be=0;for(Je=0;Je<He.length;Je++)Be+=this.graph.getEdge(U,He[Je]).weight;for(Je=0;Je<Ce.value.getMaxBonds()-Be;Je++)ie.length<=ve+1&&ie.push(Array()),ie[ve+1].push(1e3*st+1)}}initPseudoElements(){for(var U=0;U<this.graph.vertices.length;U++){const K=this.graph.vertices[U],ie=K.neighbours;let me=Array(ie.length);for(var W=0;W<ie.length;W++)me[W]=this.graph.vertices[ie[W]];if(K.getNeighbourCount()<3||K.value.rings.length>0||"P"===K.value.element||"C"===K.value.element&&3===me.length&&"N"===me[0].value.element&&"N"===me[1].value.element&&"N"===me[2].value.element)continue;let ve=0,pe=0;for(W=0;W<me.length;W++){let Je=me[W],He=Je.value.element,Be=Je.getNeighbourCount();"C"!==He&&"H"!==He&&1===Be&&ve++,Be>1&&pe++}if(pe>1||ve<2)continue;let Ce=null;for(W=0;W<me.length;W++){let Je=me[W];Je.getNeighbourCount()>1&&(Ce=Je)}for(W=0;W<me.length;W++){let Je=me[W];if(Je.getNeighbourCount()>1)continue;Je.value.isDrawn=!1;let He=F.maxBonds[Je.value.element]-Je.value.bondCount,Be="";Je.value.bracket&&(He=Je.value.bracket.hcount,Be=Je.value.bracket.charge||0),K.value.attachPseudoElement(Je.value.element,Ce?Ce.value.element:null,He,Be)}}for(U=0;U<this.graph.vertices.length;U++){const ie=this.graph.vertices[U],me=ie.value,ve=me.element;if("C"===ve||"H"===ve||!me.isDrawn)continue;const pe=ie.neighbours;let Ce=Array(pe.length);for(W=0;W<pe.length;W++)Ce[W]=this.graph.vertices[pe[W]];for(W=0;W<Ce.length;W++){let Je=Ce[W].value;if(!Je.hasAttachedPseudoElements||2!==Je.getAttachedPseudoElementsCount())continue;const He=Je.getAttachedPseudoElements();He.hasOwnProperty("0O")&&He.hasOwnProperty("3C")&&(Je.isDrawn=!1,ie.value.attachPseudoElement("Ac","",0))}}}}},9119:Nt=>{class Ae{constructor(R,H,q=1){this.id=null,this.sourceId=R,this.targetId=H,this.weight=q,this.bondType="-",this.isPartOfAromaticRing=!1,this.center=!1,this.wedge=""}setBondType(R){this.bondType=R,this.weight=Ae.bonds[R]}static get bonds(){return{"-":1,"/":1,"\\":1,"=":2,"#":3,$:4}}}Nt.exports=Ae},9909:Nt=>{Nt.exports={C2H4O2:"acetic acid",C3H6O:"acetone",C2H3N:"acetonitrile",C6H6:"benzene",CCl4:"carbon tetrachloride",C6H5Cl:"chlorobenzene",CHCl3:"chloroform",C6H12:"cyclohexane",C2H4Cl2:"1,2-dichloroethane",C4H10O3:"diethylene glycol",C6H14O3:"diglyme",C4H10O2:"DME",C3H7NO:"DMF",C2H6OS:"DMSO",C2H6O:"ethanol",C2H6O2:"ethylene glycol",C3H8O3:"glycerin",C7H16:"heptane",C6H18N3OP:"HMPA",C6H18N3P:"HMPT",C6H14:"hexane",CH4O:"methanol",C5H12O:"MTBE",CH2Cl2:"methylene chloride",CH5H9NO:"NMP",CH3NO2:"nitromethane",C5H12:"pentane",C5H5N:"pyridine",C7H8:"toluene",C6H15N:"triethyl amine",H2O:"water"}},3912:(Nt,Ae,N)=>{const R=N(1611),H=N(9238),q=N(5031);Nt.exports=class te{constructor(S,F,ne,x,E=.3,O=0,k=null,j=1,ee=!1){this.points=S,this.weights=F,this.width=ne,this.height=x,this.sigma=E,this.interval=O,this.opacity=j,this.normalized=ee,null===k&&(k=["#c51b7d","#de77ae","#f1b6da","#fde0ef","#ffffff","#e6f5d0","#b8e186","#7fbc41","#4d9221"]),this.colormap=k,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=this.width,this.canvas.height=this.height}setFromArray(S,F){this.points=[],S.forEach(ne=>{this.points.push(new R(ne[0],ne[1]))}),this.weights=[],F.forEach(ne=>{this.weights.push(ne)})}draw(){let S=[];for(let E=0;E<this.width;E++){let O=[];for(let k=0;k<this.height;k++)O.push(0);S.push(O)}let F=1/(2*this.sigma**2);for(let E=0;E<this.points.length;E++){let O=this.points[E],k=this.weights[E];for(let j=0;j<this.width;j++)for(let ee=0;ee<this.height;ee++){let we=k*Math.exp(-((j-O.x)**2+(ee-O.y)**2)*F);S[j][ee]+=we}}let ne=1;if(!this.normalized){let E=-Number.MAX_SAFE_INTEGER,O=Number.MAX_SAFE_INTEGER;for(let k=0;k<this.width;k++)for(let j=0;j<this.height;j++)S[k][j]<O&&(O=S[k][j]),S[k][j]>E&&(E=S[k][j]);ne=Math.max(Math.abs(O),Math.abs(E))}const x=q.scale(this.colormap).domain([-1,1]);for(let E=0;E<this.width;E++)for(let O=0;O<this.height;O++){this.normalized||(S[E][O]=S[E][O]/ne),0!==this.interval&&(S[E][O]=Math.round(S[E][O]/this.interval)*this.interval);let[k,j,ee]=x(S[E][O]).rgb();this.setPixel(new R(E,O),k,j,ee)}}getImage(S){let F=new Image;F.onload=()=>{this.context.imageSmoothingEnabled=!1,this.context.drawImage(F,0,0,this.width,this.height),S&&S(F)},F.onerror=function(ne){console.log(ne)},F.src=this.canvas.toDataURL()}getSVG(){return H(this.context.getImageData(0,0,this.width,this.height))}setPixel(S,F,ne,x){this.context.fillStyle="rgba("+F+","+ne+","+x+","+this.opacity+")",this.context.fillRect(S.x,S.y,1,1)}}},4336:(Nt,Ae,N)=>{const R=N(5980),q=(N(1611),N(768)),te=N(9119),S=(N(1644),N(2848));class F{constructor(x,E=!1){this.vertices=Array(),this.edges=Array(),this.atomIdxToVertexId=Array(),this.vertexIdsToEdgeId={},this.isomeric=E,this._atomIdx=0,this._time=0,this._init(x)}_init(x,E=0,O=null,k=!1){const j=x.atom.element?x.atom.element:x.atom;let ee=new S(j,x.bond);("H"!==j||!x.hasNext&&null===O)&&(ee.idx=this._atomIdx,this._atomIdx++),ee.branchBond=x.branchBond,ee.ringbonds=x.ringbonds,ee.bracket=x.atom.element?x.atom:null,ee.class=x.atom.class;let Q=new q(ee),we=this.vertices[O];if(this.addVertex(Q),null!==ee.idx&&this.atomIdxToVertexId.push(Q.id),null!==O){Q.setParentVertexId(O),Q.value.addNeighbouringElement(we.value.element),we.addChild(Q.id),we.value.addNeighbouringElement(ee.element),we.spanningTreeChildren.push(Q.id);let ie=new te(O,Q.id,1),me=null;k?(ie.setBondType(Q.value.branchBond||"-"),me=Q.id,ie.setBondType(Q.value.branchBond||"-"),me=Q.id):(ie.setBondType(we.value.bondType||"-"),me=we.id),this.addEdge(ie)}let U=x.ringbondCount+1;ee.bracket&&(U+=ee.bracket.hcount);let W=0;if(ee.bracket&&ee.bracket.chirality){ee.isStereoCenter=!0,W=ee.bracket.hcount;for(var K=0;K<W;K++)this._init({atom:"H",isBracket:"false",branches:Array(),branchCount:0,ringbonds:Array(),ringbondCount:!1,next:null,hasNext:!1,bond:"-"},K,Q.id,!0)}for(K=0;K<x.branchCount;K++)this._init(x.branches[K],K+U,Q.id,!0);x.hasNext&&this._init(x.next,x.branchCount+U,Q.id)}clear(){this.vertices=Array(),this.edges=Array(),this.vertexIdsToEdgeId={}}addVertex(x){return x.id=this.vertices.length,this.vertices.push(x),x.id}addEdge(x){let E=this.vertices[x.sourceId],O=this.vertices[x.targetId];return x.id=this.edges.length,this.edges.push(x),this.vertexIdsToEdgeId[x.sourceId+"_"+x.targetId]=x.id,this.vertexIdsToEdgeId[x.targetId+"_"+x.sourceId]=x.id,x.isPartOfAromaticRing=E.value.isPartOfAromaticRing&&O.value.isPartOfAromaticRing,E.value.bondCount+=x.weight,O.value.bondCount+=x.weight,E.edges.push(x.id),O.edges.push(x.id),x.id}getEdge(x,E){let O=this.vertexIdsToEdgeId[x+"_"+E];return void 0===O?null:this.edges[O]}getEdges(x){let E=Array(),O=this.vertices[x];for(var k=0;k<O.neighbours.length;k++)E.push(this.vertexIdsToEdgeId[x+"_"+O.neighbours[k]]);return E}hasEdge(x,E){return void 0!==this.vertexIdsToEdgeId[x+"_"+E]}getVertexList(){let x=[this.vertices.length];for(var E=0;E<this.vertices.length;E++)x[E]=this.vertices[E].id;return x}getEdgeList(){let x=Array(this.edges.length);for(var E=0;E<this.edges.length;E++)x[E]=[this.edges[E].sourceId,this.edges[E].targetId];return x}getAdjacencyMatrix(){let x=this.vertices.length,E=Array(x);for(var O=0;O<x;O++)E[O]=new Array(x),E[O].fill(0);for(O=0;O<this.edges.length;O++){let j=this.edges[O];E[j.sourceId][j.targetId]=1,E[j.targetId][j.sourceId]=1}return E}getComponentsAdjacencyMatrix(){let x=this.vertices.length,E=Array(x),O=this.getBridges();for(var k=0;k<x;k++)E[k]=new Array(x),E[k].fill(0);for(k=0;k<this.edges.length;k++){let ee=this.edges[k];E[ee.sourceId][ee.targetId]=1,E[ee.targetId][ee.sourceId]=1}for(k=0;k<O.length;k++)E[O[k][0]][O[k][1]]=0,E[O[k][1]][O[k][0]]=0;return E}getSubgraphAdjacencyMatrix(x){let E=x.length,O=Array(E);for(var k=0;k<E;k++){O[k]=new Array(E),O[k].fill(0);for(var j=0;j<E;j++)k!==j&&this.hasEdge(x[k],x[j])&&(O[k][j]=1)}return O}getDistanceMatrix(){let x=this.vertices.length,E=this.getAdjacencyMatrix(),O=Array(x);for(var k=0;k<x;k++)O[k]=Array(x),O[k].fill(1/0);for(k=0;k<x;k++)for(var j=0;j<x;j++)1===E[k][j]&&(O[k][j]=1);for(var ee=0;ee<x;ee++)for(k=0;k<x;k++)for(j=0;j<x;j++)O[k][j]>O[k][ee]+O[ee][j]&&(O[k][j]=O[k][ee]+O[ee][j]);return O}getSubgraphDistanceMatrix(x){let E=x.length,O=this.getSubgraphAdjacencyMatrix(x),k=Array(E);for(var j=0;j<E;j++)k[j]=Array(E),k[j].fill(1/0);for(j=0;j<E;j++)for(var ee=0;ee<E;ee++)1===O[j][ee]&&(k[j][ee]=1);for(var Q=0;Q<E;Q++)for(j=0;j<E;j++)for(ee=0;ee<E;ee++)k[j][ee]>k[j][Q]+k[Q][ee]&&(k[j][ee]=k[j][Q]+k[Q][ee]);return k}getAdjacencyList(){let x=this.vertices.length,E=Array(x);for(var O=0;O<x;O++){E[O]=[];for(var k=0;k<x;k++)O!==k&&this.hasEdge(this.vertices[O].id,this.vertices[k].id)&&E[O].push(k)}return E}getSubgraphAdjacencyList(x){let E=x.length,O=Array(E);for(var k=0;k<E;k++){O[k]=Array();for(var j=0;j<E;j++)k!==j&&this.hasEdge(x[k],x[j])&&O[k].push(j)}return O}getBridges(){let x=this.vertices.length,E=new Array(x),O=new Array(x),k=new Array(x),j=new Array(x),ee=this.getAdjacencyList(),Q=Array();E.fill(!1),j.fill(null),this._time=0;for(var we=0;we<x;we++)E[we]||this._bridgeDfs(we,E,O,k,j,ee,Q);return Q}traverseBF(x,E){let k=new Array(this.vertices.length);k.fill(!1);for(var j=[x];j.length>0;){let Q=j.shift(),we=this.vertices[Q];E(we);for(var ee=0;ee<we.neighbours.length;ee++){let U=we.neighbours[ee];k[U]||(k[U]=!0,j.push(U))}}}getTreeDepth(x,E){if(null===x||null===E)return 0;let O=this.vertices[x].getSpanningTreeNeighbours(E),k=0;for(var j=0;j<O.length;j++){let Q=this.getTreeDepth(O[j],x);Q>k&&(k=Q)}return k+1}traverseTree(x,E,O,k=999999,j=!1,ee=1,Q=null){if(null===Q&&(Q=new Uint8Array(this.vertices.length)),ee>k+1||1===Q[x])return;Q[x]=1;let we=this.vertices[x],U=we.getNeighbours(E);(!j||ee>1)&&O(we);for(var W=0;W<U.length;W++)this.traverseTree(U[W],x,O,k,j,ee+1,Q)}kkLayout(x,E,O,k,j,ee=.1,Q=.1,we=2e3,U=50,W=1e9){let K=j;for(var ie=x.length;ie--;)var me=this.vertices[x[ie]].neighbours.length;let ve=this.getSubgraphDistanceMatrix(x),pe=x.length,Ce=R.polyCircumradius(500,pe),st=R.centralAngle(pe),Je=0,He=new Float32Array(pe),Be=new Float32Array(pe),Ke=Array(pe);for(ie=pe;ie--;){let un=this.vertices[x[ie]];un.positioned?(He[ie]=un.position.x,Be[ie]=un.position.y):(He[ie]=E.x+Math.cos(Je)*Ce,Be[ie]=E.y+Math.sin(Je)*Ce),Ke[ie]=un.positioned,Je+=st}let bt=Array(pe);for(ie=pe;ie--;)for(bt[ie]=new Array(pe),me=pe;me--;)bt[ie][me]=j*ve[ie][me];let gt=Array(pe);for(ie=pe;ie--;)for(gt[ie]=Array(pe),me=pe;me--;)gt[ie][me]=K*Math.pow(ve[ie][me],-2);let wi,ki,Pi,Ki,vr,Wn,Fi,en=Array(pe),Dt=new Float32Array(pe),Ln=new Float32Array(pe);for(ie=pe;ie--;)en[ie]=Array(pe);for(ie=pe;ie--;){wi=He[ie],ki=Be[ie],Pi=0,Ki=0;let un=pe;for(;un--;)ie!==un&&(vr=He[un],Wn=Be[un],Fi=1/Math.sqrt((wi-vr)*(wi-vr)+(ki-Wn)*(ki-Wn)),en[ie][un]=[gt[ie][un]*(wi-vr-bt[ie][un]*(wi-vr)*Fi),gt[ie][un]*(ki-Wn-bt[ie][un]*(ki-Wn)*Fi)],en[un][ie]=en[ie][un],Pi+=en[ie][un][0],Ki+=en[ie][un][1]);Dt[ie]=Pi,Ln[ie]=Ki}let Oi=function(un){return[Dt[un]*Dt[un]+Ln[un]*Ln[un],Dt[un],Ln[un]]},Ni=function(){let un=0,Pn=0,xi=0,Si=0;for(ie=pe;ie--;){let[Xt,Et,Ht]=Oi(ie);Xt>un&&!1===Ke[ie]&&(un=Xt,Pn=ie,xi=Et,Si=Ht)}return[Pn,un,xi,Si]},cr=function(un,Pn,xi){let Si=0,Xt=0,Et=0,Ht=He[un],vn=Be[un],Hn=bt[un],zt=gt[un];for(ie=pe;ie--;){if(ie===un)continue;let Po=He[ie],Fs=Be[ie],js=Hn[ie],aa=zt[ie],Qo=(Ht-Po)*(Ht-Po),no=1/Math.pow(Qo+(vn-Fs)*(vn-Fs),1.5);Si+=aa*(1-js*(vn-Fs)*(vn-Fs)*no),Xt+=aa*(1-js*Qo*no),Et+=aa*(js*(Ht-Po)*(vn-Fs)*no)}0===Si&&(Si=.1),0===Xt&&(Xt=.1),0===Et&&(Et=.1);let on=Pn/Si+xi/Et;on/=Et/Si-Xt/Et;let yn=-(Et*on+Pn)/Si;He[un]+=yn,Be[un]+=on;let ui,ss,co,uo,Eo,ti=en[un];for(Pn=0,xi=0,Ht=He[un],vn=Be[un],ie=pe;ie--;)un!==ie&&(ui=He[ie],ss=Be[ie],co=ti[ie][0],uo=ti[ie][1],Eo=1/Math.sqrt((Ht-ui)*(Ht-ui)+(vn-ss)*(vn-ss)),yn=zt[ie]*(Ht-ui-Hn[ie]*(Ht-ui)*Eo),on=zt[ie]*(vn-ss-Hn[ie]*(vn-ss)*Eo),ti[ie]=[yn,on],Pn+=yn,xi+=on,Dt[ie]+=yn-co,Ln[ie]+=on-uo);Dt[un]=Pn,Ln[un]=xi},Qi=0,Js=0,Lo=0,ei=0,$t=0,mn=0;for(;W>ee&&we>$t;)for($t++,[Qi,W,Js,Lo]=Ni(),ei=W,mn=0;ei>Q&&U>mn;)mn++,cr(Qi,Js,Lo),[ei,Js,Lo]=Oi(Qi);for(ie=pe;ie--;){let Pn=this.vertices[x[ie]];Pn.position.x=He[ie],Pn.position.y=Be[ie],Pn.positioned=!0,Pn.forcePositioned=!0}}_bridgeDfs(x,E,O,k,j,ee,Q){E[x]=!0,O[x]=k[x]=++this._time;for(var we=0;we<ee[x].length;we++){let U=ee[x][we];E[U]?U!==j[x]&&(k[x]=Math.min(k[x],O[U])):(j[U]=x,this._bridgeDfs(U,E,O,k,j,ee,Q),k[x]=Math.min(k[x],k[U]),k[U]>O[x]&&Q.push([x,U]))}}static getConnectedComponents(x){let E=x.length,O=new Array(E),k=new Array;O.fill(!1);for(var ee=0;ee<E;ee++)if(!O[ee]){let Q=Array();O[ee]=!0,Q.push(ee),F._ccGetDfs(ee,O,x,Q),Q.length>1&&k.push(Q)}return k}static getConnectedComponentCount(x){let E=x.length,O=new Array(E),k=0;O.fill(!1);for(var j=0;j<E;j++)O[j]||(O[j]=!0,k++,F._ccCountDfs(j,O,x));return k}static _ccCountDfs(x,E,O){for(var k=0;k<O[x].length;k++)!O[x][k]||E[k]||x===k||(E[k]=!0,F._ccCountDfs(k,E,O))}static _ccGetDfs(x,E,O,k){for(var j=0;j<O[x].length;j++)!O[x][j]||E[j]||x===j||(E[j]=!0,k.push(j),F._ccGetDfs(j,E,O,k))}}Nt.exports=F},7680:(Nt,Ae,N)=>{const R=N(1611);class H{constructor(te=new R(0,0),re=new R(0,0),S=null,F=null,ne=!1,x=!1){this.from=te,this.to=re,this.elementFrom=S,this.elementTo=F,this.chiralFrom=ne,this.chiralTo=x}clone(){return new H(this.from.clone(),this.to.clone(),this.elementFrom,this.elementTo)}getLength(){return Math.sqrt(Math.pow(this.to.x-this.from.x,2)+Math.pow(this.to.y-this.from.y,2))}getAngle(){return R.subtract(this.getRightVector(),this.getLeftVector()).angle()}getRightVector(){return this.from.x<this.to.x?this.to:this.from}getLeftVector(){return this.from.x<this.to.x?this.from:this.to}getRightElement(){return this.from.x<this.to.x?this.elementTo:this.elementFrom}getLeftElement(){return this.from.x<this.to.x?this.elementFrom:this.elementTo}getRightChiral(){return this.from.x<this.to.x?this.chiralTo:this.chiralFrom}getLeftChiral(){return this.from.x<this.to.x?this.chiralFrom:this.chiralTo}setRightVector(te,re){return this.from.x<this.to.x?(this.to.x=te,this.to.y=re):(this.from.x=te,this.from.y=re),this}setLeftVector(te,re){return this.from.x<this.to.x?(this.from.x=te,this.from.y=re):(this.to.x=te,this.to.y=re),this}rotateToXAxis(){let te=this.getLeftVector();return this.setRightVector(te.x+this.getLength(),te.y),this}rotate(te){let re=this.getLeftVector(),S=this.getRightVector(),F=Math.sin(te),ne=Math.cos(te);return this.setRightVector(ne*(S.x-re.x)-F*(S.y-re.y)+re.x,F*(S.x-re.x)-ne*(S.y-re.y)+re.y),this}shortenFrom(te){let re=R.subtract(this.to,this.from);return re.normalize(),re.multiplyScalar(te),this.from.add(re),this}shortenTo(te){let re=R.subtract(this.from,this.to);return re.normalize(),re.multiplyScalar(te),this.to.add(re),this}shortenRight(te){return this.from.x<this.to.x?this.shortenTo(te):this.shortenFrom(te),this}shortenLeft(te){return this.from.x<this.to.x?this.shortenFrom(te):this.shortenTo(te),this}shorten(te){let re=R.subtract(this.from,this.to);return re.normalize(),re.multiplyScalar(te/2),this.to.add(re),this.from.subtract(re),this}}Nt.exports=H},5980:Nt=>{class Ae{static round(R,H){return H=H||1,+(Math.round(R+"e"+H)+"e-"+H)}static meanAngle(R){let H=0,q=0;for(var te=0;te<R.length;te++)H+=Math.sin(R[te]),q+=Math.cos(R[te]);return Math.atan2(H/R.length,q/R.length)}static innerAngle(R){return Ae.toRad(180*(R-2)/R)}static polyCircumradius(R,H){return R/(2*Math.sin(Math.PI/H))}static apothem(R,H){return R*Math.cos(Math.PI/H)}static apothemFromSideLength(R,H){let q=Ae.polyCircumradius(R,H);return Ae.apothem(q,H)}static centralAngle(R){return Ae.toRad(360/R)}static toDeg(R){return R*Ae.degFactor}static toRad(R){return R*Ae.radFactor}static parityOfPermutation(R){let H=new Uint8Array(R.length),q=0,te=function(S,F=0){return 1===H[S]?F:(F++,H[S]=1,te(R[S],F))};for(var re=0;re<R.length;re++)1!==H[re]&&(q+=1-te(re)%2);return q%2?-1:1}static get radFactor(){return Math.PI/180}static get degFactor(){return 180/Math.PI}static get twoPI(){return 2*Math.PI}}Nt.exports=Ae},7570:Nt=>{Nt.exports=class Ae{static extend(){let R=this,H={},q=!1,te=0,re=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(q=arguments[0],te++);let S=function(F){for(var ne in F)Object.prototype.hasOwnProperty.call(F,ne)&&(H[ne]=q&&"[object Object]"===Object.prototype.toString.call(F[ne])?R.extend(!0,H[ne],F[ne]):F[ne])};for(;te<re;te++)S(arguments[te]);return H}}},1481:Nt=>{Nt.exports=function(){"use strict";function N(H,q,te,re){this.message=H,this.expected=q,this.found=te,this.location=re,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,N)}return function Ae(H,q){function te(){this.constructor=H}te.prototype=q.prototype,H.prototype=new te}(N,Error),N.buildMessage=function(H,q){var te={literal:function(O){return'"'+S(O.text)+'"'},class:function(O){var j,k="";for(j=0;j<O.parts.length;j++)k+=O.parts[j]instanceof Array?F(O.parts[j][0])+"-"+F(O.parts[j][1]):F(O.parts[j]);return"["+(O.inverted?"^":"")+k+"]"},any:function(O){return"any character"},end:function(O){return"end of input"},other:function(O){return O.description}};function re(O){return O.charCodeAt(0).toString(16).toUpperCase()}function S(O){return O.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(k){return"\\x0"+re(k)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(k){return"\\x"+re(k)})}function F(O){return O.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(k){return"\\x0"+re(k)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(k){return"\\x"+re(k)})}function ne(O){return te[O.type](O)}return"Expected "+function x(O){var j,ee,k=new Array(O.length);for(j=0;j<O.length;j++)k[j]=ne(O[j]);if(k.sort(),k.length>0){for(j=1,ee=1;j<k.length;j++)k[j-1]!==k[j]&&(k[ee]=k[j],ee++);k.length=ee}switch(k.length){case 1:return k[0];case 2:return k[0]+" or "+k[1];default:return k.slice(0,-1).join(", ")+", or "+k[k.length-1]}}(H)+" but "+function E(O){return O?'"'+S(O)+'"':"end of input"}(q)+" found."},{SyntaxError:N,parse:function R(H,q){if(q=void 0!==q?q:{},H.split("(").length-1!=H.split(")").length-1)throw Jo("The number of opening parentheses does not match the number of closing parentheses.",0);var qt,S={},F={chain:Kr},ne=Kr,x=function(Ct){for(var Xe=[],gn=[],Vt=0;Vt<Ct[1].length;Vt++)Xe.push(Ct[1][Vt]);for(Vt=0;Vt<Ct[2].length;Vt++)gn.push({bond:Ct[2][Vt][0]?Ct[2][Vt][0]:"-",id:Ct[2][Vt][1]});for(Vt=0;Vt<Ct[3].length;Vt++)Xe.push(Ct[3][Vt]);for(Vt=0;Vt<Ct[6].length;Vt++)Xe.push(Ct[6][Vt]);return{atom:Ct[0],isBracket:!!Ct[0].element,branches:Xe,branchCount:Xe.length,ringbonds:gn,ringbondCount:gn.length,bond:Ct[4]?Ct[4]:"-",next:Ct[5],hasNext:!!Ct[5]}},E="(",O=er("(",!1),k=")",j=er(")",!1),ee=function(Ct){return Ct[2].branchBond=Ct[1]?Ct[1]:"-",Ct[2]},Q=function(Ct){return Ct},we=/^[\-=#$:\/\\.]/,U=io(["-","=","#","$",":","/","\\","."],!1,!1),W=function(Ct){return Ct},K="[",ie=er("[",!1),me="se",ve=er("se",!1),pe="as",Ce=er("as",!1),st="]",Je=er("]",!1),He=function(Ct){return{isotope:Ct[1],element:Ct[2],chirality:Ct[3],hcount:Ct[4],charge:Ct[5],class:Ct[6]}},Be="B",Ke=er("B",!1),bt="r",gt=er("r",!1),en="C",Dt=er("C",!1),Ln="l",wi=er("l",!1),ki=/^[NOPSFI]/,Pi=io(["N","O","P","S","F","I"],!1,!1),Ki=function(Ct){return Ct.length>1?Ct.join(""):Ct},vr=/^[bcnops]/,Wn=io(["b","c","n","o","p","s"],!1,!1),Fi="*",Oi=er("*",!1),Ni=function(Ct){return Ct},cr=/^[A-Z]/,Qi=io([["A","Z"]],!1,!1),Js=/^[a-z]/,Lo=io([["a","z"]],!1,!1),ei=function(Ct){return Ct.join("")},$t="%",mn=er("%",!1),un=/^[1-9]/,Pn=io([["1","9"]],!1,!1),xi=/^[0-9]/,Si=io([["0","9"]],!1,!1),Xt=function(Ct){return Number(1==Ct.length?Ct:Ct.join("").replace("%",""))},Et="@",Ht=er("@",!1),vn="TH",Hn=er("TH",!1),zt=/^[12]/,on=io(["1","2"],!1,!1),yn="AL",ti=er("AL",!1),ui="SP",ss=er("SP",!1),co=/^[1-3]/,uo=io([["1","3"]],!1,!1),Eo="TB",Po=er("TB",!1),Fs="OH",js=er("OH",!1),aa=function(Ct){return Ct[1]?"@"==Ct[1]?"@@":Ct[1].join("").replace(",",""):"@"},Qo=function(Ct){return Ct},no="+",tl=er("+",!1),dc=function(Ct){return Ct[1]?"+"!=Ct[1]?Number(Ct[1].join("")):2:1},la="-",Mc=er("-",!1),Ma=function(Ct){return Ct[1]?"-"!=Ct[1]?-Number(Ct[1].join("")):-2:-1},Yr="H",Il=er("H",!1),bl=function(Ct){return Ct[1]?Number(Ct[1]):1},Oc=":",Ic=er(":",!1),yr=/^[0]/,pn=io(["0"],!1,!1),Vn=function(Ct){return Number(Ct[1][0]+Ct[1][1].join(""))},fr=function(Ct){return Number(Ct.join(""))},Ne=0,Ji=[{line:1,column:1}],$i=0,kr=[],ai=0;if("startRule"in q){if(!(q.startRule in F))throw new Error("Can't start parsing from rule \""+q.startRule+'".');ne=F[q.startRule]}function er(Ct,Xe){return{type:"literal",text:Ct,ignoreCase:Xe}}function io(Ct,Xe,gn){return{type:"class",parts:Ct,inverted:Xe,ignoreCase:gn}}function $a(Ct){var gn,Xe=Ji[Ct];if(Xe)return Xe;for(gn=Ct-1;!Ji[gn];)gn--;for(Xe={line:(Xe=Ji[gn]).line,column:Xe.column};gn<Ct;)10===H.charCodeAt(gn)?(Xe.line++,Xe.column=1):Xe.column++,gn++;return Ji[Ct]=Xe,Xe}function Ii(Ct){Ne<$i||(Ne>$i&&($i=Ne,kr=[]),kr.push(Ct))}function Jo(Ct,Xe){return new N(Ct,null,null,Xe)}function Kr(){var Xe,gn,Vt,An,_i,Gi,os,ro,Yi;if(Ne,Xe=Ne,gn=function Kl(){var Xe;return Ne,Xe=function bs(){var Xe,gn,Vt;return Ne,Xe=Ne,66===H.charCodeAt(Ne)?(gn=Be,Ne++):(gn=S,0===ai&&Ii(Ke)),gn!==S?(114===H.charCodeAt(Ne)?(Vt=bt,Ne++):(Vt=S,0===ai&&Ii(gt)),Vt===S&&(Vt=null),Vt!==S?Xe=gn=[gn,Vt]:(Ne=Xe,Xe=S)):(Ne=Xe,Xe=S),Xe===S&&(Xe=Ne,67===H.charCodeAt(Ne)?(gn=en,Ne++):(gn=S,0===ai&&Ii(Dt)),gn!==S?(108===H.charCodeAt(Ne)?(Vt=Ln,Ne++):(Vt=S,0===ai&&Ii(wi)),Vt===S&&(Vt=null),Vt!==S?Xe=gn=[gn,Vt]:(Ne=Xe,Xe=S)):(Ne=Xe,Xe=S),Xe===S&&(ki.test(H.charAt(Ne))?(Xe=H.charAt(Ne),Ne++):(Xe=S,0===ai&&Ii(Pi)))),Xe!==S&&(Xe=Ki(Xe)),Xe}(),Xe===S&&((Xe=hc())===S&&(Xe=function ys(){var Xe,gn,Vt,An,_i,Gi,os,ro,Yi;return Ne,Xe=Ne,91===H.charCodeAt(Ne)?(gn=K,Ne++):(gn=S,0===ai&&Ii(ie)),gn!==S?(Vt=function Fo(){var Xe,gn,Vt,An;return Ne,Xe=Ne,un.test(H.charAt(Ne))?(gn=H.charAt(Ne),Ne++):(gn=S,0===ai&&Ii(Pn)),gn!==S?(xi.test(H.charAt(Ne))?(Vt=H.charAt(Ne),Ne++):(Vt=S,0===ai&&Ii(Si)),Vt===S&&(Vt=null),Vt!==S?(xi.test(H.charAt(Ne))?(An=H.charAt(Ne),Ne++):(An=S,0===ai&&Ii(Si)),An===S&&(An=null),An!==S?Xe=gn=[gn,Vt,An]:(Ne=Xe,Xe=S)):(Ne=Xe,Xe=S)):(Ne=Xe,Xe=S),Xe!==S&&(Xe=fr(Xe)),Xe}(),Vt===S&&(Vt=null),Vt!==S?(H.substr(Ne,2)===me?(An=me,Ne+=2):(An=S,0===ai&&Ii(ve)),An===S&&(H.substr(Ne,2)===pe?(An=pe,Ne+=2):(An=S,0===ai&&Ii(Ce)),An===S&&((An=hc())===S&&(An=function vs(){var Xe,gn,Vt;return Ne,Xe=Ne,cr.test(H.charAt(Ne))?(gn=H.charAt(Ne),Ne++):(gn=S,0===ai&&Ii(Qi)),gn!==S?(Js.test(H.charAt(Ne))?(Vt=H.charAt(Ne),Ne++):(Vt=S,0===ai&&Ii(Lo)),Vt===S&&(Vt=null),Vt!==S?Xe=gn=[gn,Vt]:(Ne=Xe,Xe=S)):(Ne=Xe,Xe=S),Xe!==S&&(Xe=ei(Xe)),Xe}(),An===S&&(An=Kn())))),An!==S?(_i=function zi(){var Xe,gn,Vt,An,_i,Gi;return Ne,Xe=Ne,64===H.charCodeAt(Ne)?(gn=Et,Ne++):(gn=S,0===ai&&Ii(Ht)),gn!==S?(64===H.charCodeAt(Ne)?(Vt=Et,Ne++):(Vt=S,0===ai&&Ii(Ht)),Vt===S&&(Vt=Ne,H.substr(Ne,2)===vn?(An=vn,Ne+=2):(An=S,0===ai&&Ii(Hn)),An!==S?(zt.test(H.charAt(Ne))?(_i=H.charAt(Ne),Ne++):(_i=S,0===ai&&Ii(on)),_i!==S?Vt=An=[An,_i]:(Ne=Vt,Vt=S)):(Ne=Vt,Vt=S),Vt===S&&(Vt=Ne,H.substr(Ne,2)===yn?(An=yn,Ne+=2):(An=S,0===ai&&Ii(ti)),An!==S?(zt.test(H.charAt(Ne))?(_i=H.charAt(Ne),Ne++):(_i=S,0===ai&&Ii(on)),_i!==S?Vt=An=[An,_i]:(Ne=Vt,Vt=S)):(Ne=Vt,Vt=S),Vt===S&&(Vt=Ne,H.substr(Ne,2)===ui?(An=ui,Ne+=2):(An=S,0===ai&&Ii(ss)),An!==S?(co.test(H.charAt(Ne))?(_i=H.charAt(Ne),Ne++):(_i=S,0===ai&&Ii(uo)),_i!==S?Vt=An=[An,_i]:(Ne=Vt,Vt=S)):(Ne=Vt,Vt=S),Vt===S&&(Vt=Ne,H.substr(Ne,2)===Eo?(An=Eo,Ne+=2):(An=S,0===ai&&Ii(Po)),An!==S?(un.test(H.charAt(Ne))?(_i=H.charAt(Ne),Ne++):(_i=S,0===ai&&Ii(Pn)),_i!==S?(xi.test(H.charAt(Ne))?(Gi=H.charAt(Ne),Ne++):(Gi=S,0===ai&&Ii(Si)),Gi===S&&(Gi=null),Gi!==S?Vt=An=[An,_i,Gi]:(Ne=Vt,Vt=S)):(Ne=Vt,Vt=S)):(Ne=Vt,Vt=S),Vt===S&&(Vt=Ne,H.substr(Ne,2)===Fs?(An=Fs,Ne+=2):(An=S,0===ai&&Ii(js)),An!==S?(un.test(H.charAt(Ne))?(_i=H.charAt(Ne),Ne++):(_i=S,0===ai&&Ii(Pn)),_i!==S?(xi.test(H.charAt(Ne))?(Gi=H.charAt(Ne),Ne++):(Gi=S,0===ai&&Ii(Si)),Gi===S&&(Gi=null),Gi!==S?Vt=An=[An,_i,Gi]:(Ne=Vt,Vt=S)):(Ne=Vt,Vt=S)):(Ne=Vt,Vt=S)))))),Vt===S&&(Vt=null),Vt!==S?Xe=gn=[gn,Vt]:(Ne=Xe,Xe=S)):(Ne=Xe,Xe=S),Xe!==S&&(Xe=aa(Xe)),Xe}(),_i===S&&(_i=null),_i!==S?(Gi=function ma(){var Xe,gn,Vt;return Ne,Xe=Ne,72===H.charCodeAt(Ne)?(gn=Yr,Ne++):(gn=S,0===ai&&Ii(Il)),gn!==S?(xi.test(H.charAt(Ne))?(Vt=H.charAt(Ne),Ne++):(Vt=S,0===ai&&Ii(Si)),Vt===S&&(Vt=null),Vt!==S?Xe=gn=[gn,Vt]:(Ne=Xe,Xe=S)):(Ne=Xe,Xe=S),Xe!==S&&(Xe=bl(Xe)),Xe}(),Gi===S&&(Gi=null),Gi!==S?(os=function Ia(){var Xe;return Ne,Xe=function fo(){var Xe,gn,Vt,An,_i;return Ne,Xe=Ne,43===H.charCodeAt(Ne)?(gn=no,Ne++):(gn=S,0===ai&&Ii(tl)),gn!==S?(43===H.charCodeAt(Ne)?(Vt=no,Ne++):(Vt=S,0===ai&&Ii(tl)),Vt===S&&(Vt=Ne,un.test(H.charAt(Ne))?(An=H.charAt(Ne),Ne++):(An=S,0===ai&&Ii(Pn)),An!==S?(xi.test(H.charAt(Ne))?(_i=H.charAt(Ne),Ne++):(_i=S,0===ai&&Ii(Si)),_i===S&&(_i=null),_i!==S?Vt=An=[An,_i]:(Ne=Vt,Vt=S)):(Ne=Vt,Vt=S)),Vt===S&&(Vt=null),Vt!==S?Xe=gn=[gn,Vt]:(Ne=Xe,Xe=S)):(Ne=Xe,Xe=S),Xe!==S&&(Xe=dc(Xe)),Xe}(),Xe===S&&(Xe=function ws(){var Xe,gn,Vt,An,_i;return Ne,Xe=Ne,45===H.charCodeAt(Ne)?(gn=la,Ne++):(gn=S,0===ai&&Ii(Mc)),gn!==S?(45===H.charCodeAt(Ne)?(Vt=la,Ne++):(Vt=S,0===ai&&Ii(Mc)),Vt===S&&(Vt=Ne,un.test(H.charAt(Ne))?(An=H.charAt(Ne),Ne++):(An=S,0===ai&&Ii(Pn)),An!==S?(xi.test(H.charAt(Ne))?(_i=H.charAt(Ne),Ne++):(_i=S,0===ai&&Ii(Si)),_i===S&&(_i=null),_i!==S?Vt=An=[An,_i]:(Ne=Vt,Vt=S)):(Ne=Vt,Vt=S)),Vt===S&&(Vt=null),Vt!==S?Xe=gn=[gn,Vt]:(Ne=Xe,Xe=S)):(Ne=Xe,Xe=S),Xe!==S&&(Xe=Ma(Xe)),Xe}()),Xe!==S&&(Xe=Qo(Xe)),Xe}(),os===S&&(os=null),os!==S?(ro=function Me(){var Xe,gn,Vt,An,_i,Gi;if(Ne,Xe=Ne,58===H.charCodeAt(Ne)?(gn=Oc,Ne++):(gn=S,0===ai&&Ii(Ic)),gn!==S){if(Vt=Ne,un.test(H.charAt(Ne))?(An=H.charAt(Ne),Ne++):(An=S,0===ai&&Ii(Pn)),An!==S){for(_i=[],xi.test(H.charAt(Ne))?(Gi=H.charAt(Ne),Ne++):(Gi=S,0===ai&&Ii(Si));Gi!==S;)_i.push(Gi),xi.test(H.charAt(Ne))?(Gi=H.charAt(Ne),Ne++):(Gi=S,0===ai&&Ii(Si));_i!==S?Vt=An=[An,_i]:(Ne=Vt,Vt=S)}else Ne=Vt,Vt=S;Vt===S&&(yr.test(H.charAt(Ne))?(Vt=H.charAt(Ne),Ne++):(Vt=S,0===ai&&Ii(pn))),Vt!==S?Xe=gn=[gn,Vt]:(Ne=Xe,Xe=S)}else Ne=Xe,Xe=S;return Xe!==S&&(Xe=Vn(Xe)),Xe}(),ro===S&&(ro=null),ro!==S?(93===H.charCodeAt(Ne)?(Yi=st,Ne++):(Yi=S,0===ai&&Ii(Je)),Yi!==S?Xe=gn=[gn,Vt,An,_i,Gi,os,ro,Yi]:(Ne=Xe,Xe=S)):(Ne=Xe,Xe=S)):(Ne=Xe,Xe=S)):(Ne=Xe,Xe=S)):(Ne=Xe,Xe=S)):(Ne=Xe,Xe=S)):(Ne=Xe,Xe=S)):(Ne=Xe,Xe=S),Xe!==S&&(Xe=He(Xe)),Xe}(),Xe===S&&(Xe=Kn()))),Xe!==S&&(Xe=Q(Xe)),Xe}(),gn!==S){for(Vt=[],An=Oa();An!==S;)Vt.push(An),An=Oa();if(Vt!==S){for(An=[],_i=Ne,(Gi=Br())===S&&(Gi=null),Gi!==S&&(os=Zi())!==S?_i=Gi=[Gi,os]:(Ne=_i,_i=S);_i!==S;)An.push(_i),_i=Ne,(Gi=Br())===S&&(Gi=null),Gi!==S&&(os=Zi())!==S?_i=Gi=[Gi,os]:(Ne=_i,_i=S);if(An!==S){for(_i=[],Gi=Oa();Gi!==S;)_i.push(Gi),Gi=Oa();if(_i!==S)if((Gi=Br())===S&&(Gi=null),Gi!==S)if((os=Kr())===S&&(os=null),os!==S){for(ro=[],Yi=Oa();Yi!==S;)ro.push(Yi),Yi=Oa();ro!==S?Xe=gn=[gn,Vt,An,_i,Gi,os,ro]:(Ne=Xe,Xe=S)}else Ne=Xe,Xe=S;else Ne=Xe,Xe=S;else Ne=Xe,Xe=S}else Ne=Xe,Xe=S}else Ne=Xe,Xe=S}else Ne=Xe,Xe=S;return Xe!==S&&(Xe=x(Xe)),Xe}function Oa(){var Xe,gn,Vt,An,_i;return Ne,Xe=Ne,40===H.charCodeAt(Ne)?(gn=E,Ne++):(gn=S,0===ai&&Ii(O)),gn!==S?((Vt=Br())===S&&(Vt=null),Vt!==S&&(An=Kr())!==S?(41===H.charCodeAt(Ne)?(_i=k,Ne++):(_i=S,0===ai&&Ii(j)),_i!==S?Xe=gn=[gn,Vt,An,_i]:(Ne=Xe,Xe=S)):(Ne=Xe,Xe=S)):(Ne=Xe,Xe=S),Xe!==S&&(Xe=ee(Xe)),Xe}function Br(){var Xe;if(Ne,we.test(H.charAt(Ne))){if((Xe=H.charAt(Ne))===H.charAt(Ne+1)&&(Xe=S,0===ai))throw Jo("The parser encountered a bond repetition.",Ne+1);Ne++}else Xe=S,0===ai&&Ii(U);return Xe!==S&&(Xe=W(Xe)),Xe}function hc(){var Xe;return Ne,vr.test(H.charAt(Ne))?(Xe=H.charAt(Ne),Ne++):(Xe=S,0===ai&&Ii(Wn)),Xe!==S&&(Xe=Q(Xe)),Xe}function Kn(){var Xe;return Ne,42===H.charCodeAt(Ne)?(Xe=Fi,Ne++):(Xe=S,0===ai&&Ii(Oi)),Xe!==S&&(Xe=Ni(Xe)),Xe}function Zi(){var Xe,gn,Vt,An;return Ne,Xe=Ne,37===H.charCodeAt(Ne)?(gn=$t,Ne++):(gn=S,0===ai&&Ii(mn)),gn!==S?(un.test(H.charAt(Ne))?(Vt=H.charAt(Ne),Ne++):(Vt=S,0===ai&&Ii(Pn)),Vt!==S?(xi.test(H.charAt(Ne))?(An=H.charAt(Ne),Ne++):(An=S,0===ai&&Ii(Si)),An!==S?Xe=gn=[gn,Vt,An]:(Ne=Xe,Xe=S)):(Ne=Xe,Xe=S)):(Ne=Xe,Xe=S),Xe===S&&(xi.test(H.charAt(Ne))?(Xe=H.charAt(Ne),Ne++):(Xe=S,0===ai&&Ii(Si))),Xe!==S&&(Xe=Xt(Xe)),Xe}if((qt=ne())!==S&&Ne===H.length)return qt;throw qt!==S&&Ne<H.length&&Ii({type:"end"}),function il(Ct,Xe,gn){return new N(N.buildMessage(Ct,Xe),Ct,Xe,gn)}(kr,$i<H.length?H.charAt($i):null,function ga(Ct,Xe){var gn=$a(Ct),Vt=$a(Xe);return{start:{offset:Ct,line:gn.line,column:gn.column},end:{offset:Xe,line:Vt.line,column:Vt.column}}}($i,$i<H.length?$i+1:$i))}}}()},9238:Nt=>{Nt.exports=function Ae(N){"use strict";function R(k,j){var ee=k.length,we=0;if(0===ee||ee>0&&ee-1 in k)for(;we<ee&&!1!==j.call(k[we],we,k[we]);we++);else for(we in k)if(!1===j.call(k[we],we,k[we]))break}function H(k){var j=parseInt(k).toString(16);return 1==j.length?"0"+j:j}function q(k,j,ee,Q){return void 0===(Q=parseInt(Q))||255===Q?"#"+H(k)+H(j)+H(ee):0!==Q&&"rgba("+k+","+j+","+ee+","+Q/255+")"}function te(k,j,ee){return"M"+k+" "+j+"h"+ee}let x=function S(k){var j="";return R(k,function(ee,Q){if(!1!==(ee=q.apply(null,ee.split(",")))){var W,U=[],K=1;R(Q,function(){W&&this[1]===W[1]&&this[0]===W[0]+K?K++:(W&&(U.push(te(W[0],W[1],K)),K=1),W=this)}),U.push(te(W[0],W[1],K)),j+=function re(k,j){return'<path stroke="'+k+'" d="'+j+'" />\n'}(ee,U.join(""))}}),j}(function(k){for(var me,j={},ee=k.data,Q=ee.length,we=k.width,W=0,K=0,ie=0;ie<Q;ie+=4)ee[ie+3]>0&&(j[me=ee[ie]+","+ee[ie+1]+","+ee[ie+2]+","+ee[ie+3]]=j[me]||[],W=ie/4%we,K=Math.floor(ie/4/we),j[me].push([W,K]));return j}(N)),E='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -0.5 '+N.width+" "+N.height+'" shape-rendering="crispEdges"><g shape-rendering="crispEdges">'+x+"</g></svg>";var O=document.createElement("div");return O.innerHTML=E,O.firstChild}},7862:(Nt,Ae,N)=>{const R=N(1481);Nt.exports=class H{constructor(te){this.reactantsSmiles=[],this.reagentsSmiles=[],this.productsSmiles=[],this.reactantsWeights=[],this.reagentsWeights=[],this.productsWeights=[],this.reactants=[],this.reagents=[],this.products=[];let re=te.split(">");if(3!==re.length)throw new Error("Invalid reaction SMILES. Did you add fewer than or more than two '>'?");""!==re[0]&&(this.reactantsSmiles=re[0].split(".")),""!==re[1]&&(this.reagentsSmiles=re[1].split(".")),""!==re[2]&&(this.productsSmiles=re[2].split("."));for(var S=0;S<this.reactantsSmiles.length;S++)this.reactants.push(R.parse(this.reactantsSmiles[S]));for(S=0;S<this.reagentsSmiles.length;S++)this.reagents.push(R.parse(this.reagentsSmiles[S]));for(S=0;S<this.productsSmiles.length;S++)this.products.push(R.parse(this.productsSmiles[S]))}}},900:(Nt,Ae,N)=>{const R=N(2567),H=N(4339),q=N(7570),te=N(4430),re=N(9909);Nt.exports=class S{constructor(ne,x){this.defaultOptions={scale:x.scale>0?x.scale:1,fontSize:.8*x.fontSizeLarge,fontFamily:"Arial, Helvetica, sans-serif",spacing:10,plus:{size:9,thickness:1},arrow:{length:4*x.bondLength,headSize:6,thickness:1,margin:3},weights:{normalize:!1}},this.opts=q.extend(!0,this.defaultOptions,ne),this.drawer=new R(x),this.molOpts=this.drawer.opts}draw(ne,x,E="light",O=null,k="{reagents}",j="",ee=!1){if(this.themeManager=new te(this.molOpts.themes,E),this.opts.weights.normalize){let Ce=-Number.MAX_SAFE_INTEGER,st=Number.MAX_SAFE_INTEGER;if(O.hasOwnProperty("reactants"))for(let He=0;He<O.reactants.length;He++)for(let Be=0;Be<O.reactants[He].length;Be++)O.reactants[He][Be]<st&&(st=O.reactants[He][Be]),O.reactants[He][Be]>Ce&&(Ce=O.reactants[He][Be]);if(O.hasOwnProperty("reagents"))for(let He=0;He<O.reagents.length;He++)for(let Be=0;Be<O.reagents[He].length;Be++)O.reagents[He][Be]<st&&(st=O.reagents[He][Be]),O.reagents[He][Be]>Ce&&(Ce=O.reagents[He][Be]);if(O.hasOwnProperty("products"))for(let He=0;He<O.products.length;He++)for(let Be=0;Be<O.products[He].length;Be++)O.products[He][Be]<st&&(st=O.products[He][Be]),O.products[He][Be]>Ce&&(Ce=O.products[He][Be]);let Je=Math.max(Math.abs(st),Math.abs(Ce));if(0===Je&&(Je=1),O.hasOwnProperty("reactants"))for(let He=0;He<O.reactants.length;He++)for(let Be=0;Be<O.reactants[He].length;Be++)O.reactants[He][Be]/=Je;if(O.hasOwnProperty("reagents"))for(let He=0;He<O.reagents.length;He++)for(let Be=0;Be<O.reagents[He].length;Be++)O.reagents[He][Be]/=Je;if(O.hasOwnProperty("products"))for(let He=0;He<O.products.length;He++)for(let Be=0;Be<O.products[He].length;Be++)O.products[He][Be]/=Je}let Q=null;for(null===x||"svg"===x?(Q=document.createElementNS("http://www.w3.org/2000/svg","svg"),Q.setAttribute("xmlns","http://www.w3.org/2000/svg"),Q.setAttributeNS(null,"width","500"),Q.setAttributeNS(null,"height","500")):Q="string"==typeof x||x instanceof String?document.getElementById(x):x;Q.firstChild;)Q.removeChild(Q.firstChild);let we=[],U=0;for(var W=0;W<ne.reactants.length;W++){W>0&&we.push({width:this.opts.plus.size*this.opts.scale,height:this.opts.plus.size*this.opts.scale,svg:this.getPlus()});let Ce=null;O&&O.hasOwnProperty("reactants")&&O.reactants.length>W&&(Ce=O.reactants[W]);let st=document.createElementNS("http://www.w3.org/2000/svg","svg");this.drawer.draw(ne.reactants[W],st,E,Ce,ee,[],this.opts.weights.normalize);let Je={width:st.viewBox.baseVal.width*this.opts.scale,height:st.viewBox.baseVal.height*this.opts.scale,svg:st};we.push(Je),Je.height>U&&(U=Je.height)}we.push({width:this.opts.arrow.length*this.opts.scale,height:2*this.opts.arrow.headSize*this.opts.scale,svg:this.getArrow()});let K="";for(W=0;W<ne.reagents.length;W++){W>0&&(K+=", ");let st=this.drawer.getMolecularFormula(ne.reagents[W]);st in re&&(st=re[st]),K+=H.replaceNumbersWithSubscript(st)}k=k.replace("{reagents}",K);const ie=H.writeText(k,this.themeManager,this.opts.fontSize*this.opts.scale,this.opts.fontFamily,this.opts.arrow.length*this.opts.scale);let me=(this.opts.arrow.length*this.opts.scale-ie.width)/2;we.push({svg:ie.svg,height:ie.height,width:this.opts.arrow.length*this.opts.scale,offsetX:-(this.opts.arrow.length*this.opts.scale+this.opts.spacing)+me,offsetY:-ie.height/2-this.opts.arrow.margin,position:"relative"});const ve=H.writeText(j,this.themeManager,this.opts.fontSize*this.opts.scale,this.opts.fontFamily,this.opts.arrow.length*this.opts.scale);for(me=(this.opts.arrow.length*this.opts.scale-ve.width)/2,we.push({svg:ve.svg,height:ve.height,width:this.opts.arrow.length*this.opts.scale,offsetX:-(this.opts.arrow.length*this.opts.scale+this.opts.spacing)+me,offsetY:ve.height/2+this.opts.arrow.margin,position:"relative"}),W=0;W<ne.products.length;W++){W>0&&we.push({width:this.opts.plus.size*this.opts.scale,height:this.opts.plus.size*this.opts.scale,svg:this.getPlus()});let st=null;O&&O.hasOwnProperty("products")&&O.products.length>W&&(st=O.products[W]);let Je=document.createElementNS("http://www.w3.org/2000/svg","svg");this.drawer.draw(ne.products[W],Je,E,st,ee,[],this.opts.weights.normalize);let He={width:Je.viewBox.baseVal.width*this.opts.scale,height:Je.viewBox.baseVal.height*this.opts.scale,svg:Je};we.push(He),He.height>U&&(U=He.height)}let pe=0;return we.forEach(Ce=>{let st=Ce.offsetX??0,Je=Ce.offsetY??0;Ce.svg.setAttributeNS(null,"x",Math.round(pe+st)),Ce.svg.setAttributeNS(null,"y",Math.round((U-Ce.height)/2+Je)),Ce.svg.setAttributeNS(null,"width",Math.round(Ce.width)),Ce.svg.setAttributeNS(null,"height",Math.round(Ce.height)),Q.appendChild(Ce.svg),"relative"!==Ce.position&&(pe+=Math.round(Ce.width+this.opts.spacing+st))}),Q.setAttributeNS(null,"viewBox",`0 0 ${pe} ${U}`),Q.style.width=pe+"px",Q.style.height=U+"px",Q}getPlus(){let ne=this.opts.plus.size,x=this.opts.plus.thickness,E=document.createElementNS("http://www.w3.org/2000/svg","svg"),O=document.createElementNS("http://www.w3.org/2000/svg","rect"),k=document.createElementNS("http://www.w3.org/2000/svg","rect");return E.setAttributeNS(null,"id","plus"),O.setAttributeNS(null,"x",0),O.setAttributeNS(null,"y",ne/2-x/2),O.setAttributeNS(null,"width",ne),O.setAttributeNS(null,"height",x),O.setAttributeNS(null,"fill",this.themeManager.getColor("C")),k.setAttributeNS(null,"x",ne/2-x/2),k.setAttributeNS(null,"y",0),k.setAttributeNS(null,"width",x),k.setAttributeNS(null,"height",ne),k.setAttributeNS(null,"fill",this.themeManager.getColor("C")),E.appendChild(O),E.appendChild(k),E.setAttributeNS(null,"viewBox",`0 0 ${ne} ${ne}`),E}getArrowhead(){let ne=this.opts.arrow.headSize,x=document.createElementNS("http://www.w3.org/2000/svg","marker"),E=document.createElementNS("http://www.w3.org/2000/svg","polygon");return x.setAttributeNS(null,"id","arrowhead"),x.setAttributeNS(null,"viewBox",`0 0 ${ne} ${ne}`),x.setAttributeNS(null,"markerUnits","userSpaceOnUse"),x.setAttributeNS(null,"markerWidth",ne),x.setAttributeNS(null,"markerHeight",ne),x.setAttributeNS(null,"refX",0),x.setAttributeNS(null,"refY",ne/2),x.setAttributeNS(null,"orient","auto"),x.setAttributeNS(null,"fill",this.themeManager.getColor("C")),E.setAttributeNS(null,"points",`0 0, ${ne} ${ne/2}, 0 ${ne}`),x.appendChild(E),x}getCDArrowhead(){let ne=this.opts.arrow.headSize,x=ne*(7/4.5),E=document.createElementNS("http://www.w3.org/2000/svg","marker"),O=document.createElementNS("http://www.w3.org/2000/svg","path");return E.setAttributeNS(null,"id","arrowhead"),E.setAttributeNS(null,"viewBox",`0 0 ${x} ${ne}`),E.setAttributeNS(null,"markerUnits","userSpaceOnUse"),E.setAttributeNS(null,"markerWidth",2*x),E.setAttributeNS(null,"markerHeight",2*ne),E.setAttributeNS(null,"refX",2.2),E.setAttributeNS(null,"refY",2.2),E.setAttributeNS(null,"orient","auto"),E.setAttributeNS(null,"fill",this.themeManager.getColor("C")),O.setAttributeNS(null,"style","fill-rule:nonzero;"),O.setAttributeNS(null,"d","m 0 0 l 7 2.25 l -7 2.25 c 0 0 0.735 -1.084 0.735 -2.28 c 0 -1.196 -0.735 -2.22 -0.735 -2.22 z"),E.appendChild(O),E}getArrow(){let ne=this.opts.arrow.headSize,x=this.opts.arrow.length,E=document.createElementNS("http://www.w3.org/2000/svg","svg"),O=document.createElementNS("http://www.w3.org/2000/svg","defs"),k=document.createElementNS("http://www.w3.org/2000/svg","line");return O.appendChild(this.getCDArrowhead()),E.appendChild(O),E.setAttributeNS(null,"id","arrow"),k.setAttributeNS(null,"x1",0),k.setAttributeNS(null,"y1",-this.opts.arrow.thickness/2),k.setAttributeNS(null,"x2",x),k.setAttributeNS(null,"y2",-this.opts.arrow.thickness/2),k.setAttributeNS(null,"stroke-width",this.opts.arrow.thickness),k.setAttributeNS(null,"stroke",this.themeManager.getColor("C")),k.setAttributeNS(null,"marker-end","url(#arrowhead)"),E.appendChild(k),E.setAttributeNS(null,"viewBox",`0 ${-ne/2} ${x+ne*(7/4.5)} ${ne}`),E}}},4250:(Nt,Ae,N)=>{const R=N(7862);Nt.exports=class H{static parse(te){return new R(te)}}},1644:(Nt,Ae,N)=>{const R=N(7809),H=N(1611),te=(N(768),N(8684));class re{constructor(F){this.id=null,this.members=F,this.edges=[],this.insiders=[],this.neighbours=[],this.positioned=!1,this.center=new H(0,0),this.rings=[],this.isBridged=!1,this.isPartOfBridged=!1,this.isSpiro=!1,this.isFused=!1,this.centralAngle=0,this.canFlip=!0}clone(){let F=new re(this.members);return F.id=this.id,F.insiders=R.clone(this.insiders),F.neighbours=R.clone(this.neighbours),F.positioned=this.positioned,F.center=this.center.clone(),F.rings=R.clone(this.rings),F.isBridged=this.isBridged,F.isPartOfBridged=this.isPartOfBridged,F.isSpiro=this.isSpiro,F.isFused=this.isFused,F.centralAngle=this.centralAngle,F.canFlip=this.canFlip,F}getSize(){return this.members.length}getPolygon(F){let ne=[];for(let x=0;x<this.members.length;x++)ne.push(F[this.members[x]].position);return ne}getAngle(){return Math.PI-this.centralAngle}eachMember(F,ne,x,E){let O=x=x||0===x?x:this.members[0],k=0;for(;null!=O&&k<100;){let j=O;ne(j),O=F[O].getNextInRing(F,this.id,E),E=j,O==x&&(O=null),k++}}getOrderedNeighbours(F){let ne=Array(this.neighbours.length);for(let x=0;x<this.neighbours.length;x++){let E=te.getVertices(F,this.id,this.neighbours[x]);ne[x]={n:E.length,neighbour:this.neighbours[x]}}return ne.sort(function(x,E){return E.n-x.n}),ne}isBenzeneLike(F){let ne=this.getDoubleBondCount(F),x=this.members.length;return 3===ne&&6===x||2===ne&&5===x}getDoubleBondCount(F){let ne=0;for(let x=0;x<this.members.length;x++){let E=F[this.members[x]].value;("="===E.bondType||"="===E.branchBond)&&ne++}return ne}contains(F){for(let ne=0;ne<this.members.length;ne++)if(this.members[ne]==F)return!0;return!1}}Nt.exports=re},8684:(Nt,Ae,N)=>{N(768),N(1644),Nt.exports=class q{constructor(re,S){this.id=null,this.firstRingId=re.id,this.secondRingId=S.id,this.vertices=new Set;for(var F=0;F<re.members.length;F++){let ne=re.members[F];for(let x=0;x<S.members.length;x++)ne===S.members[x]&&this.addVertex(ne)}}addVertex(re){this.vertices.add(re)}updateOther(re,S){this.firstRingId===S?this.secondRingId=re:this.firstRingId=re}containsRing(re){return this.firstRingId===re||this.secondRingId===re}isBridge(re){if(this.vertices.size>2)return!0;for(let S of this.vertices)if(re[S].value.rings.length>2)return!0;return!1}static isBridge(re,S,F,ne){let x=null;for(let E=0;E<re.length;E++)if(x=re[E],x.firstRingId===F&&x.secondRingId===ne||x.firstRingId===ne&&x.secondRingId===F)return x.isBridge(S);return!1}static getNeighbours(re,S){let F=[];for(let ne=0;ne<re.length;ne++){let x=re[ne];x.firstRingId===S?F.push(x.secondRingId):x.secondRingId===S&&F.push(x.firstRingId)}return F}static getVertices(re,S,F){for(let ne=0;ne<re.length;ne++){let x=re[ne];if(x.firstRingId===S&&x.secondRingId===F||x.firstRingId===F&&x.secondRingId===S)return[...x.vertices]}}}},7789:(Nt,Ae,N)=>{const R=N(4336);class H{static getRings(te,re=!1){let S=te.getComponentsAdjacencyMatrix();if(0===S.length)return null;let F=R.getConnectedComponents(S),ne=Array();for(var x=0;x<F.length;x++){let k=F[x],j=te.getSubgraphAdjacencyMatrix([...k]),ee=new Uint16Array(j.length),Q=new Uint16Array(j.length);for(var E=0;E<j.length;E++){Q[E]=0,ee[E]=0;for(var O=0;O<j[E].length;O++)ee[E]+=j[E][O]}let we=0;for(E=0;E<j.length;E++)for(O=E+1;O<j.length;O++)we+=j[E][O];let U=we-j.length+1,W=!0;for(E=0;E<ee.length;E++)3!==ee[E]&&(W=!1);if(W&&(U=2+we-j.length),1===U){ne.push([...k]);continue}re&&(U=999);let{d:K,pe:ie,pe_prime:me}=H.getPathIncludedDistanceMatrices(j),ve=H.getRingCandidates(K,ie,me),pe=H.getSSSR(ve,K,j,ie,me,ee,Q,U);for(E=0;E<pe.length;E++){let st=Array(pe[E].size),Je=0;for(let He of pe[E])st[Je++]=k[He];ne.push(st)}}return ne}static matrixToString(te){let re="";for(var S=0;S<te.length;S++){for(var F=0;F<te[S].length;F++)re+=te[S][F]+" ";re+="\n"}return re}static getPathIncludedDistanceMatrices(te){let re=te.length,S=Array(re),F=Array(re),ne=Array(re);for(var x=0,E=0,O=0,k=re;k--;){S[k]=Array(re),F[k]=Array(re),ne[k]=Array(re);for(var ee=re;ee--;)S[k][ee]=k===ee||1===te[k][ee]?te[k][ee]:Number.POSITIVE_INFINITY,F[k][ee]=1===S[k][ee]?[[[k,ee]]]:Array(),ne[k][ee]=Array()}for(var j=re;j--;)for(k=re;k--;)for(ee=re;ee--;){const Q=S[k][ee],we=S[k][j]+S[j][ee];if(Q>we){if(Q===we+1)for(ne[k][ee]=[F[k][ee].length],x=F[k][ee].length;x--;)for(ne[k][ee][x]=[F[k][ee][x].length],E=F[k][ee][x].length;E--;)for(ne[k][ee][x][E]=[F[k][ee][x][E].length],O=F[k][ee][x][E].length;O--;)ne[k][ee][x][E][O]=[F[k][ee][x][E][0],F[k][ee][x][E][1]];else ne[k][ee]=Array();for(S[k][ee]=we,F[k][ee]=[[]],x=F[k][j][0].length;x--;)F[k][ee][0].push(F[k][j][0][x]);for(x=F[j][ee][0].length;x--;)F[k][ee][0].push(F[j][ee][0][x])}else if(Q===we){if(F[k][j].length&&F[j][ee].length)if(F[k][ee].length){let W=Array();for(x=F[k][j][0].length;x--;)W.push(F[k][j][0][x]);for(x=F[j][ee][0].length;x--;)W.push(F[j][ee][0][x]);F[k][ee].push(W)}else{let W=Array();for(x=F[k][j][0].length;x--;)W.push(F[k][j][0][x]);for(x=F[j][ee][0].length;x--;)W.push(F[j][ee][0][x]);F[k][ee][0]=W}}else if(Q===we-1)if(ne[k][ee].length){let W=Array();for(x=F[k][j][0].length;x--;)W.push(F[k][j][0][x]);for(x=F[j][ee][0].length;x--;)W.push(F[j][ee][0][x]);ne[k][ee].push(W)}else{let W=Array();for(x=F[k][j][0].length;x--;)W.push(F[k][j][0][x]);for(x=F[j][ee][0].length;x--;)W.push(F[j][ee][0][x]);ne[k][ee][0]=W}}return{d:S,pe:F,pe_prime:ne}}static getRingCandidates(te,re,S){let F=te.length,ne=Array(),x=0;for(let E=0;E<F;E++)for(let O=0;O<F;O++)0===te[E][O]||1===re[E][O].length&&0===S[E][O]||(x=0!==S[E][O].length?2*(te[E][O]+.5):2*te[E][O],x!==1/0&&ne.push([x,re[E][O],S[E][O]]));return ne.sort(function(E,O){return E[0]-O[0]}),ne}static getSSSR(te,re,S,F,ne,x,E,O){let k=Array(),j=Array();for(let Q=0;Q<te.length;Q++)if(te[Q][0]%2!=0)for(let we=0;we<te[Q][2].length;we++){let U=te[Q][1][0].concat(te[Q][2][we]);for(var ee=0;ee<U.length;ee++)U[ee][0].constructor===Array&&(U[ee]=U[ee][0]);let W=H.bondsToAtoms(U);if(H.getBondCount(W,S)===W.size&&!H.pathSetsContain(k,W,U,j,x,E)&&(k.push(W),j=j.concat(U)),k.length>O)return k}else for(let we=0;we<te[Q][1].length-1;we++){let U=te[Q][1][we].concat(te[Q][1][we+1]);for(ee=0;ee<U.length;ee++)U[ee][0].constructor===Array&&(U[ee]=U[ee][0]);let W=H.bondsToAtoms(U);if(H.getBondCount(W,S)===W.size&&!H.pathSetsContain(k,W,U,j,x,E)&&(k.push(W),j=j.concat(U)),k.length>O)return k}return k}static getEdgeCount(te){let re=0,S=te.length;for(var F=S-1;F--;)for(var ne=S;ne--;)1===te[F][ne]&&re++;return re}static getEdgeList(te){let re=te.length,S=Array();for(var F=re-1;F--;)for(var ne=re;ne--;)1===te[F][ne]&&S.push([F,ne]);return S}static bondsToAtoms(te){let re=new Set;for(var S=te.length;S--;)re.add(te[S][0]),re.add(te[S][1]);return re}static getBondCount(te,re){let S=0;for(let F of te)for(let ne of te)F!==ne&&(S+=re[F][ne]);return S/2}static pathSetsContain(te,re,S,F,ne,x){for(var E=te.length;E--;){if(H.isSupersetOf(re,te[E]))return!0;if(te[E].size===re.size&&H.areSetsEqual(te[E],re))return!0}let O=0,k=!1;for(E=S.length;E--;)for(var j=F.length;j--;)(S[E][0]===F[j][0]&&S[E][1]===F[j][1]||S[E][1]===F[j][0]&&S[E][0]===F[j][1])&&O++,O===S.length&&(k=!0);let ee=!1;if(k)for(let Q of re)if(x[Q]<ne[Q]){ee=!0;break}if(k&&!ee)return!0;for(let Q of re)x[Q]++;return!1}static areSetsEqual(te,re){if(te.size!==re.size)return!1;for(let S of te)if(!re.has(S))return!1;return!0}static isSupersetOf(te,re){for(var S of re)if(!te.has(S))return!1;return!0}}Nt.exports=H},9654:(Nt,Ae,N)=>{N(5979);const H=N(1481),q=N(4250),te=N(2567),re=N(900),S=N(4339),F=N(7570);class ne{constructor(E={},O={}){this.drawer=new te(E),this.reactionDrawer=new re(O,JSON.parse(JSON.stringify(this.drawer.opts)))}static apply(E={},O={},k="data-smiles",j="light",ee=null,Q=null){new ne(E,O).apply(k,j,ee,Q)}apply(E="data-smiles",O="light",k=null,j=null){document.querySelectorAll(`[${E}]`).forEach(Q=>{let we=Q.getAttribute(E);if(null===we)throw Error("No SMILES provided.");let U=O,W=null;if(Q.hasAttribute("data-smiles-theme")&&(U=Q.getAttribute("data-smiles-theme")),Q.hasAttribute("data-smiles-weights")&&(W=Q.getAttribute("data-smiles-weights").split(",").map(parseFloat)),(Q.hasAttribute("data-smiles-reactant-weights")||Q.hasAttribute("data-smiles-reagent-weights")||Q.hasAttribute("data-smiles-product-weights"))&&(W={reactants:[],reagents:[],products:[]},Q.hasAttribute("data-smiles-reactant-weights")&&(W.reactants=Q.getAttribute("data-smiles-reactant-weights").split(";").map(K=>K.split(",").map(parseFloat))),Q.hasAttribute("data-smiles-reagent-weights")&&(W.reagents=Q.getAttribute("data-smiles-reagent-weights").split(";").map(K=>K.split(",").map(parseFloat))),Q.hasAttribute("data-smiles-product-weights")&&(W.products=Q.getAttribute("data-smiles-product-weights").split(";").map(K=>K.split(",").map(parseFloat)))),Q.hasAttribute("data-smiles-options")||Q.hasAttribute("data-smiles-reaction-options")){let K={};Q.hasAttribute("data-smiles-options")&&(K=JSON.parse(Q.getAttribute("data-smiles-options").replaceAll("'",'"')));let ie={};Q.hasAttribute("data-smiles-reaction-options")&&(ie=JSON.parse(Q.getAttribute("data-smiles-reaction-options").replaceAll("'",'"'))),new ne(K,ie).draw(we,Q,U,k,j,W)}else this.draw(we,Q,U,k,j,W)})}draw(E,O,k="light",j=null,ee=null,Q=null){let we=[];[E,...we]=E.split(" ");let U=we.join(" "),W={};if(U.includes("__")){let ie=U.substring(U.indexOf("__")+2,U.lastIndexOf("__"));W=JSON.parse(ie.replaceAll("'",'"'))}if(W=F.extend(!0,{textAboveArrow:"{reagents}",textBelowArrow:""},W),E.includes(">"))try{this.drawReaction(E,O,k,W,Q,j)}catch(ie){ee?ee(ie):console.error(ie)}else try{this.drawMolecule(E,O,k,Q,j)}catch(ie){ee?ee(ie):console.error(ie)}}drawMolecule(E,O,k,j,ee){let Q=H.parse(E);if(null===O||"svg"===O){let we=this.drawer.draw(Q,null,k,j),U=this.getDimensions(we);we.setAttributeNS(null,"width",""+U.w),we.setAttributeNS(null,"height",""+U.h),ee&&ee(we)}else if("canvas"===O){let we=this.svgToCanvas(this.drawer.draw(Q,null,k,j));ee&&ee(we)}else if("img"===O){let we=this.svgToImg(this.drawer.draw(Q,null,k,j));ee&&ee(we)}else O instanceof HTMLImageElement?(this.svgToImg(this.drawer.draw(Q,null,k,j),O),ee&&ee(O)):O instanceof SVGElement?(this.drawer.draw(Q,O,k,j),ee&&ee(O)):document.querySelectorAll(O).forEach(U=>{let W=U.nodeName.toLowerCase();"svg"===W?(this.drawer.draw(Q,U,k,j),ee&&ee(U)):"canvas"===W?(this.svgToCanvas(this.drawer.draw(Q,null,k,j),U),ee&&ee(U)):"img"===W&&(this.svgToImg(this.drawer.draw(Q,null,k,j),U),ee&&ee(U))})}drawReaction(E,O,k,j,ee,Q){let we=q.parse(E);if(null===O||"svg"===O){let U=this.reactionDrawer.draw(we,null,k),W=this.getDimensions(U);U.setAttributeNS(null,"width",""+W.w),U.setAttributeNS(null,"height",""+W.h),Q&&Q(U)}else if("canvas"===O){let U=this.svgToCanvas(this.reactionDrawer.draw(we,null,k,ee,j.textAboveArrow,j.textBelowArrow));Q&&Q(U)}else if("img"===O){let U=this.svgToImg(this.reactionDrawer.draw(we,null,k,ee,j.textAboveArrow,j.textBelowArrow));Q&&Q(U)}else O instanceof HTMLImageElement?(this.svgToImg(this.reactionDrawer.draw(we,null,k,ee,j.textAboveArrow,j.textBelowArrow),O),Q&&Q(O)):O instanceof SVGElement?(this.reactionDrawer.draw(we,O,k,ee,j.textAboveArrow,j.textBelowArrow),Q&&Q(O)):document.querySelectorAll(O).forEach(W=>{let K=W.nodeName.toLowerCase();"svg"===K?(this.reactionDrawer.draw(we,W,k,ee,j.textAboveArrow,j.textBelowArrow),this.reactionDrawer.opts.scale<=0&&(W.style.width=null,W.style.height=null),Q&&Q(W)):"canvas"===K?(this.svgToCanvas(this.reactionDrawer.draw(we,null,k,ee,j.textAboveArrow,j.textBelowArrow),W),Q&&Q(W)):"img"===K&&(this.svgToImg(this.reactionDrawer.draw(we,null,k,ee,j.textAboveArrow,j.textBelowArrow),W),Q&&Q(W))})}svgToCanvas(E,O=null){null===O&&(O=document.createElement("canvas"));let k=this.getDimensions(O,E);return S.svgToCanvas(E,O,k.w,k.h),O}svgToImg(E,O=null){null===O&&(O=document.createElement("img"));let k=this.getDimensions(O,E);return S.svgToImg(E,O,k.w,k.h),O}getDimensions(E,O=null){let k=this.drawer.opts.width,j=this.drawer.opts.height;return this.drawer.opts.scale<=0?(null===k&&(k=E.width),null===j&&(j=E.height),""!==E.style.width&&(k=parseInt(E.style.width)),""!==E.style.height&&(j=parseInt(E.style.height))):O&&(k=parseFloat(O.style.width),j=parseFloat(O.style.height)),{w:k,h:j}}}Nt.exports=ne},2567:(Nt,Ae,N)=>{const R=N(7809),H=N(2848),q=N(5090),re=(N(4336),N(7680)),S=N(4339),F=N(4430),ne=N(1611),x=N(3912);Nt.exports=class E{constructor(k,j=!0){this.preprocessor=new q(k),this.opts=this.preprocessor.opts,this.clear=j,this.svgWrapper=null}draw(k,j,ee="light",Q=null,we=!1,U=[],W=!1){null===j||"svg"===j?((j=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("xmlns","http://www.w3.org/2000/svg"),j.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),j.setAttributeNS(null,"width",this.opts.width),j.setAttributeNS(null,"height",this.opts.height)):j instanceof String&&(j=document.getElementById(j));let K={padding:this.opts.padding,compactDrawing:this.opts.compactDrawing};null!==Q&&(this.opts.padding+=this.opts.weights.additionalPadding,this.opts.compactDrawing=!1);let ie=this.preprocessor;return ie.initDraw(k,ee,we,U),we||(this.themeManager=new F(this.opts.themes,ee),(null===this.svgWrapper||this.clear)&&(this.svgWrapper=new S(this.themeManager,j,this.opts,this.clear))),ie.processGraph(),this.svgWrapper.determineDimensions(ie.graph.vertices),this.drawAtomHighlights(ie.opts.debug),this.drawEdges(ie.opts.debug),this.drawVertices(ie.opts.debug),null!==Q&&this.drawWeights(Q,W),ie.opts.debug&&(console.log(ie.graph),console.log(ie.rings),console.log(ie.ringConnections)),this.svgWrapper.constructSvg(),null!==Q&&(this.opts.padding=K.padding,this.opts.compactDrawing=K.padding),j}drawCanvas(k,j,ee="light",Q=!1){let we=null;we="string"==typeof j||j instanceof String?document.getElementById(j):j;let U=document.createElementNS("http://www.w3.org/2000/svg","svg");return U.setAttribute("xmlns","http://www.w3.org/2000/svg"),U.setAttributeNS(null,"viewBox","0 0 500 500"),U.setAttributeNS(null,"width","500"),U.setAttributeNS(null,"height","500"),U.setAttributeNS(null,"style","visibility: hidden: position: absolute; left: -1000px"),document.body.appendChild(U),this.svgDrawer.draw(k,U,ee,Q),this.svgDrawer.svgWrapper.toCanvas(we,this.svgDrawer.opts.width,this.svgDrawer.opts.height),document.body.removeChild(U),j}drawAromaticityRing(k){this.svgWrapper.drawRing(k.center.x,k.center.y,k.getSize())}drawEdges(k){let j=this.preprocessor,ee=j.graph,Q=j.rings,we=Array(this.preprocessor.graph.edges.length);if(we.fill(!1),ee.traverseBF(0,W=>{let K=ee.getEdges(W.id);for(var ie=0;ie<K.length;ie++){let me=K[ie];we[me]||(we[me]=!0,this.drawEdge(me,k))}}),!this.bridgedRing)for(var U=0;U<Q.length;U++){let W=Q[U];j.isRingAromatic(W)&&this.drawAromaticityRing(W)}}drawEdge(k,j){let ee=this.preprocessor,Q=ee.opts,we=this.svgWrapper,U=ee.graph.edges[k],W=ee.graph.vertices[U.sourceId],K=ee.graph.vertices[U.targetId],ie=W.value.element,me=K.value.element;if(!(W.value.isDrawn&&K.value.isDrawn||"default"!==ee.opts.atomVisualization))return;let ve=W.position,pe=K.position,Ce=ee.getEdgeNormals(U),st=R.clone(Ce);if(st[0].multiplyScalar(10).add(ve),st[1].multiplyScalar(10).add(ve),"="===U.bondType||"="===ee.getRingbondType(W,K)||U.isPartOfAromaticRing&&ee.bridgedRing){let Je=ee.areVerticesInSameRing(W,K),He=ee.chooseSide(W,K,st);if(Je){let Ke=ee.getLargestOrAromaticCommonRing(W,K).center;Ce[0].multiplyScalar(Q.bondSpacing),Ce[1].multiplyScalar(Q.bondSpacing);let bt=null;bt=Ke.sameSideAs(W.position,K.position,ne.add(ve,Ce[0]))?new re(ne.add(ve,Ce[0]),ne.add(pe,Ce[0]),ie,me):new re(ne.add(ve,Ce[1]),ne.add(pe,Ce[1]),ie,me),bt.shorten(Q.bondLength-Q.shortBondLength*Q.bondLength),U.isPartOfAromaticRing?we.drawLine(bt,!0):we.drawLine(bt),we.drawLine(new re(ve,pe,ie,me))}else if(U.center||W.isTerminal()&&K.isTerminal()||0==He.anCount&&He.bnCount>1||0==He.bnCount&&He.anCount>1){this.multiplyNormals(Ce,Q.halfBondSpacing);let Be=new re(ne.add(ve,Ce[0]),ne.add(pe,Ce[0]),ie,me),Ke=new re(ne.add(ve,Ce[1]),ne.add(pe,Ce[1]),ie,me);we.drawLine(Be),we.drawLine(Ke)}else if(He.sideCount[0]>He.sideCount[1]||He.totalSideCount[0]>He.totalSideCount[1]){this.multiplyNormals(Ce,Q.bondSpacing);let Be=new re(ne.add(ve,Ce[0]),ne.add(pe,Ce[0]),ie,me);Be.shorten(Q.bondLength-Q.shortBondLength*Q.bondLength),we.drawLine(Be),we.drawLine(new re(ve,pe,ie,me))}else if(He.sideCount[0]<He.sideCount[1]||He.totalSideCount[0]<=He.totalSideCount[1]){this.multiplyNormals(Ce,Q.bondSpacing);let Be=new re(ne.add(ve,Ce[1]),ne.add(pe,Ce[1]),ie,me);Be.shorten(Q.bondLength-Q.shortBondLength*Q.bondLength),we.drawLine(Be),we.drawLine(new re(ve,pe,ie,me))}}else if("#"===U.bondType){Ce[0].multiplyScalar(Q.bondSpacing/1.5),Ce[1].multiplyScalar(Q.bondSpacing/1.5);let Je=new re(ne.add(ve,Ce[0]),ne.add(pe,Ce[0]),ie,me),He=new re(ne.add(ve,Ce[1]),ne.add(pe,Ce[1]),ie,me);we.drawLine(Je),we.drawLine(He),we.drawLine(new re(ve,pe,ie,me))}else if("."!==U.bondType){let Je=W.value.isStereoCenter,He=K.value.isStereoCenter;"up"===U.wedge?we.drawWedge(new re(ve,pe,ie,me,Je,He)):"down"===U.wedge?we.drawDashedWedge(new re(ve,pe,ie,me,Je,He)):we.drawLine(new re(ve,pe,ie,me,Je,He))}if(j){let Je=ne.midpoint(ve,pe);we.drawDebugText(Je.x,Je.y,"e: "+k)}}drawAtomHighlights(k){let j=this.preprocessor,Q=j.graph,U=this.svgWrapper;for(var W=0;W<Q.vertices.length;W++){let ie=Q.vertices[W],me=ie.value;for(var K=0;K<j.highlight_atoms.length;K++){let ve=j.highlight_atoms[K];me.class===ve[0]&&U.drawAtomHighlight(ie.position.x,ie.position.y,ve[1])}}}drawVertices(k){let j=this.preprocessor,ee=j.opts,Q=j.graph,we=j.rings,U=this.svgWrapper;var W=Q.vertices.length;for(W=0;W<Q.vertices.length;W++){let ie=Q.vertices[W],me=ie.value,ve=0,pe=0,st=me.element,Je=H.maxBonds[st]-ie.value.bondCount,He=ie.getTextDirection(Q.vertices,me.hasAttachedPseudoElements),Be=!(!ee.terminalCarbons&&"C"===st&&!me.hasAttachedPseudoElements)&&ie.isTerminal(),Ke="C"===me.element;if(Q.vertices.length<3&&(Ke=!1),"N"===me.element&&me.isPartOfAromaticRing&&(Je=0),me.bracket&&(Je=me.bracket.hcount,ve=me.bracket.charge,pe=me.bracket.isotope),"allballs"===ee.atomVisualization)U.drawBall(ie.position.x,ie.position.y,st);else if(me.isDrawn&&(!Ke||me.drawExplicit||Be||me.hasAttachedPseudoElements)||1===Q.vertices.length)if("default"===ee.atomVisualization){let bt=me.getAttachedPseudoElements();me.hasAttachedPseudoElements&&Q.vertices.length===Object.keys(bt).length+1&&(He="right"),U.drawText(ie.position.x,ie.position.y,st,Je,He,Be,ve,pe,Q.vertices.length,bt)}else"balls"===ee.atomVisualization&&U.drawBall(ie.position.x,ie.position.y,st);else if(2===ie.getNeighbourCount()&&1==ie.forcePositioned){let en=ne.threePointangle(ie.position,Q.vertices[ie.neighbours[0]].position,Q.vertices[ie.neighbours[1]].position);Math.abs(Math.PI-en)<.1&&U.drawPoint(ie.position.x,ie.position.y,st)}if(k){let bt="v: "+ie.id+" "+R.print(me.ringbonds);U.drawDebugText(ie.position.x,ie.position.y,bt)}}if(ee.debug)for(W=0;W<we.length;W++){let ie=we[W].center;U.drawDebugPoint(ie.x,ie.y,"r: "+we[W].id)}}drawWeights(k,j){if(k.every(we=>0===we))return;if(k.length!==this.preprocessor.graph.atomIdxToVertexId.length)throw new Error("The number of weights supplied must be equal to the number of (heavy) atoms in the molecule.");let ee=[];for(const we of this.preprocessor.graph.atomIdxToVertexId){let U=this.preprocessor.graph.vertices[we];ee.push(new ne(U.position.x-this.svgWrapper.minX,U.position.y-this.svgWrapper.minY))}let Q=new x(ee,k,this.svgWrapper.drawingWidth,this.svgWrapper.drawingHeight,this.opts.weights.sigma,this.opts.weights.interval,this.opts.weights.colormap,this.opts.weights.opacity,j);Q.draw(),this.svgWrapper.addLayer(Q.getSVG())}getTotalOverlapScore(){return this.preprocessor.getTotalOverlapScore()}getMolecularFormula(k=null){return this.preprocessor.getMolecularFormula(k)}multiplyNormals(k,j){k[0].multiplyScalar(j),k[1].multiplyScalar(j)}}},4339:(Nt,Ae,N)=>{N(1927);const H=N(7680),q=N(1611),te=N(5980);class S{constructor(ne,x,E,O=!0){if(this.svg="string"==typeof x||x instanceof String?document.getElementById(x):x,this.container=null,this.opts=E,this.uid=function re(F){for(var ne="",O=0;O<F;O++)ne+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return ne}(5),this.gradientId=0,this.backgroundItems=[],this.paths=[],this.vertices=[],this.gradients=[],this.highlights=[],this.drawingWidth=0,this.drawingHeight=0,this.halfBondThickness=this.opts.bondThickness/2,this.themeManager=ne,this.maskElements=[],this.maxX=-Number.MAX_VALUE,this.maxY=-Number.MAX_VALUE,this.minX=Number.MAX_VALUE,this.minY=Number.MAX_VALUE,O)for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);this.style=document.createElementNS("http://www.w3.org/2000/svg","style"),this.style.appendChild(document.createTextNode(`\n                .element {\n                    font: ${this.opts.fontSizeLarge}pt ${this.opts.fontFamily};\n                }\n                .sub {\n                    font: ${this.opts.fontSizeSmall}pt ${this.opts.fontFamily};\n                }\n            `)),this.svg?this.svg.appendChild(this.style):(this.container=document.createElementNS("http://www.w3.org/2000/svg","g"),container.appendChild(this.style))}constructSvg(){let ne=document.createElementNS("http://www.w3.org/2000/svg","defs"),x=document.createElementNS("http://www.w3.org/2000/svg","mask"),E=document.createElementNS("http://www.w3.org/2000/svg","g"),O=document.createElementNS("http://www.w3.org/2000/svg","g"),k=document.createElementNS("http://www.w3.org/2000/svg","g"),j=document.createElementNS("http://www.w3.org/2000/svg","g"),ee=this.paths,Q=document.createElementNS("http://www.w3.org/2000/svg","rect");Q.setAttributeNS(null,"x",this.minX),Q.setAttributeNS(null,"y",this.minY),Q.setAttributeNS(null,"width",this.maxX-this.minX),Q.setAttributeNS(null,"height",this.maxY-this.minY),Q.setAttributeNS(null,"fill","white"),x.appendChild(Q),x.setAttributeNS(null,"id",this.uid+"-text-mask");for(let we of ee)k.appendChild(we);for(let we of this.backgroundItems)E.appendChild(we);for(let we of this.highlights)O.appendChild(we);for(let we of this.vertices)j.appendChild(we);for(let we of this.maskElements)x.appendChild(we);for(let we of this.gradients)ne.appendChild(we);if(k.setAttributeNS(null,"mask","url(#"+this.uid+"-text-mask)"),this.updateViewbox(this.opts.scale),E.setAttributeNS(null,"style",`transform: translateX(${this.minX}px) translateY(${this.minY}px)`),!this.svg)return this.container.appendChild(ne),this.container.appendChild(x),this.container.appendChild(E),this.container.appendChild(k),this.container.appendChild(j),this.container;this.svg.appendChild(ne),this.svg.appendChild(x),this.svg.appendChild(E),this.svg.appendChild(O),this.svg.appendChild(k),this.svg.appendChild(j)}addLayer(ne){this.backgroundItems.push(ne.firstChild)}createGradient(ne){let x=document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),E=this.uid+"-line-"+this.gradientId++,O=ne.getLeftVector(),k=ne.getRightVector(),j=O.x,ee=O.y,Q=k.x,we=k.y;x.setAttributeNS(null,"id",E),x.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),x.setAttributeNS(null,"x1",j),x.setAttributeNS(null,"y1",ee),x.setAttributeNS(null,"x2",Q),x.setAttributeNS(null,"y2",we);let U=document.createElementNS("http://www.w3.org/2000/svg","stop");U.setAttributeNS(null,"stop-color",this.themeManager.getColor(ne.getLeftElement())||this.themeManager.getColor("C")),U.setAttributeNS(null,"offset","20%");let W=document.createElementNS("http://www.w3.org/2000/svg","stop");return W.setAttributeNS(null,"stop-color",this.themeManager.getColor(ne.getRightElement()||this.themeManager.getColor("C"))),W.setAttributeNS(null,"offset","100%"),x.appendChild(U),x.appendChild(W),this.gradients.push(x),E}createSubSuperScripts(ne,x){let E=document.createElementNS("http://www.w3.org/2000/svg","tspan");return E.setAttributeNS(null,"baseline-shift",x),E.appendChild(document.createTextNode(ne)),E.setAttributeNS(null,"class","sub"),E}static createUnicodeCharge(ne){return 1===ne?"\u207a":-1===ne?"\u207b":ne>1?S.createUnicodeSuperscript(ne)+"\u207a":ne<-1?S.createUnicodeSuperscript(ne)+"\u207b":""}determineDimensions(ne){for(var x=0;x<ne.length;x++){if(!ne[x].value.isDrawn)continue;let O=ne[x].position;this.maxX<O.x&&(this.maxX=O.x),this.maxY<O.y&&(this.maxY=O.y),this.minX>O.x&&(this.minX=O.x),this.minY>O.y&&(this.minY=O.y)}let E=this.opts.padding;this.maxX+=E,this.maxY+=E,this.minX-=E,this.minY-=E,this.drawingWidth=this.maxX-this.minX,this.drawingHeight=this.maxY-this.minY}updateViewbox(ne){let x=this.minX,E=this.minY,O=this.maxX-this.minX,k=this.maxY-this.minY;if(ne<=0)if(O>k){let j=O-k;k=O,E-=j/2}else{let j=k-O;O=k,x-=j/2}else this.svg&&(this.svg.style.width=ne*O+"px",this.svg.style.height=ne*k+"px");this.svg.setAttributeNS(null,"viewBox",`${x} ${E} ${O} ${k}`)}drawBall(ne,x,E){let O=this.opts.bondLength/4.5;ne-O<this.minX&&(this.minX=ne-O),ne+O>this.maxX&&(this.maxX=ne+O),x-O<this.minY&&(this.minY=x-O),x+O>this.maxY&&(this.maxY=x+O);let k=document.createElementNS("http://www.w3.org/2000/svg","circle");k.setAttributeNS(null,"cx",ne),k.setAttributeNS(null,"cy",x),k.setAttributeNS(null,"r",O),k.setAttributeNS(null,"fill",this.themeManager.getColor(E)),this.vertices.push(k)}drawWedge(ne){let x=ne.getLeftVector().clone(),E=ne.getRightVector().clone(),O=q.normals(x,E);O[0].normalize(),O[1].normalize();let j=x,ee=E;ne.getRightChiral()&&(j=E,ee=x);let Q=q.add(j,q.multiplyScalar(O[0],this.halfBondThickness)),we=q.add(ee,q.multiplyScalar(O[0],3+this.opts.fontSizeLarge/4)),U=q.add(ee,q.multiplyScalar(O[1],3+this.opts.fontSizeLarge/4)),W=q.add(j,q.multiplyScalar(O[1],this.halfBondThickness)),K=document.createElementNS("http://www.w3.org/2000/svg","polygon"),ie=this.createGradient(ne,x.x,x.y,E.x,E.y);K.setAttributeNS(null,"points",`${Q.x},${Q.y} ${we.x},${we.y} ${U.x},${U.y} ${W.x},${W.y}`),K.setAttributeNS(null,"fill",`url('#${ie}')`),this.paths.push(K)}drawAtomHighlight(ne,x,E="#03fc9d"){let O=document.createElementNS("http://www.w3.org/2000/svg","circle");O.setAttributeNS(null,"cx",ne),O.setAttributeNS(null,"cy",x),O.setAttributeNS(null,"r",this.opts.bondLength/3),O.setAttributeNS(null,"fill",E),this.highlights.push(O)}drawDashedWedge(ne){if(isNaN(ne.from.x)||isNaN(ne.from.y)||isNaN(ne.to.x)||isNaN(ne.to.y))return;let j,ee,x=ne.getLeftVector().clone(),E=ne.getRightVector().clone(),O=q.normals(x,E);O[0].normalize(),O[1].normalize(),ne.getRightChiral()?(j=E,ee=x):(j=x,ee=E);let Q=q.subtract(ee,j).normalize(),we=ne.getLength(),U=1.25/(we/(this.opts.bondLength/10)),K=this.createGradient(ne);for(let ie=0;ie<1;ie+=U){let me=q.multiplyScalar(Q,ie*we),ve=q.add(j,me),Ce=q.multiplyScalar(O[0],this.opts.fontSizeLarge/2*ie);ve.subtract(Ce);let st=ve.clone();st.add(q.multiplyScalar(Ce,2)),this.drawLine(new H(ve,st),null,K)}}drawDebugPoint(ne,x,E="",O="#f00"){let k=document.createElementNS("http://www.w3.org/2000/svg","circle");k.setAttributeNS(null,"cx",ne),k.setAttributeNS(null,"cy",x),k.setAttributeNS(null,"r","2"),k.setAttributeNS(null,"fill","#f00"),this.vertices.push(k),this.drawDebugText(ne,x,E)}drawDebugText(ne,x,E){let O=document.createElementNS("http://www.w3.org/2000/svg","text");O.setAttributeNS(null,"x",ne),O.setAttributeNS(null,"y",x),O.setAttributeNS(null,"class","debug"),O.setAttributeNS(null,"fill","#ff0000"),O.setAttributeNS(null,"style","\n                font: 5px Droid Sans, sans-serif;\n            "),O.appendChild(document.createTextNode(E)),this.vertices.push(O)}drawRing(ne,x,E){let O=document.createElementNS("http://www.w3.org/2000/svg","circle"),k=te.apothemFromSideLength(this.opts.bondLength,E);O.setAttributeNS(null,"cx",ne),O.setAttributeNS(null,"cy",x),O.setAttributeNS(null,"r",k-this.opts.bondSpacing),O.setAttributeNS(null,"stroke",this.themeManager.getColor("C")),O.setAttributeNS(null,"stroke-width",this.opts.bondThickness),O.setAttributeNS(null,"fill","none"),this.paths.push(O)}drawLine(ne,x=!1,E=null,O="round"){let j=[["stroke-width",this.opts.bondThickness],["stroke-linecap",O],["stroke-dasharray",x?"5, 5":"none"]],ee=ne.getLeftVector(),Q=ne.getRightVector(),we=ee.x,U=ee.y,W=Q.x,K=Q.y,ie=j.map(ve=>ve.join(":")).join(";"),me=document.createElementNS("http://www.w3.org/2000/svg","line");me.setAttributeNS(null,"x1",we),me.setAttributeNS(null,"y1",U),me.setAttributeNS(null,"x2",W),me.setAttributeNS(null,"y2",K),me.setAttributeNS(null,"style",ie),this.paths.push(me),null==E&&(E=this.createGradient(ne,we,U,W,K)),me.setAttributeNS(null,"stroke",`url('#${E}')`)}drawPoint(ne,x,E){let O=.75;ne-O<this.minX&&(this.minX=ne-O),ne+O>this.maxX&&(this.maxX=ne+O),x-O<this.minY&&(this.minY=x-O),x+O>this.maxY&&(this.maxY=x+O);let k=document.createElementNS("http://www.w3.org/2000/svg","circle");k.setAttributeNS(null,"cx",ne),k.setAttributeNS(null,"cy",x),k.setAttributeNS(null,"r","1.5"),k.setAttributeNS(null,"fill","black"),this.maskElements.push(k);let j=document.createElementNS("http://www.w3.org/2000/svg","circle");j.setAttributeNS(null,"cx",ne),j.setAttributeNS(null,"cy",x),j.setAttributeNS(null,"r",O),j.setAttributeNS(null,"fill",this.themeManager.getColor(E)),this.vertices.push(j)}drawText(ne,x,E,O,k,j,ee,Q,we,U={}){let W=[],K=E;0!==ee&&null!==ee&&(K+=S.createUnicodeCharge(ee)),0!==Q&&null!==Q&&(K=S.createUnicodeSuperscript(Q)+K),W.push([K,E]),1===O?W.push(["H","H"]):O>1&&W.push(["H"+S.createUnicodeSubscript(O),"H"]),1===ee&&"N"===E&&U.hasOwnProperty("0O")&&U.hasOwnProperty("0O-1")&&(U={"0O":{element:"O",count:2,hydrogenCount:0,previousElement:"C",charge:""}},ee=0);for(let ie in U){if(!U.hasOwnProperty(ie))continue;let me=U[ie],ve=me.element;me.count>1&&(ve+=S.createUnicodeSubscript(me.count)),""!==me.charge&&(ve+=S.createUnicodeCharge(ee)),W.push([ve,me.element]),1===me.hydrogenCount?W.push(["H","H"]):me.hydrogenCount>1&&W.push(["H"+S.createUnicodeSubscript(me.hydrogenCount),"H"])}this.write(W,k,ne,x,1===we)}write(ne,x,E,O,k){let j=S.measureText(ne[0][1],this.opts.fontSizeLarge,this.opts.fontFamily);"left"===x&&ne[0][0]!==ne[0][1]&&(j.width*=2),k?(E+j.width*ne.length>this.maxX&&(this.maxX=E+j.width*ne.length),E-j.width/2<this.minX&&(this.minX=E-j.width/2),O-j.height<this.minY&&(this.minY=O-j.height),O+j.height>this.maxY&&(this.maxY=O+j.height)):("right"!==x?(E+j.width*ne.length>this.maxX&&(this.maxX=E+j.width*ne.length),E-j.width*ne.length<this.minX&&(this.minX=E-j.width*ne.length)):"left"!==x&&(E+j.width*ne.length>this.maxX&&(this.maxX=E+j.width*ne.length),E-j.width/2<this.minX&&(this.minX=E-j.width/2)),O-j.height<this.minY&&(this.minY=O-j.height),O+j.height>this.maxY&&(this.maxY=O+j.height),"down"===x&&O+.8*j.height*ne.length>this.maxY&&(this.maxY=O+.8*j.height*ne.length),"up"===x&&O-.8*j.height*ne.length<this.minY&&(this.minY=O-.8*j.height*ne.length));let ee=E,Q=O,we=document.createElementNS("http://www.w3.org/2000/svg","text");we.setAttributeNS(null,"class","element");let U=document.createElementNS("http://www.w3.org/2000/svg","g");we.setAttributeNS(null,"fill","#ffffff"),"left"===x&&(ne=ne.reverse()),("right"===x||"down"===x||"up"===x)&&(E-=j.width/2),"left"===x&&(E+=j.width/2),ne.forEach((ie,me)=>{const ve=ie[0],pe=ie[1];let Ce=document.createElementNS("http://www.w3.org/2000/svg","tspan");Ce.setAttributeNS(null,"fill",this.themeManager.getColor(pe)),Ce.textContent=ve,("up"===x||"down"===x)&&(Ce.setAttributeNS(null,"x","0px"),Ce.setAttributeNS(null,"y","up"===x?`-${.9*me}em`:.9*me+"em")),we.appendChild(Ce)}),we.setAttributeNS(null,"data-direction",x),"left"===x||"right"===x?(we.setAttributeNS(null,"dominant-baseline","alphabetic"),we.setAttributeNS(null,"y","0.36em")):we.setAttributeNS(null,"dominant-baseline","central"),"left"===x&&we.setAttributeNS(null,"text-anchor","end"),U.appendChild(we),U.setAttributeNS(null,"style",`transform: translateX(${E}px) translateY(${O}px)`);let W=.75*this.opts.fontSizeLarge;ne[0][1].length>1&&(W=1.1*this.opts.fontSizeLarge);let K=document.createElementNS("http://www.w3.org/2000/svg","circle");K.setAttributeNS(null,"cx",ee),K.setAttributeNS(null,"cy",Q),K.setAttributeNS(null,"r",W),K.setAttributeNS(null,"fill","black"),this.maskElements.push(K),this.vertices.push(U)}toCanvas(ne,x,E){("string"==typeof ne||ne instanceof String)&&(ne=document.getElementById(ne));let O=new Image;O.onload=function(){ne.width=x,ne.height=E,ne.getContext("2d").drawImage(O,0,0,x,E)},O.src="data:image/svg+xml;charset-utf-8,"+encodeURIComponent(this.svg.outerHTML)}static createUnicodeSubscript(ne){let x="";return ne.toString().split("").forEach(E=>{x+=["\u2080","\u2081","\u2082","\u2083","\u2084","\u2085","\u2086","\u2087","\u2088","\u2089"][parseInt(E)]}),x}static createUnicodeSuperscript(ne){let x="";return ne.toString().split("").forEach(E=>{parseInt(E)&&(x+=["\u2070","\xb9","\xb2","\xb3","\u2074","\u2075","\u2076","\u2077","\u2078","\u2079"][parseInt(E)])}),x}static replaceNumbersWithSubscript(ne){let x={0:"\u2080",1:"\u2081",2:"\u2082",3:"\u2083",4:"\u2084",5:"\u2085",6:"\u2086",7:"\u2087",8:"\u2088",9:"\u2089"};for(const[E,O]of Object.entries(x))ne=ne.replaceAll(E,O);return ne}static measureText(ne,x,E,O=.9){const j=document.createElement("canvas").getContext("2d");j.font=`${x}pt ${E}`;let ee=j.measureText(ne),Q=Math.abs(ee.actualBoundingBoxLeft)+Math.abs(ee.actualBoundingBoxRight);return{width:ee.width>Q?ee.width:Q,height:(Math.abs(ee.actualBoundingBoxAscent)+Math.abs(ee.actualBoundingBoxAscent))*O}}static svgToCanvas(ne,x,E,O,k=null){ne.setAttributeNS(null,"width",E),ne.setAttributeNS(null,"height",O);let j=new Image;return j.onload=function(){x.width=E,x.height=O;let ee=x.getContext("2d");ee.imageSmoothingEnabled=!1,ee.drawImage(j,0,0,E,O),k&&k(x)},j.onerror=function(ee){console.log(ee)},j.src="data:image/svg+xml;charset-utf-8,"+encodeURIComponent(ne.outerHTML),x}static svgToImg(ne,x,E,O){let k=document.createElement("canvas");this.svgToCanvas(ne,k,E,O,j=>{x.src=k.toDataURL("image/png")})}static writeText(ne,x,E,O,k=Number.MAX_SAFE_INTEGER){let j=document.createElementNS("http://www.w3.org/2000/svg","svg"),ee=document.createElementNS("http://www.w3.org/2000/svg","style");ee.appendChild(document.createTextNode(`\n        .text {\n            font: ${E}pt ${O};\n            dominant-baseline: ideographic;\n        }\n    `)),j.appendChild(ee);let Q=document.createElementNS("http://www.w3.org/2000/svg","text");Q.setAttributeNS(null,"class","text");let we=0,U=0,W=[];return ne.split("\n").forEach(K=>{let ie=S.measureText(K,E,O,1);if(ie.width>=k){let me=0,ve=0,pe=K.split(" "),Ce=0;for(let st=0;st<pe.length;st++){let Je=S.measureText(pe[st],E,O,1);me+Je.width>k&&(W.push({text:pe.slice(Ce,st).join(" "),width:me,height:ve}),me=0,ve=0,Ce=st),Je.height>ve&&(ve=Je.height),me+=Je.width}Ce<pe.length&&W.push({text:pe.slice(Ce,pe.length).join(" "),width:me,height:ve})}else W.push({text:K,width:ie.width,height:ie.height})}),W.forEach((K,ie)=>{U+=K.height;let me=document.createElementNS("http://www.w3.org/2000/svg","tspan");me.setAttributeNS(null,"fill",x.getColor("C")),me.textContent=K.text,me.setAttributeNS(null,"x","0px"),me.setAttributeNS(null,"y",`${U}px`),Q.appendChild(me),K.width>we&&(we=K.width)}),j.appendChild(Q),{svg:j,width:we,height:U}}}Nt.exports=S},4430:Nt=>{Nt.exports=class Ae{constructor(R,H){this.colors=R,this.theme=this.colors[H]}getColor(R){return R&&(R=R.toUpperCase())in this.theme?this.theme[R]:this.theme.C}setTheme(R){this.colors.hasOwnProperty(R)&&(this.theme=this.colors[R])}}},1927:Nt=>{Nt.exports={getChargeText:function Ae(N){return 1===N?"+":2===N?"2+":-1===N?"-":-2===N?"2-":""}}},1611:Nt=>{class Ae{constructor(R,H){0==arguments.length?(this.x=0,this.y=0):1==arguments.length?(this.x=R.x,this.y=R.y):(this.x=R,this.y=H)}clone(){return new Ae(this.x,this.y)}toString(){return"("+this.x+","+this.y+")"}add(R){return this.x+=R.x,this.y+=R.y,this}subtract(R){return this.x-=R.x,this.y-=R.y,this}divide(R){return this.x/=R,this.y/=R,this}multiply(R){return this.x*=R.x,this.y*=R.y,this}multiplyScalar(R){return this.x*=R,this.y*=R,this}invert(){return this.x=-this.x,this.y=-this.y,this}angle(){return Math.atan2(this.y,this.x)}distance(R){return Math.sqrt((R.x-this.x)*(R.x-this.x)+(R.y-this.y)*(R.y-this.y))}distanceSq(R){return(R.x-this.x)*(R.x-this.x)+(R.y-this.y)*(R.y-this.y)}clockwise(R){let H=this.y*R.x,q=this.x*R.y;return H>q?-1:H===q?0:1}relativeClockwise(R,H){let q=(this.y-R.y)*(H.x-R.x),te=(this.x-R.x)*(H.y-R.y);return q>te?-1:q===te?0:1}rotate(R){let H=new Ae(0,0),q=Math.cos(R),te=Math.sin(R);return H.x=this.x*q-this.y*te,H.y=this.x*te+this.y*q,this.x=H.x,this.y=H.y,this}rotateAround(R,H){let q=Math.sin(R),te=Math.cos(R);this.x-=H.x,this.y-=H.y;let S=this.x*q+this.y*te;return this.x=this.x*te-this.y*q+H.x,this.y=S+H.y,this}rotateTo(R,H,q=0){this.x+=.001,this.y-=.001;let te=Ae.subtract(this,H),re=Ae.subtract(R,H),S=Ae.angle(re,te);return this.rotateAround(S+q,H),this}rotateAwayFrom(R,H,q){this.rotateAround(q,H);let te=this.distanceSq(R);this.rotateAround(-2*q,H),this.distanceSq(R)<te&&this.rotateAround(2*q,H)}getRotateAwayFromAngle(R,H,q){let te=this.clone();te.rotateAround(q,H);let re=te.distanceSq(R);return te.rotateAround(-2*q,H),te.distanceSq(R)<re?q:-q}getRotateTowardsAngle(R,H,q){let te=this.clone();te.rotateAround(q,H);let re=te.distanceSq(R);return te.rotateAround(-2*q,H),te.distanceSq(R)>re?q:-q}getRotateToAngle(R,H){let q=Ae.subtract(this,H),te=Ae.subtract(R,H),re=Ae.angle(te,q);return Number.isNaN(re)?0:re}isInPolygon(R){let H=!1;for(let q=0,te=R.length-1;q<R.length;te=q++)R[q].y>this.y!=R[te].y>this.y&&this.x<(R[te].x-R[q].x)*(this.y-R[q].y)/(R[te].y-R[q].y)+R[q].x&&(H=!H);return H}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}lengthSq(){return this.x*this.x+this.y*this.y}normalize(){return this.divide(this.length()),this}normalized(){return Ae.divideScalar(this,this.length())}whichSide(R,H){return(this.x-R.x)*(H.y-R.y)-(this.y-R.y)*(H.x-R.x)}sameSideAs(R,H,q){let te=this.whichSide(R,H),re=q.whichSide(R,H);return te<0&&re<0||0==te&&0==re||te>0&&re>0}static add(R,H){return new Ae(R.x+H.x,R.y+H.y)}static subtract(R,H){return new Ae(R.x-H.x,R.y-H.y)}static multiply(R,H){return new Ae(R.x*H.x,R.y*H.y)}static multiplyScalar(R,H){return new Ae(R.x,R.y).multiplyScalar(H)}static midpoint(R,H){return new Ae((R.x+H.x)/2,(R.y+H.y)/2)}static normals(R,H){let q=Ae.subtract(H,R);return[new Ae(-q.y,q.x),new Ae(q.y,-q.x)]}static units(R,H){let q=Ae.subtract(H,R);return[new Ae(-q.y,q.x).normalize(),new Ae(q.y,-q.x).normalize()]}static divide(R,H){return new Ae(R.x/H.x,R.y/H.y)}static divideScalar(R,H){return new Ae(R.x/H,R.y/H)}static dot(R,H){return R.x*H.x+R.y*H.y}static angle(R,H){let q=Ae.dot(R,H);return Math.acos(q/(R.length()*H.length()))}static threePointangle(R,H,q){let te=Ae.subtract(H,R),re=Ae.subtract(q,H),S=R.distance(H),F=H.distance(q);return Math.acos(Ae.dot(te,re)/(S*F))}static scalarProjection(R,H){let q=H.normalized();return Ae.dot(R,q)}static averageDirection(R){let H=new Ae(0,0);for(var q=0;q<R.length;q++)H.add(R[q]);return H.normalize()}}Nt.exports=Ae},768:(Nt,Ae,N)=>{const R=N(5980),H=N(7809),q=N(1611);N(2848);class re{constructor(F,ne=0,x=0){this.id=null,this.value=F,this.position=new q(ne||0,x||0),this.previousPosition=new q(0,0),this.parentVertexId=null,this.children=Array(),this.spanningTreeChildren=Array(),this.edges=Array(),this.positioned=!1,this.angle=null,this.dir=1,this.neighbourCount=0,this.neighbours=Array(),this.neighbouringElements=Array(),this.forcePositioned=!1}setPosition(F,ne){this.position.x=F,this.position.y=ne}setPositionFromVector(F){this.position.x=F.x,this.position.y=F.y}addChild(F){this.children.push(F),this.neighbours.push(F),this.neighbourCount++}addRingbondChild(F,ne){if(this.children.push(F),this.value.bracket){let x=1;0===this.id&&0===this.value.bracket.hcount&&(x=0),1===this.value.bracket.hcount&&0===ne&&(x=2),1===this.value.bracket.hcount&&1===ne&&(x=this.neighbours.length<3?2:3),null===this.value.bracket.hcount&&0===ne&&(x=1),null===this.value.bracket.hcount&&1===ne&&(x=this.neighbours.length<3?1:2),this.neighbours.splice(x,0,F)}else this.neighbours.push(F);this.neighbourCount++}setParentVertexId(F){this.neighbourCount++,this.parentVertexId=F,this.neighbours.push(F)}isTerminal(){return!!this.value.hasAttachedPseudoElements||null===this.parentVertexId&&this.children.length<2||0===this.children.length}clone(){let F=new re(this.value,this.position.x,this.position.y);return F.id=this.id,F.previousPosition=new q(this.previousPosition.x,this.previousPosition.y),F.parentVertexId=this.parentVertexId,F.children=H.clone(this.children),F.spanningTreeChildren=H.clone(this.spanningTreeChildren),F.edges=H.clone(this.edges),F.positioned=this.positioned,F.angle=this.angle,F.forcePositioned=this.forcePositioned,F}equals(F){return this.id===F.id}getAngle(F=null,ne=!1){let x=null;return x=q.subtract(this.position,F||this.previousPosition),ne?R.toDeg(x.angle()):x.angle()}getTextDirection(F,ne=!1){let x=this.getDrawnNeighbours(F),E=Array();if(1===F.length)return"right";for(let k=0;k<x.length;k++)E.push(this.getAngle(F[x[k]].position));let O=R.meanAngle(E);if(this.isTerminal()||ne)Math.round(100*O)/100==1.57&&(O-=.2),O=Math.round(Math.round(O/Math.PI)*Math.PI);else{let k=Math.PI/2;O=Math.round(Math.round(O/k)*k)}return 2===O?"down":-2===O?"up":0===O||-0===O?"right":3===O||-3===O?"left":"down"}getNeighbours(F=null){if(null===F)return this.neighbours.slice();let ne=Array();for(let x=0;x<this.neighbours.length;x++)this.neighbours[x]!==F&&ne.push(this.neighbours[x]);return ne}getDrawnNeighbours(F){let ne=Array();for(let x=0;x<this.neighbours.length;x++)F[this.neighbours[x]].value.isDrawn&&ne.push(this.neighbours[x]);return ne}getNeighbourCount(){return this.neighbourCount}getSpanningTreeNeighbours(F=null){let ne=Array();for(let x=0;x<this.spanningTreeChildren.length;x++)(void 0===F||F!=this.spanningTreeChildren[x])&&ne.push(this.spanningTreeChildren[x]);return null!=this.parentVertexId&&(void 0===F||F!=this.parentVertexId)&&ne.push(this.parentVertexId),ne}getNextInRing(F,ne,x){let E=this.getNeighbours();for(let O=0;O<E.length;O++)if(H.contains(F[E[O]].value.rings,{value:ne})&&E[O]!=x)return E[O];return null}}Nt.exports=re},5031:function(Nt){Nt.exports=function(){"use strict";for(var Ae=function(G,se,_e){return void 0===se&&(se=0),void 0===_e&&(_e=1),G<se?se:G>_e?_e:G},N=Ae,H={},q=0,te=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];q<te.length;q+=1){var re=te[q];H["[object "+re+"]"]=re.toLowerCase()}var S=function(G){return H[Object.prototype.toString.call(G)]||"object"},F=S,x=S,O=Math.PI,k={clip_rgb:function(G){G._clipped=!1,G._unclipped=G.slice(0);for(var se=0;se<=3;se++)se<3?((G[se]<0||G[se]>255)&&(G._clipped=!0),G[se]=N(G[se],0,255)):3===se&&(G[se]=N(G[se],0,1));return G},limit:Ae,type:S,unpack:function(G,se){return void 0===se&&(se=null),G.length>=3?Array.prototype.slice.call(G):"object"==F(G[0])&&se?se.split("").filter(function(_e){return void 0!==G[0][_e]}).map(function(_e){return G[0][_e]}):G[0]},last:function(G){if(G.length<2)return null;var se=G.length-1;return"string"==x(G[se])?G[se].toLowerCase():null},PI:O,TWOPI:2*O,PITHIRD:O/3,DEG2RAD:O/180,RAD2DEG:180/O},j={format:{},autodetect:[]},ee=k.last,Q=k.clip_rgb,we=k.type,U=j,W=function(){for(var se=[],_e=arguments.length;_e--;)se[_e]=arguments[_e];if("object"===we(se[0])&&se[0].constructor&&se[0].constructor===this.constructor)return se[0];var it=ee(se),mt=!1;if(!it){mt=!0,U.sorted||(U.autodetect=U.autodetect.sort(function(Un,Mi){return Mi.p-Un.p}),U.sorted=!0);for(var rt=0,It=U.autodetect;rt<It.length;rt+=1){var Rt=It[rt];if(it=Rt.test.apply(Rt,se))break}}if(!U.format[it])throw new Error("unknown format: "+se);var dn=U.format[it].apply(null,mt?se:se.slice(0,-1));this._rgb=Q(dn),3===this._rgb.length&&this._rgb.push(1)};W.prototype.toString=function(){return"function"==we(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var K=W,ie=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];return new(Function.prototype.bind.apply(ie.Color,[null].concat(G)))};ie.Color=K,ie.version="2.4.2";var me=ie,ve=k.unpack,pe=Math.max,Je=k.unpack,Be=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var _e=(G=Je(G,"cmyk"))[0],$e=G[1],it=G[2],mt=G[3],rt=G.length>4?G[4]:1;return 1===mt?[0,0,0,rt]:[_e>=1?0:255*(1-_e)*(1-mt),$e>=1?0:255*(1-$e)*(1-mt),it>=1?0:255*(1-it)*(1-mt),rt]},Ke=me,bt=K,gt=j,en=k.unpack,Dt=k.type,Ln=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var _e=ve(G,"rgb"),$e=_e[0],it=_e[1],mt=_e[2],rt=1-pe($e/=255,pe(it/=255,mt/=255)),It=rt<1?1/(1-rt):0;return[(1-$e-rt)*It,(1-it-rt)*It,(1-mt-rt)*It,rt]};bt.prototype.cmyk=function(){return Ln(this._rgb)},Ke.cmyk=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];return new(Function.prototype.bind.apply(bt,[null].concat(G,["cmyk"])))},gt.format.cmyk=Be,gt.autodetect.push({p:2,test:function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];if(G=en(G,"cmyk"),"array"===Dt(G)&&4===G.length)return"cmyk"}});var wi=k.unpack,ki=k.last,Pi=function(G){return Math.round(100*G)/100},Wn=k.unpack,Oi=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var _e=(G=Wn(G,"rgba"))[0],$e=G[1],it=G[2];_e/=255,$e/=255,it/=255;var Rt,dn,mt=Math.min(_e,$e,it),rt=Math.max(_e,$e,it),It=(rt+mt)/2;return rt===mt?(Rt=0,dn=Number.NaN):Rt=It<.5?(rt-mt)/(rt+mt):(rt-mt)/(2-rt-mt),_e==rt?dn=($e-it)/(rt-mt):$e==rt?dn=2+(it-_e)/(rt-mt):it==rt&&(dn=4+(_e-$e)/(rt-mt)),(dn*=60)<0&&(dn+=360),G.length>3&&void 0!==G[3]?[dn,Rt,It,G[3]]:[dn,Rt,It]},Ni=k.unpack,cr=k.last,Qi=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var _e=wi(G,"hsla"),$e=ki(G)||"lsa";return _e[0]=Pi(_e[0]||0),_e[1]=Pi(100*_e[1])+"%",_e[2]=Pi(100*_e[2])+"%","hsla"===$e||_e.length>3&&_e[3]<1?(_e[3]=_e.length>3?_e[3]:1,$e="hsla"):_e.length=3,$e+"("+_e.join(",")+")"},Js=Oi,Lo=Math.round,$t=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var _e=Ni(G,"rgba"),$e=cr(G)||"rgb";return"hsl"==$e.substr(0,3)?Qi(Js(_e),$e):(_e[0]=Lo(_e[0]),_e[1]=Lo(_e[1]),_e[2]=Lo(_e[2]),("rgba"===$e||_e.length>3&&_e[3]<1)&&(_e[3]=_e.length>3?_e[3]:1,$e="rgba"),$e+"("+_e.slice(0,"rgb"===$e?3:4).join(",")+")")},mn=k.unpack,un=Math.round,xi=function(){for(var G,se=[],_e=arguments.length;_e--;)se[_e]=arguments[_e];var rt,It,Rt,it=(se=mn(se,"hsl"))[1],mt=se[2];if(0===it)rt=It=Rt=255*mt;else{var dn=[0,0,0],Un=[0,0,0],Mi=mt<.5?mt*(1+it):mt+it-mt*it,Nn=2*mt-Mi,Vi=se[0]/360;dn[0]=Vi+1/3,dn[1]=Vi,dn[2]=Vi-1/3;for(var Wi=0;Wi<3;Wi++)dn[Wi]<0&&(dn[Wi]+=1),dn[Wi]>1&&(dn[Wi]-=1),Un[Wi]=6*dn[Wi]<1?Nn+6*(Mi-Nn)*dn[Wi]:2*dn[Wi]<1?Mi:3*dn[Wi]<2?Nn+(Mi-Nn)*(2/3-dn[Wi])*6:Nn;rt=(G=[un(255*Un[0]),un(255*Un[1]),un(255*Un[2])])[0],It=G[1],Rt=G[2]}return se.length>3?[rt,It,Rt,se[3]]:[rt,It,Rt,1]},Si=xi,Xt=j,Et=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Ht=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,vn=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Hn=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,zt=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,on=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,yn=Math.round,ti=function(G){var se;if(G=G.toLowerCase().trim(),Xt.format.named)try{return Xt.format.named(G)}catch{}if(se=G.match(Et)){for(var _e=se.slice(1,4),$e=0;$e<3;$e++)_e[$e]=+_e[$e];return _e[3]=1,_e}if(se=G.match(Ht)){for(var it=se.slice(1,5),mt=0;mt<4;mt++)it[mt]=+it[mt];return it}if(se=G.match(vn)){for(var rt=se.slice(1,4),It=0;It<3;It++)rt[It]=yn(2.55*rt[It]);return rt[3]=1,rt}if(se=G.match(Hn)){for(var Rt=se.slice(1,5),dn=0;dn<3;dn++)Rt[dn]=yn(2.55*Rt[dn]);return Rt[3]=+Rt[3],Rt}if(se=G.match(zt)){var Un=se.slice(1,4);Un[1]*=.01,Un[2]*=.01;var Mi=Si(Un);return Mi[3]=1,Mi}if(se=G.match(on)){var Nn=se.slice(1,4);Nn[1]*=.01,Nn[2]*=.01;var Vi=Si(Nn);return Vi[3]=+se[4],Vi}};ti.test=function(G){return Et.test(G)||Ht.test(G)||vn.test(G)||Hn.test(G)||zt.test(G)||on.test(G)};var ss=me,co=K,uo=j,Eo=k.type,Po=$t,Fs=ti;co.prototype.css=function(G){return Po(this._rgb,G)},ss.css=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];return new(Function.prototype.bind.apply(co,[null].concat(G,["css"])))},uo.format.css=Fs,uo.autodetect.push({p:5,test:function(G){for(var se=[],_e=arguments.length-1;_e-- >0;)se[_e]=arguments[_e+1];if(!se.length&&"string"===Eo(G)&&Fs.test(G))return"css"}});var js=K,aa=me,no=k.unpack;j.format.gl=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var _e=no(G,"rgba");return _e[0]*=255,_e[1]*=255,_e[2]*=255,_e},aa.gl=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];return new(Function.prototype.bind.apply(js,[null].concat(G,["gl"])))},js.prototype.gl=function(){var G=this._rgb;return[G[0]/255,G[1]/255,G[2]/255,G[3]]};var tl=k.unpack,Mc=k.unpack,Ma=Math.floor,Il=function(){for(var G,se,_e,$e,it,mt,rt=[],It=arguments.length;It--;)rt[It]=arguments[It];var Mi,Nn,Vi,Rt=(rt=Mc(rt,"hcg"))[0],dn=rt[1],Un=rt[2];Un*=255;var Wi=255*dn;if(0===dn)Mi=Nn=Vi=Un;else{360===Rt&&(Rt=0),Rt>360&&(Rt-=360),Rt<0&&(Rt+=360);var as=Ma(Rt/=60),hs=Rt-as,fs=Un*(1-dn),Ss=fs+Wi*(1-hs),ua=fs+Wi*hs,Ca=fs+Wi;switch(as){case 0:Mi=(G=[Ca,ua,fs])[0],Nn=G[1],Vi=G[2];break;case 1:Mi=(se=[Ss,Ca,fs])[0],Nn=se[1],Vi=se[2];break;case 2:Mi=(_e=[fs,Ca,ua])[0],Nn=_e[1],Vi=_e[2];break;case 3:Mi=($e=[fs,Ss,Ca])[0],Nn=$e[1],Vi=$e[2];break;case 4:Mi=(it=[ua,fs,Ca])[0],Nn=it[1],Vi=it[2];break;case 5:Mi=(mt=[Ca,fs,Ss])[0],Nn=mt[1],Vi=mt[2]}}return[Mi,Nn,Vi,rt.length>3?rt[3]:1]},bl=k.unpack,Oc=k.type,Ic=me,yr=K,pn=j,Vn=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var Mi,_e=tl(G,"rgb"),$e=_e[0],it=_e[1],mt=_e[2],rt=Math.min($e,it,mt),It=Math.max($e,it,mt),Rt=It-rt;return 0===Rt?Mi=Number.NaN:($e===It&&(Mi=(it-mt)/Rt),it===It&&(Mi=2+(mt-$e)/Rt),mt===It&&(Mi=4+($e-it)/Rt),(Mi*=60)<0&&(Mi+=360)),[Mi,100*Rt/255,rt/(255-Rt)*100]};yr.prototype.hcg=function(){return Vn(this._rgb)},Ic.hcg=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];return new(Function.prototype.bind.apply(yr,[null].concat(G,["hcg"])))},pn.format.hcg=Il,pn.autodetect.push({p:1,test:function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];if(G=bl(G,"hcg"),"array"===Oc(G)&&3===G.length)return"hcg"}});var fr=k.unpack,Ne=k.last,ii=Math.round,$i=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var _e=fr(G,"rgba"),$e=_e[0],it=_e[1],mt=_e[2],rt=_e[3],It=Ne(G)||"auto";void 0===rt&&(rt=1),"auto"===It&&(It=rt<1?"rgba":"rgb");var dn="000000"+(($e=ii($e))<<16|(it=ii(it))<<8|(mt=ii(mt))).toString(16);dn=dn.substr(dn.length-6);var Un="0"+ii(255*rt).toString(16);switch(Un=Un.substr(Un.length-2),It.toLowerCase()){case"rgba":return"#"+dn+Un;case"argb":return"#"+Un+dn;default:return"#"+dn}},kr=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,ai=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Ao=function(G){if(G.match(kr)){(4===G.length||7===G.length)&&(G=G.substr(1)),3===G.length&&(G=(G=G.split(""))[0]+G[0]+G[1]+G[1]+G[2]+G[2]);var se=parseInt(G,16);return[se>>16,se>>8&255,255&se,1]}if(G.match(ai)){(5===G.length||9===G.length)&&(G=G.substr(1)),4===G.length&&(G=(G=G.split(""))[0]+G[0]+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]);var mt=parseInt(G,16);return[mt>>24&255,mt>>16&255,mt>>8&255,Math.round((255&mt)/255*100)/100]}throw new Error("unknown hex color: "+G)},ho=me,Lr=K,nl=k.type,er=j,io=$i;Lr.prototype.hex=function(G){return io(this._rgb,G)},ho.hex=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];return new(Function.prototype.bind.apply(Lr,[null].concat(G,["hex"])))},er.format.hex=Ao,er.autodetect.push({p:4,test:function(G){for(var se=[],_e=arguments.length-1;_e-- >0;)se[_e]=arguments[_e+1];if(!se.length&&"string"===nl(G)&&[3,4,5,6,7,8,9].indexOf(G.length)>=0)return"hex"}});var $r=k.unpack,Mo=k.TWOPI,Go=Math.min,$a=Math.sqrt,ga=Math.acos,il=k.unpack,Kr=k.limit,Oa=k.TWOPI,Kl=k.PITHIRD,Br=Math.cos,bs=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var mt,rt,It,_e=(G=il(G,"hsi"))[0],$e=G[1],it=G[2];return isNaN(_e)&&(_e=0),isNaN($e)&&($e=0),_e>360&&(_e-=360),_e<0&&(_e+=360),(_e/=360)<1/3?rt=1-((It=(1-$e)/3)+(mt=(1+$e*Br(Oa*_e)/Br(Kl-Oa*_e))/3)):_e<2/3?It=1-((mt=(1-$e)/3)+(rt=(1+$e*Br(Oa*(_e-=1/3))/Br(Kl-Oa*_e))/3)):mt=1-((rt=(1-$e)/3)+(It=(1+$e*Br(Oa*(_e-=2/3))/Br(Kl-Oa*_e))/3)),[255*(mt=Kr(it*mt*3)),255*(rt=Kr(it*rt*3)),255*(It=Kr(it*It*3)),G.length>3?G[3]:1]},hc=k.unpack,Kn=k.type,vs=me,Zi=K,zi=j,Ia=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var rt,_e=$r(G,"rgb"),$e=_e[0],it=_e[1],mt=_e[2],It=Go($e/=255,it/=255,mt/=255),Rt=($e+it+mt)/3,dn=Rt>0?1-It/Rt:0;return 0===dn?rt=NaN:(rt=($e-it+($e-mt))/2,rt/=$a(($e-it)*($e-it)+($e-mt)*(it-mt)),rt=ga(rt),mt>it&&(rt=Mo-rt),rt/=Mo),[360*rt,dn,Rt]};Zi.prototype.hsi=function(){return Ia(this._rgb)},vs.hsi=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];return new(Function.prototype.bind.apply(Zi,[null].concat(G,["hsi"])))},zi.format.hsi=bs,zi.autodetect.push({p:2,test:function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];if(G=hc(G,"hsi"),"array"===Kn(G)&&3===G.length)return"hsi"}});var fo=k.unpack,ws=k.type,ma=me,Me=K,Fo=j,Ct=Oi;Me.prototype.hsl=function(){return Ct(this._rgb)},ma.hsl=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];return new(Function.prototype.bind.apply(Me,[null].concat(G,["hsl"])))},Fo.format.hsl=xi,Fo.autodetect.push({p:2,test:function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];if(G=fo(G,"hsl"),"array"===ws(G)&&3===G.length)return"hsl"}});var Xe=k.unpack,gn=Math.min,Vt=Math.max,Gi=k.unpack,os=Math.floor,Yi=function(){for(var G,se,_e,$e,it,mt,rt=[],It=arguments.length;It--;)rt[It]=arguments[It];var Mi,Nn,Vi,Rt=(rt=Gi(rt,"hsv"))[0],dn=rt[1],Un=rt[2];if(Un*=255,0===dn)Mi=Nn=Vi=Un;else{360===Rt&&(Rt=0),Rt>360&&(Rt-=360),Rt<0&&(Rt+=360);var Wi=os(Rt/=60),as=Rt-Wi,hs=Un*(1-dn),fs=Un*(1-dn*as),Ss=Un*(1-dn*(1-as));switch(Wi){case 0:Mi=(G=[Un,Ss,hs])[0],Nn=G[1],Vi=G[2];break;case 1:Mi=(se=[fs,Un,hs])[0],Nn=se[1],Vi=se[2];break;case 2:Mi=(_e=[hs,Un,Ss])[0],Nn=_e[1],Vi=_e[2];break;case 3:Mi=($e=[hs,fs,Un])[0],Nn=$e[1],Vi=$e[2];break;case 4:Mi=(it=[Ss,hs,Un])[0],Nn=it[1],Vi=it[2];break;case 5:Mi=(mt=[Un,hs,fs])[0],Nn=mt[1],Vi=mt[2]}}return[Mi,Nn,Vi,rt.length>3?rt[3]:1]},ea=k.unpack,tu=k.type,Bo=me,Nl=K,sr=j,En=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var Rt,dn,_e=(G=Xe(G,"rgb"))[0],$e=G[1],it=G[2],mt=gn(_e,$e,it),rt=Vt(_e,$e,it),It=rt-mt;return 0===rt?(Rt=Number.NaN,dn=0):(dn=It/rt,_e===rt&&(Rt=($e-it)/It),$e===rt&&(Rt=2+(it-_e)/It),it===rt&&(Rt=4+(_e-$e)/It),(Rt*=60)<0&&(Rt+=360)),[Rt,dn,rt/255]};Nl.prototype.hsv=function(){return En(this._rgb)},Bo.hsv=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];return new(Function.prototype.bind.apply(Nl,[null].concat(G,["hsv"])))},sr.format.hsv=Yi,sr.autodetect.push({p:2,test:function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];if(G=ea(G,"hsv"),"array"===tu(G)&&3===G.length)return"hsv"}});var Zl={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Sr=Zl,Nc=k.unpack,dh=Math.pow,Rl=function(G){return(G/=255)<=.04045?G/12.92:dh((G+.055)/1.055,2.4)},nu=function(G){return G>Sr.t3?dh(G,1/3):G/Sr.t2+Sr.t0},Fu=function(G,se,_e){return G=Rl(G),se=Rl(se),_e=Rl(_e),[nu((.4124564*G+.3575761*se+.1804375*_e)/Sr.Xn),nu((.2126729*G+.7151522*se+.072175*_e)/Sr.Yn),nu((.0193339*G+.119192*se+.9503041*_e)/Sr.Zn)]},pd=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var _e=Nc(G,"rgb"),rt=Fu(_e[0],_e[1],_e[2]),Rt=rt[1],Un=116*Rt-16;return[Un<0?0:Un,500*(rt[0]-Rt),200*(Rt-rt[2])]},bu=Zl,vu=k.unpack,Ci=Math.pow,wl=function(G){return 255*(G<=.00304?12.92*G:1.055*Ci(G,1/2.4)-.055)},wu=function(G){return G>bu.t1?G*G*G:bu.t2*(G-bu.t0)},Bu=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var mt,rt,It,$e=(G=vu(G,"lab"))[1],it=G[2];return rt=(G[0]+16)/116,mt=isNaN($e)?rt:rt+$e/500,It=isNaN(it)?rt:rt-it/200,rt=bu.Yn*wu(rt),mt=bu.Xn*wu(mt),It=bu.Zn*wu(It),[wl(3.2404542*mt-1.5371385*rt-.4985314*It),wl(-.969266*mt+1.8760108*rt+.041556*It),wl(.0556434*mt-.2040259*rt+1.0572252*It),G.length>3?G[3]:1]},hh=k.unpack,Xi=k.type,kt=me,Gn=K,mi=j,Ms=pd;Gn.prototype.lab=function(){return Ms(this._rgb)},kt.lab=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];return new(Function.prototype.bind.apply(Gn,[null].concat(G,["lab"])))},mi.format.lab=Bu,mi.autodetect.push({p:2,test:function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];if(G=hh(G,"lab"),"array"===Xi(G)&&3===G.length)return"lab"}});var ta=k.unpack,Xs=k.RAD2DEG,qs=Math.sqrt,Vu=Math.atan2,Xo=Math.round,_a=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var _e=ta(G,"lab"),$e=_e[0],it=_e[1],mt=_e[2],rt=qs(it*it+mt*mt),It=(Vu(mt,it)*Xs+360)%360;return 0===Xo(1e4*rt)&&(It=Number.NaN),[$e,rt,It]},Na=k.unpack,Nr=pd,Cs=_a,up=k.unpack,_m=k.DEG2RAD,ym=Math.sin,dp=Math.cos,ff=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var _e=up(G,"lch"),$e=_e[0],it=_e[1],mt=_e[2];return isNaN(mt)&&(mt=0),[$e,dp(mt*=_m)*it,ym(mt)*it]},bg=k.unpack,Bs=ff,Pd=Bu,iu=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];G=bg(G,"lch");var mt=Bs(G[0],G[1],G[2]),dn=Pd(mt[0],mt[1],mt[2]);return[dn[0],dn[1],dn[2],G.length>3?G[3]:1]},Cu=k.unpack,Fd=iu,gf=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var _e=Cu(G,"hcl").reverse();return Fd.apply(void 0,_e)},Wa=k.unpack,hp=k.type,fp=me,ru=K,fh=j,su=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var _e=Na(G,"rgb"),rt=Nr(_e[0],_e[1],_e[2]);return Cs(rt[0],rt[1],rt[2])};ru.prototype.lch=function(){return su(this._rgb)},ru.prototype.hcl=function(){return su(this._rgb).reverse()},fp.lch=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];return new(Function.prototype.bind.apply(ru,[null].concat(G,["lch"])))},fp.hcl=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];return new(Function.prototype.bind.apply(ru,[null].concat(G,["hcl"])))},fh.format.lch=iu,fh.format.hcl=gf,["lch","hcl"].forEach(function(G){return fh.autodetect.push({p:2,test:function(){for(var se=[],_e=arguments.length;_e--;)se[_e]=arguments[_e];if(se=Wa(se,G),"array"===hp(se)&&3===se.length)return G}})});var di={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Wt=j,_f=k.type,ju=di,Bd=Ao,gd=$i;K.prototype.name=function(){for(var G=gd(this._rgb,"rgb"),se=0,_e=Object.keys(ju);se<_e.length;se+=1){var $e=_e[se];if(ju[$e]===G)return $e.toLowerCase()}return G},Wt.format.named=function(G){if(G=G.toLowerCase(),ju[G])return Bd(ju[G]);throw new Error("unknown color name: "+G)},Wt.autodetect.push({p:5,test:function(G){for(var se=[],_e=arguments.length-1;_e-- >0;)se[_e]=arguments[_e+1];if(!se.length&&"string"===_f(G)&&ju[G.toLowerCase()])return"named"}});var wg=k.unpack,Tu=k.type,bm=me,Du=K,mh=j,ca=k.type,fc=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var _e=wg(G,"rgb");return(_e[0]<<16)+(_e[1]<<8)+_e[2]};Du.prototype.num=function(){return fc(this._rgb)},bm.num=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];return new(Function.prototype.bind.apply(Du,[null].concat(G,["num"])))},mh.format.num=function(G){if("number"==Tu(G)&&G>=0&&G<=16777215)return[G>>16,G>>8&255,255&G,1];throw new Error("unknown num color: "+G)},mh.autodetect.push({p:5,test:function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];if(1===G.length&&"number"===ca(G[0])&&G[0]>=0&&G[0]<=16777215)return"num"}});var yf=me,Uu=K,_h=j,Pl=k.unpack,Cg=k.type,Vd=Math.round;Uu.prototype.rgb=function(G){return void 0===G&&(G=!0),!1===G?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Vd)},Uu.prototype.rgba=function(G){return void 0===G&&(G=!0),this._rgb.slice(0,4).map(function(se,_e){return _e<3?!1===G?se:Vd(se):se})},yf.rgb=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];return new(Function.prototype.bind.apply(Uu,[null].concat(G,["rgb"])))},_h.format.rgb=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var _e=Pl(G,"rgba");return void 0===_e[3]&&(_e[3]=1),_e},_h.autodetect.push({p:3,test:function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];if(G=Pl(G,"rgba"),"array"===Cg(G)&&(3===G.length||4===G.length&&"number"==Cg(G[3])&&G[3]>=0&&G[3]<=1))return"rgb"}});var yh=Math.log,Hd=function(G){var _e,$e,it,se=G/100;return se<66?(_e=255,$e=se<6?0:-155.25485562709179-.44596950469579133*($e=se-2)+104.49216199393888*yh($e),it=se<20?0:.8274096064007395*(it=se-10)-254.76935184120902+115.67994401066147*yh(it)):(_e=351.97690566805693+.114206453784165*(_e=se-55)-40.25366309332127*yh(_e),$e=325.4494125711974+.07943456536662342*($e=se-50)-28.0852963507957*yh($e),it=255),[_e,$e,it,1]},jd=Hd,pp=k.unpack,gp=Math.round,zu=me,ou=K,Yu=j,bh=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];for(var Rt,_e=pp(G,"rgb"),$e=_e[0],it=_e[2],mt=1e3,rt=4e4;rt-mt>.4;){var dn=jd(Rt=.5*(rt+mt));dn[2]/dn[0]>=it/$e?rt=Rt:mt=Rt}return gp(Rt)};ou.prototype.temp=ou.prototype.kelvin=ou.prototype.temperature=function(){return bh(this._rgb)},zu.temp=zu.kelvin=zu.temperature=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];return new(Function.prototype.bind.apply(ou,[null].concat(G,["temp"])))},Yu.format.temp=Yu.format.kelvin=Yu.format.temperature=Hd;var mp=k.unpack,gc=Math.cbrt,ds=Math.pow,_p=Math.sign,bp=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var _e=mp(G,"rgb"),it=_e[1],mt=_e[2],rt=[vh(_e[0]/255),vh(it/255),vh(mt/255)],It=rt[0],Rt=rt[1],dn=rt[2],Un=gc(.4122214708*It+.5363325363*Rt+.0514459929*dn),Mi=gc(.2119034982*It+.6806995451*Rt+.1073969566*dn),Nn=gc(.0883024619*It+.2817188376*Rt+.6299787005*dn);return[.2104542553*Un+.793617785*Mi-.0040720468*Nn,1.9779984951*Un-2.428592205*Mi+.4505937099*Nn,.0259040371*Un+.7827717662*Mi-.808675766*Nn]};function vh(G){var se=Math.abs(G);return se<.04045?G/12.92:(_p(G)||1)*ds((se+.055)/1.055,2.4)}var au=k.unpack,wh=Math.pow,Tg=Math.sign,_d=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var _e=(G=au(G,"lab"))[0],$e=G[1],it=G[2],mt=wh(_e+.3963377774*$e+.2158037573*it,3),rt=wh(_e-.1055613458*$e-.0638541728*it,3),It=wh(_e-.0894841775*$e-1.291485548*it,3);return[255*bf(4.0767416621*mt-3.3077115913*rt+.2309699292*It),255*bf(-1.2684380046*mt+2.6097574011*rt-.3413193965*It),255*bf(-.0041960863*mt-.7034186147*rt+1.707614701*It),G.length>3?G[3]:1]};function bf(G){var se=Math.abs(G);return se>.0031308?(Tg(G)||1)*(1.055*wh(se,1/2.4)-.055):12.92*G}var Dg=k.unpack,Bl=k.type,vp=me,vf=K,wp=j,xg=bp;vf.prototype.oklab=function(){return xg(this._rgb)},vp.oklab=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];return new(Function.prototype.bind.apply(vf,[null].concat(G,["oklab"])))},wp.format.oklab=_d,wp.autodetect.push({p:3,test:function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];if(G=Dg(G,"oklab"),"array"===Bl(G)&&3===G.length)return"oklab"}});var vm=k.unpack,wm=bp,Cp=_a,Lc=k.unpack,wr=ff,Vl=_d,Ts=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];G=Lc(G,"lch");var mt=wr(G[0],G[1],G[2]),dn=Vl(mt[0],mt[1],mt[2]);return[dn[0],dn[1],dn[2],G.length>3?G[3]:1]},Sg=k.unpack,li=k.type,ya=me,ns=K,na=j,ba=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];var _e=vm(G,"rgb"),rt=wm(_e[0],_e[1],_e[2]);return Cp(rt[0],rt[1],rt[2])};ns.prototype.oklch=function(){return ba(this._rgb)},ya.oklch=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];return new(Function.prototype.bind.apply(ns,[null].concat(G,["oklch"])))},na.format.oklch=Ts,na.autodetect.push({p:3,test:function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];if(G=Sg(G,"oklch"),"array"===li(G)&&3===G.length)return"oklch"}});var Ql=K,sl=k.type;Ql.prototype.alpha=function(G,se){return void 0===se&&(se=!1),void 0!==G&&"number"===sl(G)?se?(this._rgb[3]=G,this):new Ql([this._rgb[0],this._rgb[1],this._rgb[2],G],"rgb"):this._rgb[3]},K.prototype.clipped=function(){return this._rgb._clipped||!1};var qi=K,yd=Zl;qi.prototype.darken=function(G){void 0===G&&(G=1);var _e=this.lab();return _e[0]-=yd.Kn*G,new qi(_e,"lab").alpha(this.alpha(),!0)},qi.prototype.brighten=function(G){return void 0===G&&(G=1),this.darken(-G)},qi.prototype.darker=qi.prototype.darken,qi.prototype.brighter=qi.prototype.brighten,K.prototype.get=function(G){var se=G.split("."),_e=se[0],$e=se[1],it=this[_e]();if($e){var mt=_e.indexOf($e)-("ok"===_e.substr(0,2)?2:0);if(mt>-1)return it[mt];throw new Error("unknown channel "+$e+" in mode "+_e)}return it};var Jl=K,Wu=k.type,zd=Math.pow;Jl.prototype.luminance=function(G){if(void 0!==G&&"number"===Wu(G)){if(0===G)return new Jl([0,0,0,this._rgb[3]],"rgb");if(1===G)return new Jl([255,255,255,this._rgb[3]],"rgb");var se=this.luminance(),$e=20,it=function(rt,It){var Rt=rt.interpolate(It,.5,"rgb"),dn=Rt.luminance();return Math.abs(G-dn)<1e-7||!$e--?Rt:dn>G?it(rt,Rt):it(Rt,It)},mt=(se>G?it(new Jl([0,0,0]),this):it(this,new Jl([255,255,255]))).rgb();return new Jl(mt.concat([this._rgb[3]]))}return bd.apply(void 0,this._rgb.slice(0,3))};var bd=function(G,se,_e){return.2126*(G=wf(G))+.7152*(se=wf(se))+.0722*wf(_e)},wf=function(G){return(G/=255)<=.03928?G/12.92:zd((G+.055)/1.055,2.4)},Cl={},Ag=K,Cf=k.type,Th=Cl,xp=function(G,se,_e){void 0===_e&&(_e=.5);for(var $e=[],it=arguments.length-3;it-- >0;)$e[it]=arguments[it+3];var mt=$e[0]||"lrgb";if(!Th[mt]&&!$e.length&&(mt=Object.keys(Th)[0]),!Th[mt])throw new Error("interpolation mode "+mt+" is not defined");return"object"!==Cf(G)&&(G=new Ag(G)),"object"!==Cf(se)&&(se=new Ag(se)),Th[mt](G,se,_e).alpha(G.alpha()+_e*(se.alpha()-G.alpha()))},Cm=xp;K.prototype.mix=K.prototype.interpolate=function(G,se){void 0===se&&(se=.5);for(var _e=[],$e=arguments.length-2;$e-- >0;)_e[$e]=arguments[$e+2];return Cm.apply(void 0,[this,G,se].concat(_e))};var Tf=K;Tf.prototype.premultiply=function(G){void 0===G&&(G=!1);var se=this._rgb,_e=se[3];return G?(this._rgb=[se[0]*_e,se[1]*_e,se[2]*_e,_e],this):new Tf([se[0]*_e,se[1]*_e,se[2]*_e,_e],"rgb")};var Yd=K,Tm=Zl;Yd.prototype.saturate=function(G){void 0===G&&(G=1);var _e=this.lch();return _e[1]+=Tm.Kn*G,_e[1]<0&&(_e[1]=0),new Yd(_e,"lch").alpha(this.alpha(),!0)},Yd.prototype.desaturate=function(G){return void 0===G&&(G=1),this.saturate(-G)};var ku=K,ec=k.type;ku.prototype.set=function(G,se,_e){void 0===_e&&(_e=!1);var $e=G.split("."),it=$e[0],mt=$e[1],rt=this[it]();if(mt){var It=it.indexOf(mt)-("ok"===it.substr(0,2)?2:0);if(It>-1){if("string"==ec(se))switch(se.charAt(0)){case"+":case"-":rt[It]+=+se;break;case"*":rt[It]*=+se.substr(1);break;case"/":rt[It]/=+se.substr(1);break;default:rt[It]=+se}else{if("number"!==ec(se))throw new Error("unsupported value for Color.set");rt[It]=se}var Rt=new ku(rt,it);return _e?(this._rgb=Rt._rgb,this):Rt}throw new Error("unknown channel "+mt+" in mode "+it)}return rt};var Hl=K;Cl.rgb=function(G,se,_e){var $e=G._rgb,it=se._rgb;return new Hl($e[0]+_e*(it[0]-$e[0]),$e[1]+_e*(it[1]-$e[1]),$e[2]+_e*(it[2]-$e[2]),"rgb")};var Pc=K,Mg=Math.sqrt,Dh=Math.pow;Cl.lrgb=function(G,se,_e){var $e=G._rgb,mt=$e[1],rt=$e[2],It=se._rgb,Rt=It[0],dn=It[1],Un=It[2];return new Pc(Mg(Dh($e[0],2)*(1-_e)+Dh(Rt,2)*_e),Mg(Dh(mt,2)*(1-_e)+Dh(dn,2)*_e),Mg(Dh(rt,2)*(1-_e)+Dh(Un,2)*_e),"rgb")};var $d=K;Cl.lab=function(G,se,_e){var $e=G.lab(),it=se.lab();return new $d($e[0]+_e*(it[0]-$e[0]),$e[1]+_e*(it[1]-$e[1]),$e[2]+_e*(it[2]-$e[2]),"lab")};var kp=K,wd=function(G,se,_e,$e){var it,mt,rt,It,Rt,dn,Un,Mi,Nn,Vi,Wi,as,hs;return"hsl"===$e?(rt=G.hsl(),It=se.hsl()):"hsv"===$e?(rt=G.hsv(),It=se.hsv()):"hcg"===$e?(rt=G.hcg(),It=se.hcg()):"hsi"===$e?(rt=G.hsi(),It=se.hsi()):"lch"===$e||"hcl"===$e?($e="hcl",rt=G.hcl(),It=se.hcl()):"oklch"===$e&&(rt=G.oklch().reverse(),It=se.oklch().reverse()),("h"===$e.substr(0,1)||"oklch"===$e)&&(Rt=(it=rt)[0],Un=it[1],Nn=it[2],dn=(mt=It)[0],Mi=mt[1],Vi=mt[2]),isNaN(Rt)||isNaN(dn)?isNaN(Rt)?isNaN(dn)?as=Number.NaN:(as=dn,(1==Nn||0==Nn)&&"hsv"!=$e&&(Wi=Mi)):(as=Rt,(1==Vi||0==Vi)&&"hsv"!=$e&&(Wi=Un)):as=Rt+_e*(dn>Rt&&dn-Rt>180?dn-(Rt+360):dn<Rt&&Rt-dn>180?dn+360-Rt:dn-Rt),void 0===Wi&&(Wi=Un+_e*(Mi-Un)),hs=Nn+_e*(Vi-Nn),new kp("oklch"===$e?[hs,Wi,as]:[as,Wi,hs],$e)},xh=wd,Fc=function(G,se,_e){return xh(G,se,_e,"lch")};Cl.lch=Fc,Cl.hcl=Fc;var mc=K;Cl.num=function(G,se,_e){var $e=G.num(),it=se.num();return new mc($e+_e*(it-$e),"num")};var Z=wd;Cl.hcg=function(G,se,_e){return Z(G,se,_e,"hcg")};var be=wd;Cl.hsi=function(G,se,_e){return be(G,se,_e,"hsi")};var Le=wd;Cl.hsl=function(G,se,_e){return Le(G,se,_e,"hsl")};var vt=wd;Cl.hsv=function(G,se,_e){return vt(G,se,_e,"hsv")};var rn=K;Cl.oklab=function(G,se,_e){var $e=G.oklab(),it=se.oklab();return new rn($e[0]+_e*(it[0]-$e[0]),$e[1]+_e*(it[1]-$e[1]),$e[2]+_e*(it[2]-$e[2]),"oklab")};var ri=wd;Cl.oklch=function(G,se,_e){return ri(G,se,_e,"oklch")};var Pr=K,Is=k.clip_rgb,Oo=Math.pow,so=Math.sqrt,Xn=Math.PI,pr=Math.cos,va=Math.sin,ol=Math.atan2,Bc=function(G,se){for(var _e=G.length,$e=[0,0,0,0],it=0;it<G.length;it++){var rt=se[it]/_e,It=G[it]._rgb;$e[0]+=Oo(It[0],2)*rt,$e[1]+=Oo(It[1],2)*rt,$e[2]+=Oo(It[2],2)*rt,$e[3]+=It[3]*rt}return $e[0]=so($e[0]),$e[1]=so($e[1]),$e[2]=so($e[2]),$e[3]>.9999999&&($e[3]=1),new Pr(Is($e))},al=me,oo=k.type,ll=Math.pow,tc=function(G){var se="rgb",_e=al("#ccc"),$e=0,it=[0,1],mt=[],rt=[0,0],It=!1,Rt=[],dn=!1,Un=0,Mi=1,Nn=!1,Vi={},Wi=!0,as=1,hs=function(Mn){if((Mn=Mn||["#fff","#000"])&&"string"===oo(Mn)&&al.brewer&&al.brewer[Mn.toLowerCase()]&&(Mn=al.brewer[Mn.toLowerCase()]),"array"===oo(Mn)){1===Mn.length&&(Mn=[Mn[0],Mn[0]]),Mn=Mn.slice(0);for(var Er=0;Er<Mn.length;Er++)Mn[Er]=al(Mn[Er]);mt.length=0;for(var ps=0;ps<Mn.length;ps++)mt.push(ps/(Mn.length-1))}return Ba(),Rt=Mn},Ss=function(Mn){return Mn},ua=function(Mn){return Mn},Ca=function(Mn,Er){var ps,gs;if(null==Er&&(Er=!1),isNaN(Mn)||null===Mn)return _e;gs=Er?Mn:It&&It.length>2?function(Mn){if(null!=It){for(var Er=It.length-1,ps=0;ps<Er&&Mn>=It[ps];)ps++;return ps-1}return 0}(Mn)/(It.length-2):Mi!==Un?(Mn-Un)/(Mi-Un):1,gs=ua(gs),Er||(gs=Ss(gs)),1!==as&&(gs=ll(gs,as)),gs=rt[0]+gs*(1-rt[0]-rt[1]),gs=Math.min(1,Math.max(0,gs));var ko=Math.floor(1e4*gs);if(Wi&&Vi[ko])ps=Vi[ko];else{if("array"===oo(Rt))for(var ls=0;ls<mt.length;ls++){var Fr=mt[ls];if(gs<=Fr){ps=Rt[ls];break}if(gs>=Fr&&ls===mt.length-1){ps=Rt[ls];break}if(gs>Fr&&gs<mt[ls+1]){ps=al.interpolate(Rt[ls],Rt[ls+1],gs=(gs-Fr)/(mt[ls+1]-Fr),se);break}}else"function"===oo(Rt)&&(ps=Rt(gs));Wi&&(Vi[ko]=ps)}return ps},Ba=function(){return Vi={}};hs(G);var si=function(Mn){var Er=al(Ca(Mn));return dn&&Er[dn]?Er[dn]():Er};return si.classes=function(Mn){if(null!=Mn){if("array"===oo(Mn))It=Mn,it=[Mn[0],Mn[Mn.length-1]];else{var Er=al.analyze(it);It=0===Mn?[Er.min,Er.max]:al.limits(Er,"e",Mn)}return si}return It},si.domain=function(Mn){if(!arguments.length)return it;Un=Mn[0],Mi=Mn[Mn.length-1],mt=[];var Er=Rt.length;if(Mn.length===Er&&Un!==Mi)for(var ps=0,gs=Array.from(Mn);ps<gs.length;ps+=1)mt.push((gs[ps]-Un)/(Mi-Un));else{for(var ko=0;ko<Er;ko++)mt.push(ko/(Er-1));if(Mn.length>2){var ls=Mn.map(function(Zr,Ks){return Ks/(Mn.length-1)}),Fr=Mn.map(function(Zr){return(Zr-Un)/(Mi-Un)});Fr.every(function(Zr,Ks){return ls[Ks]===Zr})||(ua=function(Zr){if(Zr<=0||Zr>=1)return Zr;for(var Ks=0;Zr>=Fr[Ks+1];)Ks++;return ls[Ks]+(Zr-Fr[Ks])/(Fr[Ks+1]-Fr[Ks])*(ls[Ks+1]-ls[Ks])})}}return it=[Un,Mi],si},si.mode=function(Mn){return arguments.length?(se=Mn,Ba(),si):se},si.range=function(Mn,Er){return hs(Mn),si},si.out=function(Mn){return dn=Mn,si},si.spread=function(Mn){return arguments.length?($e=Mn,si):$e},si.correctLightness=function(Mn){return null==Mn&&(Mn=!0),Nn=Mn,Ba(),Ss=Nn?function(Er){for(var ps=Ca(0,!0).lab()[0],gs=Ca(1,!0).lab()[0],cl=ps>gs,ko=Ca(Er,!0).lab()[0],ls=ps+(gs-ps)*Er,Fr=ko-ls,Zr=0,Ks=1,po=20;Math.abs(Fr)>.01&&po-- >0;)cl&&(Fr*=-1),Fr<0?(Zr=Er,Er+=.5*(Ks-Er)):(Ks=Er,Er+=.5*(Zr-Er)),Fr=(ko=Ca(Er,!0).lab()[0])-ls;return Er}:function(Er){return Er},si},si.padding=function(Mn){return null!=Mn?("number"===oo(Mn)&&(Mn=[Mn,Mn]),rt=Mn,si):rt},si.colors=function(Mn,Er){arguments.length<2&&(Er="hex");var ps=[];if(0===arguments.length)ps=Rt.slice(0);else if(1===Mn)ps=[si(.5)];else if(Mn>1){var gs=it[0],cl=it[1]-gs;ps=function Vr(G,se,_e){for(var $e=[],it=G<se,mt=_e?it?se+1:se-1:se,rt=G;it?rt<mt:rt>mt;it?rt++:rt--)$e.push(rt);return $e}(0,Mn,!1).map(function(Ks){return si(gs+Ks/(Mn-1)*cl)})}else{G=[];var ko=[];if(It&&It.length>2)for(var ls=1,Fr=It.length,Zr=1<=Fr;Zr?ls<Fr:ls>Fr;Zr?ls++:ls--)ko.push(.5*(It[ls-1]+It[ls]));else ko=it;ps=ko.map(function(Ks){return si(Ks)})}return al[Er]&&(ps=ps.map(function(Ks){return Ks[Er]()})),ps},si.cache=function(Mn){return null!=Mn?(Wi=Mn,si):Wi},si.gamma=function(Mn){return null!=Mn?(as=Mn,si):as},si.nodata=function(Mn){return null!=Mn?(_e=al(Mn),si):_e},si};var Wd=K,Ig=tc,lu=me,Ra=function(G,se,_e){if(!Ra[_e])throw new Error("unknown blend mode "+_e);return Ra[_e](G,se)},Ga=function(G){return function(se,_e){var $e=lu(_e).rgb(),it=lu(se).rgb();return lu.rgb(G($e,it))}},Vc=function(G){return function(se,_e){var $e=[];return $e[0]=G(se[0],_e[0]),$e[1]=G(se[1],_e[1]),$e[2]=G(se[2],_e[2]),$e}};Ra.normal=Ga(Vc(function(G){return G})),Ra.multiply=Ga(Vc(function(G,se){return G*se/255})),Ra.screen=Ga(Vc(function(G,se){return 255*(1-(1-G/255)*(1-se/255))})),Ra.overlay=Ga(Vc(function(G,se){return se<128?2*G*se/255:255*(1-2*(1-G/255)*(1-se/255))})),Ra.darken=Ga(Vc(function(G,se){return G>se?se:G})),Ra.lighten=Ga(Vc(function(G,se){return G>se?G:se})),Ra.dodge=Ga(Vc(function(G,se){return 255===G||(G=se/255*255/(1-G/255))>255?255:G})),Ra.burn=Ga(Vc(function(G,se){return 255*(1-(1-se/255)/(G/255))}));for(var Cd=Ra,vo=k.type,Td=k.clip_rgb,La=k.TWOPI,rc=Math.pow,Ep=Math.sin,Ul=Math.cos,Sh=me,ft=K,xm=Math.floor,Eh=Math.random,Ah=S,Ng=Math.log,Sm=Math.pow,$0=Math.floor,Em=Math.abs,Su=function(G,se){void 0===se&&(se=null);var _e={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===Ah(G)&&(G=Object.values(G)),G.forEach(function($e){se&&"object"===Ah($e)&&($e=$e[se]),null!=$e&&!isNaN($e)&&(_e.values.push($e),_e.sum+=$e,$e<_e.min&&(_e.min=$e),$e>_e.max&&(_e.max=$e),_e.count+=1)}),_e.domain=[_e.min,_e.max],_e.limits=function($e,it){return Mh(_e,$e,it)},_e},Mh=function(G,se,_e){void 0===se&&(se="equal"),void 0===_e&&(_e=7),"array"==Ah(G)&&(G=Su(G));var $e=G.min,it=G.max,mt=G.values.sort(function(yc,Nh){return yc-Nh});if(1===_e)return[$e,it];var rt=[];if("c"===se.substr(0,1)&&(rt.push($e),rt.push(it)),"e"===se.substr(0,1)){rt.push($e);for(var It=1;It<_e;It++)rt.push($e+It/_e*(it-$e));rt.push(it)}else if("l"===se.substr(0,1)){if($e<=0)throw new Error("Logarithmic scales are only possible for values > 0");var Rt=Math.LOG10E*Ng($e),dn=Math.LOG10E*Ng(it);rt.push($e);for(var Un=1;Un<_e;Un++)rt.push(Sm(10,Rt+Un/_e*(dn-Rt)));rt.push(it)}else if("q"===se.substr(0,1)){rt.push($e);for(var Mi=1;Mi<_e;Mi++){var Nn=(mt.length-1)*Mi/_e,Vi=$0(Nn);if(Vi===Nn)rt.push(mt[Vi]);else{var Wi=Nn-Vi;rt.push(mt[Vi]*(1-Wi)+mt[Vi+1]*Wi)}}rt.push(it)}else if("k"===se.substr(0,1)){var as,hs=mt.length,fs=new Array(hs),Ss=new Array(_e),ua=!0,Ca=0,Ba=null;(Ba=[]).push($e);for(var si=1;si<_e;si++)Ba.push($e+si/_e*(it-$e));for(Ba.push(it);ua;){for(var Mn=0;Mn<_e;Mn++)Ss[Mn]=0;for(var Er=0;Er<hs;Er++)for(var ps=mt[Er],gs=Number.MAX_VALUE,cl=void 0,ko=0;ko<_e;ko++){var ls=Em(Ba[ko]-ps);ls<gs&&(gs=ls,cl=ko),Ss[cl]++,fs[Er]=cl}for(var Fr=new Array(_e),Zr=0;Zr<_e;Zr++)Fr[Zr]=null;for(var Ks=0;Ks<hs;Ks++)null===Fr[as=fs[Ks]]?Fr[as]=mt[Ks]:Fr[as]+=mt[Ks];for(var po=0;po<_e;po++)Fr[po]*=1/Ss[po];ua=!1;for(var Vo=0;Vo<_e;Vo++)if(Fr[Vo]!==Ba[Vo]){ua=!0;break}Ba=Fr,++Ca>200&&(ua=!1)}for(var sn={},ur=0;ur<_e;ur++)sn[ur]=[];for(var At=0;At<hs;At++)sn[as=fs[At]].push(mt[At]);for(var St=[],Ns=0;Ns<_e;Ns++)St.push(sn[Ns][0]),St.push(sn[Ns][sn[Ns].length-1]);St=St.sort(function(yc,Nh){return yc-Nh}),rt.push(St[0]);for(var Ih=1;Ih<St.length;Ih+=2){var _c=St[Ih];!isNaN(_c)&&-1===rt.indexOf(_c)&&rt.push(_c)}}return rt},Ob={analyze:Su,limits:Mh},Ap=K,Am=K,Oh=Math.sqrt,Pa=Math.pow,nx=Math.min,Mp=Math.max,C_=Math.atan2,Mm=Math.abs,W0=Math.cos,G0=Math.sin,bw=Math.exp,Om=Math.PI,Fa=K,X0=K,Eu=me,Rg=tc,q0={cool:function(){return Rg([Eu.hsl(180,1,.9),Eu.hsl(250,.7,.4)])},hot:function(){return Rg(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Op={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Lg=0,sc=Object.keys(Op);Lg<sc.length;Lg+=1){var Nm=sc[Lg];Op[Nm.toLowerCase()]=Op[Nm]}var Rm=Op,wa=me;return wa.average=function(G,se,_e){void 0===se&&(se="lrgb"),void 0===_e&&(_e=null);var $e=G.length;_e||(_e=Array.from(new Array($e)).map(function(){return 1}));var it=$e/_e.reduce(function(as,hs){return as+hs});if(_e.forEach(function(as,hs){_e[hs]*=it}),G=G.map(function(as){return new Pr(as)}),"lrgb"===se)return Bc(G,_e);for(var mt=G.shift(),rt=mt.get(se),It=[],Rt=0,dn=0,Un=0;Un<rt.length;Un++)if(rt[Un]=(rt[Un]||0)*_e[0],It.push(isNaN(rt[Un])?0:_e[0]),"h"===se.charAt(Un)&&!isNaN(rt[Un])){var Mi=rt[Un]/180*Xn;Rt+=pr(Mi)*_e[0],dn+=va(Mi)*_e[0]}var Nn=mt.alpha()*_e[0];G.forEach(function(as,hs){var fs=as.get(se);Nn+=as.alpha()*_e[hs+1];for(var Ss=0;Ss<rt.length;Ss++)if(!isNaN(fs[Ss]))if(It[Ss]+=_e[hs+1],"h"===se.charAt(Ss)){var ua=fs[Ss]/180*Xn;Rt+=pr(ua)*_e[hs+1],dn+=va(ua)*_e[hs+1]}else rt[Ss]+=fs[Ss]*_e[hs+1]});for(var Vi=0;Vi<rt.length;Vi++)if("h"===se.charAt(Vi)){for(var Wi=ol(dn/It[Vi],Rt/It[Vi])/Xn*180;Wi<0;)Wi+=360;for(;Wi>=360;)Wi-=360;rt[Vi]=Wi}else rt[Vi]=rt[Vi]/It[Vi];return Nn/=$e,new Pr(rt,se).alpha(Nn>.99999?1:Nn,!0)},wa.bezier=function(G){var se=function(G){var se,_e,$e,it,mt,rt,It;if(2===(G=G.map(function(Nn){return new Wd(Nn)})).length)se=G.map(function(Nn){return Nn.lab()}),mt=se[0],rt=se[1],it=function(Nn){var Vi=[0,1,2].map(function(Wi){return mt[Wi]+Nn*(rt[Wi]-mt[Wi])});return new Wd(Vi,"lab")};else if(3===G.length)_e=G.map(function(Nn){return Nn.lab()}),mt=_e[0],rt=_e[1],It=_e[2],it=function(Nn){var Vi=[0,1,2].map(function(Wi){return(1-Nn)*(1-Nn)*mt[Wi]+2*(1-Nn)*Nn*rt[Wi]+Nn*Nn*It[Wi]});return new Wd(Vi,"lab")};else if(4===G.length){var Rt;$e=G.map(function(Nn){return Nn.lab()}),mt=$e[0],rt=$e[1],It=$e[2],Rt=$e[3],it=function(Nn){var Vi=[0,1,2].map(function(Wi){return(1-Nn)*(1-Nn)*(1-Nn)*mt[Wi]+3*(1-Nn)*(1-Nn)*Nn*rt[Wi]+3*(1-Nn)*Nn*Nn*It[Wi]+Nn*Nn*Nn*Rt[Wi]});return new Wd(Vi,"lab")}}else{if(!(G.length>=5))throw new RangeError("No point in running bezier with only one color.");var dn,Un,Mi;dn=G.map(function(Nn){return Nn.lab()}),Un=function(G){for(var se=[1,1],_e=1;_e<G;_e++){for(var $e=[1],it=1;it<=se.length;it++)$e[it]=(se[it]||0)+se[it-1];se=$e}return se}(Mi=G.length-1),it=function(Nn){var Vi=1-Nn,Wi=[0,1,2].map(function(as){return dn.reduce(function(hs,fs,Ss){return hs+Un[Ss]*Math.pow(Vi,Mi-Ss)*Math.pow(Nn,Ss)*fs[as]},0)});return new Wd(Wi,"lab")}}return it}(G);return se.scale=function(){return Ig(se)},se},wa.blend=Cd,wa.cubehelix=function(G,se,_e,$e,it){void 0===G&&(G=300),void 0===se&&(se=-1.5),void 0===_e&&(_e=1),void 0===$e&&($e=1),void 0===it&&(it=[0,1]);var rt,mt=0;"array"===vo(it)?rt=it[1]-it[0]:(rt=0,it=[it,it]);var It=function(Rt){var dn=La*((G+120)/360+se*Rt),Un=rc(it[0]+rt*Rt,$e),Nn=(0!==mt?_e[0]+Rt*mt:_e)*Un*(1-Un)/2,Vi=Ul(dn),Wi=Ep(dn);return Sh(Td([255*(Un+Nn*(-.14861*Vi+1.78277*Wi)),255*(Un+Nn*(-.29227*Vi-.90649*Wi)),255*(Un+Nn*(1.97294*Vi)),1]))};return It.start=function(Rt){return null==Rt?G:(G=Rt,It)},It.rotations=function(Rt){return null==Rt?se:(se=Rt,It)},It.gamma=function(Rt){return null==Rt?$e:($e=Rt,It)},It.hue=function(Rt){return null==Rt?_e:("array"===vo(_e=Rt)?0==(mt=_e[1]-_e[0])&&(_e=_e[1]):mt=0,It)},It.lightness=function(Rt){return null==Rt?it:("array"===vo(Rt)?(it=Rt,rt=Rt[1]-Rt[0]):(it=[Rt,Rt],rt=0),It)},It.scale=function(){return Sh.scale(It)},It.hue(_e),It},wa.mix=wa.interpolate=xp,wa.random=function(){for(var G="#",se=0;se<6;se++)G+="0123456789abcdef".charAt(xm(16*Eh()));return new ft(G,"hex")},wa.scale=tc,wa.analyze=Ob.analyze,wa.contrast=function(G,se){G=new Ap(G),se=new Ap(se);var _e=G.luminance(),$e=se.luminance();return _e>$e?(_e+.05)/($e+.05):($e+.05)/(_e+.05)},wa.deltaE=function(G,se,_e,$e,it){void 0===_e&&(_e=1),void 0===$e&&($e=1),void 0===it&&(it=1);var mt=function(_c){return 360*_c/(2*Om)},rt=function(_c){return 2*Om*_c/360};G=new Am(G),se=new Am(se);var It=Array.from(G.lab()),Rt=It[0],dn=It[1],Un=It[2],Mi=Array.from(se.lab()),Nn=Mi[0],Vi=Mi[1],Wi=Mi[2],as=(Rt+Nn)/2,Ss=(Oh(Pa(dn,2)+Pa(Un,2))+Oh(Pa(Vi,2)+Pa(Wi,2)))/2,ua=.5*(1-Oh(Pa(Ss,7)/(Pa(Ss,7)+Pa(25,7)))),Ca=dn*(1+ua),Ba=Vi*(1+ua),si=Oh(Pa(Ca,2)+Pa(Un,2)),Mn=Oh(Pa(Ba,2)+Pa(Wi,2)),Er=(si+Mn)/2,ps=mt(C_(Un,Ca)),gs=mt(C_(Wi,Ba)),cl=ps>=0?ps:ps+360,ko=gs>=0?gs:gs+360,ls=Mm(cl-ko)>180?(cl+ko+360)/2:(cl+ko)/2,Fr=1-.17*W0(rt(ls-30))+.24*W0(rt(2*ls))+.32*W0(rt(3*ls+6))-.2*W0(rt(4*ls-63)),Zr=ko-cl;Zr=Mm(Zr)<=180?Zr:ko<=cl?Zr+360:Zr-360,Zr=2*Oh(si*Mn)*G0(rt(Zr)/2);var Ks=Nn-Rt,po=Mn-si,Vo=1+.015*Pa(as-50,2)/Oh(20+Pa(as-50,2)),sn=1+.045*Er,ur=1+.015*Er*Fr,At=30*bw(-Pa((ls-275)/25,2)),Ns=-2*Oh(Pa(Er,7)/(Pa(Er,7)+Pa(25,7)))*G0(2*rt(At)),Ih=Oh(Pa(Ks/(_e*Vo),2)+Pa(po/($e*sn),2)+Pa(Zr/(it*ur),2)+Ns*(po/($e*sn))*(Zr/(it*ur)));return Mp(0,nx(100,Ih))},wa.distance=function(G,se,_e){void 0===_e&&(_e="lab"),G=new Fa(G),se=new Fa(se);var $e=G.get(_e),it=se.get(_e),mt=0;for(var rt in $e){var It=($e[rt]||0)-(it[rt]||0);mt+=It*It}return Math.sqrt(mt)},wa.limits=Ob.limits,wa.valid=function(){for(var G=[],se=arguments.length;se--;)G[se]=arguments[se];try{return new(Function.prototype.bind.apply(X0,[null].concat(G))),!0}catch{return!1}},wa.scales=q0,wa.colors=di,wa.brewer=Rm,wa}()},1975:(Nt,Ae,N)=>{"use strict";function R(d,m){let T;if(void 0===m)for(const I of d)null!=I&&(T<I||void 0===T&&I>=I)&&(T=I);else{let I=-1;for(let oe of d)null!=(oe=m(oe,++I,d))&&(T<oe||void 0===T&&oe>=oe)&&(T=oe)}return T}function H(d,m){let T;if(void 0===m)for(const I of d)null!=I&&(T>I||void 0===T&&I>=I)&&(T=I);else{let I=-1;for(let oe of d)null!=(oe=m(oe,++I,d))&&(T>oe||void 0===T&&oe>=oe)&&(T=oe)}return T}function q(d){return d}N.d(Ae,{JLW:()=>px,l78:()=>U,tlR:()=>Q,qrM:()=>If,Yu4:()=>hu,IA3:()=>$_,Wi0:()=>g1,PGM:()=>m1,OEq:()=>$g,y8u:()=>_1,olC:()=>y1,IrU:()=>Xw,oDi:()=>_x,Q7f:()=>Ta,cVp:()=>Kw,lUB:()=>Of,Lx9:()=>ov,nVG:()=>W_,uxU:()=>Qw,Xf2:()=>v1,GZz:()=>uv,UPb:()=>hv,dyv:()=>dv,bEH:()=>ft,n8j:()=>z_,T9B:()=>R,jkA:()=>H,rLf:()=>Gw,m4Y:()=>gs,UMr:()=>Vo,w7C:()=>Jb,Ltv:()=>F_,Ubm:()=>vc,JWy:()=>Ig,UAC:()=>xf,DCK:()=>Wm,Agd:()=>Q0,wXd:()=>Au,Ui6:()=>Lp,Kgo:()=>Xu});var te=1,re=2,S=3,F=4,ne=1e-6;function x(d){return"translate("+d+",0)"}function E(d){return"translate(0,"+d+")"}function O(d){return m=>+d(m)}function k(d,m){return m=Math.max(0,d.bandwidth()-2*m)/2,d.round()&&(m=Math.round(m)),T=>+d(T)+m}function j(){return!this.__axis}function ee(d,m){var T=[],I=null,oe=null,de=6,fe=6,ye=3,Ye=typeof window<"u"&&window.devicePixelRatio>1?0:.5,je=d===te||d===F?-1:1,ot=d===F||d===re?"x":"y",Zt=d===te||d===S?x:E;function Lt(an){var Hi=I??(m.ticks?m.ticks.apply(m,T):m.domain()),mr=oe??(m.tickFormat?m.tickFormat.apply(m,T):q),Rn=Math.max(de,0)+ye,hn=m.range(),yi=+hn[0]+Ye,$n=+hn[hn.length-1]+Ye,bi=(m.bandwidth?k:O)(m.copy(),Ye),gi=an.selection?an.selection():an,Zn=gi.selectAll(".domain").data([null]),jr=gi.selectAll(".tick").data(Hi,m).order(),cs=jr.exit(),wo=jr.enter().append("g").attr("class","tick"),us=jr.select("line"),Ri=jr.select("text");Zn=Zn.merge(Zn.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),jr=jr.merge(wo),us=us.merge(wo.append("line").attr("stroke","currentColor").attr(ot+"2",je*de)),Ri=Ri.merge(wo.append("text").attr("fill","currentColor").attr(ot,je*Rn).attr("dy",d===te?"0em":d===S?"0.71em":"0.32em")),an!==gi&&(Zn=Zn.transition(an),jr=jr.transition(an),us=us.transition(an),Ri=Ri.transition(an),cs=cs.transition(an).attr("opacity",ne).attr("transform",function(Ds){return isFinite(Ds=bi(Ds))?Zt(Ds+Ye):this.getAttribute("transform")}),wo.attr("opacity",ne).attr("transform",function(Ds){var hi=this.parentNode.__axis;return Zt((hi&&isFinite(hi=hi(Ds))?hi:bi(Ds))+Ye)})),cs.remove(),Zn.attr("d",d===F||d===re?fe?"M"+je*fe+","+yi+"H"+Ye+"V"+$n+"H"+je*fe:"M"+Ye+","+yi+"V"+$n:fe?"M"+yi+","+je*fe+"V"+Ye+"H"+$n+"V"+je*fe:"M"+yi+","+Ye+"H"+$n),jr.attr("opacity",1).attr("transform",function(Ds){return Zt(bi(Ds)+Ye)}),us.attr(ot+"2",je*de),Ri.attr(ot,je*Rn).text(mr),gi.filter(j).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",d===re?"start":d===F?"end":"middle"),gi.each(function(){this.__axis=bi})}return Lt.scale=function(an){return arguments.length?(m=an,Lt):m},Lt.ticks=function(){return T=Array.from(arguments),Lt},Lt.tickArguments=function(an){return arguments.length?(T=null==an?[]:Array.from(an),Lt):T.slice()},Lt.tickValues=function(an){return arguments.length?(I=null==an?null:Array.from(an),Lt):I&&I.slice()},Lt.tickFormat=function(an){return arguments.length?(oe=an,Lt):oe},Lt.tickSize=function(an){return arguments.length?(de=fe=+an,Lt):de},Lt.tickSizeInner=function(an){return arguments.length?(de=+an,Lt):de},Lt.tickSizeOuter=function(an){return arguments.length?(fe=+an,Lt):fe},Lt.tickPadding=function(an){return arguments.length?(ye=+an,Lt):ye},Lt.offset=function(an){return arguments.length?(Ye=+an,Lt):Ye},Lt}function Q(d){return ee(te,d)}function U(d){return ee(S,d)}function K(){}function ie(d){return null==d?K:function(){return this.querySelector(d)}}function ve(d){return null==d?[]:Array.isArray(d)?d:Array.from(d)}function pe(){return[]}function Ce(d){return null==d?pe:function(){return this.querySelectorAll(d)}}function He(d){return function(){return this.matches(d)}}function Be(d){return function(m){return m.matches(d)}}var Ke=Array.prototype.find;function gt(){return this.firstElementChild}var Dt=Array.prototype.filter;function Ln(){return Array.from(this.children)}function Ki(d){return new Array(d.length)}function Wn(d,m){this.ownerDocument=d.ownerDocument,this.namespaceURI=d.namespaceURI,this._next=null,this._parent=d,this.__data__=m}function Oi(d,m,T,I,oe,de){for(var ye,fe=0,Ye=m.length,je=de.length;fe<je;++fe)(ye=m[fe])?(ye.__data__=de[fe],I[fe]=ye):T[fe]=new Wn(d,de[fe]);for(;fe<Ye;++fe)(ye=m[fe])&&(oe[fe]=ye)}function Ni(d,m,T,I,oe,de,fe){var ye,Ye,an,je=new Map,ot=m.length,Zt=de.length,Lt=new Array(ot);for(ye=0;ye<ot;++ye)(Ye=m[ye])&&(Lt[ye]=an=fe.call(Ye,Ye.__data__,ye,m)+"",je.has(an)?oe[ye]=Ye:je.set(an,Ye));for(ye=0;ye<Zt;++ye)an=fe.call(d,de[ye],ye,de)+"",(Ye=je.get(an))?(I[ye]=Ye,Ye.__data__=de[ye],je.delete(an)):T[ye]=new Wn(d,de[ye]);for(ye=0;ye<ot;++ye)(Ye=m[ye])&&je.get(Lt[ye])===Ye&&(oe[ye]=Ye)}function cr(d){return d.__data__}function Js(d){return"object"==typeof d&&"length"in d?d:Array.from(d)}function Pn(d,m){return d<m?-1:d>m?1:d>=m?0:NaN}Wn.prototype={constructor:Wn,appendChild:function(d){return this._parent.insertBefore(d,this._next)},insertBefore:function(d,m){return this._parent.insertBefore(d,m)},querySelector:function(d){return this._parent.querySelector(d)},querySelectorAll:function(d){return this._parent.querySelectorAll(d)}};var Hn="http://www.w3.org/1999/xhtml";const zt={svg:"http://www.w3.org/2000/svg",xhtml:Hn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function on(d){var m=d+="",T=m.indexOf(":");return T>=0&&"xmlns"!==(m=d.slice(0,T))&&(d=d.slice(T+1)),zt.hasOwnProperty(m)?{space:zt[m],local:d}:d}function yn(d){return function(){this.removeAttribute(d)}}function ti(d){return function(){this.removeAttributeNS(d.space,d.local)}}function ui(d,m){return function(){this.setAttribute(d,m)}}function ss(d,m){return function(){this.setAttributeNS(d.space,d.local,m)}}function co(d,m){return function(){var T=m.apply(this,arguments);null==T?this.removeAttribute(d):this.setAttribute(d,T)}}function uo(d,m){return function(){var T=m.apply(this,arguments);null==T?this.removeAttributeNS(d.space,d.local):this.setAttributeNS(d.space,d.local,T)}}function Po(d){return d.ownerDocument&&d.ownerDocument.defaultView||d.document&&d||d.defaultView}function Fs(d){return function(){this.style.removeProperty(d)}}function js(d,m,T){return function(){this.style.setProperty(d,m,T)}}function aa(d,m,T){return function(){var I=m.apply(this,arguments);null==I?this.style.removeProperty(d):this.style.setProperty(d,I,T)}}function no(d,m){return d.style.getPropertyValue(m)||Po(d).getComputedStyle(d,null).getPropertyValue(m)}function tl(d){return function(){delete this[d]}}function dc(d,m){return function(){this[d]=m}}function la(d,m){return function(){var T=m.apply(this,arguments);null==T?delete this[d]:this[d]=T}}function Ma(d){return d.trim().split(/^|\s+/)}function Yr(d){return d.classList||new Il(d)}function Il(d){this._node=d,this._names=Ma(d.getAttribute("class")||"")}function bl(d,m){for(var T=Yr(d),I=-1,oe=m.length;++I<oe;)T.add(m[I])}function Oc(d,m){for(var T=Yr(d),I=-1,oe=m.length;++I<oe;)T.remove(m[I])}function Ic(d){return function(){bl(this,d)}}function yr(d){return function(){Oc(this,d)}}function pn(d,m){return function(){(m.apply(this,arguments)?bl:Oc)(this,d)}}function fr(){this.textContent=""}function Ne(d){return function(){this.textContent=d}}function ii(d){return function(){var m=d.apply(this,arguments);this.textContent=m??""}}function $i(){this.innerHTML=""}function kr(d){return function(){this.innerHTML=d}}function ai(d){return function(){var m=d.apply(this,arguments);this.innerHTML=m??""}}function Ao(){this.nextSibling&&this.parentNode.appendChild(this)}function Lr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function er(d){return function(){var m=this.ownerDocument,T=this.namespaceURI;return T===Hn&&m.documentElement.namespaceURI===Hn?m.createElement(d):m.createElementNS(T,d)}}function io(d){return function(){return this.ownerDocument.createElementNS(d.space,d.local)}}function $r(d){var m=on(d);return(m.local?io:er)(m)}function Go(){return null}function ga(){var d=this.parentNode;d&&d.removeChild(this)}function Jo(){var d=this.cloneNode(!1),m=this.parentNode;return m?m.insertBefore(d,this.nextSibling):d}function il(){var d=this.cloneNode(!0),m=this.parentNode;return m?m.insertBefore(d,this.nextSibling):d}function ys(d){return function(){var m=this.__on;if(m){for(var de,T=0,I=-1,oe=m.length;T<oe;++T)de=m[T],d.type&&de.type!==d.type||de.name!==d.name?m[++I]=de:this.removeEventListener(de.type,de.listener,de.options);++I?m.length=I:delete this.__on}}}function bs(d,m,T){return function(){var oe,I=this.__on,de=function Kl(d){return function(m){d.call(this,m,this.__data__)}}(m);if(I)for(var fe=0,ye=I.length;fe<ye;++fe)if((oe=I[fe]).type===d.type&&oe.name===d.name)return this.removeEventListener(oe.type,oe.listener,oe.options),this.addEventListener(oe.type,oe.listener=de,oe.options=T),void(oe.value=m);this.addEventListener(d.type,de,T),oe={type:d.type,name:d.name,value:m,listener:de,options:T},I?I.push(oe):this.__on=[oe]}}function Kn(d,m,T){var I=Po(d),oe=I.CustomEvent;"function"==typeof oe?oe=new oe(m,T):(oe=I.document.createEvent("Event"),T?(oe.initEvent(m,T.bubbles,T.cancelable),oe.detail=T.detail):oe.initEvent(m,!1,!1)),d.dispatchEvent(oe)}function vs(d,m){return function(){return Kn(this,d,m)}}function Zi(d,m){return function(){return Kn(this,d,m.apply(this,arguments))}}Il.prototype={add:function(d){this._names.indexOf(d)<0&&(this._names.push(d),this._node.setAttribute("class",this._names.join(" ")))},remove:function(d){var m=this._names.indexOf(d);m>=0&&(this._names.splice(m,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(d){return this._names.indexOf(d)>=0}};var fo=[null];function ws(d,m){this._groups=d,this._parents=m}function ma(){return new ws([[document.documentElement]],fo)}ws.prototype=ma.prototype={constructor:ws,select:function me(d){"function"!=typeof d&&(d=ie(d));for(var m=this._groups,T=m.length,I=new Array(T),oe=0;oe<T;++oe)for(var Ye,je,de=m[oe],fe=de.length,ye=I[oe]=new Array(fe),ot=0;ot<fe;++ot)(Ye=de[ot])&&(je=d.call(Ye,Ye.__data__,ot,de))&&("__data__"in Ye&&(je.__data__=Ye.__data__),ye[ot]=je);return new ws(I,this._parents)},selectAll:function Je(d){d="function"==typeof d?function st(d){return function(){return ve(d.apply(this,arguments))}}(d):Ce(d);for(var m=this._groups,T=m.length,I=[],oe=[],de=0;de<T;++de)for(var Ye,fe=m[de],ye=fe.length,je=0;je<ye;++je)(Ye=fe[je])&&(I.push(d.call(Ye,Ye.__data__,je,fe)),oe.push(Ye));return new ws(I,oe)},selectChild:function en(d){return this.select(null==d?gt:function bt(d){return function(){return Ke.call(this.children,d)}}("function"==typeof d?d:Be(d)))},selectChildren:function ki(d){return this.selectAll(null==d?Ln:function wi(d){return function(){return Dt.call(this.children,d)}}("function"==typeof d?d:Be(d)))},filter:function Pi(d){"function"!=typeof d&&(d=He(d));for(var m=this._groups,T=m.length,I=new Array(T),oe=0;oe<T;++oe)for(var Ye,de=m[oe],fe=de.length,ye=I[oe]=[],je=0;je<fe;++je)(Ye=de[je])&&d.call(Ye,Ye.__data__,je,de)&&ye.push(Ye);return new ws(I,this._parents)},data:function Qi(d,m){if(!arguments.length)return Array.from(this,cr);var T=m?Ni:Oi,I=this._parents,oe=this._groups;"function"!=typeof d&&(d=function Fi(d){return function(){return d}}(d));for(var de=oe.length,fe=new Array(de),ye=new Array(de),Ye=new Array(de),je=0;je<de;++je){var ot=I[je],Zt=oe[je],Lt=Zt.length,an=Js(d.call(ot,ot&&ot.__data__,je,I)),Hi=an.length,mr=ye[je]=new Array(Hi),Rn=fe[je]=new Array(Hi);T(ot,Zt,mr,Rn,Ye[je]=new Array(Lt),an,m);for(var bi,gi,yi=0,$n=0;yi<Hi;++yi)if(bi=mr[yi]){for(yi>=$n&&($n=yi+1);!(gi=Rn[$n])&&++$n<Hi;);bi._next=gi||null}}return(fe=new ws(fe,I))._enter=ye,fe._exit=Ye,fe},enter:function vr(){return new ws(this._enter||this._groups.map(Ki),this._parents)},exit:function Lo(){return new ws(this._exit||this._groups.map(Ki),this._parents)},join:function ei(d,m,T){var I=this.enter(),oe=this,de=this.exit();return"function"==typeof d?(I=d(I))&&(I=I.selection()):I=I.append(d+""),null!=m&&(oe=m(oe))&&(oe=oe.selection()),null==T?de.remove():T(de),I&&oe?I.merge(oe).order():oe},merge:function $t(d){for(var m=d.selection?d.selection():d,T=this._groups,I=m._groups,oe=T.length,fe=Math.min(oe,I.length),ye=new Array(oe),Ye=0;Ye<fe;++Ye)for(var an,je=T[Ye],ot=I[Ye],Zt=je.length,Lt=ye[Ye]=new Array(Zt),Hi=0;Hi<Zt;++Hi)(an=je[Hi]||ot[Hi])&&(Lt[Hi]=an);for(;Ye<oe;++Ye)ye[Ye]=T[Ye];return new ws(ye,this._parents)},selection:function Me(){return this},order:function mn(){for(var d=this._groups,m=-1,T=d.length;++m<T;)for(var fe,I=d[m],oe=I.length-1,de=I[oe];--oe>=0;)(fe=I[oe])&&(de&&4^fe.compareDocumentPosition(de)&&de.parentNode.insertBefore(fe,de),de=fe);return this},sort:function un(d){function m(Zt,Lt){return Zt&&Lt?d(Zt.__data__,Lt.__data__):!Zt-!Lt}d||(d=Pn);for(var T=this._groups,I=T.length,oe=new Array(I),de=0;de<I;++de){for(var je,fe=T[de],ye=fe.length,Ye=oe[de]=new Array(ye),ot=0;ot<ye;++ot)(je=fe[ot])&&(Ye[ot]=je);Ye.sort(m)}return new ws(oe,this._parents).order()},call:function xi(){var d=arguments[0];return arguments[0]=this,d.apply(null,arguments),this},nodes:function Si(){return Array.from(this)},node:function Xt(){for(var d=this._groups,m=0,T=d.length;m<T;++m)for(var I=d[m],oe=0,de=I.length;oe<de;++oe){var fe=I[oe];if(fe)return fe}return null},size:function Et(){let d=0;for(const m of this)++d;return d},empty:function Ht(){return!this.node()},each:function vn(d){for(var m=this._groups,T=0,I=m.length;T<I;++T)for(var ye,oe=m[T],de=0,fe=oe.length;de<fe;++de)(ye=oe[de])&&d.call(ye,ye.__data__,de,oe);return this},attr:function Eo(d,m){var T=on(d);if(arguments.length<2){var I=this.node();return T.local?I.getAttributeNS(T.space,T.local):I.getAttribute(T)}return this.each((null==m?T.local?ti:yn:"function"==typeof m?T.local?uo:co:T.local?ss:ui)(T,m))},style:function Qo(d,m,T){return arguments.length>1?this.each((null==m?Fs:"function"==typeof m?aa:js)(d,m,T??"")):no(this.node(),d)},property:function Mc(d,m){return arguments.length>1?this.each((null==m?tl:"function"==typeof m?la:dc)(d,m)):this.node()[d]},classed:function Vn(d,m){var T=Ma(d+"");if(arguments.length<2){for(var I=Yr(this.node()),oe=-1,de=T.length;++oe<de;)if(!I.contains(T[oe]))return!1;return!0}return this.each(("function"==typeof m?pn:m?Ic:yr)(T,m))},text:function Ji(d){return arguments.length?this.each(null==d?fr:("function"==typeof d?ii:Ne)(d)):this.node().textContent},html:function qt(d){return arguments.length?this.each(null==d?$i:("function"==typeof d?ai:kr)(d)):this.node().innerHTML},raise:function ho(){return this.each(Ao)},lower:function nl(){return this.each(Lr)},append:function Mo(d){var m="function"==typeof d?d:$r(d);return this.select(function(){return this.appendChild(m.apply(this,arguments))})},insert:function $a(d,m){var T="function"==typeof d?d:$r(d),I=null==m?Go:"function"==typeof m?m:ie(m);return this.select(function(){return this.insertBefore(T.apply(this,arguments),I.apply(this,arguments)||null)})},remove:function Ii(){return this.each(ga)},clone:function Kr(d){return this.select(d?il:Jo)},datum:function Oa(d){return arguments.length?this.property("__data__",d):this.node().__data__},on:function hc(d,m,T){var oe,fe,I=function Br(d){return d.trim().split(/^|\s+/).map(function(m){var T="",I=m.indexOf(".");return I>=0&&(T=m.slice(I+1),m=m.slice(0,I)),{type:m,name:T}})}(d+""),de=I.length;if(!(arguments.length<2)){for(ye=m?bs:ys,oe=0;oe<de;++oe)this.each(ye(I[oe],m,T));return this}var ye=this.node().__on;if(ye)for(var ot,Ye=0,je=ye.length;Ye<je;++Ye)for(oe=0,ot=ye[Ye];oe<de;++oe)if((fe=I[oe]).type===ot.type&&fe.name===ot.name)return ot.value},dispatch:function zi(d,m){return this.each(("function"==typeof m?Zi:vs)(d,m))},[Symbol.iterator]:function*Ia(){for(var d=this._groups,m=0,T=d.length;m<T;++m)for(var fe,I=d[m],oe=0,de=I.length;oe<de;++oe)(fe=I[oe])&&(yield fe)}};const Fo=ma;var Ct={value:()=>{}};function Xe(){for(var I,d=0,m=arguments.length,T={};d<m;++d){if(!(I=arguments[d]+"")||I in T||/[\s.]/.test(I))throw new Error("illegal type: "+I);T[I]=[]}return new gn(T)}function gn(d){this._=d}function An(d,m){for(var oe,T=0,I=d.length;T<I;++T)if((oe=d[T]).name===m)return oe.value}function _i(d,m,T){for(var I=0,oe=d.length;I<oe;++I)if(d[I].name===m){d[I]=Ct,d=d.slice(0,I).concat(d.slice(I+1));break}return null!=T&&d.push({name:m,value:T}),d}gn.prototype=Xe.prototype={constructor:gn,on:function(d,m){var oe,T=this._,I=function Vt(d,m){return d.trim().split(/^|\s+/).map(function(T){var I="",oe=T.indexOf(".");if(oe>=0&&(I=T.slice(oe+1),T=T.slice(0,oe)),T&&!m.hasOwnProperty(T))throw new Error("unknown type: "+T);return{type:T,name:I}})}(d+"",T),de=-1,fe=I.length;if(!(arguments.length<2)){if(null!=m&&"function"!=typeof m)throw new Error("invalid callback: "+m);for(;++de<fe;)if(oe=(d=I[de]).type)T[oe]=_i(T[oe],d.name,m);else if(null==m)for(oe in T)T[oe]=_i(T[oe],d.name,null);return this}for(;++de<fe;)if((oe=(d=I[de]).type)&&(oe=An(T[oe],d.name)))return oe},copy:function(){var d={},m=this._;for(var T in m)d[T]=m[T].slice();return new gn(d)},call:function(d,m){if((oe=arguments.length-2)>0)for(var oe,de,T=new Array(oe),I=0;I<oe;++I)T[I]=arguments[I+2];if(!this._.hasOwnProperty(d))throw new Error("unknown type: "+d);for(I=0,oe=(de=this._[d]).length;I<oe;++I)de[I].value.apply(m,T)},apply:function(d,m,T){if(!this._.hasOwnProperty(d))throw new Error("unknown type: "+d);for(var I=this._[d],oe=0,de=I.length;oe<de;++oe)I[oe].value.apply(m,T)}};const Gi=Xe;var tu,Bo,os=0,ro=0,Yi=0,ea=1e3,Nl=0,sr=0,En=0,Zl="object"==typeof performance&&performance.now?performance:Date,Sr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(d){setTimeout(d,17)};function Nc(){return sr||(Sr(dh),sr=Zl.now()+En)}function dh(){sr=0}function fd(){this._call=this._time=this._next=null}function Rl(d,m,T){var I=new fd;return I.restart(d,m,T),I}function Fu(){sr=(Nl=Zl.now())+En,os=ro=0;try{!function nu(){Nc(),++os;for(var m,d=tu;d;)(m=sr-d._time)>=0&&d._call.call(void 0,m),d=d._next;--os}()}finally{os=0,function bu(){for(var d,T,m=tu,I=1/0;m;)m._call?(I>m._time&&(I=m._time),d=m,m=m._next):(T=m._next,m._next=null,m=d?d._next=T:tu=T);Bo=d,vu(I)}(),sr=0}}function pd(){var d=Zl.now(),m=d-Nl;m>ea&&(En-=m,Nl=d)}function vu(d){os||(ro&&(ro=clearTimeout(ro)),d-sr>24?(d<1/0&&(ro=setTimeout(Fu,d-Zl.now()-En)),Yi&&(Yi=clearInterval(Yi))):(Yi||(Nl=Zl.now(),Yi=setInterval(pd,ea)),os=1,Sr(Fu)))}function Ci(d,m,T){var I=new fd;return I.restart(oe=>{I.stop(),d(oe+m)},m=null==m?0:+m,T),I}fd.prototype=Rl.prototype={constructor:fd,restart:function(d,m,T){if("function"!=typeof d)throw new TypeError("callback is not a function");T=(null==T?Nc():+T)+(null==m?0:+m),!this._next&&Bo!==this&&(Bo?Bo._next=this:tu=this,Bo=this),this._call=d,this._time=T,vu()},stop:function(){this._call&&(this._call=null,this._time=1/0,vu())}};var vl=Gi("start","end","cancel","interrupt"),wl=[],wu=0,Xi=3;function Ms(d,m,T,I,oe,de){var fe=d.__transition;if(fe){if(T in fe)return}else d.__transition={};!function Vu(d,m,T){var oe,I=d.__transition;function fe(je){var ot,Zt,Lt,an;if(1!==T.state)return Ye();for(ot in I)if((an=I[ot]).name===T.name){if(an.state===Xi)return Ci(fe);4===an.state?(an.state=6,an.timer.stop(),an.on.call("interrupt",d,d.__data__,an.index,an.group),delete I[ot]):+ot<m&&(an.state=6,an.timer.stop(),an.on.call("cancel",d,d.__data__,an.index,an.group),delete I[ot])}if(Ci(function(){T.state===Xi&&(T.state=4,T.timer.restart(ye,T.delay,T.time),ye(je))}),T.state=2,T.on.call("start",d,d.__data__,T.index,T.group),2===T.state){for(T.state=Xi,oe=new Array(Lt=T.tween.length),ot=0,Zt=-1;ot<Lt;++ot)(an=T.tween[ot].value.call(d,d.__data__,T.index,T.group))&&(oe[++Zt]=an);oe.length=Zt+1}}function ye(je){for(var ot=je<T.duration?T.ease.call(null,je/T.duration):(T.timer.restart(Ye),T.state=5,1),Zt=-1,Lt=oe.length;++Zt<Lt;)oe[Zt].call(d,ot);5===T.state&&(T.on.call("end",d,d.__data__,T.index,T.group),Ye())}function Ye(){for(var je in T.state=6,T.timer.stop(),delete I[m],I)return;delete d.__transition}I[m]=T,T.timer=Rl(function de(je){T.state=1,T.timer.restart(fe,T.delay,T.time),T.delay<=je&&fe(je-T.delay)},0,T.time)}(d,T,{name:m,index:I,group:oe,on:vl,tween:wl,time:de.time,delay:de.delay,duration:de.duration,ease:de.ease,timer:null,state:wu})}function ta(d,m){var T=qs(d,m);if(T.state>wu)throw new Error("too late; already scheduled");return T}function Xs(d,m){var T=qs(d,m);if(T.state>Xi)throw new Error("too late; already running");return T}function qs(d,m){var T=d.__transition;if(!T||!(T=T[m]))throw new Error("transition not found");return T}function _a(d,m){return d=+d,m=+m,function(T){return d*(1-T)+m*T}}var Rc,Na=180/Math.PI,Nr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Cs(d,m,T,I,oe,de){var fe,ye,Ye;return(fe=Math.sqrt(d*d+m*m))&&(d/=fe,m/=fe),(Ye=d*T+m*I)&&(T-=d*Ye,I-=m*Ye),(ye=Math.sqrt(T*T+I*I))&&(T/=ye,I/=ye,Ye/=ye),d*I<m*T&&(d=-d,m=-m,Ye=-Ye,fe=-fe),{translateX:oe,translateY:de,rotate:Math.atan2(m,d)*Na,skewX:Math.atan(Ye)*Na,scaleX:fe,scaleY:ye}}function _m(d,m,T,I){function oe(je){return je.length?je.pop()+" ":""}return function(je,ot){var Zt=[],Lt=[];return je=d(je),ot=d(ot),function de(je,ot,Zt,Lt,an,Hi){if(je!==Zt||ot!==Lt){var mr=an.push("translate(",null,m,null,T);Hi.push({i:mr-4,x:_a(je,Zt)},{i:mr-2,x:_a(ot,Lt)})}else(Zt||Lt)&&an.push("translate("+Zt+m+Lt+T)}(je.translateX,je.translateY,ot.translateX,ot.translateY,Zt,Lt),function fe(je,ot,Zt,Lt){je!==ot?(je-ot>180?ot+=360:ot-je>180&&(je+=360),Lt.push({i:Zt.push(oe(Zt)+"rotate(",null,I)-2,x:_a(je,ot)})):ot&&Zt.push(oe(Zt)+"rotate("+ot+I)}(je.rotate,ot.rotate,Zt,Lt),function ye(je,ot,Zt,Lt){je!==ot?Lt.push({i:Zt.push(oe(Zt)+"skewX(",null,I)-2,x:_a(je,ot)}):ot&&Zt.push(oe(Zt)+"skewX("+ot+I)}(je.skewX,ot.skewX,Zt,Lt),function Ye(je,ot,Zt,Lt,an,Hi){if(je!==Zt||ot!==Lt){var mr=an.push(oe(an)+"scale(",null,",",null,")");Hi.push({i:mr-4,x:_a(je,Zt)},{i:mr-2,x:_a(ot,Lt)})}else(1!==Zt||1!==Lt)&&an.push(oe(an)+"scale("+Zt+","+Lt+")")}(je.scaleX,je.scaleY,ot.scaleX,ot.scaleY,Zt,Lt),je=ot=null,function(an){for(var Rn,Hi=-1,mr=Lt.length;++Hi<mr;)Zt[(Rn=Lt[Hi]).i]=Rn.x(an);return Zt.join("")}}}var ym=_m(function cp(d){const m=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(d+"");return m.isIdentity?Nr:Cs(m.a,m.b,m.c,m.d,m.e,m.f)},"px, ","px)","deg)"),dp=_m(function up(d){return null!=d&&(Rc||(Rc=document.createElementNS("http://www.w3.org/2000/svg","g")),Rc.setAttribute("transform",d),d=Rc.transform.baseVal.consolidate())?Cs((d=d.matrix).a,d.b,d.c,d.d,d.e,d.f):Nr},", ",")",")");function Os(d,m){var T,I;return function(){var oe=Xs(this,d),de=oe.tween;if(de!==T)for(var fe=0,ye=(I=T=de).length;fe<ye;++fe)if(I[fe].name===m){(I=I.slice()).splice(fe,1);break}oe.tween=I}}function ff(d,m,T){var I,oe;if("function"!=typeof T)throw new Error;return function(){var de=Xs(this,d),fe=de.tween;if(fe!==I){oe=(I=fe).slice();for(var ye={name:m,value:T},Ye=0,je=oe.length;Ye<je;++Ye)if(oe[Ye].name===m){oe[Ye]=ye;break}Ye===je&&oe.push(ye)}de.tween=oe}}function Bs(d,m,T){var I=d._id;return d.each(function(){var oe=Xs(this,I);(oe.value||(oe.value={}))[m]=T.apply(this,arguments)}),function(oe){return qs(oe,I).value[m]}}function Pd(d,m,T){d.prototype=m.prototype=T,T.constructor=d}function pf(d,m){var T=Object.create(d.prototype);for(var I in m)T[I]=m[I];return T}function iu(){}var Fd=1/.7,Hu="\\s*([+-]?\\d+)\\s*",gf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hp=/^#([0-9a-f]{3,8})$/,fp=new RegExp(`^rgb\\(${Hu},${Hu},${Hu}\\)$`),ru=new RegExp(`^rgb\\(${Wa},${Wa},${Wa}\\)$`),fh=new RegExp(`^rgba\\(${Hu},${Hu},${Hu},${gf}\\)$`),su=new RegExp(`^rgba\\(${Wa},${Wa},${Wa},${gf}\\)$`),vg=new RegExp(`^hsl\\(${gf},${Wa},${Wa}\\)$`),di=new RegExp(`^hsla\\(${gf},${Wa},${Wa},${gf}\\)$`),mf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Wt(){return this.rgb().formatHex()}function Bd(){return this.rgb().formatRgb()}function gd(d){var m,T;return d=(d+"").trim().toLowerCase(),(m=hp.exec(d))?(T=m[1].length,m=parseInt(m[1],16),6===T?wg(m):3===T?new rl(m>>8&15|m>>4&240,m>>4&15|240&m,(15&m)<<4|15&m,1):8===T?ph(m>>24&255,m>>16&255,m>>8&255,(255&m)/255):4===T?ph(m>>12&15|m>>8&240,m>>8&15|m>>4&240,m>>4&15|240&m,((15&m)<<4|15&m)/255):null):(m=fp.exec(d))?new rl(m[1],m[2],m[3],1):(m=ru.exec(d))?new rl(255*m[1]/100,255*m[2]/100,255*m[3]/100,1):(m=fh.exec(d))?ph(m[1],m[2],m[3],m[4]):(m=su.exec(d))?ph(255*m[1]/100,255*m[2]/100,255*m[3]/100,m[4]):(m=vg.exec(d))?yf(m[1],m[2]/100,m[3]/100,1):(m=di.exec(d))?yf(m[1],m[2]/100,m[3]/100,m[4]):mf.hasOwnProperty(d)?wg(mf[d]):"transparent"===d?new rl(NaN,NaN,NaN,0):null}function wg(d){return new rl(d>>16&255,d>>8&255,255&d,1)}function ph(d,m,T,I){return I<=0&&(d=m=T=NaN),new rl(d,m,T,I)}function md(d){return d instanceof iu||(d=gd(d)),d?new rl((d=d.rgb()).r,d.g,d.b,d.opacity):new rl}function Tu(d,m,T,I){return 1===arguments.length?md(d):new rl(d,m,T,I??1)}function rl(d,m,T,I){this.r=+d,this.g=+m,this.b=+T,this.opacity=+I}function gh(){return`#${fc(this.r)}${fc(this.g)}${fc(this.b)}`}function Du(){const d=mh(this.opacity);return`${1===d?"rgb(":"rgba("}${ca(this.r)}, ${ca(this.g)}, ${ca(this.b)}${1===d?")":`, ${d})`}`}function mh(d){return isNaN(d)?1:Math.max(0,Math.min(1,d))}function ca(d){return Math.max(0,Math.min(255,Math.round(d)||0))}function fc(d){return((d=ca(d))<16?"0":"")+d.toString(16)}function yf(d,m,T,I){return I<=0?d=m=T=NaN:T<=0||T>=1?d=m=NaN:m<=0&&(d=NaN),new Pl(d,m,T,I)}function Uu(d){if(d instanceof Pl)return new Pl(d.h,d.s,d.l,d.opacity);if(d instanceof iu||(d=gd(d)),!d)return new Pl;if(d instanceof Pl)return d;var m=(d=d.rgb()).r/255,T=d.g/255,I=d.b/255,oe=Math.min(m,T,I),de=Math.max(m,T,I),fe=NaN,ye=de-oe,Ye=(de+oe)/2;return ye?(fe=m===de?(T-I)/ye+6*(T<I):T===de?(I-m)/ye+2:(m-T)/ye+4,ye/=Ye<.5?de+oe:2-de-oe,fe*=60):ye=Ye>0&&Ye<1?0:fe,new Pl(fe,ye,Ye,d.opacity)}function Pl(d,m,T,I){this.h=+d,this.s=+m,this.l=+T,this.opacity=+I}function Cg(d){return(d=(d||0)%360)<0?d+360:d}function Vd(d){return Math.max(0,Math.min(1,d||0))}function yh(d,m,T){return 255*(d<60?m+(T-m)*d/60:d<180?T:d<240?m+(T-m)*(240-d)/60:m)}function Fl(d,m,T,I,oe){var de=d*d,fe=de*d;return((1-3*d+3*de-fe)*m+(4-6*de+3*fe)*T+(1+3*d+3*de-3*fe)*I+fe*oe)/6}Pd(iu,gd,{copy(d){return Object.assign(new this.constructor,this,d)},displayable(){return this.rgb().displayable()},hex:Wt,formatHex:Wt,formatHex8:function _f(){return this.rgb().formatHex8()},formatHsl:function ju(){return Uu(this).formatHsl()},formatRgb:Bd,toString:Bd}),Pd(rl,Tu,pf(iu,{brighter(d){return d=null==d?Fd:Math.pow(Fd,d),new rl(this.r*d,this.g*d,this.b*d,this.opacity)},darker(d){return d=null==d?.7:Math.pow(.7,d),new rl(this.r*d,this.g*d,this.b*d,this.opacity)},rgb(){return this},clamp(){return new rl(ca(this.r),ca(this.g),ca(this.b),mh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gh,formatHex:gh,formatHex8:function bm(){return`#${fc(this.r)}${fc(this.g)}${fc(this.b)}${fc(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Du,toString:Du})),Pd(Pl,function _h(d,m,T,I){return 1===arguments.length?Uu(d):new Pl(d,m,T,I??1)},pf(iu,{brighter(d){return d=null==d?Fd:Math.pow(Fd,d),new Pl(this.h,this.s,this.l*d,this.opacity)},darker(d){return d=null==d?.7:Math.pow(.7,d),new Pl(this.h,this.s,this.l*d,this.opacity)},rgb(){var d=this.h%360+360*(this.h<0),m=isNaN(d)||isNaN(this.s)?0:this.s,T=this.l,I=T+(T<.5?T:1-T)*m,oe=2*T-I;return new rl(yh(d>=240?d-240:d+120,oe,I),yh(d,oe,I),yh(d<120?d+240:d-120,oe,I),this.opacity)},clamp(){return new Pl(Cg(this.h),Vd(this.s),Vd(this.l),mh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const d=mh(this.opacity);return`${1===d?"hsl(":"hsla("}${Cg(this.h)}, ${100*Vd(this.s)}%, ${100*Vd(this.l)}%${1===d?")":`, ${d})`}`}}));const pp=d=>()=>d;function gp(d,m){return function(T){return d+T*m}}function ou(d,m){var T=m-d;return T?gp(d,T):pp(isNaN(d)?m:d)}const Yu=function d(m){var T=function zu(d){return 1==(d=+d)?ou:function(m,T){return T-m?function pc(d,m,T){return d=Math.pow(d,T),m=Math.pow(m,T)-d,T=1/T,function(I){return Math.pow(d+I*m,T)}}(m,T,d):pp(isNaN(m)?T:m)}}(m);function I(oe,de){var fe=T((oe=Tu(oe)).r,(de=Tu(de)).r),ye=T(oe.g,de.g),Ye=T(oe.b,de.b),je=ou(oe.opacity,de.opacity);return function(ot){return oe.r=fe(ot),oe.g=ye(ot),oe.b=Ye(ot),oe.opacity=je(ot),oe+""}}return I.gamma=d,I}(1);function bh(d){return function(m){var fe,ye,T=m.length,I=new Array(T),oe=new Array(T),de=new Array(T);for(fe=0;fe<T;++fe)ye=Tu(m[fe]),I[fe]=ye.r||0,oe[fe]=ye.g||0,de[fe]=ye.b||0;return I=d(I),oe=d(oe),de=d(de),ye.opacity=1,function(Ye){return ye.r=I(Ye),ye.g=oe(Ye),ye.b=de(Ye),ye+""}}}bh(function Hd(d){var m=d.length-1;return function(T){var I=T<=0?T=0:T>=1?(T=1,m-1):Math.floor(T*m),oe=d[I],de=d[I+1];return Fl((T-I/m)*m,I>0?d[I-1]:2*oe-de,oe,de,I<m-1?d[I+2]:2*de-oe)}}),bh(function jd(d){var m=d.length;return function(T){var I=Math.floor(((T%=1)<0?++T:T)*m);return Fl((T-I/m)*m,d[(I+m-1)%m],d[I%m],d[(I+1)%m],d[(I+2)%m])}});var ds=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_p=new RegExp(ds.source,"g");function vh(d,m){var I,oe,de,T=ds.lastIndex=_p.lastIndex=0,fe=-1,ye=[],Ye=[];for(d+="",m+="";(I=ds.exec(d))&&(oe=_p.exec(m));)(de=oe.index)>T&&(de=m.slice(T,de),ye[fe]?ye[fe]+=de:ye[++fe]=de),(I=I[0])===(oe=oe[0])?ye[fe]?ye[fe]+=oe:ye[++fe]=oe:(ye[++fe]=null,Ye.push({i:fe,x:_a(I,oe)})),T=_p.lastIndex;return T<m.length&&(de=m.slice(T),ye[fe]?ye[fe]+=de:ye[++fe]=de),ye.length<2?Ye[0]?function bp(d){return function(m){return d(m)+""}}(Ye[0].x):function yp(d){return function(){return d}}(m):(m=Ye.length,function(je){for(var Zt,ot=0;ot<m;++ot)ye[(Zt=Ye[ot]).i]=Zt.x(je);return ye.join("")})}function au(d,m){var T;return("number"==typeof m?_a:m instanceof gd?Yu:(T=gd(m))?(m=T,Yu):vh)(d,m)}function wh(d){return function(){this.removeAttribute(d)}}function Tg(d){return function(){this.removeAttributeNS(d.space,d.local)}}function $u(d,m,T){var I,de,oe=T+"";return function(){var fe=this.getAttribute(d);return fe===oe?null:fe===I?de:de=m(I=fe,T)}}function _d(d,m,T){var I,de,oe=T+"";return function(){var fe=this.getAttributeNS(d.space,d.local);return fe===oe?null:fe===I?de:de=m(I=fe,T)}}function bf(d,m,T){var I,oe,de;return function(){var fe,Ye,ye=T(this);return null==ye?void this.removeAttribute(d):(fe=this.getAttribute(d))===(Ye=ye+"")?null:fe===I&&Ye===oe?de:(oe=Ye,de=m(I=fe,ye))}}function Dg(d,m,T){var I,oe,de;return function(){var fe,Ye,ye=T(this);return null==ye?void this.removeAttributeNS(d.space,d.local):(fe=this.getAttributeNS(d.space,d.local))===(Ye=ye+"")?null:fe===I&&Ye===oe?de:(oe=Ye,de=m(I=fe,ye))}}function wp(d,m){var T,I;function oe(){var de=m.apply(this,arguments);return de!==I&&(T=(I=de)&&function vf(d,m){return function(T){this.setAttributeNS(d.space,d.local,m.call(this,T))}}(d,de)),T}return oe._value=m,oe}function xg(d,m){var T,I;function oe(){var de=m.apply(this,arguments);return de!==I&&(T=(I=de)&&function vp(d,m){return function(T){this.setAttribute(d,m.call(this,T))}}(d,de)),T}return oe._value=m,oe}function wm(d,m){return function(){ta(this,d).delay=+m.apply(this,arguments)}}function Cp(d,m){return m=+m,function(){ta(this,d).delay=m}}function kg(d,m){return function(){Xs(this,d).duration=+m.apply(this,arguments)}}function Lc(d,m){return m=+m,function(){Xs(this,d).duration=m}}var yd=Fo.prototype.constructor;function Wu(d){return function(){this.style.removeProperty(d)}}var ku=0;function ec(d,m,T,I){this._groups=d,this._parents=m,this._name=T,this._id=I}function vd(){return++ku}var Pc=Fo.prototype;ec.prototype=function Hl(d){return Fo().transition(d)}.prototype={constructor:ec,select:function Dp(d){var m=this._name,T=this._id;"function"!=typeof d&&(d=ie(d));for(var I=this._groups,oe=I.length,de=new Array(oe),fe=0;fe<oe;++fe)for(var ot,Zt,ye=I[fe],Ye=ye.length,je=de[fe]=new Array(Ye),Lt=0;Lt<Ye;++Lt)(ot=ye[Lt])&&(Zt=d.call(ot,ot.__data__,Lt,ye))&&("__data__"in ot&&(Zt.__data__=ot.__data__),je[Lt]=Zt,Ms(je[Lt],m,T,Lt,je,qs(ot,T)));return new ec(de,this._parents,m,T)},selectAll:function qi(d){var m=this._name,T=this._id;"function"!=typeof d&&(d=Ce(d));for(var I=this._groups,oe=I.length,de=[],fe=[],ye=0;ye<oe;++ye)for(var ot,Ye=I[ye],je=Ye.length,Zt=0;Zt<je;++Zt)if(ot=Ye[Zt]){for(var an,Lt=d.call(ot,ot.__data__,Zt,Ye),Hi=qs(ot,T),mr=0,Rn=Lt.length;mr<Rn;++mr)(an=Lt[mr])&&Ms(an,m,T,mr,Lt,Hi);de.push(Lt),fe.push(ot)}return new ec(de,fe,m,T)},selectChild:Pc.selectChild,selectChildren:Pc.selectChildren,filter:function li(d){"function"!=typeof d&&(d=He(d));for(var m=this._groups,T=m.length,I=new Array(T),oe=0;oe<T;++oe)for(var Ye,de=m[oe],fe=de.length,ye=I[oe]=[],je=0;je<fe;++je)(Ye=de[je])&&d.call(Ye,Ye.__data__,je,de)&&ye.push(Ye);return new ec(I,this._parents,this._name,this._id)},merge:function ya(d){if(d._id!==this._id)throw new Error;for(var m=this._groups,T=d._groups,I=m.length,de=Math.min(I,T.length),fe=new Array(I),ye=0;ye<de;++ye)for(var Lt,Ye=m[ye],je=T[ye],ot=Ye.length,Zt=fe[ye]=new Array(ot),an=0;an<ot;++an)(Lt=Ye[an]||je[an])&&(Zt[an]=Lt);for(;ye<I;++ye)fe[ye]=m[ye];return new ec(fe,this._parents,this._name,this._id)},selection:function Eg(){return new yd(this._groups,this._parents)},transition:function Yd(){for(var d=this._name,m=this._id,T=vd(),I=this._groups,oe=I.length,de=0;de<oe;++de)for(var Ye,fe=I[de],ye=fe.length,je=0;je<ye;++je)if(Ye=fe[je]){var ot=qs(Ye,m);Ms(Ye,d,T,je,fe,{time:ot.time+ot.delay+ot.duration,delay:0,duration:ot.duration,ease:ot.ease})}return new ec(I,this._parents,d,T)},call:Pc.call,nodes:Pc.nodes,node:Pc.node,size:Pc.size,empty:Pc.empty,each:Pc.each,on:function ba(d,m){var T=this._id;return arguments.length<2?qs(this.node(),T).on.on(d):this.each(function na(d,m,T){var I,oe,de=function ns(d){return(d+"").trim().split(/^|\s+/).every(function(m){var T=m.indexOf(".");return T>=0&&(m=m.slice(0,T)),!m||"start"===m})}(m)?ta:Xs;return function(){var fe=de(this,d),ye=fe.on;ye!==I&&(oe=(I=ye).copy()).on(m,T),fe.on=oe}}(T,d,m))},attr:function Bl(d,m){var T=on(d),I="transform"===T?dp:au;return this.attrTween(d,"function"==typeof m?(T.local?Dg:bf)(T,I,Bs(this,"attr."+d,m)):null==m?(T.local?Tg:wh)(T):(T.local?_d:$u)(T,I,m))},attrTween:function vm(d,m){var T="attr."+d;if(arguments.length<2)return(T=this.tween(T))&&T._value;if(null==m)return this.tween(T,null);if("function"!=typeof m)throw new Error;var I=on(d);return this.tween(T,(I.local?wp:xg)(I,m))},style:function bd(d,m,T){var I="transform"==(d+="")?ym:au;return null==m?this.styleTween(d,function Jl(d,m){var T,I,oe;return function(){var de=no(this,d),fe=(this.style.removeProperty(d),no(this,d));return de===fe?null:de===T&&fe===I?oe:oe=m(T=de,I=fe)}}(d,I)).on("end.style."+d,Wu(d)):"function"==typeof m?this.styleTween(d,function Ch(d,m,T){var I,oe,de;return function(){var fe=no(this,d),ye=T(this),Ye=ye+"";return null==ye&&(this.style.removeProperty(d),Ye=ye=no(this,d)),fe===Ye?null:fe===I&&Ye===oe?de:(oe=Ye,de=m(I=fe,ye))}}(d,I,Bs(this,"style."+d,m))).each(function ia(d,m){var T,I,oe,ye,de="style."+m,fe="end."+de;return function(){var Ye=Xs(this,d),je=Ye.on,ot=null==Ye.value[de]?ye||(ye=Wu(m)):void 0;(je!==T||oe!==ot)&&(I=(T=je).copy()).on(fe,oe=ot),Ye.on=I}}(this._id,d)):this.styleTween(d,function zd(d,m,T){var I,de,oe=T+"";return function(){var fe=no(this,d);return fe===oe?null:fe===I?de:de=m(I=fe,T)}}(d,I,m),T).on("end.style."+d,null)},styleTween:function Ag(d,m,T){var I="style."+(d+="");if(arguments.length<2)return(I=this.tween(I))&&I._value;if(null==m)return this.tween(I,null);if("function"!=typeof m)throw new Error;return this.tween(I,function Cl(d,m,T){var I,oe;function de(){var fe=m.apply(this,arguments);return fe!==oe&&(I=(oe=fe)&&function wf(d,m,T){return function(I){this.style.setProperty(d,m.call(this,I),T)}}(d,fe,T)),I}return de._value=m,de}(d,m,T??""))},text:function xp(d){return this.tween("text","function"==typeof d?function Th(d){return function(){var m=d(this);this.textContent=m??""}}(Bs(this,"text",d)):function Cf(d){return function(){this.textContent=d}}(null==d?"":d+""))},textTween:function Tf(d){var m="text";if(arguments.length<1)return(m=this.tween(m))&&m._value;if(null==d)return this.tween(m,null);if("function"!=typeof d)throw new Error;return this.tween(m,function Cm(d){var m,T;function I(){var oe=d.apply(this,arguments);return oe!==T&&(m=(T=oe)&&function xu(d){return function(m){this.textContent=d.call(this,m)}}(oe)),m}return I._value=d,I}(d))},remove:function sl(){return this.on("end.remove",function Ql(d){return function(){var m=this.parentNode;for(var T in this.__transition)if(+T!==d)return;m&&m.removeChild(this)}}(this._id))},tween:function bg(d,m){var T=this._id;if(d+="",arguments.length<2){for(var fe,I=qs(this.node(),T).tween,oe=0,de=I.length;oe<de;++oe)if((fe=I[oe]).name===d)return fe.value;return null}return this.each((null==m?Os:ff)(T,d,m))},delay:function Tp(d){var m=this._id;return arguments.length?this.each(("function"==typeof d?wm:Cp)(m,d)):qs(this.node(),m).delay},duration:function wr(d){var m=this._id;return arguments.length?this.each(("function"==typeof d?kg:Lc)(m,d)):qs(this.node(),m).duration},ease:function Ud(d){var m=this._id;return arguments.length?this.each(function Vl(d,m){if("function"!=typeof m)throw new Error;return function(){Xs(this,d).ease=m}}(m,d)):qs(this.node(),m).ease},easeVarying:function Sg(d){if("function"!=typeof d)throw new Error;return this.each(function Ts(d,m){return function(){var T=m.apply(this,arguments);if("function"!=typeof T)throw new Error;Xs(this,d).ease=T}}(this._id,d))},end:function Tm(){var d,m,T=this,I=T._id,oe=T.size();return new Promise(function(de,fe){var ye={value:fe},Ye={value:function(){0==--oe&&de()}};T.each(function(){var je=Xs(this,I),ot=je.on;ot!==d&&((m=(d=ot).copy())._.cancel.push(ye),m._.interrupt.push(ye),m._.end.push(Ye)),je.on=m}),0===oe&&de()})},[Symbol.iterator]:Pc[Symbol.iterator]};var $d={time:null,delay:0,duration:250,ease:function Og(d){return((d*=2)<=1?d*d*d:(d-=2)*d*d+2)/2}};function Dm(d,m){for(var T;!(T=d.__transition)||!(T=T[m]);)if(!(d=d.parentNode))throw new Error(`transition ${m} not found`);return T}Fo.prototype.interrupt=function Ll(d){return this.each(function(){!function Xo(d,m){var I,oe,fe,T=d.__transition,de=!0;if(T){for(fe in m=null==m?null:m+"",T)(I=T[fe]).name===m?(oe=I.state>2&&I.state<5,I.state=6,I.timer.stop(),I.on.call(oe?"interrupt":"cancel",d,d.__data__,I.index,I.group),delete T[fe]):de=!1;de&&delete d.__transition}}(this,d)})},Fo.prototype.transition=function kp(d){var m,T;d instanceof ec?(m=d._id,d=d._name):(m=vd(),(T=$d).time=Nc(),d=null==d?null:d+"");for(var I=this._groups,oe=I.length,de=0;de<oe;++de)for(var Ye,fe=I[de],ye=fe.length,je=0;je<ye;++je)(Ye=fe[je])&&Ms(Ye,d,m,je,fe,T||Dm(Ye,m));return new ec(I,this._parents,d,m)};Math;function Pr(d){return{type:d}}function oo(d){if(!d.ok)throw new Error(d.status+" "+d.statusText);return d.text()}function tc(d){return(m,T)=>function ll(d,m){return fetch(d,m).then(oo)}(m,T).then(I=>(new DOMParser).parseFromString(I,d))}["w","e"].map(Pr),["n","s"].map(Pr),["n","w","e","s","nw","ne","sw","se"].map(Pr),tc("application/xml"),tc("text/html");var Ig=tc("image/svg+xml");const nc=Math.PI/180,Uo=180/Math.PI,lu=.96422,Ra=1,Ga=.82521,Vc=4/29,ic=6/29,Sp=3*ic*ic,kh=ic*ic*ic;function Rr(d){if(d instanceof zo)return new zo(d.l,d.a,d.b,d.opacity);if(d instanceof Ul)return Sh(d);d instanceof rl||(d=md(d));var de,fe,m=Td(d.r),T=Td(d.g),I=Td(d.b),oe=Xa((.2225045*m+.7168786*T+.0606169*I)/Ra);return m===T&&T===I?de=fe=oe:(de=Xa((.4360747*m+.3850649*T+.1430804*I)/lu),fe=Xa((.0139322*m+.0971045*T+.7141733*I)/Ga)),new zo(116*oe-16,500*(de-oe),200*(oe-fe),d.opacity)}function zo(d,m,T,I){this.l=+d,this.a=+m,this.b=+T,this.opacity=+I}function Xa(d){return d>kh?Math.pow(d,1/3):d/Sp+Vc}function Cd(d){return d>ic?d*d*d:Sp*(d-Vc)}function vo(d){return 255*(d<=.0031308?12.92*d:1.055*Math.pow(d,1/2.4)-.055)}function Td(d){return(d/=255)<=.04045?d/12.92:Math.pow((d+.055)/1.055,2.4)}function Ep(d,m,T,I){return 1===arguments.length?function La(d){if(d instanceof Ul)return new Ul(d.h,d.c,d.l,d.opacity);if(d instanceof zo||(d=Rr(d)),0===d.a&&0===d.b)return new Ul(NaN,0<d.l&&d.l<100?0:NaN,d.l,d.opacity);var m=Math.atan2(d.b,d.a)*Uo;return new Ul(m<0?m+360:m,Math.sqrt(d.a*d.a+d.b*d.b),d.l,d.opacity)}(d):new Ul(d,m,T,I??1)}function Ul(d,m,T,I){this.h=+d,this.c=+m,this.l=+T,this.opacity=+I}function Sh(d){if(isNaN(d.h))return new zo(d.l,0,0,d.opacity);var m=d.h*nc;return new zo(d.l,Math.cos(m)*d.c,Math.sin(m)*d.c,d.opacity)}function Hc(d){return function(m,T){var I=d((m=Ep(m)).h,(T=Ep(T)).h),oe=ou(m.c,T.c),de=ou(m.l,T.l),fe=ou(m.opacity,T.opacity);return function(ye){return m.h=I(ye),m.c=oe(ye),m.l=de(ye),m.opacity=fe(ye),m+""}}}Pd(zo,function Xd(d,m,T,I){return 1===arguments.length?Rr(d):new zo(d,m,T,I??1)},pf(iu,{brighter(d){return new zo(this.l+18*(d??1),this.a,this.b,this.opacity)},darker(d){return new zo(this.l-18*(d??1),this.a,this.b,this.opacity)},rgb(){var d=(this.l+16)/116,m=isNaN(this.a)?d:d+this.a/500,T=isNaN(this.b)?d:d-this.b/200;return new rl(vo(3.1338561*(m=lu*Cd(m))-1.6168667*(d=Ra*Cd(d))-.4906146*(T=Ga*Cd(T))),vo(-.9787684*m+1.9161415*d+.033454*T),vo(.0719453*m-.2289914*d+1.4052427*T),this.opacity)}})),Pd(Ul,Ep,pf(iu,{brighter(d){return new Ul(this.h,this.c,this.l+18*(d??1),this.opacity)},darker(d){return new Ul(this.h,this.c,this.l-18*(d??1),this.opacity)},rgb(){return Sh(this).rgb()}}));const ft=Hc(function Us(d,m){var T=m-d;return T?gp(d,T>180||T<-180?T-360*Math.round(T/360):T):pp(isNaN(d)?m:d)});Hc(ou);const xm=Math.sqrt(50),Eh=Math.sqrt(10),km=Math.sqrt(2);function Ah(d,m,T){const I=(m-d)/Math.max(0,T),oe=Math.floor(Math.log10(I)),de=I/Math.pow(10,oe),fe=de>=xm?10:de>=Eh?5:de>=km?2:1;let ye,Ye,je;return oe<0?(je=Math.pow(10,-oe)/fe,ye=Math.round(d*je),Ye=Math.round(m*je),ye/je<d&&++ye,Ye/je>m&&--Ye,je=-je):(je=Math.pow(10,oe)*fe,ye=Math.round(d/je),Ye=Math.round(m/je),ye*je<d&&++ye,Ye*je>m&&--Ye),Ye<ye&&.5<=T&&T<2?Ah(d,m,2*T):[ye,Ye,je]}function Sm(d,m,T){return Ah(d=+d,m=+m,T=+T)[2]}function $0(d,m,T){T=+T;const I=(m=+m)<(d=+d),oe=I?Sm(m,d,T):Sm(d,m,T);return(I?-1:1)*(oe<0?1/-oe:oe)}function Em(d,m){return null==d||null==m?NaN:d<m?-1:d>m?1:d>=m?0:NaN}function Su(d,m){return null==d||null==m?NaN:m<d?-1:m>d?1:m>=d?0:NaN}function Mh(d){let m,T,I;function oe(ye,Ye,je=0,ot=ye.length){if(je<ot){if(0!==m(Ye,Ye))return ot;do{const Zt=je+ot>>>1;T(ye[Zt],Ye)<0?je=Zt+1:ot=Zt}while(je<ot)}return je}return 2!==d.length?(m=Em,T=(ye,Ye)=>Em(d(ye),Ye),I=(ye,Ye)=>d(ye)-Ye):(m=d===Em||d===Su?d:Ob,T=d,I=d),{left:oe,center:function fe(ye,Ye,je=0,ot=ye.length){const Zt=oe(ye,Ye,je,ot-1);return Zt>je&&I(ye[Zt-1],Ye)>-I(ye[Zt],Ye)?Zt-1:Zt},right:function de(ye,Ye,je=0,ot=ye.length){if(je<ot){if(0!==m(Ye,Ye))return ot;do{const Zt=je+ot>>>1;T(ye[Zt],Ye)<=0?je=Zt+1:ot=Zt}while(je<ot)}return je}}}function Ob(){return 0}const Oh=Mh(Em).right,Mp=(Mh(function Ap(d){return null===d?NaN:+d}),Oh);function Mm(d,m){var fe,T=m?m.length:0,I=d?Math.min(T,d.length):0,oe=new Array(I),de=new Array(T);for(fe=0;fe<I;++fe)oe[fe]=Im(d[fe],m[fe]);for(;fe<T;++fe)de[fe]=m[fe];return function(ye){for(fe=0;fe<I;++fe)de[fe]=oe[fe](ye);return de}}function W0(d,m){var T=new Date;return d=+d,m=+m,function(I){return T.setTime(d*(1-I)+m*I),T}}function G0(d,m){var oe,T={},I={};for(oe in(null===d||"object"!=typeof d)&&(d={}),(null===m||"object"!=typeof m)&&(m={}),m)oe in d?T[oe]=Im(d[oe],m[oe]):I[oe]=m[oe];return function(de){for(oe in T)I[oe]=T[oe](de);return I}}function bw(d,m){m||(m=[]);var oe,T=d?Math.min(m.length,d.length):0,I=m.slice();return function(de){for(oe=0;oe<T;++oe)I[oe]=d[oe]*(1-de)+m[oe]*de;return I}}function Im(d,m){var I,T=typeof m;return null==m||"boolean"===T?pp(m):("number"===T?_a:"string"===T?(I=gd(m))?(m=I,Yu):vh:m instanceof gd?Yu:m instanceof Date?W0:function Om(d){return ArrayBuffer.isView(d)&&!(d instanceof DataView)}(m)?bw:Array.isArray(m)?Mm:"function"!=typeof m.valueOf&&"function"!=typeof m.toString||isNaN(m)?G0:_a)(d,m)}function Fa(d,m){return d=+d,m=+m,function(T){return Math.round(d*(1-T)+m*T)}}function X0(d){return+d}var D_=[0,1];function Eu(d){return d}function Rg(d,m){return(m-=d=+d)?function(T){return(T-d)/m}:function T_(d){return function(){return d}}(isNaN(m)?NaN:.5)}function Op(d,m,T){var I=d[0],oe=d[1],de=m[0],fe=m[1];return oe<I?(I=Rg(oe,I),de=T(fe,de)):(I=Rg(I,oe),de=T(de,fe)),function(ye){return de(I(ye))}}function Lg(d,m,T){var I=Math.min(d.length,m.length)-1,oe=new Array(I),de=new Array(I),fe=-1;for(d[I]<d[0]&&(d=d.slice().reverse(),m=m.slice().reverse());++fe<I;)oe[fe]=Rg(d[fe],d[fe+1]),de[fe]=T(m[fe],m[fe+1]);return function(ye){var Ye=Mp(d,ye,1,I)-1;return de[Ye](oe[Ye](ye))}}function sc(d,m){return m.domain(d.domain()).range(d.range()).interpolate(d.interpolate()).clamp(d.clamp()).unknown(d.unknown())}function Rm(){return function Nm(){var I,oe,de,ye,Ye,je,d=D_,m=D_,T=Im,fe=Eu;function ot(){var Lt=Math.min(d.length,m.length);return fe!==Eu&&(fe=function q0(d,m){var T;return d>m&&(T=d,d=m,m=T),function(I){return Math.max(d,Math.min(m,I))}}(d[0],d[Lt-1])),ye=Lt>2?Lg:Op,Ye=je=null,Zt}function Zt(Lt){return null==Lt||isNaN(Lt=+Lt)?de:(Ye||(Ye=ye(d.map(I),m,T)))(I(fe(Lt)))}return Zt.invert=function(Lt){return fe(oe((je||(je=ye(m,d.map(I),_a)))(Lt)))},Zt.domain=function(Lt){return arguments.length?(d=Array.from(Lt,X0),ot()):d.slice()},Zt.range=function(Lt){return arguments.length?(m=Array.from(Lt),ot()):m.slice()},Zt.rangeRound=function(Lt){return m=Array.from(Lt),T=Fa,ot()},Zt.clamp=function(Lt){return arguments.length?(fe=!!Lt||Eu,ot()):fe!==Eu},Zt.interpolate=function(Lt){return arguments.length?(T=Lt,ot()):T},Zt.unknown=function(Lt){return arguments.length?(de=Lt,Zt):de},function(Lt,an){return I=Lt,oe=an,ot()}}()(Eu,Eu)}function wa(d,m){switch(arguments.length){case 0:break;case 1:this.range(d);break;default:this.range(m).domain(d)}return this}var Un,G=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function se(d){if(!(m=G.exec(d)))throw new Error("invalid format: "+d);var m;return new _e({fill:m[1],align:m[2],sign:m[3],symbol:m[4],zero:m[5],width:m[6],comma:m[7],precision:m[8]&&m[8].slice(1),trim:m[9],type:m[10]})}function _e(d){this.fill=void 0===d.fill?" ":d.fill+"",this.align=void 0===d.align?">":d.align+"",this.sign=void 0===d.sign?"-":d.sign+"",this.symbol=void 0===d.symbol?"":d.symbol+"",this.zero=!!d.zero,this.width=void 0===d.width?void 0:+d.width,this.comma=!!d.comma,this.precision=void 0===d.precision?void 0:+d.precision,this.trim=!!d.trim,this.type=void 0===d.type?"":d.type+""}function it(d,m){if((T=(d=m?d.toExponential(m-1):d.toExponential()).indexOf("e"))<0)return null;var T,I=d.slice(0,T);return[I.length>1?I[0]+I.slice(2):I,+d.slice(T+1)]}function mt(d){return(d=it(Math.abs(d)))?d[1]:NaN}function Nn(d,m){var T=it(d,m);if(!T)return d+"";var I=T[0],oe=T[1];return oe<0?"0."+new Array(-oe).join("0")+I:I.length>oe+1?I.slice(0,oe+1)+"."+I.slice(oe+1):I+new Array(oe-I.length+2).join("0")}se.prototype=_e.prototype,_e.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Vi={"%":(d,m)=>(100*d).toFixed(m),b:d=>Math.round(d).toString(2),c:d=>d+"",d:function $e(d){return Math.abs(d=Math.round(d))>=1e21?d.toLocaleString("en").replace(/,/g,""):d.toString(10)},e:(d,m)=>d.toExponential(m),f:(d,m)=>d.toFixed(m),g:(d,m)=>d.toPrecision(m),o:d=>Math.round(d).toString(8),p:(d,m)=>Nn(100*d,m),r:Nn,s:function Mi(d,m){var T=it(d,m);if(!T)return d+"";var I=T[0],oe=T[1],de=oe-(Un=3*Math.max(-8,Math.min(8,Math.floor(oe/3))))+1,fe=I.length;return de===fe?I:de>fe?I+new Array(de-fe+1).join("0"):de>0?I.slice(0,de)+"."+I.slice(de):"0."+new Array(1-de).join("0")+it(d,Math.max(0,m+de-1))[0]},X:d=>Math.round(d).toString(16).toUpperCase(),x:d=>Math.round(d).toString(16)};function Wi(d){return d}var Ss,ua,Ca,as=Array.prototype.map,hs=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function ps(d){var m=d.domain;return d.ticks=function(T){var I=m();return function Ng(d,m,T){if(!((T=+T)>0))return[];if((d=+d)==(m=+m))return[d];const I=m<d,[oe,de,fe]=I?Ah(m,d,T):Ah(d,m,T);if(!(de>=oe))return[];const ye=de-oe+1,Ye=new Array(ye);if(I)if(fe<0)for(let je=0;je<ye;++je)Ye[je]=(de-je)/-fe;else for(let je=0;je<ye;++je)Ye[je]=(de-je)*fe;else if(fe<0)for(let je=0;je<ye;++je)Ye[je]=(oe+je)/-fe;else for(let je=0;je<ye;++je)Ye[je]=(oe+je)*fe;return Ye}(I[0],I[I.length-1],T??10)},d.tickFormat=function(T,I){var oe=m();return function Er(d,m,T,I){var de,oe=$0(d,m,T);switch((I=se(I??",f")).type){case"s":var fe=Math.max(Math.abs(d),Math.abs(m));return null==I.precision&&!isNaN(de=function rt(d,m){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(mt(m)/3)))-mt(Math.abs(d)))}(oe,fe))&&(I.precision=de),Ca(I,fe);case"":case"e":case"g":case"p":case"r":null==I.precision&&!isNaN(de=function si(d,m){return d=Math.abs(d),m=Math.abs(m)-d,Math.max(0,mt(m)-mt(d))+1}(oe,Math.max(Math.abs(d),Math.abs(m))))&&(I.precision=de-("e"===I.type));break;case"f":case"%":null==I.precision&&!isNaN(de=function Mn(d){return Math.max(0,-mt(Math.abs(d)))}(oe))&&(I.precision=de-2*("%"===I.type))}return ua(I)}(oe[0],oe[oe.length-1],T??10,I)},d.nice=function(T){null==T&&(T=10);var Ye,je,I=m(),oe=0,de=I.length-1,fe=I[oe],ye=I[de],ot=10;for(ye<fe&&(je=fe,fe=ye,ye=je,je=oe,oe=de,de=je);ot-- >0;){if((je=Sm(fe,ye,T))===Ye)return I[oe]=fe,I[de]=ye,m(I);if(je>0)fe=Math.floor(fe/je)*je,ye=Math.ceil(ye/je)*je;else{if(!(je<0))break;fe=Math.ceil(fe*je)/je,ye=Math.floor(ye*je)/je}Ye=je}return d},d}function gs(){var d=Rm();return d.copy=function(){return sc(d,gs())},wa.apply(d,arguments),ps(d)}!function Ba(d){Ss=function fs(d){var m=void 0===d.grouping||void 0===d.thousands?Wi:function It(d,m){return function(T,I){for(var oe=T.length,de=[],fe=0,ye=d[0],Ye=0;oe>0&&ye>0&&(Ye+ye+1>I&&(ye=Math.max(1,I-Ye)),de.push(T.substring(oe-=ye,oe+ye)),!((Ye+=ye+1)>I));)ye=d[fe=(fe+1)%d.length];return de.reverse().join(m)}}(as.call(d.grouping,Number),d.thousands+""),T=void 0===d.currency?"":d.currency[0]+"",I=void 0===d.currency?"":d.currency[1]+"",oe=void 0===d.decimal?".":d.decimal+"",de=void 0===d.numerals?Wi:function Rt(d){return function(m){return m.replace(/[0-9]/g,function(T){return d[+T]})}}(as.call(d.numerals,String)),fe=void 0===d.percent?"%":d.percent+"",ye=void 0===d.minus?"\u2212":d.minus+"",Ye=void 0===d.nan?"NaN":d.nan+"";function je(Zt){var Lt=(Zt=se(Zt)).fill,an=Zt.align,Hi=Zt.sign,mr=Zt.symbol,Rn=Zt.zero,hn=Zt.width,yi=Zt.comma,$n=Zt.precision,bi=Zt.trim,gi=Zt.type;"n"===gi?(yi=!0,gi="g"):Vi[gi]||(void 0===$n&&($n=12),bi=!0,gi="g"),(Rn||"0"===Lt&&"="===an)&&(Rn=!0,Lt="0",an="=");var Zn="$"===mr?T:"#"===mr&&/[boxX]/.test(gi)?"0"+gi.toLowerCase():"",jr="$"===mr?I:/[%p]/.test(gi)?fe:"",cs=Vi[gi],wo=/[defgprs%]/.test(gi);function us(Ri){var Ot,Ai,xn,Ds=Zn,hi=jr;if("c"===gi)hi=cs(Ri)+hi,Ri="";else{var ni=(Ri=+Ri)<0||1/Ri<0;if(Ri=isNaN(Ri)?Ye:cs(Math.abs(Ri),$n),bi&&(Ri=function dn(d){e:for(var oe,m=d.length,T=1,I=-1;T<m;++T)switch(d[T]){case".":I=oe=T;break;case"0":0===I&&(I=T),oe=T;break;default:if(!+d[T])break e;I>0&&(I=0)}return I>0?d.slice(0,I)+d.slice(oe+1):d}(Ri)),ni&&0==+Ri&&"+"!==Hi&&(ni=!1),Ds=(ni?"("===Hi?Hi:ye:"-"===Hi||"("===Hi?"":Hi)+Ds,hi=("s"===gi?hs[8+Un/3]:"")+hi+(ni&&"("===Hi?")":""),wo)for(Ot=-1,Ai=Ri.length;++Ot<Ai;)if(48>(xn=Ri.charCodeAt(Ot))||xn>57){hi=(46===xn?oe+Ri.slice(Ot+1):Ri.slice(Ot))+hi,Ri=Ri.slice(0,Ot);break}}yi&&!Rn&&(Ri=m(Ri,1/0));var nr=Ds.length+Ri.length+hi.length,ji=nr<hn?new Array(hn-nr+1).join(Lt):"";switch(yi&&Rn&&(Ri=m(ji+Ri,ji.length?hn-hi.length:1/0),ji=""),an){case"<":Ri=Ds+Ri+hi+ji;break;case"=":Ri=Ds+ji+Ri+hi;break;case"^":Ri=ji.slice(0,nr=ji.length>>1)+Ds+Ri+hi+ji.slice(nr);break;default:Ri=ji+Ds+Ri+hi}return de(Ri)}return $n=void 0===$n?6:/[gprs]/.test(gi)?Math.max(1,Math.min(21,$n)):Math.max(0,Math.min(20,$n)),us.toString=function(){return Zt+""},us}return{format:je,formatPrefix:function ot(Zt,Lt){var an=je(((Zt=se(Zt)).type="f",Zt)),Hi=3*Math.max(-8,Math.min(8,Math.floor(mt(Lt)/3))),mr=Math.pow(10,-Hi),Rn=hs[8+Hi/3];return function(hn){return an(mr*hn)+Rn}}}}(d),ua=Ss.format,Ca=Ss.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});class cl extends Map{constructor(m,T=Ks){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:T}}),null!=m)for(const[I,oe]of m)this.set(I,oe)}get(m){return super.get(ls(this,m))}has(m){return super.has(ls(this,m))}set(m,T){return super.set(function Fr({_intern:d,_key:m},T){const I=m(T);return d.has(I)?d.get(I):(d.set(I,T),T)}(this,m),T)}delete(m){return super.delete(function Zr({_intern:d,_key:m},T){const I=m(T);return d.has(I)&&(T=d.get(I),d.delete(I)),T}(this,m))}}function ls({_intern:d,_key:m},T){const I=m(T);return d.has(I)?d.get(I):T}function Ks(d){return null!==d&&"object"==typeof d?d.valueOf():d}Set;const po=Symbol("implicit");function Vo(){var d=new cl,m=[],T=[],I=po;function oe(de){let fe=d.get(de);if(void 0===fe){if(I!==po)return I;d.set(de,fe=m.push(de)-1)}return T[fe%T.length]}return oe.domain=function(de){if(!arguments.length)return m.slice();m=[],d=new cl;for(const fe of de)d.has(fe)||d.set(fe,m.push(fe)-1);return oe},oe.range=function(de){return arguments.length?(T=Array.from(de),oe):T.slice()},oe.unknown=function(de){return arguments.length?(I=de,oe):I},oe.copy=function(){return Vo(m,T).unknown(I)},wa.apply(oe,arguments),oe}const sn=1e3,ur=6e4,At=60*ur,St=24*At,Ns=7*St,Ih=30*St,_c=365*St,yc=new Date,Nh=new Date;function qa(d,m,T,I){function oe(de){return d(de=0===arguments.length?new Date:new Date(+de)),de}return oe.floor=de=>(d(de=new Date(+de)),de),oe.ceil=de=>(d(de=new Date(de-1)),m(de,1),d(de),de),oe.round=de=>{const fe=oe(de),ye=oe.ceil(de);return de-fe<ye-de?fe:ye},oe.offset=(de,fe)=>(m(de=new Date(+de),null==fe?1:Math.floor(fe)),de),oe.range=(de,fe,ye)=>{const Ye=[];if(de=oe.ceil(de),ye=null==ye?1:Math.floor(ye),!(de<fe&&ye>0))return Ye;let je;do{Ye.push(je=new Date(+de)),m(de,ye),d(de)}while(je<de&&de<fe);return Ye},oe.filter=de=>qa(fe=>{if(fe>=fe)for(;d(fe),!de(fe);)fe.setTime(fe-1)},(fe,ye)=>{if(fe>=fe)if(ye<0)for(;++ye<=0;)for(;m(fe,-1),!de(fe););else for(;--ye>=0;)for(;m(fe,1),!de(fe););}),T&&(oe.count=(de,fe)=>(yc.setTime(+de),Nh.setTime(+fe),d(yc),d(Nh),Math.floor(T(yc,Nh))),oe.every=de=>(de=Math.floor(de),isFinite(de)&&de>0?de>1?oe.filter(I?fe=>I(fe)%de==0:fe=>oe.count(0,fe)%de==0):oe:null)),oe}const Z0=qa(()=>{},(d,m)=>{d.setTime(+d+m)},(d,m)=>m-d);Z0.every=d=>(d=Math.floor(d),isFinite(d)&&d>0?d>1?qa(m=>{m.setTime(Math.floor(m/d)*d)},(m,T)=>{m.setTime(+m+T*d)},(m,T)=>(T-m)/d):Z0:null);const Ip=qa(d=>{d.setTime(d-d.getMilliseconds())},(d,m)=>{d.setTime(+d+m*sn)},(d,m)=>(m-d)/sn,d=>d.getUTCSeconds()),Au=qa(d=>{d.setTime(d-d.getMilliseconds()-d.getSeconds()*sn)},(d,m)=>{d.setTime(+d+m*ur)},(d,m)=>(m-d)/ur,d=>d.getMinutes()),Gu=qa(d=>{d.setUTCSeconds(0,0)},(d,m)=>{d.setTime(+d+m*ur)},(d,m)=>(m-d)/ur,d=>d.getUTCMinutes()),Q0=qa(d=>{d.setTime(d-d.getMilliseconds()-d.getSeconds()*sn-d.getMinutes()*ur)},(d,m)=>{d.setTime(+d+m*At)},(d,m)=>(m-d)/At,d=>d.getHours()),Nb=qa(d=>{d.setUTCMinutes(0,0,0)},(d,m)=>{d.setTime(+d+m*At)},(d,m)=>(m-d)/At,d=>d.getUTCHours()),xf=qa(d=>d.setHours(0,0,0,0),(d,m)=>d.setDate(d.getDate()+m),(d,m)=>(m-d-(m.getTimezoneOffset()-d.getTimezoneOffset())*ur)/St,d=>d.getDate()-1),Lm=qa(d=>{d.setUTCHours(0,0,0,0)},(d,m)=>{d.setUTCDate(d.getUTCDate()+m)},(d,m)=>(m-d)/St,d=>d.getUTCDate()-1),Lb=qa(d=>{d.setUTCHours(0,0,0,0)},(d,m)=>{d.setUTCDate(d.getUTCDate()+m)},(d,m)=>(m-d)/St,d=>Math.floor(d/St));function Ka(d){return qa(m=>{m.setDate(m.getDate()-(m.getDay()+7-d)%7),m.setHours(0,0,0,0)},(m,T)=>{m.setDate(m.getDate()+7*T)},(m,T)=>(T-m-(T.getTimezoneOffset()-m.getTimezoneOffset())*ur)/Ns)}const Xu=Ka(0),zl=Ka(1),Dd=(Ka(2),Ka(3),Ka(4));function kf(d){return qa(m=>{m.setUTCDate(m.getUTCDate()-(m.getUTCDay()+7-d)%7),m.setUTCHours(0,0,0,0)},(m,T)=>{m.setUTCDate(m.getUTCDate()+7*T)},(m,T)=>(T-m)/Ns)}Ka(5),Ka(6);const Pg=kf(0),Mu=kf(1),Rh=(kf(2),kf(3),kf(4)),Lp=(kf(5),kf(6),qa(d=>{d.setDate(1),d.setHours(0,0,0,0)},(d,m)=>{d.setMonth(d.getMonth()+m)},(d,m)=>m.getMonth()-d.getMonth()+12*(m.getFullYear()-d.getFullYear()),d=>d.getMonth())),Bb=qa(d=>{d.setUTCDate(1),d.setUTCHours(0,0,0,0)},(d,m)=>{d.setUTCMonth(d.getUTCMonth()+m)},(d,m)=>m.getUTCMonth()-d.getUTCMonth()+12*(m.getUTCFullYear()-d.getUTCFullYear()),d=>d.getUTCMonth()),Sf=qa(d=>{d.setMonth(0,1),d.setHours(0,0,0,0)},(d,m)=>{d.setFullYear(d.getFullYear()+m)},(d,m)=>m.getFullYear()-d.getFullYear(),d=>d.getFullYear());Sf.every=d=>isFinite(d=Math.floor(d))&&d>0?qa(m=>{m.setFullYear(Math.floor(m.getFullYear()/d)*d),m.setMonth(0,1),m.setHours(0,0,0,0)},(m,T)=>{m.setFullYear(m.getFullYear()+T*d)}):null;const qu=qa(d=>{d.setUTCMonth(0,1),d.setUTCHours(0,0,0,0)},(d,m)=>{d.setUTCFullYear(d.getUTCFullYear()+m)},(d,m)=>m.getUTCFullYear()-d.getUTCFullYear(),d=>d.getUTCFullYear());function Bg(d,m,T,I,oe,de){const fe=[[Ip,1,sn],[Ip,5,5e3],[Ip,15,15e3],[Ip,30,3e4],[de,1,ur],[de,5,5*ur],[de,15,15*ur],[de,30,30*ur],[oe,1,At],[oe,3,3*At],[oe,6,6*At],[oe,12,12*At],[I,1,St],[I,2,2*St],[T,1,Ns],[m,1,Ih],[m,3,3*Ih],[d,1,_c]];function Ye(je,ot,Zt){const Lt=Math.abs(ot-je)/Zt,an=Mh(([,,Rn])=>Rn).right(fe,Lt);if(an===fe.length)return d.every($0(je/_c,ot/_c,Zt));if(0===an)return Z0.every(Math.max($0(je,ot,Zt),1));const[Hi,mr]=fe[Lt/fe[an-1][2]<fe[an][2]/Lt?an-1:an];return Hi.every(mr)}return[function ye(je,ot,Zt){const Lt=ot<je;Lt&&([je,ot]=[ot,je]);const an=Zt&&"function"==typeof Zt.range?Zt:Ye(je,ot,Zt),Hi=an?an.range(je,+ot+1):[];return Lt?Hi.reverse():Hi},Ye]}qu.every=d=>isFinite(d=Math.floor(d))&&d>0?qa(m=>{m.setUTCFullYear(Math.floor(m.getUTCFullYear()/d)*d),m.setUTCMonth(0,1),m.setUTCHours(0,0,0,0)},(m,T)=>{m.setUTCFullYear(m.getUTCFullYear()+T*d)}):null;const[Hb,x_]=Bg(qu,Bb,Pg,Lb,Nb,Gu),[lx,jb]=Bg(Sf,Lp,Xu,xf,Q0,Au);function t1(d){if(0<=d.y&&d.y<100){var m=new Date(-1,d.m,d.d,d.H,d.M,d.S,d.L);return m.setFullYear(d.y),m}return new Date(d.y,d.m,d.d,d.H,d.M,d.S,d.L)}function k_(d){if(0<=d.y&&d.y<100){var m=new Date(Date.UTC(-1,d.m,d.d,d.H,d.M,d.S,d.L));return m.setUTCFullYear(d.y),m}return new Date(Date.UTC(d.y,d.m,d.d,d.H,d.M,d.S,d.L))}function uu(d,m,T){return{y:d,m,d:T,H:0,M:0,S:0,L:0}}var Bh,Wm,Hm={"-":"",_:" ",0:"0"},ul=/^\s*\d+/,Ub=/^%/,jm=/[\\^$*+?|[\]().{}]/g;function ao(d,m,T){var I=d<0?"-":"",oe=(I?-d:d)+"",de=oe.length;return I+(de<T?new Array(T-de+1).join(m)+oe:oe)}function xw(d){return d.replace(jm,"\\$&")}function Vg(d){return new RegExp("^(?:"+d.map(xw).join("|")+")","i")}function Hg(d){return new Map(d.map((m,T)=>[m.toLowerCase(),T]))}function zb(d,m,T){var I=ul.exec(m.slice(T,T+1));return I?(d.w=+I[0],T+I[0].length):-1}function Yb(d,m,T){var I=ul.exec(m.slice(T,T+1));return I?(d.u=+I[0],T+I[0].length):-1}function Ef(d,m,T){var I=ul.exec(m.slice(T,T+2));return I?(d.U=+I[0],T+I[0].length):-1}function S_(d,m,T){var I=ul.exec(m.slice(T,T+2));return I?(d.V=+I[0],T+I[0].length):-1}function jg(d,m,T){var I=ul.exec(m.slice(T,T+2));return I?(d.W=+I[0],T+I[0].length):-1}function kw(d,m,T){var I=ul.exec(m.slice(T,T+4));return I?(d.y=+I[0],T+I[0].length):-1}function $b(d,m,T){var I=ul.exec(m.slice(T,T+2));return I?(d.y=+I[0]+(+I[0]>68?1900:2e3),T+I[0].length):-1}function Sw(d,m,T){var I=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(m.slice(T,T+6));return I?(d.Z=I[1]?0:-(I[2]+(I[3]||"00")),T+I[0].length):-1}function Pp(d,m,T){var I=ul.exec(m.slice(T,T+1));return I?(d.q=3*I[0]-3,T+I[0].length):-1}function Af(d,m,T){var I=ul.exec(m.slice(T,T+2));return I?(d.m=I[0]-1,T+I[0].length):-1}function Za(d,m,T){var I=ul.exec(m.slice(T,T+2));return I?(d.d=+I[0],T+I[0].length):-1}function Ew(d,m,T){var I=ul.exec(m.slice(T,T+3));return I?(d.m=0,d.d=+I[0],T+I[0].length):-1}function qo(d,m,T){var I=ul.exec(m.slice(T,T+2));return I?(d.H=+I[0],T+I[0].length):-1}function E_(d,m,T){var I=ul.exec(m.slice(T,T+2));return I?(d.M=+I[0],T+I[0].length):-1}function Aw(d,m,T){var I=ul.exec(m.slice(T,T+2));return I?(d.S=+I[0],T+I[0].length):-1}function Wb(d,m,T){var I=ul.exec(m.slice(T,T+3));return I?(d.L=+I[0],T+I[0].length):-1}function Fp(d,m,T){var I=ul.exec(m.slice(T,T+6));return I?(d.L=Math.floor(I[0]/1e3),T+I[0].length):-1}function Mw(d,m,T){var I=Ub.exec(m.slice(T,T+1));return I?T+I[0].length:-1}function Gb(d,m,T){var I=ul.exec(m.slice(T));return I?(d.Q=+I[0],T+I[0].length):-1}function A_(d,m,T){var I=ul.exec(m.slice(T));return I?(d.s=+I[0],T+I[0].length):-1}function Um(d,m){return ao(d.getDate(),m,2)}function Xb(d,m){return ao(d.getHours(),m,2)}function qb(d,m){return ao(d.getHours()%12||12,m,2)}function Ow(d,m){return ao(1+xf.count(Sf(d),d),m,3)}function Kd(d,m){return ao(d.getMilliseconds(),m,3)}function kd(d,m){return Kd(d,m)+"000"}function n1(d,m){return ao(d.getMonth()+1,m,2)}function zm(d,m){return ao(d.getMinutes(),m,2)}function Kb(d,m){return ao(d.getSeconds(),m,2)}function M_(d){var m=d.getDay();return 0===m?7:m}function gr(d,m){return ao(Xu.count(Sf(d)-1,d),m,2)}function i1(d){var m=d.getDay();return m>=4||0===m?Dd(d):Dd.ceil(d)}function r1(d,m){return d=i1(d),ao(Dd.count(Sf(d),d)+(4===Sf(d).getDay()),m,2)}function Ko(d){return d.getDay()}function O_(d,m){return ao(zl.count(Sf(d)-1,d),m,2)}function Zb(d,m){return ao(d.getFullYear()%100,m,2)}function Zd(d,m){return ao((d=i1(d)).getFullYear()%100,m,2)}function s1(d,m){return ao(d.getFullYear()%1e4,m,4)}function Sd(d,m){var T=d.getDay();return ao((d=T>=4||0===T?Dd(d):Dd.ceil(d)).getFullYear()%1e4,m,4)}function Ou(d){var m=d.getTimezoneOffset();return(m>0?"-":(m*=-1,"+"))+ao(m/60|0,"0",2)+ao(m%60,"0",2)}function Ku(d,m){return ao(d.getUTCDate(),m,2)}function Iw(d,m){return ao(d.getUTCHours(),m,2)}function Nw(d,m){return ao(d.getUTCHours()%12||12,m,2)}function I_(d,m){return ao(1+Lm.count(qu(d),d),m,3)}function cx(d,m){return ao(d.getUTCMilliseconds(),m,3)}function Rw(d,m){return cx(d,m)+"000"}function Qb(d,m){return ao(d.getUTCMonth()+1,m,2)}function Lw(d,m){return ao(d.getUTCMinutes(),m,2)}function ux(d,m){return ao(d.getUTCSeconds(),m,2)}function Pw(d){var m=d.getUTCDay();return 0===m?7:m}function Mf(d,m){return ao(Pg.count(qu(d)-1,d),m,2)}function es(d){var m=d.getUTCDay();return m>=4||0===m?Rh(d):Rh.ceil(d)}function Va(d,m){return d=es(d),ao(Rh.count(qu(d),d)+(4===qu(d).getUTCDay()),m,2)}function o1(d){return d.getUTCDay()}function a1(d,m){return ao(Mu.count(qu(d)-1,d),m,2)}function pi(d,m){return ao(d.getUTCFullYear()%100,m,2)}function Ym(d,m){return ao((d=es(d)).getUTCFullYear()%100,m,2)}function N_(d,m){return ao(d.getUTCFullYear()%1e4,m,4)}function Fh(d,m){var T=d.getUTCDay();return ao((d=T>=4||0===T?Rh(d):Rh.ceil(d)).getUTCFullYear()%1e4,m,4)}function R_(){return"+0000"}function l1(){return"%"}function L_(d){return+d}function $m(d){return Math.floor(+d/1e3)}function jw(d){return new Date(d)}function du(d){return d instanceof Date?+d:+new Date(+d)}function Ug(d,m,T,I,oe,de,fe,ye,Ye,je){var ot=Rm(),Zt=ot.invert,Lt=ot.domain,an=je(".%L"),Hi=je(":%S"),mr=je("%I:%M"),Rn=je("%I %p"),hn=je("%a %d"),yi=je("%b %d"),$n=je("%B"),bi=je("%Y");function gi(Zn){return(Ye(Zn)<Zn?an:ye(Zn)<Zn?Hi:fe(Zn)<Zn?mr:de(Zn)<Zn?Rn:I(Zn)<Zn?oe(Zn)<Zn?hn:yi:T(Zn)<Zn?$n:bi)(Zn)}return ot.invert=function(Zn){return new Date(Zt(Zn))},ot.domain=function(Zn){return arguments.length?Lt(Array.from(Zn,du)):Lt().map(jw)},ot.ticks=function(Zn){var jr=Lt();return d(jr[0],jr[jr.length-1],Zn??10)},ot.tickFormat=function(Zn,jr){return null==jr?gi:je(jr)},ot.nice=function(Zn){var jr=Lt();return(!Zn||"function"!=typeof Zn.range)&&(Zn=m(jr[0],jr[jr.length-1],Zn??10)),Zn?Lt(function Hw(d,m){var fe,T=0,I=(d=d.slice()).length-1,oe=d[T],de=d[I];return de<oe&&(fe=T,T=I,I=fe,fe=oe,oe=de,de=fe),d[T]=m.floor(oe),d[I]=m.ceil(de),d}(jr,Zn)):ot},ot.copy=function(){return sc(ot,Ug(d,m,T,I,oe,de,fe,ye,Ye,je))},ot}function Jb(){return wa.apply(Ug(lx,jb,Sf,Lp,Xu,xf,Q0,Au,Ip,Wm).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function F_(d){return"string"==typeof d?new ws([[document.querySelector(d)]],[document.documentElement]):new ws([[d]],fo)}function vc(d){return"string"==typeof d?new ws([document.querySelectorAll(d)],[document.documentElement]):new ws([ve(d)],fo)}function sa(d){return function(){return d}}!function P_(d){Bh=function Dw(d){var m=d.dateTime,T=d.date,I=d.time,oe=d.periods,de=d.days,fe=d.shortDays,ye=d.months,Ye=d.shortMonths,je=Vg(oe),ot=Hg(oe),Zt=Vg(de),Lt=Hg(de),an=Vg(fe),Hi=Hg(fe),mr=Vg(ye),Rn=Hg(ye),hn=Vg(Ye),yi=Hg(Ye),$n={a:function ni(Li){return fe[Li.getDay()]},A:function nr(Li){return de[Li.getDay()]},b:function ji(Li){return Ye[Li.getMonth()]},B:function hr(Li){return ye[Li.getMonth()]},c:null,d:Um,e:Um,f:kd,g:Zd,G:Sd,H:Xb,I:qb,j:Ow,L:Kd,m:n1,M:zm,p:function xr(Li){return oe[+(Li.getHours()>=12)]},q:function Qr(Li){return 1+~~(Li.getMonth()/3)},Q:L_,s:$m,S:Kb,u:M_,U:gr,V:r1,w:Ko,W:O_,x:null,X:null,y:Zb,Y:s1,Z:Ou,"%":l1},bi={a:function dl(Li){return fe[Li.getUTCDay()]},A:function Ho(Li){return de[Li.getUTCDay()]},b:function Yo(Li){return Ye[Li.getUTCMonth()]},B:function Dl(Li){return ye[Li.getUTCMonth()]},c:null,d:Ku,e:Ku,f:Rw,g:Ym,G:Fh,H:Iw,I:Nw,j:I_,L:cx,m:Qb,M:Lw,p:function go(Li){return oe[+(Li.getUTCHours()>=12)]},q:function Co(Li){return 1+~~(Li.getUTCMonth()/3)},Q:L_,s:$m,S:ux,u:Pw,U:Mf,V:Va,w:o1,W:a1,x:null,X:null,y:pi,Y:N_,Z:R_,"%":l1},gi={a:function us(Li,Cr,Vs){var wn=an.exec(Cr.slice(Vs));return wn?(Li.w=Hi.get(wn[0].toLowerCase()),Vs+wn[0].length):-1},A:function Ri(Li,Cr,Vs){var wn=Zt.exec(Cr.slice(Vs));return wn?(Li.w=Lt.get(wn[0].toLowerCase()),Vs+wn[0].length):-1},b:function Ds(Li,Cr,Vs){var wn=hn.exec(Cr.slice(Vs));return wn?(Li.m=yi.get(wn[0].toLowerCase()),Vs+wn[0].length):-1},B:function hi(Li,Cr,Vs){var wn=mr.exec(Cr.slice(Vs));return wn?(Li.m=Rn.get(wn[0].toLowerCase()),Vs+wn[0].length):-1},c:function Ot(Li,Cr,Vs){return cs(Li,m,Cr,Vs)},d:Za,e:Za,f:Fp,g:$b,G:kw,H:qo,I:qo,j:Ew,L:Wb,m:Af,M:E_,p:function wo(Li,Cr,Vs){var wn=je.exec(Cr.slice(Vs));return wn?(Li.p=ot.get(wn[0].toLowerCase()),Vs+wn[0].length):-1},q:Pp,Q:Gb,s:A_,S:Aw,u:Yb,U:Ef,V:S_,w:zb,W:jg,x:function Ai(Li,Cr,Vs){return cs(Li,T,Cr,Vs)},X:function xn(Li,Cr,Vs){return cs(Li,I,Cr,Vs)},y:$b,Y:kw,Z:Sw,"%":Mw};function Zn(Li,Cr){return function(Vs){var Cc,Wr,Da,wn=[],mo=-1,Io=0,ha=Li.length;for(Vs instanceof Date||(Vs=new Date(+Vs));++mo<ha;)37===Li.charCodeAt(mo)&&(wn.push(Li.slice(Io,mo)),null!=(Wr=Hm[Cc=Li.charAt(++mo)])?Cc=Li.charAt(++mo):Wr="e"===Cc?" ":"0",(Da=Cr[Cc])&&(Cc=Da(Vs,Wr)),wn.push(Cc),Io=mo+1);return wn.push(Li.slice(Io,mo)),wn.join("")}}function jr(Li,Cr){return function(Vs){var Io,ha,wn=uu(1900,void 0,1);if(cs(wn,Li,Vs+="",0)!=Vs.length)return null;if("Q"in wn)return new Date(wn.Q);if("s"in wn)return new Date(1e3*wn.s+("L"in wn?wn.L:0));if(Cr&&!("Z"in wn)&&(wn.Z=0),"p"in wn&&(wn.H=wn.H%12+12*wn.p),void 0===wn.m&&(wn.m="q"in wn?wn.q:0),"V"in wn){if(wn.V<1||wn.V>53)return null;"w"in wn||(wn.w=1),"Z"in wn?(ha=(Io=k_(uu(wn.y,0,1))).getUTCDay(),Io=ha>4||0===ha?Mu.ceil(Io):Mu(Io),Io=Lm.offset(Io,7*(wn.V-1)),wn.y=Io.getUTCFullYear(),wn.m=Io.getUTCMonth(),wn.d=Io.getUTCDate()+(wn.w+6)%7):(ha=(Io=t1(uu(wn.y,0,1))).getDay(),Io=ha>4||0===ha?zl.ceil(Io):zl(Io),Io=xf.offset(Io,7*(wn.V-1)),wn.y=Io.getFullYear(),wn.m=Io.getMonth(),wn.d=Io.getDate()+(wn.w+6)%7)}else("W"in wn||"U"in wn)&&("w"in wn||(wn.w="u"in wn?wn.u%7:"W"in wn?1:0),ha="Z"in wn?k_(uu(wn.y,0,1)).getUTCDay():t1(uu(wn.y,0,1)).getDay(),wn.m=0,wn.d="W"in wn?(wn.w+6)%7+7*wn.W-(ha+5)%7:wn.w+7*wn.U-(ha+6)%7);return"Z"in wn?(wn.H+=wn.Z/100|0,wn.M+=wn.Z%100,k_(wn)):t1(wn)}}function cs(Li,Cr,Vs,wn){for(var Cc,Wr,mo=0,Io=Cr.length,ha=Vs.length;mo<Io;){if(wn>=ha)return-1;if(37===(Cc=Cr.charCodeAt(mo++))){if(Cc=Cr.charAt(mo++),!(Wr=gi[Cc in Hm?Cr.charAt(mo++):Cc])||(wn=Wr(Li,Vs,wn))<0)return-1}else if(Cc!=Vs.charCodeAt(wn++))return-1}return wn}return $n.x=Zn(T,$n),$n.X=Zn(I,$n),$n.c=Zn(m,$n),bi.x=Zn(T,bi),bi.X=Zn(I,bi),bi.c=Zn(m,bi),{format:function(Li){var Cr=Zn(Li+="",$n);return Cr.toString=function(){return Li},Cr},parse:function(Li){var Cr=jr(Li+="",!1);return Cr.toString=function(){return Li},Cr},utcFormat:function(Li){var Cr=Zn(Li+="",bi);return Cr.toString=function(){return Li},Cr},utcParse:function(Li){var Cr=jr(Li+="",!0);return Cr.toString=function(){return Li},Cr}}}(d),Wm=Bh.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const B_=Math.abs,oc=Math.atan2,Bp=Math.cos,ev=Math.max,c1=Math.min,Zu=Math.sin,Gm=Math.sqrt,wc=1e-12,Qd=Math.PI,Xm=Qd/2,u1=2*Qd;function V_(d){return d>=1?Xm:d<=-1?-Xm:Math.asin(d)}const Vp=Math.PI,d1=2*Vp,Jd=1e-6,tv=d1-Jd;function h1(d){this._+=d[0];for(let m=1,T=d.length;m<T;++m)this._+=arguments[m]+d[m]}class Hp{constructor(m){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==m?h1:function f1(d){let m=Math.floor(d);if(!(m>=0))throw new Error(`invalid digits: ${d}`);if(m>15)return h1;const T=10**m;return function(I){this._+=I[0];for(let oe=1,de=I.length;oe<de;++oe)this._+=Math.round(arguments[oe]*T)/T+I[oe]}}(m)}moveTo(m,T){this._append`M${this._x0=this._x1=+m},${this._y0=this._y1=+T}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(m,T){this._append`L${this._x1=+m},${this._y1=+T}`}quadraticCurveTo(m,T,I,oe){this._append`Q${+m},${+T},${this._x1=+I},${this._y1=+oe}`}bezierCurveTo(m,T,I,oe,de,fe){this._append`C${+m},${+T},${+I},${+oe},${this._x1=+de},${this._y1=+fe}`}arcTo(m,T,I,oe,de){if(m=+m,T=+T,I=+I,oe=+oe,(de=+de)<0)throw new Error(`negative radius: ${de}`);let fe=this._x1,ye=this._y1,Ye=I-m,je=oe-T,ot=fe-m,Zt=ye-T,Lt=ot*ot+Zt*Zt;if(null===this._x1)this._append`M${this._x1=m},${this._y1=T}`;else if(Lt>Jd)if(Math.abs(Zt*Ye-je*ot)>Jd&&de){let an=I-fe,Hi=oe-ye,mr=Ye*Ye+je*je,Rn=an*an+Hi*Hi,hn=Math.sqrt(mr),yi=Math.sqrt(Lt),$n=de*Math.tan((Vp-Math.acos((mr+Lt-Rn)/(2*hn*yi)))/2),bi=$n/yi,gi=$n/hn;Math.abs(bi-1)>Jd&&this._append`L${m+bi*ot},${T+bi*Zt}`,this._append`A${de},${de},0,0,${+(Zt*an>ot*Hi)},${this._x1=m+gi*Ye},${this._y1=T+gi*je}`}else this._append`L${this._x1=m},${this._y1=T}`}arc(m,T,I,oe,de,fe){if(m=+m,T=+T,fe=!!fe,(I=+I)<0)throw new Error(`negative radius: ${I}`);let ye=I*Math.cos(oe),Ye=I*Math.sin(oe),je=m+ye,ot=T+Ye,Zt=1^fe,Lt=fe?oe-de:de-oe;null===this._x1?this._append`M${je},${ot}`:(Math.abs(this._x1-je)>Jd||Math.abs(this._y1-ot)>Jd)&&this._append`L${je},${ot}`,I&&(Lt<0&&(Lt=Lt%d1+d1),Lt>tv?this._append`A${I},${I},0,1,${Zt},${m-ye},${T-Ye}A${I},${I},0,1,${Zt},${this._x1=je},${this._y1=ot}`:Lt>Jd&&this._append`A${I},${I},0,${+(Lt>=Vp)},${Zt},${this._x1=m+I*Math.cos(de)},${this._y1=T+I*Math.sin(de)}`)}rect(m,T,I,oe){this._append`M${this._x0=this._x1=+m},${this._y0=this._y1=+T}h${I=+I}v${+oe}h${-I}Z`}toString(){return this._}}function zg(d){let m=3;return d.digits=function(T){if(!arguments.length)return m;if(null==T)m=null;else{const I=Math.floor(T);if(!(I>=0))throw new RangeError(`invalid digits: ${T}`);m=I}return d},()=>new Hp(m)}function zw(d){return d.innerRadius}function Yw(d){return d.outerRadius}function dx(d){return d.startAngle}function nv(d){return d.endAngle}function hx(d){return d&&d.padAngle}function iv(d,m,T,I,oe,de,fe){var ye=d-T,Ye=m-I,je=(fe?de:-de)/Gm(ye*ye+Ye*Ye),ot=je*Ye,Zt=-je*ye,Lt=d+ot,an=m+Zt,Hi=T+ot,mr=I+Zt,Rn=(Lt+Hi)/2,hn=(an+mr)/2,yi=Hi-Lt,$n=mr-an,bi=yi*yi+$n*$n,gi=oe-de,Zn=Lt*mr-Hi*an,jr=($n<0?-1:1)*Gm(ev(0,gi*gi*bi-Zn*Zn)),cs=(Zn*$n-yi*jr)/bi,wo=(-Zn*yi-$n*jr)/bi,us=(Zn*$n+yi*jr)/bi,Ri=(-Zn*yi+$n*jr)/bi,Ds=cs-Rn,hi=wo-hn,Ot=us-Rn,Ai=Ri-hn;return Ds*Ds+hi*hi>Ot*Ot+Ai*Ai&&(cs=us,wo=Ri),{cx:cs,cy:wo,x01:-ot,y01:-Zt,x11:cs*(oe/gi-1),y11:wo*(oe/gi-1)}}function px(){var d=zw,m=Yw,T=sa(0),I=null,oe=dx,de=nv,fe=hx,ye=null,Ye=zg(je);function je(){var ot,Zt,Lt=+d.apply(this,arguments),an=+m.apply(this,arguments),Hi=oe.apply(this,arguments)-Xm,mr=de.apply(this,arguments)-Xm,Rn=B_(mr-Hi),hn=mr>Hi;if(ye||(ye=ot=Ye()),an<Lt&&(Zt=an,an=Lt,Lt=Zt),an>wc)if(Rn>u1-wc)ye.moveTo(an*Bp(Hi),an*Zu(Hi)),ye.arc(0,0,an,Hi,mr,!hn),Lt>wc&&(ye.moveTo(Lt*Bp(mr),Lt*Zu(mr)),ye.arc(0,0,Lt,mr,Hi,hn));else{var hi,Ot,yi=Hi,$n=mr,bi=Hi,gi=mr,Zn=Rn,jr=Rn,cs=fe.apply(this,arguments)/2,wo=cs>wc&&(I?+I.apply(this,arguments):Gm(Lt*Lt+an*an)),us=c1(B_(an-Lt)/2,+T.apply(this,arguments)),Ri=us,Ds=us;if(wo>wc){var Ai=V_(wo/Lt*Zu(cs)),xn=V_(wo/an*Zu(cs));(Zn-=2*Ai)>wc?(bi+=Ai*=hn?1:-1,gi-=Ai):(Zn=0,bi=gi=(Hi+mr)/2),(jr-=2*xn)>wc?(yi+=xn*=hn?1:-1,$n-=xn):(jr=0,yi=$n=(Hi+mr)/2)}var ni=an*Bp(yi),nr=an*Zu(yi),ji=Lt*Bp(gi),hr=Lt*Zu(gi);if(us>wc){var Yo,xr=an*Bp($n),Qr=an*Zu($n),dl=Lt*Bp(bi),Ho=Lt*Zu(bi);if(Rn<Qd)if(Yo=function fx(d,m,T,I,oe,de,fe,ye){var Ye=T-d,je=I-m,ot=fe-oe,Zt=ye-de,Lt=Zt*Ye-ot*je;if(!(Lt*Lt<wc))return[d+(Lt=(ot*(m-de)-Zt*(d-oe))/Lt)*Ye,m+Lt*je]}(ni,nr,dl,Ho,xr,Qr,ji,hr)){var Dl=ni-Yo[0],go=nr-Yo[1],Co=xr-Yo[0],Li=Qr-Yo[1],Cr=1/Zu(function Uw(d){return d>1?0:d<-1?Qd:Math.acos(d)}((Dl*Co+go*Li)/(Gm(Dl*Dl+go*go)*Gm(Co*Co+Li*Li)))/2),Vs=Gm(Yo[0]*Yo[0]+Yo[1]*Yo[1]);Ri=c1(us,(Lt-Vs)/(Cr-1)),Ds=c1(us,(an-Vs)/(Cr+1))}else Ri=Ds=0}jr>wc?Ds>wc?(hi=iv(dl,Ho,ni,nr,an,Ds,hn),Ot=iv(xr,Qr,ji,hr,an,Ds,hn),ye.moveTo(hi.cx+hi.x01,hi.cy+hi.y01),Ds<us?ye.arc(hi.cx,hi.cy,Ds,oc(hi.y01,hi.x01),oc(Ot.y01,Ot.x01),!hn):(ye.arc(hi.cx,hi.cy,Ds,oc(hi.y01,hi.x01),oc(hi.y11,hi.x11),!hn),ye.arc(0,0,an,oc(hi.cy+hi.y11,hi.cx+hi.x11),oc(Ot.cy+Ot.y11,Ot.cx+Ot.x11),!hn),ye.arc(Ot.cx,Ot.cy,Ds,oc(Ot.y11,Ot.x11),oc(Ot.y01,Ot.x01),!hn))):(ye.moveTo(ni,nr),ye.arc(0,0,an,yi,$n,!hn)):ye.moveTo(ni,nr),Lt>wc&&Zn>wc?Ri>wc?(hi=iv(ji,hr,xr,Qr,Lt,-Ri,hn),Ot=iv(ni,nr,dl,Ho,Lt,-Ri,hn),ye.lineTo(hi.cx+hi.x01,hi.cy+hi.y01),Ri<us?ye.arc(hi.cx,hi.cy,Ri,oc(hi.y01,hi.x01),oc(Ot.y01,Ot.x01),!hn):(ye.arc(hi.cx,hi.cy,Ri,oc(hi.y01,hi.x01),oc(hi.y11,hi.x11),!hn),ye.arc(0,0,Lt,oc(hi.cy+hi.y11,hi.cx+hi.x11),oc(Ot.cy+Ot.y11,Ot.cx+Ot.x11),hn),ye.arc(Ot.cx,Ot.cy,Ri,oc(Ot.y11,Ot.x11),oc(Ot.y01,Ot.x01),!hn))):ye.arc(0,0,Lt,gi,bi,hn):ye.lineTo(ji,hr)}else ye.moveTo(0,0);if(ye.closePath(),ot)return ye=null,ot+""||null}return je.centroid=function(){var ot=(+d.apply(this,arguments)+ +m.apply(this,arguments))/2,Zt=(+oe.apply(this,arguments)+ +de.apply(this,arguments))/2-Qd/2;return[Bp(Zt)*ot,Zu(Zt)*ot]},je.innerRadius=function(ot){return arguments.length?(d="function"==typeof ot?ot:sa(+ot),je):d},je.outerRadius=function(ot){return arguments.length?(m="function"==typeof ot?ot:sa(+ot),je):m},je.cornerRadius=function(ot){return arguments.length?(T="function"==typeof ot?ot:sa(+ot),je):T},je.padRadius=function(ot){return arguments.length?(I=null==ot?null:"function"==typeof ot?ot:sa(+ot),je):I},je.startAngle=function(ot){return arguments.length?(oe="function"==typeof ot?ot:sa(+ot),je):oe},je.endAngle=function(ot){return arguments.length?(de="function"==typeof ot?ot:sa(+ot),je):de},je.padAngle=function(ot){return arguments.length?(fe="function"==typeof ot?ot:sa(+ot),je):fe},je.context=function(ot){return arguments.length?(ye=ot??null,je):ye},je}function j_(d){return"object"==typeof d&&"length"in d?d:Array.from(d)}function $w(d){this._context=d}function Of(d){return new $w(d)}function U_(d){return d[0]}function Ww(d){return d[1]}function z_(d,m){var T=sa(!0),I=null,oe=Of,de=null,fe=zg(ye);function ye(Ye){var je,Zt,an,ot=(Ye=j_(Ye)).length,Lt=!1;for(null==I&&(de=oe(an=fe())),je=0;je<=ot;++je)!(je<ot&&T(Zt=Ye[je],je,Ye))===Lt&&((Lt=!Lt)?de.lineStart():de.lineEnd()),Lt&&de.point(+d(Zt,je,Ye),+m(Zt,je,Ye));if(an)return de=null,an+""||null}return d="function"==typeof d?d:void 0===d?U_:sa(d),m="function"==typeof m?m:void 0===m?Ww:sa(m),ye.x=function(Ye){return arguments.length?(d="function"==typeof Ye?Ye:sa(+Ye),ye):d},ye.y=function(Ye){return arguments.length?(m="function"==typeof Ye?Ye:sa(+Ye),ye):m},ye.defined=function(Ye){return arguments.length?(T="function"==typeof Ye?Ye:sa(!!Ye),ye):T},ye.curve=function(Ye){return arguments.length?(oe=Ye,null!=I&&(de=oe(I)),ye):oe},ye.context=function(Ye){return arguments.length?(null==Ye?I=de=null:de=oe(I=Ye),ye):I},ye}function eh(d,m){return m<d?-1:m>d?1:m>=d?0:NaN}function mx(d){return d}function Gw(){var d=mx,m=eh,T=null,I=sa(0),oe=sa(u1),de=sa(0);function fe(ye){var Ye,ot,Zt,hn,bi,je=(ye=j_(ye)).length,Lt=0,an=new Array(je),Hi=new Array(je),mr=+I.apply(this,arguments),Rn=Math.min(u1,Math.max(-u1,oe.apply(this,arguments)-mr)),yi=Math.min(Math.abs(Rn)/je,de.apply(this,arguments)),$n=yi*(Rn<0?-1:1);for(Ye=0;Ye<je;++Ye)(bi=Hi[an[Ye]=Ye]=+d(ye[Ye],Ye,ye))>0&&(Lt+=bi);for(null!=m?an.sort(function(gi,Zn){return m(Hi[gi],Hi[Zn])}):null!=T&&an.sort(function(gi,Zn){return T(ye[gi],ye[Zn])}),Ye=0,Zt=Lt?(Rn-je*$n)/Lt:0;Ye<je;++Ye,mr=hn)Hi[ot=an[Ye]]={data:ye[ot],index:Ye,value:bi=Hi[ot],startAngle:mr,endAngle:hn=mr+(bi>0?bi*Zt:0)+$n,padAngle:yi};return Hi}return fe.value=function(ye){return arguments.length?(d="function"==typeof ye?ye:sa(+ye),fe):d},fe.sortValues=function(ye){return arguments.length?(m=ye,T=null,fe):m},fe.sort=function(ye){return arguments.length?(T=ye,m=null,fe):T},fe.startAngle=function(ye){return arguments.length?(I="function"==typeof ye?ye:sa(+ye),fe):I},fe.endAngle=function(ye){return arguments.length?(oe="function"==typeof ye?ye:sa(+ye),fe):oe},fe.padAngle=function(ye){return arguments.length?(de="function"==typeof ye?ye:sa(+ye),fe):de},fe}function Ha(){}function Tl(d,m,T){d._context.bezierCurveTo((2*d._x0+d._x1)/3,(2*d._y0+d._y1)/3,(d._x0+2*d._x1)/3,(d._y0+2*d._y1)/3,(d._x0+4*d._x1+m)/6,(d._y0+4*d._y1+T)/6)}function da(d){this._context=d}function If(d){return new da(d)}function zs(d){this._context=d}function hu(d){return new zs(d)}function Y_(d){this._context=d}function $_(d){return new Y_(d)}$w.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(d,m){switch(d=+d,m=+m,this._point){case 0:this._point=1,this._line?this._context.lineTo(d,m):this._context.moveTo(d,m);break;case 1:this._point=2;default:this._context.lineTo(d,m)}}},da.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Tl(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(d,m){switch(d=+d,m=+m,this._point){case 0:this._point=1,this._line?this._context.lineTo(d,m):this._context.moveTo(d,m);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Tl(this,d,m)}this._x0=this._x1,this._x1=d,this._y0=this._y1,this._y1=m}},zs.prototype={areaStart:Ha,areaEnd:Ha,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(d,m){switch(d=+d,m=+m,this._point){case 0:this._point=1,this._x2=d,this._y2=m;break;case 1:this._point=2,this._x3=d,this._y3=m;break;case 2:this._point=3,this._x4=d,this._y4=m,this._context.moveTo((this._x0+4*this._x1+d)/6,(this._y0+4*this._y1+m)/6);break;default:Tl(this,d,m)}this._x0=this._x1,this._x1=d,this._y0=this._y1,this._y1=m}},Y_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(d,m){switch(d=+d,m=+m,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var T=(this._x0+4*this._x1+d)/6,I=(this._y0+4*this._y1+m)/6;this._line?this._context.lineTo(T,I):this._context.moveTo(T,I);break;case 3:this._point=4;default:Tl(this,d,m)}this._x0=this._x1,this._x1=d,this._y0=this._y1,this._y1=m}};class jp{constructor(m,T){this._context=m,this._x=T}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(m,T){switch(m=+m,T=+T,this._point){case 0:this._point=1,this._line?this._context.lineTo(m,T):this._context.moveTo(m,T);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+m)/2,this._y0,this._x0,T,m,T):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+T)/2,m,this._y0,m,T)}this._x0=m,this._y0=T}}function g1(d){return new jp(d,!0)}function m1(d){return new jp(d,!1)}function Rf(d,m){this._basis=new da(d),this._beta=m}Rf.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var d=this._x,m=this._y,T=d.length-1;if(T>0)for(var Ye,I=d[0],oe=m[0],de=d[T]-I,fe=m[T]-oe,ye=-1;++ye<=T;)this._basis.point(this._beta*d[ye]+(1-this._beta)*(I+(Ye=ye/T)*de),this._beta*m[ye]+(1-this._beta)*(oe+Ye*fe));this._x=this._y=null,this._basis.lineEnd()},point:function(d,m){this._x.push(+d),this._y.push(+m)}};const $g=function d(m){function T(I){return 1===m?new da(I):new Rf(I,m)}return T.beta=function(I){return d(+I)},T}(.85);function Up(d,m,T){d._context.bezierCurveTo(d._x1+d._k*(d._x2-d._x0),d._y1+d._k*(d._y2-d._y0),d._x2+d._k*(d._x1-m),d._y2+d._k*(d._y1-T),d._x2,d._y2)}function Wg(d,m){this._context=d,this._k=(1-m)/6}Wg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Up(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(d,m){switch(d=+d,m=+m,this._point){case 0:this._point=1,this._line?this._context.lineTo(d,m):this._context.moveTo(d,m);break;case 1:this._point=2,this._x1=d,this._y1=m;break;case 2:this._point=3;default:Up(this,d,m)}this._x0=this._x1,this._x1=this._x2,this._x2=d,this._y0=this._y1,this._y1=this._y2,this._y2=m}};const _1=function d(m){function T(I){return new Wg(I,m)}return T.tension=function(I){return d(+I)},T}(0);function rv(d,m){this._context=d,this._k=(1-m)/6}rv.prototype={areaStart:Ha,areaEnd:Ha,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(d,m){switch(d=+d,m=+m,this._point){case 0:this._point=1,this._x3=d,this._y3=m;break;case 1:this._point=2,this._context.moveTo(this._x4=d,this._y4=m);break;case 2:this._point=3,this._x5=d,this._y5=m;break;default:Up(this,d,m)}this._x0=this._x1,this._x1=this._x2,this._x2=d,this._y0=this._y1,this._y1=this._y2,this._y2=m}};const y1=function d(m){function T(I){return new rv(I,m)}return T.tension=function(I){return d(+I)},T}(0);function zp(d,m){this._context=d,this._k=(1-m)/6}zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(d,m){switch(d=+d,m=+m,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Up(this,d,m)}this._x0=this._x1,this._x1=this._x2,this._x2=d,this._y0=this._y1,this._y1=this._y2,this._y2=m}};const Xw=function d(m){function T(I){return new zp(I,m)}return T.tension=function(I){return d(+I)},T}(0);function qm(d,m,T){var I=d._x1,oe=d._y1,de=d._x2,fe=d._y2;if(d._l01_a>wc){var ye=2*d._l01_2a+3*d._l01_a*d._l12_a+d._l12_2a,Ye=3*d._l01_a*(d._l01_a+d._l12_a);I=(I*ye-d._x0*d._l12_2a+d._x2*d._l01_2a)/Ye,oe=(oe*ye-d._y0*d._l12_2a+d._y2*d._l01_2a)/Ye}if(d._l23_a>wc){var je=2*d._l23_2a+3*d._l23_a*d._l12_a+d._l12_2a,ot=3*d._l23_a*(d._l23_a+d._l12_a);de=(de*je+d._x1*d._l23_2a-m*d._l12_2a)/ot,fe=(fe*je+d._y1*d._l23_2a-T*d._l12_2a)/ot}d._context.bezierCurveTo(I,oe,de,fe,d._x2,d._y2)}function sv(d,m){this._context=d,this._alpha=m}sv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(d,m){if(d=+d,m=+m,this._point){var T=this._x2-d,I=this._y2-m;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(T*T+I*I,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(d,m):this._context.moveTo(d,m);break;case 1:this._point=2;break;case 2:this._point=3;default:qm(this,d,m)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=d,this._y0=this._y1,this._y1=this._y2,this._y2=m}};const _x=function d(m){function T(I){return m?new sv(I,m):new Wg(I,0)}return T.alpha=function(I){return d(+I)},T}(.5);function Lf(d,m){this._context=d,this._alpha=m}Lf.prototype={areaStart:Ha,areaEnd:Ha,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(d,m){if(d=+d,m=+m,this._point){var T=this._x2-d,I=this._y2-m;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(T*T+I*I,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=d,this._y3=m;break;case 1:this._point=2,this._context.moveTo(this._x4=d,this._y4=m);break;case 2:this._point=3,this._x5=d,this._y5=m;break;default:qm(this,d,m)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=d,this._y0=this._y1,this._y1=this._y2,this._y2=m}};const Ta=function d(m){function T(I){return m?new Lf(I,m):new rv(I,0)}return T.alpha=function(I){return d(+I)},T}(.5);function qw(d,m){this._context=d,this._alpha=m}qw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(d,m){if(d=+d,m=+m,this._point){var T=this._x2-d,I=this._y2-m;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(T*T+I*I,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:qm(this,d,m)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=d,this._y0=this._y1,this._y1=this._y2,this._y2=m}};const Kw=function d(m){function T(I){return m?new qw(I,m):new zp(I,0)}return T.alpha=function(I){return d(+I)},T}(.5);function Yp(d){this._context=d}function ov(d){return new Yp(d)}function b1(d){return d<0?-1:1}function av(d,m,T){var I=d._x1-d._x0,oe=m-d._x1,de=(d._y1-d._y0)/(I||oe<0&&-0),fe=(T-d._y1)/(oe||I<0&&-0),ye=(de*oe+fe*I)/(I+oe);return(b1(de)+b1(fe))*Math.min(Math.abs(de),Math.abs(fe),.5*Math.abs(ye))||0}function Zw(d,m){var T=d._x1-d._x0;return T?(3*(d._y1-d._y0)/T-m)/2:m}function lv(d,m,T){var I=d._x0,de=d._x1,fe=d._y1,ye=(de-I)/3;d._context.bezierCurveTo(I+ye,d._y0+ye*m,de-ye,fe-ye*T,de,fe)}function Pf(d){this._context=d}function cv(d){this._context=new Km(d)}function Km(d){this._context=d}function W_(d){return new Pf(d)}function Qw(d){return new cv(d)}function G_(d){this._context=d}function Zm(d){var m,I,T=d.length-1,oe=new Array(T),de=new Array(T),fe=new Array(T);for(oe[0]=0,de[0]=2,fe[0]=d[0]+2*d[1],m=1;m<T-1;++m)oe[m]=1,de[m]=4,fe[m]=4*d[m]+2*d[m+1];for(oe[T-1]=2,de[T-1]=7,fe[T-1]=8*d[T-1]+d[T],m=1;m<T;++m)de[m]-=I=oe[m]/de[m-1],fe[m]-=I*fe[m-1];for(oe[T-1]=fe[T-1]/de[T-1],m=T-2;m>=0;--m)oe[m]=(fe[m]-oe[m+1])/de[m];for(de[T-1]=(d[T]+oe[T-1])/2,m=0;m<T-1;++m)de[m]=2*d[m+1]-oe[m+1];return[oe,de]}function v1(d){return new G_(d)}function $p(d,m){this._context=d,this._t=m}function uv(d){return new $p(d,.5)}function dv(d){return new $p(d,0)}function hv(d){return new $p(d,1)}function Vh(d,m,T){this.k=d,this.x=m,this.y=T}Yp.prototype={areaStart:Ha,areaEnd:Ha,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(d,m){d=+d,m=+m,this._point?this._context.lineTo(d,m):(this._point=1,this._context.moveTo(d,m))}},Pf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lv(this,this._t0,Zw(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(d,m){var T=NaN;if(m=+m,(d=+d)!==this._x1||m!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(d,m):this._context.moveTo(d,m);break;case 1:this._point=2;break;case 2:this._point=3,lv(this,Zw(this,T=av(this,d,m)),T);break;default:lv(this,this._t0,T=av(this,d,m))}this._x0=this._x1,this._x1=d,this._y0=this._y1,this._y1=m,this._t0=T}}},(cv.prototype=Object.create(Pf.prototype)).point=function(d,m){Pf.prototype.point.call(this,m,d)},Km.prototype={moveTo:function(d,m){this._context.moveTo(m,d)},closePath:function(){this._context.closePath()},lineTo:function(d,m){this._context.lineTo(m,d)},bezierCurveTo:function(d,m,T,I,oe,de){this._context.bezierCurveTo(m,d,I,T,de,oe)}},G_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var d=this._x,m=this._y,T=d.length;if(T)if(this._line?this._context.lineTo(d[0],m[0]):this._context.moveTo(d[0],m[0]),2===T)this._context.lineTo(d[1],m[1]);else for(var I=Zm(d),oe=Zm(m),de=0,fe=1;fe<T;++de,++fe)this._context.bezierCurveTo(I[0][de],oe[0][de],I[1][de],oe[1][de],d[fe],m[fe]);(this._line||0!==this._line&&1===T)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(d,m){this._x.push(+d),this._y.push(+m)}},$p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(d,m){switch(d=+d,m=+m,this._point){case 0:this._point=1,this._line?this._context.lineTo(d,m):this._context.moveTo(d,m);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,m),this._context.lineTo(d,m);else{var T=this._x*(1-this._t)+d*this._t;this._context.lineTo(T,this._y),this._context.lineTo(T,m)}}this._x=d,this._y=m}},Vh.prototype={constructor:Vh,scale:function(d){return 1===d?this:new Vh(this.k*d,this.x,this.y)},translate:function(d,m){return 0===d&0===m?this:new Vh(this.k,this.x+this.k*d,this.y+this.k*m)},apply:function(d){return[d[0]*this.k+this.x,d[1]*this.k+this.y]},applyX:function(d){return d*this.k+this.x},applyY:function(d){return d*this.k+this.y},invert:function(d){return[(d[0]-this.x)/this.k,(d[1]-this.y)/this.k]},invertX:function(d){return(d-this.x)/this.k},invertY:function(d){return(d-this.y)/this.k},rescaleX:function(d){return d.copy().domain(d.range().map(this.invertX,this).map(d.invert,d))},rescaleY:function(d){return d.copy().domain(d.range().map(this.invertY,this).map(d.invert,d))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Vh(1,0,0)},8384:(Nt,Ae,N)=>{"use strict";function R(te,re,S,F){var ne,x,E,O,k,j,ee,Q,we,U,W,K,ie;if(U=(ne=re.y-te.y)*F.x+(E=te.x-re.x)*F.y+(k=re.x*te.y-te.x*re.y),!(0!==(we=ne*S.x+E*S.y+k)&&0!==U&&H(we,U)||(x=F.y-S.y,O=S.x-F.x,j=F.x*S.y-S.x*F.y,ee=x*te.x+O*te.y+j,Q=x*re.x+O*re.y+j,0!==ee&&0!==Q&&H(ee,Q)||(W=ne*O-x*E,0===W))))return K=Math.abs(W/2),{x:(ie=E*j-O*k)<0?(ie-K)/W:(ie+K)/W,y:(ie=x*k-ne*j)<0?(ie-K)/W:(ie+K)/W}}function H(te,re){return te*re>0}function q(te,re,S){var F=te.x,ne=te.y,x=[],E=Number.POSITIVE_INFINITY,O=Number.POSITIVE_INFINITY;re.forEach(function(W){E=Math.min(E,W.x),O=Math.min(O,W.y)});for(var k=F-te.width/2-E,j=ne-te.height/2-O,ee=0;ee<re.length;ee++){var Q=re[ee],we=re[ee<re.length-1?ee+1:0],U=R(te,S,{x:k+Q.x,y:j+Q.y},{x:k+we.x,y:j+we.y});U&&x.push(U)}return x.length?(x.length>1&&x.sort(function(W,K){var ie=W.x-S.x,me=W.y-S.y,ve=Math.sqrt(ie*ie+me*me),pe=K.x-S.x,Ce=K.y-S.y,st=Math.sqrt(pe*pe+Ce*Ce);return ve<st?-1:ve===st?0:1}),x[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",te),te)}N.d(Ae,{k:()=>q})},8356:(Nt,Ae,N)=>{"use strict";function R(H,q){var E,O,te=H.x,re=H.y,S=q.x-te,F=q.y-re,ne=H.width/2,x=H.height/2;return Math.abs(F)*ne>Math.abs(S)*x?(F<0&&(x=-x),E=0===F?0:x*S/F,O=x):(S<0&&(ne=-ne),E=ne,O=0===S?0:ne*F/S),{x:te+E,y:re+O}}N.d(Ae,{C:()=>R})},9483:(Nt,Ae,N)=>{"use strict";N.d(Ae,{H:()=>H});var R=N(6320);function H(q,te){var re=q.append("foreignObject").attr("width","100000"),S=re.append("xhtml:div");S.attr("xmlns","http://www.w3.org/1999/xhtml");var F=te.label;switch(typeof F){case"function":S.insert(F);break;case"object":S.insert(function(){return F});break;default:S.html(F)}R.AV(S,te.labelStyle),S.style("display","inline-block"),S.style("white-space","nowrap");var ne=S.node().getBoundingClientRect();return re.attr("width",ne.width).attr("height",ne.height),re}},6320:(Nt,Ae,N)=>{"use strict";N.d(Ae,{AV:()=>F,De:()=>q,c$:()=>x,gh:()=>te,nh:()=>ne});var R=N(4294),H=N(129);function q(E,O){return!!E.children(O).length}function te(E){return S(E.v)+":"+S(E.w)+":"+S(E.name)}var re=/:/g;function S(E){return E?String(E).replace(re,"\\:"):""}function F(E,O){O&&E.attr("style",O)}function ne(E,O,k){O&&E.attr("class",O).attr("class",k+" "+E.attr("class"))}function x(E,O){var k=O.graph();if(R.A(k)){var j=k.transition;if(H.A(j))return j(E)}return E}},5180:(Nt,Ae,N)=>{"use strict";N.d(Ae,{Zp:()=>wf});var R=N(9671),H=N(1195),q=N(1981),te=N(1913),re=N(2383),S=N(6327),F=N(3938),ne=N(8802);class x{constructor(){var Z={};Z._next=Z._prev=Z,this._sentinel=Z}dequeue(){var Z=this._sentinel,le=Z._prev;if(le!==Z)return E(le),le}enqueue(Z){var le=this._sentinel;Z._prev&&Z._next&&E(Z),Z._next=le._next,le._next._prev=Z,le._next=Z,Z._prev=le}toString(){for(var Z=[],le=this._sentinel,be=le._prev;be!==le;)Z.push(JSON.stringify(be,O)),be=be._prev;return"["+Z.join(", ")+"]"}}function E(M){M._prev._next=M._next,M._next._prev=M._prev,delete M._next,delete M._prev}function O(M,Z){if("_next"!==M&&"_prev"!==M)return Z}var k=te.A(1);function Q(M,Z,le,be,ke){var Le=ke?[]:void 0;return R.A(M.inEdges(be.v),function(Ge){var vt=M.edge(Ge),Pt=M.node(Ge.v);ke&&Le.push({v:Ge.v,w:Ge.w}),Pt.out-=vt,U(Z,le,Pt)}),R.A(M.outEdges(be.v),function(Ge){var vt=M.edge(Ge),rn=M.node(Ge.w);rn.in-=vt,U(Z,le,rn)}),M.removeNode(be.v),Le}function U(M,Z,le){le.out?le.in?M[le.out-le.in+Z].enqueue(le):M[M.length-1].enqueue(le):M[0].enqueue(le)}function W(M){var Z="greedy"===M.graph().acyclicer?function j(M,Z){if(M.nodeCount()<=1)return[];var le=function we(M,Z){var le=new ne.T,be=0,ke=0;R.A(M.nodes(),function(vt){le.setNode(vt,{v:vt,in:0,out:0})}),R.A(M.edges(),function(vt){var Pt=le.edge(vt.v,vt.w)||0,rn=Z(vt);le.setEdge(vt.v,vt.w,Pt+rn),ke=Math.max(ke,le.node(vt.v).out+=rn),be=Math.max(be,le.node(vt.w).in+=rn)});var Le=F.A(ke+be+3).map(function(){return new x}),Ge=be+1;return R.A(le.nodes(),function(vt){U(Le,Ge,le.node(vt))}),{graph:le,buckets:Le,zeroIdx:Ge}}(M,Z||k),be=function ee(M,Z,le){for(var Ge,be=[],ke=Z[Z.length-1],Le=Z[0];M.nodeCount();){for(;Ge=Le.dequeue();)Q(M,Z,le,Ge);for(;Ge=ke.dequeue();)Q(M,Z,le,Ge);if(M.nodeCount())for(var vt=Z.length-2;vt>0;--vt)if(Ge=Z[vt].dequeue()){be=be.concat(Q(M,Z,le,Ge,!0));break}}return be}(le.graph,le.buckets,le.zeroIdx);return re.A(S.A(be,function(ke){return M.outEdges(ke.v,ke.w)}))}(M,function le(be){return function(ke){return be.edge(ke).weight}}(M)):function K(M){var Z=[],le={},be={};return R.A(M.nodes(),function ke(Le){q.A(be,Le)||(be[Le]=!0,le[Le]=!0,R.A(M.outEdges(Le),function(Ge){q.A(le,Ge.w)?Z.push(Ge):ke(Ge.w)}),delete le[Le])}),Z}(M);R.A(Z,function(be){var ke=M.edge(be);M.removeEdge(be),ke.forwardName=be.name,ke.reversed=!0,M.setEdge(be.w,be.v,ke,H.A("rev"))})}var me=N(5401),ve=N(1827),pe=N(1319);const st=function Ce(M,Z,le){(void 0!==le&&!(0,pe.A)(M[Z],le)||void 0===le&&!(Z in M))&&(0,ve.A)(M,Z,le)};var Je=N(2676),He=N(9933),Be=N(4314),Ke=N(4528),bt=N(923),gt=N(6513),en=N(3744),Dt=N(8388),Ln=N(9377),wi=N(129),ki=N(554),Pi=N(4294),Ki=N(8885);const Wn=function vr(M,Z){if(("constructor"!==Z||"function"!=typeof M[Z])&&"__proto__"!=Z)return M[Z]};var Fi=N(9898),Oi=N(133);const Js=function Qi(M,Z,le,be,ke,Le,Ge){var vt=Wn(M,le),Pt=Wn(Z,le),rn=Ge.get(Pt);if(rn)st(M,le,rn);else{var fn=Le?Le(vt,Pt,le+"",M,Z,Ge):void 0,ri=void 0===fn;if(ri){var tr=(0,en.A)(Pt),Pr=!tr&&(0,Ln.A)(Pt),Is=!tr&&!Pr&&(0,Ki.A)(Pt);fn=Pt,tr||Pr||Is?(0,en.A)(vt)?fn=vt:(0,Dt.A)(vt)?fn=(0,Ke.A)(vt):Pr?(ri=!1,fn=(0,He.A)(Pt,!0)):Is?(ri=!1,fn=(0,Be.A)(Pt,!0)):fn=[]:(0,Pi.A)(Pt)||(0,gt.A)(Pt)?(fn=vt,(0,gt.A)(vt)?fn=function Ni(M){return(0,Fi.A)(M,(0,Oi.A)(M))}(vt):(!(0,ki.A)(vt)||(0,wi.A)(vt))&&(fn=(0,bt.A)(Pt))):ri=!1}ri&&(Ge.set(Pt,fn),ke(fn,Pt,be,Le,Ge),Ge.delete(Pt)),st(M,le,fn)}},ei=function Lo(M,Z,le,be,ke){M!==Z&&(0,Je.A)(Z,function(Le,Ge){if(ke||(ke=new me.A),(0,ki.A)(Le))Js(M,Z,Ge,le,Lo,be,ke);else{var vt=be?be(Wn(M,Ge),Le,Ge+"",M,Z,ke):void 0;void 0===vt&&(vt=Le),st(M,Ge,vt)}},Oi.A)};var $t=N(363),mn=N(7357);const Si=function un(M){return(0,$t.A)(function(Z,le){var be=-1,ke=le.length,Le=ke>1?le[ke-1]:void 0,Ge=ke>2?le[2]:void 0;for(Le=M.length>3&&"function"==typeof Le?(ke--,Le):void 0,Ge&&(0,mn.A)(le[0],le[1],Ge)&&(Le=ke<3?void 0:Le,ke=1),Z=Object(Z);++be<ke;){var vt=le[be];vt&&M(Z,vt,be,Le)}return Z})}(function(M,Z,le){ei(M,Z,le)});var Xt=N(3377),Et=N(9311),Ht=N(4077);const Hn=function vn(M,Z,le){for(var be=-1,ke=M.length;++be<ke;){var Le=M[be],Ge=Z(Le);if(null!=Ge&&(void 0===vt?Ge==Ge&&!(0,Ht.A)(Ge):le(Ge,vt)))var vt=Ge,Pt=Le}return Pt},on=function zt(M,Z){return M>Z};var yn=N(7003);const ui=function ti(M){return M&&M.length?Hn(M,yn.A,on):void 0},co=function ss(M){var Z=null==M?0:M.length;return Z?M[Z-1]:void 0};var uo=N(4620),Eo=N(6385);const Fs=function Po(M,Z){var le={};return Z=(0,Eo.A)(Z,3),(0,uo.A)(M,function(be,ke,Le){(0,ve.A)(le,ke,Z(be,ke,Le))}),le};var js=N(5113);const Qo=function aa(M,Z){return M<Z},tl=function no(M){return M&&M.length?Hn(M,yn.A,Qo):void 0};var dc=N(1860);const Mc=function(){return dc.A.Date.now()};function Ma(M,Z,le,be){var ke;do{ke=H.A(be)}while(M.hasNode(ke));return le.dummy=Z,M.setNode(ke,le),ke}function Il(M){var Z=new ne.T({multigraph:M.isMultigraph()}).setGraph(M.graph());return R.A(M.nodes(),function(le){M.children(le).length||Z.setNode(le,M.node(le))}),R.A(M.edges(),function(le){Z.setEdge(le,M.edge(le))}),Z}function Ic(M,Z){var Pt,rn,le=M.x,be=M.y,ke=Z.x-le,Le=Z.y-be,Ge=M.width/2,vt=M.height/2;if(!ke&&!Le)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(Le)*Ge>Math.abs(ke)*vt?(Le<0&&(vt=-vt),Pt=vt*ke/Le,rn=vt):(ke<0&&(Ge=-Ge),Pt=Ge,rn=Ge*Le/ke),{x:le+Pt,y:be+rn}}function yr(M){var Z=S.A(F.A(Ne(M)+1),function(){return[]});return R.A(M.nodes(),function(le){var be=M.node(le),ke=be.rank;js.A(ke)||(Z[ke][be.order]=le)}),Z}function fr(M,Z,le,be){var ke={width:0,height:0};return arguments.length>=4&&(ke.rank=le,ke.order=be),Ma(M,"border",ke,Z)}function Ne(M){return ui(S.A(M.nodes(),function(Z){var le=M.node(Z).rank;if(!js.A(le))return le}))}function Ji(M,Z){var le=Mc();try{return Z()}finally{console.log(M+" time: "+(Mc()-le)+"ms")}}function $i(M,Z){return Z()}function ai(M,Z,le,be,ke,Le){var vt=ke[Z][Le-1],Pt=Ma(M,"border",{width:0,height:0,rank:Le,borderType:Z},le);ke[Z][Le]=Pt,M.setParent(Pt,be),vt&&M.setEdge(vt,Pt,{weight:1})}function ho(M){R.A(M.nodes(),function(Z){Lr(M.node(Z))}),R.A(M.edges(),function(Z){Lr(M.edge(Z))})}function Lr(M){var Z=M.width;M.width=M.height,M.height=Z}function er(M){M.y=-M.y}function $r(M){var Z=M.x;M.x=M.y,M.y=Z}const Ii=function ga(M,Z){return M&&M.length?Hn(M,(0,Eo.A)(Z,2),Qo):void 0};function Jo(M){var Z={};R.A(M.sources(),function le(be){var ke=M.node(be);if(q.A(Z,be))return ke.rank;Z[be]=!0;var Le=tl(S.A(M.outEdges(be),function(Ge){return le(Ge.w)-M.edge(Ge).minlen}));return(Le===Number.POSITIVE_INFINITY||null==Le)&&(Le=0),ke.rank=Le})}function il(M,Z){return M.node(Z.w).rank-M.node(Z.v).rank-M.edge(Z).minlen}function Kr(M){var ke,Le,Z=new ne.T({directed:!1}),le=M.nodes()[0],be=M.nodeCount();for(Z.setNode(le,{});Oa(Z,M)<be;)ke=Kl(Z,M),Le=Z.hasNode(ke.v)?il(M,ke):-il(M,ke),Br(Z,M,Le);return Z}function Oa(M,Z){return R.A(M.nodes(),function le(be){R.A(Z.nodeEdges(be),function(ke){var Le=ke.v,Ge=be===Le?ke.w:Le;!M.hasNode(Ge)&&!il(Z,ke)&&(M.setNode(Ge,{}),M.setEdge(be,Ge,{}),le(Ge))})}),M.nodeCount()}function Kl(M,Z){return Ii(Z.edges(),function(le){if(M.hasNode(le.v)!==M.hasNode(le.w))return il(Z,le)})}function Br(M,Z,le){R.A(M.nodes(),function(be){Z.node(be).rank+=le})}var ys=N(1287),bs=N(4429);var vs=N(8556),Zi=N(5809);var fo=Math.max;const Fo=function hc(M){return function(Z,le,be){var ke=Object(Z);if(!(0,ys.A)(Z)){var Le=(0,Eo.A)(le,3);Z=(0,bs.A)(Z),le=function(vt){return Le(ke[vt],vt,ke)}}var Ge=M(Z,le,be);return Ge>-1?ke[Le?Z[Ge]:Ge]:void 0}}(function ws(M,Z,le){var be=null==M?0:M.length;if(!be)return-1;var ke=null==le?0:function zi(M){var Z=(0,Zi.A)(M),le=Z%1;return Z==Z?le?Z-le:Z:0}(le);return ke<0&&(ke=fo(be+ke,0)),(0,vs.A)(M,(0,Eo.A)(Z,3),ke)});var Ct=N(3578);te.A(1),te.A(1),N(3660),N(1938),N(5281),N(2661),(0,N(1392).A)("length"),RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var vl="\\ud800-\\udfff",kt="["+vl+"]",Gn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",mi="\\ud83c[\\udffb-\\udfff]",ta="[^"+vl+"]",Xs="(?:\\ud83c[\\udde6-\\uddff]){2}",qs="[\\ud800-\\udbff][\\udc00-\\udfff]",Xo="(?:"+Gn+"|"+mi+")?",Ll="[\\ufe0e\\ufe0f]?",Na=Ll+Xo+"(?:\\u200d(?:"+[ta,Xs,qs].join("|")+")"+Ll+Xo+")*",Nr="(?:"+[ta+Gn+"?",Gn,Xs,qs,kt].join("|")+")";function pf(M,Z,le){en.A(Z)||(Z=[Z]);var be=(M.isDirected()?M.successors:M.neighbors).bind(M),ke=[],Le={};return R.A(Z,function(Ge){if(!M.hasNode(Ge))throw new Error("Graph does not have node: "+Ge);iu(M,Ge,"post"===le,Le,be,ke)}),ke}function iu(M,Z,le,be,ke,Le){q.A(be,Z)||(be[Z]=!0,le||Le.push(Z),R.A(ke(Z),function(Ge){iu(M,Ge,le,be,ke,Le)}),le&&Le.push(Z))}function Wa(M){M=function Yr(M){var Z=(new ne.T).setGraph(M.graph());return R.A(M.nodes(),function(le){Z.setNode(le,M.node(le))}),R.A(M.edges(),function(le){var be=Z.edge(le.v,le.w)||{weight:0,minlen:1},ke=M.edge(le);Z.setEdge(le.v,le.w,{weight:be.weight+ke.weight,minlen:Math.max(be.minlen,ke.minlen)})}),Z}(M),Jo(M);var le,Z=Kr(M);for(fh(Z),hp(Z,M);le=vg(Z);)mf(Z,M,le,di(Z,M,le))}function hp(M,Z){var le=function Cu(M,Z){return pf(M,Z,"post")}(M,M.nodes());le=le.slice(0,le.length-1),R.A(le,function(be){!function fp(M,Z,le){var be=M.node(le);M.edge(le,be.parent).cutvalue=ru(M,Z,le)}(M,Z,be)})}function ru(M,Z,le){var ke=M.node(le).parent,Le=!0,Ge=Z.edge(le,ke),vt=0;return Ge||(Le=!1,Ge=Z.edge(ke,le)),vt=Ge.weight,R.A(Z.nodeEdges(le),function(Pt){var rn=Pt.v===le,fn=rn?Pt.w:Pt.v;if(fn!==ke){var ri=rn===Le,tr=Z.edge(Pt).weight;if(vt+=ri?tr:-tr,function _f(M,Z,le){return M.hasEdge(Z,le)}(M,le,fn)){var Pr=M.edge(le,fn).cutvalue;vt+=ri?-Pr:Pr}}}),vt}function fh(M,Z){arguments.length<2&&(Z=M.nodes()[0]),su(M,{},1,Z)}function su(M,Z,le,be,ke){var Le=le,Ge=M.node(be);return Z[be]=!0,R.A(M.neighbors(be),function(vt){q.A(Z,vt)||(le=su(M,Z,le,vt,be))}),Ge.low=Le,Ge.lim=le++,ke?Ge.parent=ke:delete Ge.parent,le}function vg(M){return Fo(M.edges(),function(Z){return M.edge(Z).cutvalue<0})}function di(M,Z,le){var be=le.v,ke=le.w;Z.hasEdge(be,ke)||(be=le.w,ke=le.v);var Le=M.node(be),Ge=M.node(ke),vt=Le,Pt=!1;Le.lim>Ge.lim&&(vt=Ge,Pt=!0);var rn=Ct.A(Z.edges(),function(fn){return Pt===ju(0,M.node(fn.v),vt)&&Pt!==ju(0,M.node(fn.w),vt)});return Ii(rn,function(fn){return il(Z,fn)})}function mf(M,Z,le,be){M.removeEdge(le.v,le.w),M.setEdge(be.v,be.w,{}),fh(M),hp(M,Z),function Wt(M,Z){var le=Fo(M.nodes(),function(ke){return!Z.node(ke).parent}),be=function Fd(M,Z){return pf(M,Z,"pre")}(M,le);be=be.slice(1),R.A(be,function(ke){var Le=M.node(ke).parent,Ge=Z.edge(ke,Le),vt=!1;Ge||(Ge=Z.edge(Le,ke),vt=!0),Z.node(ke).rank=Z.node(Le).rank+(vt?Ge.minlen:-Ge.minlen)})}(M,Z)}function ju(M,Z,le){return le.low<=Z.lim&&Z.lim<=le.lim}function Bd(M){switch(M.graph().ranker){case"network-simplex":default:!function ph(M){Wa(M)}(M);break;case"tight-tree":!function wg(M){Jo(M),Kr(M)}(M);break;case"longest-path":gd(M)}}RegExp(mi+"(?="+mi+")|"+Nr+Na,"g"),new Error,N(6702),Wa.initLowLimValues=fh,Wa.initCutValues=hp,Wa.calcCutValue=ru,Wa.leaveEdge=vg,Wa.enterEdge=di,Wa.exchangeEdges=mf;var gd=Jo;var md=N(8456),Tu=N(8209);function rl(M){var Z=Ma(M,"root",{},"_root"),le=function bm(M){var Z={};function le(be,ke){var Le=M.children(be);Le&&Le.length&&R.A(Le,function(Ge){le(Ge,ke+1)}),Z[be]=ke}return R.A(M.children(),function(be){le(be,1)}),Z}(M),be=ui(md.A(le))-1,ke=2*be+1;M.graph().nestingRoot=Z,R.A(M.edges(),function(Ge){M.edge(Ge).minlen*=ke});var Le=function Du(M){return Tu.A(M.edges(),function(Z,le){return Z+M.edge(le).weight},0)}(M)+1;R.A(M.children(),function(Ge){gh(M,Z,ke,Le,be,le,Ge)}),M.graph().nodeRankFactor=ke}function gh(M,Z,le,be,ke,Le,Ge){var vt=M.children(Ge);if(vt.length){var Pt=fr(M,"_bt"),rn=fr(M,"_bb"),fn=M.node(Ge);M.setParent(Pt,Ge),fn.borderTop=Pt,M.setParent(rn,Ge),fn.borderBottom=rn,R.A(vt,function(ri){gh(M,Z,le,be,ke,Le,ri);var tr=M.node(ri),Pr=tr.borderTop?tr.borderTop:ri,Is=tr.borderBottom?tr.borderBottom:ri,Oo=tr.borderTop?be:2*be,so=Pr!==Is?1:ke-Le[Ge]+1;M.setEdge(Pt,Pr,{weight:Oo,minlen:so,nestingEdge:!0}),M.setEdge(Is,rn,{weight:Oo,minlen:so,nestingEdge:!0})}),M.parent(Ge)||M.setEdge(Z,Pt,{weight:0,minlen:ke+Le[Ge]})}else Ge!==Z&&M.setEdge(Z,Ge,{weight:0,minlen:le})}var ca=N(6854);const _h=function Uu(M){return(0,ca.A)(M,5)};var yh=N(1984);const pp=function jd(M,Z){return function Fl(M,Z,le){for(var be=-1,ke=M.length,Le=Z.length,Ge={};++be<ke;)le(Ge,M[be],be<Le?Z[be]:void 0);return Ge}(M||[],Z||[],yh.A)};var gp=N(4367),pc=N(6689),Us=N(4501),zu=N(9103);var bh=N(778);const gc=function mp(M,Z){if(M!==Z){var le=void 0!==M,be=null===M,ke=M==M,Le=(0,Ht.A)(M),Ge=void 0!==Z,vt=null===Z,Pt=Z==Z,rn=(0,Ht.A)(Z);if(!vt&&!rn&&!Le&&M>Z||Le&&Ge&&Pt&&!vt&&!rn||be&&Ge&&Pt||!le&&Pt||!ke)return 1;if(!be&&!Le&&!rn&&M<Z||rn&&le&&ke&&!be&&!Le||vt&&le&&ke||!Ge&&ke||!Pt)return-1}return 0},bp=function yp(M,Z,le){Z=Z.length?(0,pc.A)(Z,function(Le){return(0,en.A)(Le)?function(Ge){return(0,Us.A)(Ge,1===Le.length?Le[0]:Le)}:Le}):[yn.A];var be=-1;return Z=(0,pc.A)(Z,(0,bh.A)(Eo.A)),function ou(M,Z){var le=M.length;for(M.sort(Z);le--;)M[le]=M[le].value;return M}((0,zu.A)(M,function(Le,Ge,vt){return{criteria:(0,pc.A)(Z,function(rn){return rn(Le)}),index:++be,value:Le}}),function(Le,Ge){return function ds(M,Z,le){for(var be=-1,ke=M.criteria,Le=Z.criteria,Ge=ke.length,vt=le.length;++be<Ge;){var Pt=gc(ke[be],Le[be]);if(Pt)return be>=vt?Pt:Pt*("desc"==le[be]?-1:1)}return M.index-Z.index}(Le,Ge,le)})},au=(0,$t.A)(function(M,Z){if(null==M)return[];var le=Z.length;return le>1&&(0,mn.A)(M,Z[0],Z[1])?Z=[]:le>2&&(0,mn.A)(Z[0],Z[1],Z[2])&&(Z=[Z[0]]),bp(M,(0,gp.A)(Z,1),[])});function wh(M,Z){for(var le=0,be=1;be<Z.length;++be)le+=Tg(M,Z[be-1],Z[be]);return le}function Tg(M,Z,le){for(var be=pp(le,S.A(le,function(rn,fn){return fn})),ke=re.A(S.A(Z,function(rn){return au(S.A(M.outEdges(rn),function(fn){return{pos:be[fn.w],weight:M.edge(fn).weight}}),"pos")})),Le=1;Le<le.length;)Le<<=1;var Ge=2*Le-1;Le-=1;var vt=S.A(new Array(Ge),function(){return 0}),Pt=0;return R.A(ke.forEach(function(rn){var fn=rn.pos+Le;vt[fn]+=rn.weight;for(var ri=0;fn>0;)fn%2&&(ri+=vt[fn+1]),vt[fn=fn-1>>1]+=rn.weight;Pt+=rn.weight*ri})),Pt}function vf(M,Z,le){for(var be;Z.length&&(be=co(Z)).i<=le;)Z.pop(),M.push(be.vs),le++;return le}function xg(M,Z,le,be){var ke=M.children(Z),Le=M.node(Z),Ge=Le?Le.borderLeft:void 0,vt=Le?Le.borderRight:void 0,Pt={};Ge&&(ke=Ct.A(ke,function(Is){return Is!==Ge&&Is!==vt}));var rn=function _d(M,Z){return S.A(Z,function(le){var be=M.inEdges(le);if(be.length){var ke=Tu.A(be,function(Le,Ge){var vt=M.edge(Ge),Pt=M.node(Ge.v);return{sum:Le.sum+vt.weight*Pt.order,weight:Le.weight+vt.weight}},{sum:0,weight:0});return{v:le,barycenter:ke.sum/ke.weight,weight:ke.weight}}return{v:le}})}(M,ke);R.A(rn,function(Is){if(M.children(Is.v).length){var Oo=xg(M,Is.v,le,be);Pt[Is.v]=Oo,q.A(Oo,"barycenter")&&function wm(M,Z){js.A(M.barycenter)?(M.barycenter=Z.barycenter,M.weight=Z.weight):(M.barycenter=(M.barycenter*M.weight+Z.barycenter*Z.weight)/(M.weight+Z.weight),M.weight+=Z.weight)}(Is,Oo)}});var fn=function bf(M,Z){var le={};return R.A(M,function(ke,Le){var Ge=le[ke.v]={indegree:0,in:[],out:[],vs:[ke.v],i:Le};js.A(ke.barycenter)||(Ge.barycenter=ke.barycenter,Ge.weight=ke.weight)}),R.A(Z.edges(),function(ke){var Le=le[ke.v],Ge=le[ke.w];!js.A(Le)&&!js.A(Ge)&&(Ge.indegree++,Le.out.push(le[ke.w]))}),function Dg(M){var Z=[];function le(Le){return function(Ge){Ge.merged||(js.A(Ge.barycenter)||js.A(Le.barycenter)||Ge.barycenter>=Le.barycenter)&&function Bl(M,Z){var le=0,be=0;M.weight&&(le+=M.barycenter*M.weight,be+=M.weight),Z.weight&&(le+=Z.barycenter*Z.weight,be+=Z.weight),M.vs=Z.vs.concat(M.vs),M.barycenter=le/be,M.weight=be,M.i=Math.min(Z.i,M.i),Z.merged=!0}(Le,Ge)}}function be(Le){return function(Ge){Ge.in.push(Le),0==--Ge.indegree&&M.push(Ge)}}for(;M.length;){var ke=M.pop();Z.push(ke),R.A(ke.in.reverse(),le(ke)),R.A(ke.out,be(ke))}return S.A(Ct.A(Z,function(Le){return!Le.merged}),function(Le){return Xt.A(Le,["vs","i","barycenter","weight"])})}(Ct.A(le,function(ke){return!ke.indegree}))}(rn,le);!function vm(M,Z){R.A(M,function(le){le.vs=re.A(le.vs.map(function(be){return Z[be]?Z[be].vs:be}))})}(fn,Pt);var ri=function vp(M,Z){var le=function ii(M,Z){var le={lhs:[],rhs:[]};return R.A(M,function(be){Z(be)?le.lhs.push(be):le.rhs.push(be)}),le}(M,function(fn){return q.A(fn,"barycenter")}),be=le.lhs,ke=au(le.rhs,function(fn){return-fn.i}),Le=[],Ge=0,vt=0,Pt=0;be.sort(function wp(M){return function(Z,le){return Z.barycenter<le.barycenter?-1:Z.barycenter>le.barycenter?1:M?le.i-Z.i:Z.i-le.i}}(!!Z)),Pt=vf(Le,ke,Pt),R.A(be,function(fn){Pt+=fn.vs.length,Le.push(fn.vs),Ge+=fn.barycenter*fn.weight,vt+=fn.weight,Pt=vf(Le,ke,Pt)});var rn={vs:re.A(Le)};return vt&&(rn.barycenter=Ge/vt,rn.weight=vt),rn}(fn,be);if(Ge&&(ri.vs=re.A([Ge,ri.vs,vt]),M.predecessors(Ge).length)){var tr=M.node(M.predecessors(Ge)[0]),Pr=M.node(M.predecessors(vt)[0]);q.A(ri,"barycenter")||(ri.barycenter=0,ri.weight=0),ri.barycenter=(ri.barycenter*ri.weight+tr.order+Pr.order)/(ri.weight+2),ri.weight+=2}return ri}function Tp(M,Z,le){return S.A(Z,function(be){return function Cg(M,Z,le){var be=function Vd(M){for(var Z;M.hasNode(Z=H.A("_root")););return Z}(M),ke=new ne.T({compound:!0}).setGraph({root:be}).setDefaultNodeLabel(function(Le){return M.node(Le)});return R.A(M.nodes(),function(Le){var Ge=M.node(Le),vt=M.parent(Le);(Ge.rank===Z||Ge.minRank<=Z&&Z<=Ge.maxRank)&&(ke.setNode(Le),ke.setParent(Le,vt||be),R.A(M[le](Le),function(Pt){var rn=Pt.v===Le?Pt.w:Pt.v,fn=ke.edge(rn,Le),ri=js.A(fn)?0:fn.weight;ke.setEdge(rn,Le,{weight:M.edge(Pt).weight+ri})}),q.A(Ge,"minRank")&&ke.setNode(Le,{borderLeft:Ge.borderLeft[Z],borderRight:Ge.borderRight[Z]}))}),ke}(M,be,le)})}function kg(M,Z){var le=new ne.T;R.A(M,function(be){var ke=be.graph().root,Le=xg(be,ke,le,Z);R.A(Le.vs,function(Ge,vt){be.node(Ge).order=vt}),function Pl(M,Z,le){var ke,be={};R.A(le,function(Le){for(var vt,Pt,Ge=M.parent(Le);Ge;){if((vt=M.parent(Ge))?(Pt=be[vt],be[vt]=Ge):(Pt=ke,ke=Ge),Pt&&Pt!==Ge)return void Z.setEdge(Pt,Ge);Ge=vt}})}(be,le,Le.vs)})}function Lc(M,Z){R.A(Z,function(le){R.A(le,function(be,ke){M.node(be).order=ke})})}var Ts=N(9395);const li=function Sg(M,Z){return null==M?M:(0,Je.A)(M,(0,Ts.A)(Z),Oi.A)};function ba(M,Z,le){if(Z>le){var be=Z;Z=le,le=be}var ke=M[Z];ke||(M[Z]=ke={}),ke[le]=!0}function Ql(M,Z,le){if(Z>le){var be=Z;Z=le,le=be}return q.A(M[Z],le)}function Wu(M){var ke,Z=yr(M),le=Si(function ya(M,Z){var le={};return Tu.A(Z,function be(ke,Le){var Ge=0,vt=0,Pt=ke.length,rn=co(Le);return R.A(Le,function(fn,ri){var tr=function na(M,Z){if(M.node(Z).dummy)return Fo(M.predecessors(Z),function(le){return M.node(le).dummy})}(M,fn),Pr=tr?M.node(tr).order:Pt;(tr||fn===rn)&&(R.A(Le.slice(vt,ri+1),function(Is){R.A(M.predecessors(Is),function(Oo){var so=M.node(Oo),Xn=so.order;(Xn<Ge||Pr<Xn)&&(!so.dummy||!M.node(Is).dummy)&&ba(le,Oo,Is)})}),vt=ri+1,Ge=Pr)}),Le}),le}(M,Z),function ns(M,Z){var le={};function be(Le,Ge,vt,Pt,rn){var fn;R.A(F.A(Ge,vt),function(ri){M.node(fn=Le[ri]).dummy&&R.A(M.predecessors(fn),function(tr){var Pr=M.node(tr);Pr.dummy&&(Pr.order<Pt||Pr.order>rn)&&ba(le,tr,fn)})})}return Tu.A(Z,function ke(Le,Ge){var Pt,vt=-1,rn=0;return R.A(Ge,function(fn,ri){if("border"===M.node(fn).dummy){var tr=M.predecessors(fn);tr.length&&(Pt=M.node(tr[0]).order,be(Ge,rn,ri,vt,Pt),rn=ri,vt=Pt)}be(Ge,rn,Ge.length,Pt,Le.length)}),Ge}),le}(M,Z)),be={};R.A(["u","d"],function(Ge){ke="u"===Ge?Z:md.A(Z).reverse(),R.A(["l","r"],function(vt){"r"===vt&&(ke=S.A(ke,function(ri){return md.A(ri).reverse()}));var Pt=("u"===Ge?M.predecessors:M.successors).bind(M),rn=function sl(M,Z,le,be){var ke={},Le={},Ge={};return R.A(Z,function(vt){R.A(vt,function(Pt,rn){ke[Pt]=Pt,Le[Pt]=Pt,Ge[Pt]=rn})}),R.A(Z,function(vt){var Pt=-1;R.A(vt,function(rn){var fn=be(rn);if(fn.length)for(var ri=((fn=au(fn,function(Oo){return Ge[Oo]})).length-1)/2,tr=Math.floor(ri),Pr=Math.ceil(ri);tr<=Pr;++tr){var Is=fn[tr];Le[rn]===rn&&Pt<Ge[Is]&&!Ql(le,rn,Is)&&(Le[Is]=rn,Le[rn]=ke[rn]=ke[Is],Pt=Ge[Is])}})}),{root:ke,align:Le}}(0,ke,le,Pt),fn=function Dp(M,Z,le,be,ke){var Le={},Ge=function qi(M,Z,le,be){var ke=new ne.T,Le=M.graph(),Ge=function zd(M,Z,le){return function(be,ke,Le){var rn,Ge=be.node(ke),vt=be.node(Le),Pt=0;if(Pt+=Ge.width/2,q.A(Ge,"labelpos"))switch(Ge.labelpos.toLowerCase()){case"l":rn=-Ge.width/2;break;case"r":rn=Ge.width/2}if(rn&&(Pt+=le?rn:-rn),rn=0,Pt+=(Ge.dummy?Z:M)/2,Pt+=(vt.dummy?Z:M)/2,Pt+=vt.width/2,q.A(vt,"labelpos"))switch(vt.labelpos.toLowerCase()){case"l":rn=vt.width/2;break;case"r":rn=-vt.width/2}return rn&&(Pt+=le?rn:-rn),rn=0,Pt}}(Le.nodesep,Le.edgesep,be);return R.A(Z,function(vt){var Pt;R.A(vt,function(rn){var fn=le[rn];if(ke.setNode(fn),Pt){var ri=le[Pt],tr=ke.edge(ri,fn);ke.setEdge(ri,fn,Math.max(Ge(M,rn,Pt),tr||0))}Pt=rn})}),ke}(M,Z,le,ke),vt=ke?"borderLeft":"borderRight";function Pt(ri,tr){for(var Pr=Ge.nodes(),Is=Pr.pop(),Oo={};Is;)Oo[Is]?ri(Is):(Oo[Is]=!0,Pr.push(Is),Pr=Pr.concat(tr(Is))),Is=Pr.pop()}return Pt(function rn(ri){Le[ri]=Ge.inEdges(ri).reduce(function(tr,Pr){return Math.max(tr,Le[Pr.v]+Ge.edge(Pr))},0)},Ge.predecessors.bind(Ge)),Pt(function fn(ri){var tr=Ge.outEdges(ri).reduce(function(Is,Oo){return Math.min(Is,Le[Oo.w]-Ge.edge(Oo))},Number.POSITIVE_INFINITY),Pr=M.node(ri);tr!==Number.POSITIVE_INFINITY&&Pr.borderType!==vt&&(Le[ri]=Math.max(Le[ri],tr))},Ge.successors.bind(Ge)),R.A(be,function(ri){Le[ri]=Le[le[ri]]}),Le}(M,ke,rn.root,rn.align,"r"===vt);"r"===vt&&(fn=Fs(fn,function(ri){return-ri})),be[Ge+vt]=fn})});var Le=function yd(M,Z){return Ii(md.A(Z),function(le){var be=Number.NEGATIVE_INFINITY,ke=Number.POSITIVE_INFINITY;return li(le,function(Le,Ge){var vt=function Ch(M,Z){return M.node(Z).width}(M,Ge)/2;be=Math.max(Le+vt,be),ke=Math.min(Le-vt,ke)}),be-ke})}(M,be);return function Eg(M,Z){var le=md.A(Z),be=tl(le),ke=ui(le);R.A(["u","d"],function(Le){R.A(["l","r"],function(Ge){var rn,vt=Le+Ge,Pt=M[vt];if(Pt!==Z){var fn=md.A(Pt);(rn="l"===Ge?be-tl(fn):ke-ui(fn))&&(M[vt]=Fs(Pt,function(ri){return ri+rn}))}})})}(be,Le),function Jl(M,Z){return Fs(M.ul,function(le,be){if(Z)return M[Z.toLowerCase()][be];var ke=au(S.A(M,be));return(ke[1]+ke[2])/2})}(be,M.graph().align)}function wf(M,Z){var le=Z&&Z.debugTiming?Ji:$i;le("layout",function(){var be=le("  buildLayoutGraph",function(){return function ku(M){var Z=new ne.T({multigraph:!0,compound:!0}),le=mc(M.graph());return Z.setGraph(Si({},Th,Fc(le,Cf),Xt.A(le,xp))),R.A(M.nodes(),function(be){var ke=mc(M.node(be));Z.setNode(be,Et.A(Fc(ke,xu),Cm)),Z.setParent(be,M.parent(be))}),R.A(M.edges(),function(be){var ke=mc(M.edge(be));Z.setEdge(be,Si({},Yd,Fc(ke,Tf),Xt.A(ke,Tm)))}),Z}(M)});le("  runLayout",function(){!function Cl(M,Z){Z("    makeSpaceForEdgeLabels",function(){!function ec(M){var Z=M.graph();Z.ranksep/=2,R.A(M.edges(),function(le){var be=M.edge(le);be.minlen*=2,"c"!==be.labelpos.toLowerCase()&&("TB"===Z.rankdir||"BT"===Z.rankdir?be.width+=be.labeloffset:be.height+=be.labeloffset)})}(M)}),Z("    removeSelfEdges",function(){!function kp(M){R.A(M.edges(),function(Z){if(Z.v===Z.w){var le=M.node(Z.v);le.selfEdges||(le.selfEdges=[]),le.selfEdges.push({e:Z,label:M.edge(Z)}),M.removeEdge(Z)}})}(M)}),Z("    acyclic",function(){W(M)}),Z("    nestingGraph.run",function(){rl(M)}),Z("    rank",function(){Bd(Il(M))}),Z("    injectEdgeLabelProxies",function(){!function Hl(M){R.A(M.edges(),function(Z){var le=M.edge(Z);if(le.width&&le.height){var be=M.node(Z.v),ke=M.node(Z.w);Ma(M,"edge-proxy",{rank:(ke.rank-be.rank)/2+be.rank,e:Z},"_ep")}})}(M)}),Z("    removeEmptyRanks",function(){!function Vn(M){var Z=tl(S.A(M.nodes(),function(Le){return M.node(Le).rank})),le=[];R.A(M.nodes(),function(Le){var Ge=M.node(Le).rank-Z;le[Ge]||(le[Ge]=[]),le[Ge].push(Le)});var be=0,ke=M.graph().nodeRankFactor;R.A(le,function(Le,Ge){js.A(Le)&&Ge%ke!=0?--be:be&&R.A(Le,function(vt){M.node(vt).rank+=be})})}(M)}),Z("    nestingGraph.cleanup",function(){!function mh(M){var Z=M.graph();M.removeNode(Z.nestingRoot),delete Z.nestingRoot,R.A(M.edges(),function(le){M.edge(le).nestingEdge&&M.removeEdge(le)})}(M)}),Z("    normalizeRanks",function(){!function pn(M){var Z=tl(S.A(M.nodes(),function(le){return M.node(le).rank}));R.A(M.nodes(),function(le){var be=M.node(le);q.A(be,"rank")&&(be.rank-=Z)})}(M)}),Z("    assignRankMinMax",function(){!function vd(M){var Z=0;R.A(M.nodes(),function(le){var be=M.node(le);be.borderTop&&(be.minRank=M.node(be.borderTop).rank,be.maxRank=M.node(be.borderBottom).rank,Z=ui(Z,be.maxRank))}),M.graph().maxRank=Z}(M)}),Z("    removeEdgeLabelProxies",function(){!function Pc(M){R.A(M.nodes(),function(Z){var le=M.node(Z);"edge-proxy"===le.dummy&&(M.edge(le.e).labelRank=le.rank,M.removeNode(Z))})}(M)}),Z("    normalize.run",function(){!function Mo(M){M.graph().dummyChains=[],R.A(M.edges(),function(Z){!function Go(M,Z){var le=Z.v,be=M.node(le).rank,ke=Z.w,Le=M.node(ke).rank,Ge=Z.name,vt=M.edge(Z),Pt=vt.labelRank;if(Le!==be+1){var rn,fn,ri;for(M.removeEdge(Z),ri=0,++be;be<Le;++ri,++be)vt.points=[],rn=Ma(M,"edge",fn={width:0,height:0,edgeLabel:vt,edgeObj:Z,rank:be},"_d"),be===Pt&&(fn.width=vt.width,fn.height=vt.height,fn.dummy="edge-label",fn.labelpos=vt.labelpos),M.setEdge(le,rn,{weight:vt.weight},Ge),0===ri&&M.graph().dummyChains.push(rn),le=rn;M.setEdge(le,ke,{weight:vt.weight},Ge)}}(M,Z)})}(M)}),Z("    parentDummyChains",function(){!function wr(M){var Z=function Ud(M){var Z={},le=0;return R.A(M.children(),function be(ke){var Le=le;R.A(M.children(ke),be),Z[ke]={low:Le,lim:le++}}),Z}(M);R.A(M.graph().dummyChains,function(le){for(var be=M.node(le),ke=be.edgeObj,Le=function Vl(M,Z,le,be){var Pt,rn,ke=[],Le=[],Ge=Math.min(Z[le].low,Z[be].low),vt=Math.max(Z[le].lim,Z[be].lim);Pt=le;do{Pt=M.parent(Pt),ke.push(Pt)}while(Pt&&(Z[Pt].low>Ge||vt>Z[Pt].lim));for(rn=Pt,Pt=be;(Pt=M.parent(Pt))!==rn;)Le.push(Pt);return{path:ke.concat(Le.reverse()),lca:rn}}(M,Z,ke.v,ke.w),Ge=Le.path,vt=Le.lca,Pt=0,rn=Ge[Pt],fn=!0;le!==ke.w;){if(be=M.node(le),fn){for(;(rn=Ge[Pt])!==vt&&M.node(rn).maxRank<be.rank;)Pt++;rn===vt&&(fn=!1)}if(!fn){for(;Pt<Ge.length-1&&M.node(rn=Ge[Pt+1]).minRank<=be.rank;)Pt++;rn=Ge[Pt]}M.setParent(le,rn),le=M.successors(le)[0]}})}(M)}),Z("    addBorderSegments",function(){!function kr(M){R.A(M.children(),function Z(le){var be=M.children(le),ke=M.node(le);if(be.length&&R.A(be,Z),q.A(ke,"minRank")){ke.borderLeft=[],ke.borderRight=[];for(var Le=ke.minRank,Ge=ke.maxRank+1;Le<Ge;++Le)ai(M,"borderLeft","_bl",le,ke,Le),ai(M,"borderRight","_br",le,ke,Le)}})}(M)}),Z("    order",function(){!function Cp(M){var Z=Ne(M),le=Tp(M,F.A(1,Z+1),"inEdges"),be=Tp(M,F.A(Z-1,-1,-1),"outEdges"),ke=function $u(M){var Z={},le=Ct.A(M.nodes(),function(vt){return!M.children(vt).length}),be=ui(S.A(le,function(vt){return M.node(vt).rank})),ke=S.A(F.A(be+1),function(){return[]}),Ge=au(le,function(vt){return M.node(vt).rank});return R.A(Ge,function Le(vt){if(!q.A(Z,vt)){Z[vt]=!0;var Pt=M.node(vt);ke[Pt.rank].push(vt),R.A(M.successors(vt),Le)}}),ke}(M);Lc(M,ke);for(var Ge,Le=Number.POSITIVE_INFINITY,vt=0,Pt=0;Pt<4;++vt,++Pt){kg(vt%2?le:be,vt%4>=2);var rn=wh(M,ke=yr(M));rn<Le&&(Pt=0,Ge=_h(ke),Le=rn)}Lc(M,Ge)}(M)}),Z("    insertSelfEdges",function(){!function wd(M){var Z=yr(M);R.A(Z,function(le){var be=0;R.A(le,function(ke,Le){var Ge=M.node(ke);Ge.order=Le+be,R.A(Ge.selfEdges,function(vt){Ma(M,"selfedge",{width:vt.label.width,height:vt.label.height,rank:Ge.rank,order:Le+ ++be,e:vt.e,label:vt.label},"_se")}),delete Ge.selfEdges})})}(M)}),Z("    adjustCoordinateSystem",function(){!function qt(M){var Z=M.graph().rankdir.toLowerCase();("lr"===Z||"rl"===Z)&&ho(M)}(M)}),Z("    position",function(){!function ia(M){(function bd(M){var Z=yr(M),le=M.graph().ranksep,be=0;R.A(Z,function(ke){var Le=ui(S.A(ke,function(Ge){return M.node(Ge).height}));R.A(ke,function(Ge){M.node(Ge).y=be+Le/2}),be+=Le+le})})(M=Il(M)),R.A(Wu(M),function(Z,le){M.node(le).x=Z})}(M)}),Z("    positionSelfEdges",function(){!function xh(M){R.A(M.nodes(),function(Z){var le=M.node(Z);if("selfedge"===le.dummy){var be=M.node(le.e.v),ke=be.x+be.width/2,Le=be.y,Ge=le.x-ke,vt=be.height/2;M.setEdge(le.e,le.label),M.removeNode(Z),le.label.points=[{x:ke+2*Ge/3,y:Le-vt},{x:ke+5*Ge/6,y:Le-vt},{x:ke+Ge,y:Le},{x:ke+5*Ge/6,y:Le+vt},{x:ke+2*Ge/3,y:Le+vt}],le.label.x=le.x,le.label.y=le.y}})}(M)}),Z("    removeBorderNodes",function(){!function Dm(M){R.A(M.nodes(),function(Z){if(M.children(Z).length){var le=M.node(Z),be=M.node(le.borderTop),ke=M.node(le.borderBottom),Le=M.node(co(le.borderLeft)),Ge=M.node(co(le.borderRight));le.width=Math.abs(Ge.x-Le.x),le.height=Math.abs(ke.y-be.y),le.x=Le.x+le.width/2,le.y=be.y+le.height/2}}),R.A(M.nodes(),function(Z){"border"===M.node(Z).dummy&&M.removeNode(Z)})}(M)}),Z("    normalize.undo",function(){!function $a(M){R.A(M.graph().dummyChains,function(Z){var ke,le=M.node(Z),be=le.edgeLabel;for(M.setEdge(le.edgeObj,be);le.dummy;)ke=M.successors(Z)[0],M.removeNode(Z),be.points.push({x:le.x,y:le.y}),"edge-label"===le.dummy&&(be.x=le.x,be.y=le.y,be.width=le.width,be.height=le.height),le=M.node(Z=ke)})}(M)}),Z("    fixupEdgeLabelCoords",function(){!function Og(M){R.A(M.edges(),function(Z){var le=M.edge(Z);if(q.A(le,"x"))switch(("l"===le.labelpos||"r"===le.labelpos)&&(le.width-=le.labeloffset),le.labelpos){case"l":le.x-=le.width/2+le.labeloffset;break;case"r":le.x+=le.width/2+le.labeloffset}})}(M)}),Z("    undoCoordinateSystem",function(){!function Ao(M){var Z=M.graph().rankdir.toLowerCase();("bt"===Z||"rl"===Z)&&function nl(M){R.A(M.nodes(),function(Z){er(M.node(Z))}),R.A(M.edges(),function(Z){var le=M.edge(Z);R.A(le.points,er),q.A(le,"y")&&er(le)})}(M),("lr"===Z||"rl"===Z)&&(function io(M){R.A(M.nodes(),function(Z){$r(M.node(Z))}),R.A(M.edges(),function(Z){var le=M.edge(Z);R.A(le.points,$r),q.A(le,"x")&&$r(le)})}(M),ho(M))}(M)}),Z("    translateGraph",function(){!function Mg(M){var Z=Number.POSITIVE_INFINITY,le=0,be=Number.POSITIVE_INFINITY,ke=0,Le=M.graph(),Ge=Le.marginx||0,vt=Le.marginy||0;function Pt(rn){var fn=rn.x,ri=rn.y,tr=rn.width,Pr=rn.height;Z=Math.min(Z,fn-tr/2),le=Math.max(le,fn+tr/2),be=Math.min(be,ri-Pr/2),ke=Math.max(ke,ri+Pr/2)}R.A(M.nodes(),function(rn){Pt(M.node(rn))}),R.A(M.edges(),function(rn){var fn=M.edge(rn);q.A(fn,"x")&&Pt(fn)}),Z-=Ge,be-=vt,R.A(M.nodes(),function(rn){var fn=M.node(rn);fn.x-=Z,fn.y-=be}),R.A(M.edges(),function(rn){var fn=M.edge(rn);R.A(fn.points,function(ri){ri.x-=Z,ri.y-=be}),q.A(fn,"x")&&(fn.x-=Z),q.A(fn,"y")&&(fn.y-=be)}),Le.width=le-Z+Ge,Le.height=ke-be+vt}(M)}),Z("    assignNodeIntersects",function(){!function Dh(M){R.A(M.edges(),function(Z){var Le,Ge,le=M.edge(Z),be=M.node(Z.v),ke=M.node(Z.w);le.points?(Le=le.points[0],Ge=le.points[le.points.length-1]):(le.points=[],Le=ke,Ge=be),le.points.unshift(Ic(be,Le)),le.points.push(Ic(ke,Ge))})}(M)}),Z("    reversePoints",function(){!function $d(M){R.A(M.edges(),function(Z){var le=M.edge(Z);le.reversed&&le.points.reverse()})}(M)}),Z("    acyclic.undo",function(){!function ie(M){R.A(M.edges(),function(Z){var le=M.edge(Z);if(le.reversed){M.removeEdge(Z);var be=le.forwardName;delete le.reversed,delete le.forwardName,M.setEdge(Z.w,Z.v,le,be)}})}(M)})}(be,le)}),le("  updateInputGraph",function(){!function Ag(M,Z){R.A(M.nodes(),function(le){var be=M.node(le),ke=Z.node(le);be&&(be.x=ke.x,be.y=ke.y,Z.children(le).length&&(be.width=ke.width,be.height=ke.height))}),R.A(M.edges(),function(le){var be=M.edge(le),ke=Z.edge(le);be.points=ke.points,q.A(ke,"x")&&(be.x=ke.x,be.y=ke.y)}),M.graph().width=Z.graph().width,M.graph().height=Z.graph().height}(M,be)})})}var Cf=["nodesep","edgesep","ranksep","marginx","marginy"],Th={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},xp=["acyclicer","ranker","rankdir","align"],xu=["width","height"],Cm={width:0,height:0},Tf=["minlen","weight","width","height","labeloffset"],Yd={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Tm=["labelpos"];function Fc(M,Z){return Fs(Xt.A(M,Z),Number)}function mc(M){var Z={};return R.A(M,function(le,be){Z[be.toLowerCase()]=le}),Z}},6702:(Nt,Ae,N)=>{"use strict";N.d(Ae,{T:()=>Oi});var R=N(1981),H=N(1913),q=N(129),te=N(4429),re=N(3578),S=N(2036),F=N(9671),ne=N(5113),x=N(4367),E=N(363),O=N(8587),k=N(8556);const ee=function j(ei){return ei!=ei},ie=function K(ei,$t){return!(null==ei||!ei.length)&&function U(ei,$t,mn){return $t==$t?function Q(ei,$t,mn){for(var un=mn-1,Pn=ei.length;++un<Pn;)if(ei[un]===$t)return un;return-1}(ei,$t,mn):(0,k.A)(ei,ee,mn)}(ei,$t,0)>-1},ve=function me(ei,$t,mn){for(var un=-1,Pn=null==ei?0:ei.length;++un<Pn;)if(mn($t,ei[un]))return!0;return!1};var pe=N(5934),Ce=N(4226);var He=N(3998);const bt=Ce.A&&1/(0,He.A)(new Ce.A([,-0]))[1]==1/0?function(ei){return new Ce.A(ei)}:function st(){};var Ln=N(8388);const ki=(0,E.A)(function(ei){return function en(ei,$t,mn){var un=-1,Pn=ie,xi=ei.length,Si=!0,Xt=[],Et=Xt;if(mn)Si=!1,Pn=ve;else if(xi>=200){var Ht=$t?null:bt(ei);if(Ht)return(0,He.A)(Ht);Si=!1,Pn=pe.A,Et=new O.A}else Et=$t?[]:Xt;e:for(;++un<xi;){var vn=ei[un],Hn=$t?$t(vn):vn;if(vn=mn||0!==vn?vn:0,Si&&Hn==Hn){for(var zt=Et.length;zt--;)if(Et[zt]===Hn)continue e;$t&&Et.push(Hn),Xt.push(vn)}else Pn(Et,Hn,mn)||(Et!==Xt&&Et.push(Hn),Xt.push(vn))}return Xt}((0,x.A)(ei,1,Ln.A,!0))});var Pi=N(8456),Ki=N(8209),vr="\0",Fi="\x01";class Oi{constructor($t={}){this._isDirected=!R.A($t,"directed")||$t.directed,this._isMultigraph=!!R.A($t,"multigraph")&&$t.multigraph,this._isCompound=!!R.A($t,"compound")&&$t.compound,this._label=void 0,this._defaultNodeLabelFn=H.A(void 0),this._defaultEdgeLabelFn=H.A(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph($t){return this._label=$t,this}graph(){return this._label}setDefaultNodeLabel($t){return q.A($t)||($t=H.A($t)),this._defaultNodeLabelFn=$t,this}nodeCount(){return this._nodeCount}nodes(){return te.A(this._nodes)}sources(){var $t=this;return re.A(this.nodes(),function(mn){return S.A($t._in[mn])})}sinks(){var $t=this;return re.A(this.nodes(),function(mn){return S.A($t._out[mn])})}setNodes($t,mn){var un=arguments,Pn=this;return F.A($t,function(xi){un.length>1?Pn.setNode(xi,mn):Pn.setNode(xi)}),this}setNode($t,mn){return R.A(this._nodes,$t)?(arguments.length>1&&(this._nodes[$t]=mn),this):(this._nodes[$t]=arguments.length>1?mn:this._defaultNodeLabelFn($t),this._isCompound&&(this._parent[$t]="\0",this._children[$t]={},this._children["\0"][$t]=!0),this._in[$t]={},this._preds[$t]={},this._out[$t]={},this._sucs[$t]={},++this._nodeCount,this)}node($t){return this._nodes[$t]}hasNode($t){return R.A(this._nodes,$t)}removeNode($t){var mn=this;if(R.A(this._nodes,$t)){var un=function(Pn){mn.removeEdge(mn._edgeObjs[Pn])};delete this._nodes[$t],this._isCompound&&(this._removeFromParentsChildList($t),delete this._parent[$t],F.A(this.children($t),function(Pn){mn.setParent(Pn)}),delete this._children[$t]),F.A(te.A(this._in[$t]),un),delete this._in[$t],delete this._preds[$t],F.A(te.A(this._out[$t]),un),delete this._out[$t],delete this._sucs[$t],--this._nodeCount}return this}setParent($t,mn){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(ne.A(mn))mn="\0";else{for(var un=mn+="";!ne.A(un);un=this.parent(un))if(un===$t)throw new Error("Setting "+mn+" as parent of "+$t+" would create a cycle");this.setNode(mn)}return this.setNode($t),this._removeFromParentsChildList($t),this._parent[$t]=mn,this._children[mn][$t]=!0,this}_removeFromParentsChildList($t){delete this._children[this._parent[$t]][$t]}parent($t){if(this._isCompound){var mn=this._parent[$t];if("\0"!==mn)return mn}}children($t){if(ne.A($t)&&($t="\0"),this._isCompound){var mn=this._children[$t];if(mn)return te.A(mn)}else{if("\0"===$t)return this.nodes();if(this.hasNode($t))return[]}}predecessors($t){var mn=this._preds[$t];if(mn)return te.A(mn)}successors($t){var mn=this._sucs[$t];if(mn)return te.A(mn)}neighbors($t){var mn=this.predecessors($t);if(mn)return ki(mn,this.successors($t))}isLeaf($t){return 0===(this.isDirected()?this.successors($t):this.neighbors($t)).length}filterNodes($t){var mn=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});mn.setGraph(this.graph());var un=this;F.A(this._nodes,function(Si,Xt){$t(Xt)&&mn.setNode(Xt,Si)}),F.A(this._edgeObjs,function(Si){mn.hasNode(Si.v)&&mn.hasNode(Si.w)&&mn.setEdge(Si,un.edge(Si))});var Pn={};function xi(Si){var Xt=un.parent(Si);return void 0===Xt||mn.hasNode(Xt)?(Pn[Si]=Xt,Xt):Xt in Pn?Pn[Xt]:xi(Xt)}return this._isCompound&&F.A(mn.nodes(),function(Si){mn.setParent(Si,xi(Si))}),mn}setDefaultEdgeLabel($t){return q.A($t)||($t=H.A($t)),this._defaultEdgeLabelFn=$t,this}edgeCount(){return this._edgeCount}edges(){return Pi.A(this._edgeObjs)}setPath($t,mn){var un=this,Pn=arguments;return Ki.A($t,function(xi,Si){return Pn.length>1?un.setEdge(xi,Si,mn):un.setEdge(xi,Si),Si}),this}setEdge(){var $t,mn,un,Pn,xi=!1,Si=arguments[0];"object"==typeof Si&&null!==Si&&"v"in Si?($t=Si.v,mn=Si.w,un=Si.name,2===arguments.length&&(Pn=arguments[1],xi=!0)):($t=Si,mn=arguments[1],un=arguments[3],arguments.length>2&&(Pn=arguments[2],xi=!0)),$t=""+$t,mn=""+mn,ne.A(un)||(un=""+un);var Xt=Qi(this._isDirected,$t,mn,un);if(R.A(this._edgeLabels,Xt))return xi&&(this._edgeLabels[Xt]=Pn),this;if(!ne.A(un)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode($t),this.setNode(mn),this._edgeLabels[Xt]=xi?Pn:this._defaultEdgeLabelFn($t,mn,un);var Et=function Js(ei,$t,mn,un){var Pn=""+$t,xi=""+mn;if(!ei&&Pn>xi){var Si=Pn;Pn=xi,xi=Si}var Xt={v:Pn,w:xi};return un&&(Xt.name=un),Xt}(this._isDirected,$t,mn,un);return $t=Et.v,mn=Et.w,Object.freeze(Et),this._edgeObjs[Xt]=Et,Ni(this._preds[mn],$t),Ni(this._sucs[$t],mn),this._in[mn][Xt]=Et,this._out[$t][Xt]=Et,this._edgeCount++,this}edge($t,mn,un){var Pn=1===arguments.length?Lo(this._isDirected,arguments[0]):Qi(this._isDirected,$t,mn,un);return this._edgeLabels[Pn]}hasEdge($t,mn,un){var Pn=1===arguments.length?Lo(this._isDirected,arguments[0]):Qi(this._isDirected,$t,mn,un);return R.A(this._edgeLabels,Pn)}removeEdge($t,mn,un){var Pn=1===arguments.length?Lo(this._isDirected,arguments[0]):Qi(this._isDirected,$t,mn,un),xi=this._edgeObjs[Pn];return xi&&($t=xi.v,mn=xi.w,delete this._edgeLabels[Pn],delete this._edgeObjs[Pn],cr(this._preds[mn],$t),cr(this._sucs[$t],mn),delete this._in[mn][Pn],delete this._out[$t][Pn],this._edgeCount--),this}inEdges($t,mn){var un=this._in[$t];if(un){var Pn=Pi.A(un);return mn?re.A(Pn,function(xi){return xi.v===mn}):Pn}}outEdges($t,mn){var un=this._out[$t];if(un){var Pn=Pi.A(un);return mn?re.A(Pn,function(xi){return xi.w===mn}):Pn}}nodeEdges($t,mn){var un=this.inEdges($t,mn);if(un)return un.concat(this.outEdges($t,mn))}}function Ni(ei,$t){ei[$t]?ei[$t]++:ei[$t]=1}function cr(ei,$t){--ei[$t]||delete ei[$t]}function Qi(ei,$t,mn,un){var Pn=""+$t,xi=""+mn;if(!ei&&Pn>xi){var Si=Pn;Pn=xi,xi=Si}return Pn+Fi+xi+Fi+(ne.A(un)?vr:un)}function Lo(ei,$t){return Qi(ei,$t.v,$t.w,$t.name)}Oi.prototype._nodeCount=0,Oi.prototype._edgeCount=0},8802:(Nt,Ae,N)=>{"use strict";N.d(Ae,{T:()=>R.T});var R=N(6702)},8807:(Nt,Ae,N)=>{"use strict";N.d(Ae,{M:()=>ne});var R=N(5113),H=N(6854);const re=function te(k){return(0,H.A)(k,4)};var S=N(6327);function ne(k){var j={options:{directed:k.isDirected(),multigraph:k.isMultigraph(),compound:k.isCompound()},nodes:x(k),edges:E(k)};return R.A(k.graph())||(j.value=re(k.graph())),j}function x(k){return S.A(k.nodes(),function(j){var ee=k.node(j),Q=k.parent(j),we={v:j};return R.A(ee)||(we.value=ee),R.A(Q)||(we.parent=Q),we})}function E(k){return S.A(k.edges(),function(j){var ee=k.edge(j),Q={v:j.v,w:j.w};return R.A(j.name)||(Q.name=j.name),R.A(ee)||(Q.value=ee),Q})}N(6702)},338:(Nt,Ae,N)=>{"use strict";N.d(Ae,{XX:()=>ei});var R=N(1975),H=N(1981),q=N(9311),te=N(9671),re=N(5180),S=N(6320),F={normal:function x(Xt,Et,Ht,vn){var zt=Xt.append("marker").attr("id",Et).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");S.AV(zt,Ht[vn+"Style"]),Ht[vn+"Class"]&&zt.attr("class",Ht[vn+"Class"])},vee:function E(Xt,Et,Ht,vn){var zt=Xt.append("marker").attr("id",Et).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");S.AV(zt,Ht[vn+"Style"]),Ht[vn+"Class"]&&zt.attr("class",Ht[vn+"Class"])},undirected:function O(Xt,Et,Ht,vn){var zt=Xt.append("marker").attr("id",Et).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");S.AV(zt,Ht[vn+"Style"]),Ht[vn+"Class"]&&zt.attr("class",Ht[vn+"Class"])}},k=N(9483);function we(Xt,Et,Ht){var vn=Et.label,Hn=Xt.append("g");"svg"===Et.labelType?function j(Xt,Et){var Ht=Xt;Ht.node().appendChild(Et.label),S.AV(Ht,Et.labelStyle)}(Hn,Et):"string"!=typeof vn||"html"===Et.labelType?(0,k.H)(Hn,Et):function ee(Xt,Et){for(var Ht=Xt.append("text"),vn=function Q(Xt){for(var vn,Et="",Ht=!1,Hn=0;Hn<Xt.length;++Hn)vn=Xt[Hn],Ht?(Et+="n"===vn?"\n":vn,Ht=!1):"\\"===vn?Ht=!0:Et+=vn;return Et}(Et.label).split("\n"),Hn=0;Hn<vn.length;Hn++)Ht.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(vn[Hn]);S.AV(Ht,Et.labelStyle)}(Hn,Et);var on,zt=Hn.node().getBBox();switch(Ht){case"top":on=-Et.height/2;break;case"bottom":on=Et.height/2-zt.height;break;default:on=-zt.height/2}return Hn.attr("transform","translate("+-zt.width/2+","+on+")"),Hn}var U=function(Xt,Et){var Ht=Et.nodes().filter(function(zt){return S.De(Et,zt)}),vn=Xt.selectAll("g.cluster").data(Ht,function(zt){return zt});S.c$(vn.exit(),Et).style("opacity",0).remove();var Hn=vn.enter().append("g").attr("class","cluster").attr("id",function(zt){return Et.node(zt).id}).style("opacity",0).each(function(zt){var on=Et.node(zt),yn=R.Ltv(this);R.Ltv(this).append("rect"),we(yn.append("g").attr("class","label"),on,on.clusterLabelPos)});return vn=vn.merge(Hn),(vn=S.c$(vn,Et).style("opacity",1)).selectAll("rect").each(function(zt){var on=Et.node(zt),yn=R.Ltv(this);S.AV(yn,on.style)}),vn};let K=function(Xt,Et){var vn,Ht=Xt.selectAll("g.edgeLabel").data(Et.edges(),function(Hn){return S.gh(Hn)}).classed("update",!0);return Ht.exit().remove(),Ht.enter().append("g").classed("edgeLabel",!0).style("opacity",0),(Ht=Xt.selectAll("g.edgeLabel")).each(function(Hn){var zt=R.Ltv(this);zt.select(".label").remove();var on=Et.edge(Hn),yn=we(zt,Et.edge(Hn),0).classed("label",!0),ti=yn.node().getBBox();on.labelId&&yn.attr("id",on.labelId),H.A(on,"width")||(on.width=ti.width),H.A(on,"height")||(on.height=ti.height)}),vn=Ht.exit?Ht.exit():Ht.selectAll(null),S.c$(vn,Et).style("opacity",0).remove(),Ht};var me=N(1195),ve=N(3938);function pe(Xt,Et){return Xt.intersect(Et)}var Ce=function(Xt,Et,Ht){var vn=Xt.selectAll("g.edgePath").data(Et.edges(),function(on){return S.gh(on)}).classed("update",!0),Hn=function bt(Xt,Et){var Ht=Xt.enter().append("g").attr("class","edgePath").style("opacity",0);return Ht.append("path").attr("class","path").attr("d",function(vn){var Hn=Et.edge(vn),zt=Et.node(vn.v).elem,on=ve.A(Hn.points.length).map(function(){return function Ke(Xt){var Et=Xt.getBBox(),Ht=Xt.ownerSVGElement.getScreenCTM().inverse().multiply(Xt.getScreenCTM()).translate(Et.width/2,Et.height/2);return{x:Ht.e,y:Ht.f}}(zt)});return Be(Hn,on)}),Ht.append("defs"),Ht}(vn,Et);!function gt(Xt,Et){var Ht=Xt.exit();S.c$(Ht,Et).style("opacity",0).remove()}(vn,Et);var zt=void 0!==vn.merge?vn.merge(Hn):vn;return S.c$(zt,Et).style("opacity",1),zt.each(function(on){var yn=R.Ltv(this),ti=Et.edge(on);ti.elem=this,ti.id&&yn.attr("id",ti.id),S.nh(yn,ti.class,(yn.classed("update")?"update ":"")+"edgePath")}),zt.selectAll("path.path").each(function(on){var yn=Et.edge(on);yn.arrowheadId=me.A("arrowhead");var ti=R.Ltv(this).attr("marker-end",function(){return"url("+function Je(Xt,Et){return Xt.split("#")[0]+"#"+Et}(location.href,yn.arrowheadId)+")"}).style("fill","none");S.c$(ti,Et).attr("d",function(ui){return function He(Xt,Et){var Ht=Xt.edge(Et),vn=Xt.node(Et.v),Hn=Xt.node(Et.w),zt=Ht.points.slice(1,Ht.points.length-1);return zt.unshift(pe(vn,zt[0])),zt.push(pe(Hn,zt[zt.length-1])),Be(Ht,zt)}(Et,ui)}),S.AV(ti,yn.style)}),zt.selectAll("defs *").remove(),zt.selectAll("defs").each(function(on){var yn=Et.edge(on);(0,Ht[yn.arrowhead])(R.Ltv(this),yn.arrowheadId,yn,"arrowhead")}),zt};function Be(Xt,Et){var Ht=(R.n8j||R.JWy.line)().x(function(vn){return vn.x}).y(function(vn){return vn.y});return(Ht.curve||Ht.interpolate)(Xt.curve),Ht(Et)}var en=N(3377),Dt=function(Xt,Et,Ht){var zt,vn=Et.nodes().filter(function(on){return!S.De(Et,on)}),Hn=Xt.selectAll("g.node").data(vn,function(on){return on}).classed("update",!0);return Hn.exit().remove(),Hn.enter().append("g").attr("class","node").style("opacity",0),(Hn=Xt.selectAll("g.node")).each(function(on){var yn=Et.node(on),ti=R.Ltv(this);S.nh(ti,yn.class,(ti.classed("update")?"update ":"")+"node"),ti.select("g.label").remove();var ui=ti.append("g").attr("class","label"),ss=we(ui,yn),co=Ht[yn.shape],uo=en.A(ss.node().getBBox(),"width","height");yn.elem=this,yn.id&&ti.attr("id",yn.id),yn.labelId&&ui.attr("id",yn.labelId),H.A(yn,"width")&&(uo.width=yn.width),H.A(yn,"height")&&(uo.height=yn.height),uo.width+=yn.paddingLeft+yn.paddingRight,uo.height+=yn.paddingTop+yn.paddingBottom,ui.attr("transform","translate("+(yn.paddingLeft-yn.paddingRight)/2+","+(yn.paddingTop-yn.paddingBottom)/2+")");var Eo=R.Ltv(this);Eo.select(".label-container").remove();var Po=co(Eo,uo,yn).classed("label-container",!0);S.AV(Po,yn.style);var Fs=Po.node().getBBox();yn.width=Fs.width,yn.height=Fs.height}),zt=Hn.exit?Hn.exit():Hn.selectAll(null),S.c$(zt,Et).style("opacity",0).remove(),Hn};function Ki(Xt,Et,Ht,vn){var Hn=Xt.x,zt=Xt.y,on=Hn-vn.x,yn=zt-vn.y,ti=Math.sqrt(Et*Et*yn*yn+Ht*Ht*on*on),ui=Math.abs(Et*Ht*on/ti);vn.x<Hn&&(ui=-ui);var ss=Math.abs(Et*Ht*yn/ti);return vn.y<zt&&(ss=-ss),{x:Hn+ui,y:zt+ss}}var Wn=N(8384),Fi=N(8356),Oi={rect:function cr(Xt,Et,Ht){var vn=Xt.insert("rect",":first-child").attr("rx",Ht.rx).attr("ry",Ht.ry).attr("x",-Et.width/2).attr("y",-Et.height/2).attr("width",Et.width).attr("height",Et.height);return Ht.intersect=function(Hn){return(0,Fi.C)(Ht,Hn)},vn},ellipse:function Qi(Xt,Et,Ht){var vn=Et.width/2,Hn=Et.height/2,zt=Xt.insert("ellipse",":first-child").attr("x",-Et.width/2).attr("y",-Et.height/2).attr("rx",vn).attr("ry",Hn);return Ht.intersect=function(on){return Ki(Ht,vn,Hn,on)},zt},circle:function Js(Xt,Et,Ht){var vn=Math.max(Et.width,Et.height)/2,Hn=Xt.insert("circle",":first-child").attr("x",-Et.width/2).attr("y",-Et.height/2).attr("r",vn);return Ht.intersect=function(zt){return function vr(Xt,Et,Ht){return Ki(Xt,Et,Et,Ht)}(Ht,vn,zt)},Hn},diamond:function Lo(Xt,Et,Ht){var vn=Et.width*Math.SQRT2/2,Hn=Et.height*Math.SQRT2/2,zt=[{x:0,y:-Hn},{x:-vn,y:0},{x:0,y:Hn},{x:vn,y:0}],on=Xt.insert("polygon",":first-child").attr("points",zt.map(function(yn){return yn.x+","+yn.y}).join(" "));return Ht.intersect=function(yn){return(0,Wn.k)(Ht,zt,yn)},on}};function ei(){var Xt=function(Et,Ht){!function un(Xt){Xt.nodes().forEach(function(Et){var Ht=Xt.node(Et);!H.A(Ht,"label")&&!Xt.children(Et).length&&(Ht.label=Et),H.A(Ht,"paddingX")&&q.A(Ht,{paddingLeft:Ht.paddingX,paddingRight:Ht.paddingX}),H.A(Ht,"paddingY")&&q.A(Ht,{paddingTop:Ht.paddingY,paddingBottom:Ht.paddingY}),H.A(Ht,"padding")&&q.A(Ht,{paddingLeft:Ht.padding,paddingRight:Ht.padding,paddingTop:Ht.padding,paddingBottom:Ht.padding}),q.A(Ht,$t),te.A(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(vn){Ht[vn]=Number(Ht[vn])}),H.A(Ht,"width")&&(Ht._prevWidth=Ht.width),H.A(Ht,"height")&&(Ht._prevHeight=Ht.height)}),Xt.edges().forEach(function(Et){var Ht=Xt.edge(Et);H.A(Ht,"label")||(Ht.label=""),q.A(Ht,mn)})}(Ht);var vn=xi(Et,"output"),Hn=xi(vn,"clusters"),zt=xi(vn,"edgePaths"),on=K(xi(vn,"edgeLabels"),Ht),yn=Dt(xi(vn,"nodes"),Ht,Oi);(0,re.Zp)(Ht),function Pi(Xt,Et){function vn(Hn){var zt=Et.node(Hn);return"translate("+zt.x+","+zt.y+")"}Xt.filter(function(){return!R.Ltv(this).classed("update")}).attr("transform",vn),S.c$(Xt,Et).style("opacity",1).attr("transform",vn)}(yn,Ht),function ki(Xt,Et){function vn(Hn){var zt=Et.edge(Hn);return H.A(zt,"x")?"translate("+zt.x+","+zt.y+")":""}Xt.filter(function(){return!R.Ltv(this).classed("update")}).attr("transform",vn),S.c$(Xt,Et).style("opacity",1).attr("transform",vn)}(on,Ht),Ce(zt,Ht,F),function wi(Xt,Et){var Ht=Xt.filter(function(){return!R.Ltv(this).classed("update")});function vn(Hn){var zt=Et.node(Hn);return"translate("+zt.x+","+zt.y+")"}Ht.attr("transform",vn),S.c$(Xt,Et).style("opacity",1).attr("transform",vn),S.c$(Ht.selectAll("rect"),Et).attr("width",function(Hn){return Et.node(Hn).width}).attr("height",function(Hn){return Et.node(Hn).height}).attr("x",function(Hn){return-Et.node(Hn).width/2}).attr("y",function(Hn){return-Et.node(Hn).height/2})}(U(Hn,Ht),Ht),function Pn(Xt){te.A(Xt.nodes(),function(Et){var Ht=Xt.node(Et);H.A(Ht,"_prevWidth")?Ht.width=Ht._prevWidth:delete Ht.width,H.A(Ht,"_prevHeight")?Ht.height=Ht._prevHeight:delete Ht.height,delete Ht._prevWidth,delete Ht._prevHeight})}(Ht)};return Xt.createNodes=function(Et){return arguments.length?(function Ln(Xt){Dt=Xt}(Et),Xt):Dt},Xt.createClusters=function(Et){return arguments.length?(function W(Xt){U=Xt}(Et),Xt):U},Xt.createEdgeLabels=function(Et){return arguments.length?(function ie(Xt){K=Xt}(Et),Xt):K},Xt.createEdgePaths=function(Et){return arguments.length?(function st(Xt){Ce=Xt}(Et),Xt):Ce},Xt.shapes=function(Et){return arguments.length?(function Ni(Xt){Oi=Xt}(Et),Xt):Oi},Xt.arrows=function(Et){return arguments.length?(function ne(Xt){F=Xt}(Et),Xt):F},Xt}var $t={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},mn={arrowhead:"normal",curve:R.lUB};function xi(Xt,Et){var Ht=Xt.select("g."+Et);return Ht.empty()&&(Ht=Xt.append("g").attr("class",Et)),Ht}N(8802)},7394:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>ne});var R=N(8844),H=N(107);const te=class q{constructor(){this.type=H.Z.ALL}get(){return this.type}set(E){if(this.type&&this.type!==E)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=E}reset(){this.type=H.Z.ALL}is(E){return this.type===E}},ne=new class re{constructor(E,O){this.color=O,this.changed=!1,this.data=E,this.type=new te}set(E,O){return this.color=O,this.changed=!1,this.data=E,this.type.type=H.Z.ALL,this}_ensureHSL(){const E=this.data,{h:O,s:k,l:j}=E;void 0===O&&(E.h=R.A.channel.rgb2hsl(E,"h")),void 0===k&&(E.s=R.A.channel.rgb2hsl(E,"s")),void 0===j&&(E.l=R.A.channel.rgb2hsl(E,"l"))}_ensureRGB(){const E=this.data,{r:O,g:k,b:j}=E;void 0===O&&(E.r=R.A.channel.hsl2rgb(E,"r")),void 0===k&&(E.g=R.A.channel.hsl2rgb(E,"g")),void 0===j&&(E.b=R.A.channel.hsl2rgb(E,"b"))}get r(){const E=this.data,O=E.r;return this.type.is(H.Z.HSL)||void 0===O?(this._ensureHSL(),R.A.channel.hsl2rgb(E,"r")):O}get g(){const E=this.data,O=E.g;return this.type.is(H.Z.HSL)||void 0===O?(this._ensureHSL(),R.A.channel.hsl2rgb(E,"g")):O}get b(){const E=this.data,O=E.b;return this.type.is(H.Z.HSL)||void 0===O?(this._ensureHSL(),R.A.channel.hsl2rgb(E,"b")):O}get h(){const E=this.data,O=E.h;return this.type.is(H.Z.RGB)||void 0===O?(this._ensureRGB(),R.A.channel.rgb2hsl(E,"h")):O}get s(){const E=this.data,O=E.s;return this.type.is(H.Z.RGB)||void 0===O?(this._ensureRGB(),R.A.channel.rgb2hsl(E,"s")):O}get l(){const E=this.data,O=E.l;return this.type.is(H.Z.RGB)||void 0===O?(this._ensureRGB(),R.A.channel.rgb2hsl(E,"l")):O}get a(){return this.data.a}set r(E){this.type.set(H.Z.RGB),this.changed=!0,this.data.r=E}set g(E){this.type.set(H.Z.RGB),this.changed=!0,this.data.g=E}set b(E){this.type.set(H.Z.RGB),this.changed=!0,this.data.b=E}set h(E){this.type.set(H.Z.HSL),this.changed=!0,this.data.h=E}set s(E){this.type.set(H.Z.HSL),this.changed=!0,this.data.s=E}set l(E){this.type.set(H.Z.HSL),this.changed=!0,this.data.l=E}set a(E){this.changed=!0,this.data.a=E}}({r:0,g:0,b:0,a:0},"transparent")},7501:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>j});var R=N(7394),H=N(107);const q={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:ee=>{if(35!==ee.charCodeAt(0))return;const Q=ee.match(q.re);if(!Q)return;const we=Q[1],U=parseInt(we,16),W=we.length,K=W%4==0,ie=W>4,me=ie?1:17,ve=ie?8:4,pe=K?0:-1,Ce=ie?255:15;return R.A.set({r:(U>>ve*(pe+3)&Ce)*me,g:(U>>ve*(pe+2)&Ce)*me,b:(U>>ve*(pe+1)&Ce)*me,a:K?(U&Ce)*me/255:1},ee)},stringify:ee=>{const{r:Q,g:we,b:U,a:W}=ee;return W<1?`#${H.Y[Math.round(Q)]}${H.Y[Math.round(we)]}${H.Y[Math.round(U)]}${H.Y[Math.round(255*W)]}`:`#${H.Y[Math.round(Q)]}${H.Y[Math.round(we)]}${H.Y[Math.round(U)]}`}},te=q;var re=N(8844);const S={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:ee=>{const Q=ee.match(S.hueRe);if(Q){const[,we,U]=Q;switch(U){case"grad":return re.A.channel.clamp.h(.9*parseFloat(we));case"rad":return re.A.channel.clamp.h(180*parseFloat(we)/Math.PI);case"turn":return re.A.channel.clamp.h(360*parseFloat(we))}}return re.A.channel.clamp.h(parseFloat(ee))},parse:ee=>{const Q=ee.charCodeAt(0);if(104!==Q&&72!==Q)return;const we=ee.match(S.re);if(!we)return;const[,U,W,K,ie,me]=we;return R.A.set({h:S._hue2deg(U),s:re.A.channel.clamp.s(parseFloat(W)),l:re.A.channel.clamp.l(parseFloat(K)),a:ie?re.A.channel.clamp.a(me?parseFloat(ie)/100:parseFloat(ie)):1},ee)},stringify:ee=>{const{h:Q,s:we,l:U,a:W}=ee;return W<1?`hsla(${re.A.lang.round(Q)}, ${re.A.lang.round(we)}%, ${re.A.lang.round(U)}%, ${W})`:`hsl(${re.A.lang.round(Q)}, ${re.A.lang.round(we)}%, ${re.A.lang.round(U)}%)`}},F=S,ne={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:ee=>{ee=ee.toLowerCase();const Q=ne.colors[ee];if(Q)return te.parse(Q)},stringify:ee=>{const Q=te.stringify(ee);for(const we in ne.colors)if(ne.colors[we]===Q)return we}},x=ne,E={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:ee=>{const Q=ee.charCodeAt(0);if(114!==Q&&82!==Q)return;const we=ee.match(E.re);if(!we)return;const[,U,W,K,ie,me,ve,pe,Ce]=we;return R.A.set({r:re.A.channel.clamp.r(W?2.55*parseFloat(U):parseFloat(U)),g:re.A.channel.clamp.g(ie?2.55*parseFloat(K):parseFloat(K)),b:re.A.channel.clamp.b(ve?2.55*parseFloat(me):parseFloat(me)),a:pe?re.A.channel.clamp.a(Ce?parseFloat(pe)/100:parseFloat(pe)):1},ee)},stringify:ee=>{const{r:Q,g:we,b:U,a:W}=ee;return W<1?`rgba(${re.A.lang.round(Q)}, ${re.A.lang.round(we)}, ${re.A.lang.round(U)}, ${re.A.lang.round(W)})`:`rgb(${re.A.lang.round(Q)}, ${re.A.lang.round(we)}, ${re.A.lang.round(U)})`}},O=E,j={format:{keyword:ne,hex:te,rgb:E,rgba:E,hsl:S,hsla:S},parse:ee=>{if("string"!=typeof ee)return ee;const Q=te.parse(ee)||O.parse(ee)||F.parse(ee)||x.parse(ee);if(Q)return Q;throw new Error(`Unsupported color format: "${ee}"`)},stringify:ee=>!ee.changed&&ee.color?ee.color:ee.type.is(H.Z.HSL)||void 0===ee.data.r?F.stringify(ee):ee.a<1||!Number.isInteger(ee.r)||!Number.isInteger(ee.g)||!Number.isInteger(ee.b)?O.stringify(ee):te.stringify(ee)}},107:(Nt,Ae,N)=>{"use strict";N.d(Ae,{Y:()=>H,Z:()=>q});var R=N(8844);const H={};for(let te=0;te<=255;te++)H[te]=R.A.unit.dec2hex(te);const q={ALL:0,RGB:1,HSL:2}},7012:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>te});var R=N(8844),H=N(7501);const te=(re,S,F)=>{const ne=H.A.parse(re),x=ne[S],E=R.A.channel.clamp[S](x+F);return x!==E&&(ne[S]=E),H.A.stringify(ne)}},7376:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>q});var R=N(7012);const q=(te,re)=>(0,R.A)(te,"l",-re)},4328:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>q});var R=N(7012);const q=(te,re)=>(0,R.A)(te,"l",re)},8844:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>ne});const R={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:x=>x>=255?255:x<0?0:x,g:x=>x>=255?255:x<0?0:x,b:x=>x>=255?255:x<0?0:x,h:x=>x%360,s:x=>x>=100?100:x<0?0:x,l:x=>x>=100?100:x<0?0:x,a:x=>x>=1?1:x<0?0:x},toLinear:x=>{const E=x/255;return x>.03928?Math.pow((E+.055)/1.055,2.4):E/12.92},hue2rgb:(x,E,O)=>(O<0&&(O+=1),O>1&&(O-=1),O<1/6?x+6*(E-x)*O:O<.5?E:O<2/3?x+(E-x)*(2/3-O)*6:x),hsl2rgb:({h:x,s:E,l:O},k)=>{if(!E)return 2.55*O;x/=360,E/=100;const j=(O/=100)<.5?O*(1+E):O+E-O*E,ee=2*O-j;switch(k){case"r":return 255*R.hue2rgb(ee,j,x+1/3);case"g":return 255*R.hue2rgb(ee,j,x);case"b":return 255*R.hue2rgb(ee,j,x-1/3)}},rgb2hsl:({r:x,g:E,b:O},k)=>{x/=255,E/=255,O/=255;const j=Math.max(x,E,O),ee=Math.min(x,E,O),Q=(j+ee)/2;if("l"===k)return 100*Q;if(j===ee)return 0;const we=j-ee;if("s"===k)return 100*(Q>.5?we/(2-j-ee):we/(j+ee));switch(j){case x:return 60*((E-O)/we+(E<O?6:0));case E:return 60*((O-x)/we+2);case O:return 60*((x-E)/we+4);default:return-1}}},ne={channel:R,lang:{clamp:(x,E,O)=>E>O?Math.min(E,Math.max(O,x)):Math.min(O,Math.max(E,x)),round:x=>Math.round(1e10*x)/1e10},unit:{dec2hex:x=>{const E=Math.round(x).toString(16);return E.length>1?E:`0${E}`}}}},7015:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>U});var q=N(1319);const re=function te(W,K){for(var ie=W.length;ie--;)if((0,q.A)(W[ie][0],K))return ie;return-1};var F=Array.prototype.splice;function we(W){var K=-1,ie=null==W?0:W.length;for(this.clear();++K<ie;){var me=W[K];this.set(me[0],me[1])}}we.prototype.clear=function R(){this.__data__=[],this.size=0},we.prototype.delete=function ne(W){var K=this.__data__,ie=re(K,W);return!(ie<0||(ie==K.length-1?K.pop():F.call(K,ie,1),--this.size,0))},we.prototype.get=function E(W){var K=this.__data__,ie=re(K,W);return ie<0?void 0:K[ie][1]},we.prototype.has=function k(W){return re(this.__data__,W)>-1},we.prototype.set=function ee(W,K){var ie=this.__data__,me=re(ie,W);return me<0?(++this.size,ie.push([W,K])):ie[me][1]=K,this};const U=we},6568:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>te});var R=N(4713),H=N(1860);const te=(0,R.A)(H.A,"Map")},2291:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>vr});const q=(0,N(4713).A)(Object,"create");var E=Object.prototype.hasOwnProperty;var ee=Object.prototype.hasOwnProperty;function ie(Wn){var Fi=-1,Oi=null==Wn?0:Wn.length;for(this.clear();++Fi<Oi;){var Ni=Wn[Fi];this.set(Ni[0],Ni[1])}}ie.prototype.clear=function te(){this.__data__=q?q(null):{},this.size=0},ie.prototype.delete=function S(Wn){var Fi=this.has(Wn)&&delete this.__data__[Wn];return this.size-=Fi?1:0,Fi},ie.prototype.get=function O(Wn){var Fi=this.__data__;if(q){var Oi=Fi[Wn];return"__lodash_hash_undefined__"===Oi?void 0:Oi}return E.call(Fi,Wn)?Fi[Wn]:void 0},ie.prototype.has=function Q(Wn){var Fi=this.__data__;return q?void 0!==Fi[Wn]:ee.call(Fi,Wn)},ie.prototype.set=function W(Wn,Fi){var Oi=this.__data__;return this.size+=this.has(Wn)?0:1,Oi[Wn]=q&&void 0===Fi?"__lodash_hash_undefined__":Fi,this};const me=ie;var ve=N(7015),pe=N(6568);const Ke=function Be(Wn,Fi){var Oi=Wn.__data__;return function Je(Wn){var Fi=typeof Wn;return"string"==Fi||"number"==Fi||"symbol"==Fi||"boolean"==Fi?"__proto__"!==Wn:null===Wn}(Fi)?Oi["string"==typeof Fi?"string":"hash"]:Oi.map};function Ki(Wn){var Fi=-1,Oi=null==Wn?0:Wn.length;for(this.clear();++Fi<Oi;){var Ni=Wn[Fi];this.set(Ni[0],Ni[1])}}Ki.prototype.clear=function Ce(){this.size=0,this.__data__={hash:new me,map:new(pe.A||ve.A),string:new me}},Ki.prototype.delete=function bt(Wn){var Fi=Ke(this,Wn).delete(Wn);return this.size-=Fi?1:0,Fi},Ki.prototype.get=function en(Wn){return Ke(this,Wn).get(Wn)},Ki.prototype.has=function Ln(Wn){return Ke(this,Wn).has(Wn)},Ki.prototype.set=function ki(Wn,Fi){var Oi=Ke(this,Wn),Ni=Oi.size;return Oi.set(Wn,Fi),this.size+=Oi.size==Ni?0:1,this};const vr=Ki},4226:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>te});var R=N(4713),H=N(1860);const te=(0,R.A)(H.A,"Set")},8587:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>ne});var R=N(2291);function F(x){var E=-1,O=null==x?0:x.length;for(this.__data__=new R.A;++E<O;)this.add(x[E])}F.prototype.add=F.prototype.push=function q(x){return this.__data__.set(x,"__lodash_hash_undefined__"),this},F.prototype.has=function re(x){return this.__data__.has(x)};const ne=F},5401:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>we});var R=N(7015);var E=N(6568),O=N(2291);function Q(U){var W=this.__data__=new R.A(U);this.size=W.size}Q.prototype.clear=function H(){this.__data__=new R.A,this.size=0},Q.prototype.delete=function te(U){var W=this.__data__,K=W.delete(U);return this.size=W.size,K},Q.prototype.get=function S(U){return this.__data__.get(U)},Q.prototype.has=function ne(U){return this.__data__.has(U)},Q.prototype.set=function j(U,W){var K=this.__data__;if(K instanceof R.A){var ie=K.__data__;if(!E.A||ie.length<199)return ie.push([U,W]),this.size=++K.size,this;K=this.__data__=new O.A(ie)}return K.set(U,W),this.size=K.size,this};const we=Q},6944:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>q});const q=N(1860).A.Symbol},6509:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>q});const q=N(1860).A.Uint8Array},9162:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>H});const H=function R(q,te){for(var re=-1,S=null==q?0:q.length;++re<S&&!1!==te(q[re],re,q););return q}},1861:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>H});const H=function R(q,te){for(var re=-1,S=null==q?0:q.length,F=0,ne=[];++re<S;){var x=q[re];te(x,re,q)&&(ne[F++]=x)}return ne}},6726:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>O});var q=N(6513),te=N(3744),re=N(9377),S=N(8606),F=N(8885),x=Object.prototype.hasOwnProperty;const O=function E(k,j){var ee=(0,te.A)(k),Q=!ee&&(0,q.A)(k),we=!ee&&!Q&&(0,re.A)(k),U=!ee&&!Q&&!we&&(0,F.A)(k),W=ee||Q||we||U,K=W?function R(k,j){for(var ee=-1,Q=Array(k);++ee<k;)Q[ee]=j(ee);return Q}(k.length,String):[],ie=K.length;for(var me in k)(j||x.call(k,me))&&(!W||!("length"==me||we&&("offset"==me||"parent"==me)||U&&("buffer"==me||"byteLength"==me||"byteOffset"==me)||(0,S.A)(me,ie)))&&K.push(me);return K}},6689:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>H});const H=function R(q,te){for(var re=-1,S=null==q?0:q.length,F=Array(S);++re<S;)F[re]=te(q[re],re,q);return F}},563:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>H});const H=function R(q,te){for(var re=-1,S=te.length,F=q.length;++re<S;)q[F+re]=te[re];return q}},1984:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>S});var R=N(1827),H=N(1319),te=Object.prototype.hasOwnProperty;const S=function re(F,ne,x){var E=F[ne];(!te.call(F,ne)||!(0,H.A)(E,x)||void 0===x&&!(ne in F))&&(0,R.A)(F,ne,x)}},1827:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>q});var R=N(4746);const q=function H(te,re,S){"__proto__"==re&&R.A?(0,R.A)(te,re,{configurable:!0,enumerable:!0,value:S,writable:!0}):te[re]=S}},6854:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>hc});var R=N(5401),H=N(9162),q=N(1984),te=N(9898),re=N(4429);var ne=N(133);var O=N(9933),k=N(4528),j=N(2697);var we=N(563),U=N(8010),W=N(6032);const me=Object.getOwnPropertySymbols?function(Kn){for(var vs=[];Kn;)(0,we.A)(vs,(0,j.A)(Kn)),Kn=(0,U.A)(Kn);return vs}:W.A;var Ce=N(7895),st=N(6658);const He=function Je(Kn){return(0,st.A)(Kn,ne.A,me)};var Be=N(1938),bt=Object.prototype.hasOwnProperty;var Dt=N(5152);var ki=/\w*$/;var vr=N(6944),Wn=vr.A?vr.A.prototype:void 0,Fi=Wn?Wn.valueOf:void 0;var cr=N(4314);const ss=function ui(Kn,vs,Zi){var zi=Kn.constructor;switch(vs){case"[object ArrayBuffer]":return(0,Dt.A)(Kn);case"[object Boolean]":case"[object Date]":return new zi(+Kn);case"[object DataView]":return function Ln(Kn,vs){var Zi=vs?(0,Dt.A)(Kn.buffer):Kn.buffer;return new Kn.constructor(Zi,Kn.byteOffset,Kn.byteLength)}(Kn,Zi);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,cr.A)(Kn,Zi);case"[object Map]":case"[object Set]":return new zi;case"[object Number]":case"[object String]":return new zi(Kn);case"[object RegExp]":return function Pi(Kn){var vs=new Kn.constructor(Kn.source,ki.exec(Kn));return vs.lastIndex=Kn.lastIndex,vs}(Kn);case"[object Symbol]":return function Oi(Kn){return Fi?Object(Fi.call(Kn)):{}}(Kn)}};var co=N(923),uo=N(3744),Eo=N(9377),Po=N(2661);var Qo=N(778),no=N(3340),tl=no.A&&no.A.isMap;const la=tl?(0,Qo.A)(tl):function js(Kn){return(0,Po.A)(Kn)&&"[object Map]"==(0,Be.A)(Kn)};var Mc=N(554);var bl=no.A&&no.A.isSet;const Ic=bl?(0,Qo.A)(bl):function Yr(Kn){return(0,Po.A)(Kn)&&"[object Set]"==(0,Be.A)(Kn)};var fr="[object Arguments]",kr="[object Function]",ho="[object Object]",ys={};ys[fr]=ys["[object Array]"]=ys["[object ArrayBuffer]"]=ys["[object DataView]"]=ys["[object Boolean]"]=ys["[object Date]"]=ys["[object Float32Array]"]=ys["[object Float64Array]"]=ys["[object Int8Array]"]=ys["[object Int16Array]"]=ys["[object Int32Array]"]=ys["[object Map]"]=ys["[object Number]"]=ys[ho]=ys["[object RegExp]"]=ys["[object Set]"]=ys["[object String]"]=ys["[object Symbol]"]=ys["[object Uint8Array]"]=ys["[object Uint8ClampedArray]"]=ys["[object Uint16Array]"]=ys["[object Uint32Array]"]=!0,ys["[object Error]"]=ys[kr]=ys["[object WeakMap]"]=!1;const hc=function bs(Kn,vs,Zi,zi,Ia,fo){var ws,ma=1&vs,Me=2&vs,Fo=4&vs;if(Zi&&(ws=Ia?Zi(Kn,zi,Ia,fo):Zi(Kn)),void 0!==ws)return ws;if(!(0,Mc.A)(Kn))return Kn;var Ct=(0,uo.A)(Kn);if(Ct){if(ws=function gt(Kn){var vs=Kn.length,Zi=new Kn.constructor(vs);return vs&&"string"==typeof Kn[0]&&bt.call(Kn,"index")&&(Zi.index=Kn.index,Zi.input=Kn.input),Zi}(Kn),!ma)return(0,k.A)(Kn,ws)}else{var Xe=(0,Be.A)(Kn),gn=Xe==kr||"[object GeneratorFunction]"==Xe;if((0,Eo.A)(Kn))return(0,O.A)(Kn,ma);if(Xe==ho||Xe==fr||gn&&!Ia){if(ws=Me||gn?{}:(0,co.A)(Kn),!ma)return Me?function ve(Kn,vs){return(0,te.A)(Kn,me(Kn),vs)}(Kn,function x(Kn,vs){return Kn&&(0,te.A)(vs,(0,ne.A)(vs),Kn)}(ws,Kn)):function ee(Kn,vs){return(0,te.A)(Kn,(0,j.A)(Kn),vs)}(Kn,function S(Kn,vs){return Kn&&(0,te.A)(vs,(0,re.A)(vs),Kn)}(ws,Kn))}else{if(!ys[Xe])return Ia?Kn:{};ws=ss(Kn,Xe,ma)}}fo||(fo=new R.A);var Vt=fo.get(Kn);if(Vt)return Vt;fo.set(Kn,ws),Ic(Kn)?Kn.forEach(function(Gi){ws.add(bs(Gi,vs,Zi,Gi,Kn,fo))}):la(Kn)&&Kn.forEach(function(Gi,os){ws.set(os,bs(Gi,vs,Zi,os,Kn,fo))});var _i=Ct?void 0:(Fo?Me?He:Ce.A:Me?ne.A:re.A)(Kn);return(0,H.A)(_i||Kn,function(Gi,os){_i&&(Gi=Kn[os=Gi]),(0,q.A)(ws,os,bs(Gi,vs,Zi,os,Kn,fo))}),ws}},9617:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>S});var R=N(4620),H=N(1287);const S=function q(F,ne){return function(x,E){if(null==x)return x;if(!(0,H.A)(x))return F(x,E);for(var O=x.length,k=ne?O:-1,j=Object(x);(ne?k--:++k<O)&&!1!==E(j[k],k,j););return x}}(R.A)},8556:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>H});const H=function R(q,te,re,S){for(var F=q.length,ne=re+(S?1:-1);S?ne--:++ne<F;)if(te(q[ne],ne,q))return ne;return-1}},4367:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>x});var R=N(563),H=N(6944),q=N(6513),te=N(3744),re=H.A?H.A.isConcatSpreadable:void 0;const F=function S(E){return(0,te.A)(E)||(0,q.A)(E)||!!(re&&E&&E[re])},x=function ne(E,O,k,j,ee){var Q=-1,we=E.length;for(k||(k=F),ee||(ee=[]);++Q<we;){var U=E[Q];O>0&&k(U)?O>1?ne(U,O-1,k,j,ee):(0,R.A)(ee,U):j||(ee[ee.length]=U)}return ee}},2676:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>te});const te=function R(re){return function(S,F,ne){for(var x=-1,E=Object(S),O=ne(S),k=O.length;k--;){var j=O[re?k:++x];if(!1===F(E[j],j,E))break}return S}}()},4620:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>te});var R=N(2676),H=N(4429);const te=function q(re,S){return re&&(0,R.A)(re,S,H.A)}},4501:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>te});var R=N(9697),H=N(4662);const te=function q(re,S){for(var F=0,ne=(S=(0,R.A)(S,re)).length;null!=re&&F<ne;)re=re[(0,H.A)(S[F++])];return F&&F==ne?re:void 0}},6658:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>te});var R=N(563),H=N(3744);const te=function q(re,S,F){var ne=S(re);return(0,H.A)(re)?ne:(0,R.A)(ne,F(re))}},5281:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>we});var R=N(6944),H=Object.prototype,q=H.hasOwnProperty,te=H.toString,re=R.A?R.A.toStringTag:void 0;var x=Object.prototype.toString;var ee=R.A?R.A.toStringTag:void 0;const we=function Q(U){return null==U?void 0===U?"[object Undefined]":"[object Null]":ee&&ee in Object(U)?function S(U){var W=q.call(U,re),K=U[re];try{U[re]=void 0;var ie=!0}catch{}var me=te.call(U);return ie&&(W?U[re]=K:delete U[re]),me}(U):function E(U){return x.call(U)}(U)}},6385:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>yr});var R=N(5401),H=N(8587);const te=function q(pn,Vn){for(var fr=-1,Ne=null==pn?0:pn.length;++fr<Ne;)if(Vn(pn[fr],fr,pn))return!0;return!1};var re=N(5934);const x=function ne(pn,Vn,fr,Ne,ii,Ji){var $i=1&fr,kr=pn.length,ai=Vn.length;if(kr!=ai&&!($i&&ai>kr))return!1;var qt=Ji.get(pn),Ao=Ji.get(Vn);if(qt&&Ao)return qt==Vn&&Ao==pn;var ho=-1,Lr=!0,nl=2&fr?new H.A:void 0;for(Ji.set(pn,Vn),Ji.set(Vn,pn);++ho<kr;){var er=pn[ho],io=Vn[ho];if(Ne)var $r=$i?Ne(io,er,ho,Vn,pn,Ji):Ne(er,io,ho,pn,Vn,Ji);if(void 0!==$r){if($r)continue;Lr=!1;break}if(nl){if(!te(Vn,function(Mo,Go){if(!(0,re.A)(nl,Go)&&(er===Mo||ii(er,Mo,fr,Ne,Ji)))return nl.push(Go)})){Lr=!1;break}}else if(er!==io&&!ii(er,io,fr,Ne,Ji)){Lr=!1;break}}return Ji.delete(pn),Ji.delete(Vn),Lr};var E=N(6944),O=N(6509),k=N(1319);const ee=function j(pn){var Vn=-1,fr=Array(pn.size);return pn.forEach(function(Ne,ii){fr[++Vn]=[ii,Ne]}),fr};var Q=N(3998),Ke=E.A?E.A.prototype:void 0,bt=Ke?Ke.valueOf:void 0;var Dt=N(7895),ki=Object.prototype.hasOwnProperty;var vr=N(1938),Wn=N(3744),Fi=N(9377),Oi=N(8885),cr="[object Arguments]",Qi="[object Array]",Js="[object Object]",ei=Object.prototype.hasOwnProperty;const mn=function $t(pn,Vn,fr,Ne,ii,Ji){var $i=(0,Wn.A)(pn),kr=(0,Wn.A)(Vn),ai=$i?Qi:(0,vr.A)(pn),qt=kr?Qi:(0,vr.A)(Vn),Ao=(ai=ai==cr?Js:ai)==Js,ho=(qt=qt==cr?Js:qt)==Js,Lr=ai==qt;if(Lr&&(0,Fi.A)(pn)){if(!(0,Fi.A)(Vn))return!1;$i=!0,Ao=!1}if(Lr&&!Ao)return Ji||(Ji=new R.A),$i||(0,Oi.A)(pn)?x(pn,Vn,fr,Ne,ii,Ji):function gt(pn,Vn,fr,Ne,ii,Ji,$i){switch(fr){case"[object DataView]":if(pn.byteLength!=Vn.byteLength||pn.byteOffset!=Vn.byteOffset)return!1;pn=pn.buffer,Vn=Vn.buffer;case"[object ArrayBuffer]":return!(pn.byteLength!=Vn.byteLength||!Ji(new O.A(pn),new O.A(Vn)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,k.A)(+pn,+Vn);case"[object Error]":return pn.name==Vn.name&&pn.message==Vn.message;case"[object RegExp]":case"[object String]":return pn==Vn+"";case"[object Map]":var kr=ee;case"[object Set]":if(kr||(kr=Q.A),pn.size!=Vn.size&&!(1&Ne))return!1;var qt=$i.get(pn);if(qt)return qt==Vn;Ne|=2,$i.set(pn,Vn);var Ao=x(kr(pn),kr(Vn),Ne,ii,Ji,$i);return $i.delete(pn),Ao;case"[object Symbol]":if(bt)return bt.call(pn)==bt.call(Vn)}return!1}(pn,Vn,ai,fr,Ne,ii,Ji);if(!(1&fr)){var nl=Ao&&ei.call(pn,"__wrapped__"),er=ho&&ei.call(Vn,"__wrapped__");if(nl||er){var io=nl?pn.value():pn,$r=er?Vn.value():Vn;return Ji||(Ji=new R.A),ii(io,$r,fr,Ne,Ji)}}return!!Lr&&(Ji||(Ji=new R.A),function Pi(pn,Vn,fr,Ne,ii,Ji){var $i=1&fr,kr=(0,Dt.A)(pn),ai=kr.length;if(ai!=(0,Dt.A)(Vn).length&&!$i)return!1;for(var ho=ai;ho--;){var Lr=kr[ho];if(!($i?Lr in Vn:ki.call(Vn,Lr)))return!1}var nl=Ji.get(pn),er=Ji.get(Vn);if(nl&&er)return nl==Vn&&er==pn;var io=!0;Ji.set(pn,Vn),Ji.set(Vn,pn);for(var $r=$i;++ho<ai;){var Mo=pn[Lr=kr[ho]],Go=Vn[Lr];if(Ne)var $a=$i?Ne(Go,Mo,Lr,Vn,pn,Ji):Ne(Mo,Go,Lr,pn,Vn,Ji);if(!(void 0===$a?Mo===Go||ii(Mo,Go,fr,Ne,Ji):$a)){io=!1;break}$r||($r="constructor"==Lr)}if(io&&!$r){var ga=pn.constructor,Ii=Vn.constructor;ga!=Ii&&"constructor"in pn&&"constructor"in Vn&&!("function"==typeof ga&&ga instanceof ga&&"function"==typeof Ii&&Ii instanceof Ii)&&(io=!1)}return Ji.delete(pn),Ji.delete(Vn),io}(pn,Vn,fr,Ne,ii,Ji))};var un=N(2661);const xi=function Pn(pn,Vn,fr,Ne,ii){return pn===Vn||(null==pn||null==Vn||!(0,un.A)(pn)&&!(0,un.A)(Vn)?pn!=pn&&Vn!=Vn:mn(pn,Vn,fr,Ne,Pn,ii))};var vn=N(554);const zt=function Hn(pn){return pn==pn&&!(0,vn.A)(pn)};var on=N(4429);const ss=function ui(pn,Vn){return function(fr){return null!=fr&&fr[pn]===Vn&&(void 0!==Vn||pn in Object(fr))}},uo=function co(pn){var Vn=function yn(pn){for(var Vn=(0,on.A)(pn),fr=Vn.length;fr--;){var Ne=Vn[fr],ii=pn[Ne];Vn[fr]=[Ne,ii,zt(ii)]}return Vn}(pn);return 1==Vn.length&&Vn[0][2]?ss(Vn[0][0],Vn[0][1]):function(fr){return fr===pn||function Et(pn,Vn,fr,Ne){var ii=fr.length,Ji=ii,$i=!Ne;if(null==pn)return!Ji;for(pn=Object(pn);ii--;){var kr=fr[ii];if($i&&kr[2]?kr[1]!==pn[kr[0]]:!(kr[0]in pn))return!1}for(;++ii<Ji;){var ai=(kr=fr[ii])[0],qt=pn[ai],Ao=kr[1];if($i&&kr[2]){if(void 0===qt&&!(ai in pn))return!1}else{var ho=new R.A;if(Ne)var Lr=Ne(qt,Ao,ai,pn,Vn,ho);if(!(void 0===Lr?xi(Ao,qt,3,Ne,ho):Lr))return!1}}return!0}(fr,pn,Vn)}};var Eo=N(4501);var js=N(4029),aa=N(3097),Qo=N(4662);const la=function dc(pn,Vn){return(0,aa.A)(pn)&&zt(Vn)?ss((0,Qo.A)(pn),Vn):function(fr){var Ne=function Po(pn,Vn,fr){var Ne=null==pn?void 0:(0,Eo.A)(pn,Vn);return void 0===Ne?fr:Ne}(fr,pn);return void 0===Ne&&Ne===Vn?(0,js.A)(fr,pn):xi(Vn,Ne,3)}};var Mc=N(7003),Ma=N(1392);const Oc=function bl(pn){return(0,aa.A)(pn)?(0,Ma.A)((0,Qo.A)(pn)):function Yr(pn){return function(Vn){return(0,Eo.A)(Vn,pn)}}(pn)},yr=function Ic(pn){return"function"==typeof pn?pn:null==pn?Mc.A:"object"==typeof pn?(0,Wn.A)(pn)?la(pn[0],pn[1]):uo(pn):Oc(pn)}},3660:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>ne});var R=N(5776);const te=(0,N(8992).A)(Object.keys,Object);var S=Object.prototype.hasOwnProperty;const ne=function F(x){if(!(0,R.A)(x))return te(x);var E=[];for(var O in Object(x))S.call(x,O)&&"constructor"!=O&&E.push(O);return E}},9103:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>te});var R=N(9617),H=N(1287);const te=function q(re,S){var F=-1,ne=(0,H.A)(re)?Array(re.length):[];return(0,R.A)(re,function(x,E,O){ne[++F]=S(x,E,O)}),ne}},1392:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>H});const H=function R(q){return function(te){return te?.[q]}}},363:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>re});var R=N(7003),H=N(178),q=N(359);const re=function te(S,F){return(0,q.A)((0,H.A)(S,F,R.A),S+"")}},778:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>H});const H=function R(q){return function(te){return q(te)}}},5934:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>H});const H=function R(q,te){return q.has(te)}},9395:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>q});var R=N(7003);const q=function H(te){return"function"==typeof te?te:R.A}},9697:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>j});var R=N(3744),H=N(3097),q=N(4569),F=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ne=/\\(\\)?/g;const E=function re(ee){var Q=(0,q.A)(ee,function(U){return 500===we.size&&we.clear(),U}),we=Q.cache;return Q}(function(ee){var Q=[];return 46===ee.charCodeAt(0)&&Q.push(""),ee.replace(F,function(we,U,W,K){Q.push(W?K.replace(ne,"$1"):U||we)}),Q});var O=N(591);const j=function k(ee,Q){return(0,R.A)(ee)?ee:(0,H.A)(ee,Q)?[ee]:E((0,O.A)(ee))}},5152:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>q});var R=N(6509);const q=function H(te){var re=new te.constructor(te.byteLength);return new R.A(re).set(new R.A(te)),re}},9933:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>ne});var R=N(1860),H="object"==typeof exports&&exports&&!exports.nodeType&&exports,q=H&&"object"==typeof module&&module&&!module.nodeType&&module,re=q&&q.exports===H?R.A.Buffer:void 0,S=re?re.allocUnsafe:void 0;const ne=function F(x,E){if(E)return x.slice();var O=x.length,k=S?S(O):new x.constructor(O);return x.copy(k),k}},4314:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>q});var R=N(5152);const q=function H(te,re){var S=re?(0,R.A)(te.buffer):te.buffer;return new te.constructor(S,te.byteOffset,te.length)}},4528:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>H});const H=function R(q,te){var re=-1,S=q.length;for(te||(te=Array(S));++re<S;)te[re]=q[re];return te}},9898:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>te});var R=N(1984),H=N(1827);const te=function q(re,S,F,ne){var x=!F;F||(F={});for(var E=-1,O=S.length;++E<O;){var k=S[E],j=ne?ne(F[k],re[k],k,F,re):void 0;void 0===j&&(j=re[k]),x?(0,H.A)(F,k,j):(0,R.A)(F,k,j)}return F}},4746:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>q});var R=N(4713);const q=function(){try{var te=(0,R.A)(Object,"defineProperty");return te({},"",{}),te}catch{}}()},7133:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>H});const H="object"==typeof global&&global&&global.Object===Object&&global},7895:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>re});var R=N(6658),H=N(2697),q=N(4429);const re=function te(S){return(0,R.A)(S,q.A,H.A)}},4713:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>ve});var pe,R=N(129),q=N(1860).A["__core-js_shared__"],re=(pe=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+pe:"";var ne=N(554),x=N(8736),O=/^\[object .+?Constructor\]$/,we=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const W=function U(pe){return!(!(0,ne.A)(pe)||function S(pe){return!!re&&re in pe}(pe))&&((0,R.A)(pe)?we:O).test((0,x.A)(pe))},ve=function me(pe,Ce){var st=function K(pe,Ce){return pe?.[Ce]}(pe,Ce);return W(st)?st:void 0}},8010:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>q});const q=(0,N(8992).A)(Object.getPrototypeOf,Object)},2697:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>F});var R=N(1861),H=N(6032),te=Object.prototype.propertyIsEnumerable,re=Object.getOwnPropertySymbols;const F=re?function(ne){return null==ne?[]:(ne=Object(ne),(0,R.A)(re(ne),function(x){return te.call(ne,x)}))}:H.A},1938:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>st});var R=N(4713),H=N(1860);const te=(0,R.A)(H.A,"DataView");var re=N(6568);const F=(0,R.A)(H.A,"Promise");var ne=N(4226);const E=(0,R.A)(H.A,"WeakMap");var O=N(5281),k=N(8736),j="[object Map]",Q="[object Promise]",we="[object Set]",U="[object WeakMap]",W="[object DataView]",K=(0,k.A)(te),ie=(0,k.A)(re.A),me=(0,k.A)(F),ve=(0,k.A)(ne.A),pe=(0,k.A)(E),Ce=O.A;(te&&Ce(new te(new ArrayBuffer(1)))!=W||re.A&&Ce(new re.A)!=j||F&&Ce(F.resolve())!=Q||ne.A&&Ce(new ne.A)!=we||E&&Ce(new E)!=U)&&(Ce=function(Je){var He=(0,O.A)(Je),Be="[object Object]"==He?Je.constructor:void 0,Ke=Be?(0,k.A)(Be):"";if(Ke)switch(Ke){case K:return W;case ie:return j;case me:return Q;case ve:return we;case pe:return U}return He});const st=Ce},4549:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>ne});var R=N(9697),H=N(6513),q=N(3744),te=N(8606),re=N(5481),S=N(4662);const ne=function F(x,E,O){for(var k=-1,j=(E=(0,R.A)(E,x)).length,ee=!1;++k<j;){var Q=(0,S.A)(E[k]);if(!(ee=null!=x&&O(x,Q)))break;x=x[Q]}return ee||++k!=j?ee:!!(j=null==x?0:x.length)&&(0,re.A)(j)&&(0,te.A)(Q,j)&&((0,q.A)(x)||(0,H.A)(x))}},923:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>ne});var R=N(554),H=Object.create;const te=function(){function x(){}return function(E){if(!(0,R.A)(E))return{};if(H)return H(E);x.prototype=E;var O=new x;return x.prototype=void 0,O}}();var re=N(8010),S=N(5776);const ne=function F(x){return"function"!=typeof x.constructor||(0,S.A)(x)?{}:te((0,re.A)(x))}},8606:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>te});var H=/^(?:0|[1-9]\d*)$/;const te=function q(re,S){var F=typeof re;return!!(S=S??9007199254740991)&&("number"==F||"symbol"!=F&&H.test(re))&&re>-1&&re%1==0&&re<S}},7357:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>S});var R=N(1319),H=N(1287),q=N(8606),te=N(554);const S=function re(F,ne,x){if(!(0,te.A)(x))return!1;var E=typeof ne;return!!("number"==E?(0,H.A)(x)&&(0,q.A)(ne,x.length):"string"==E&&ne in x)&&(0,R.A)(x[ne],F)}},3097:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>S});var R=N(3744),H=N(4077),q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,te=/^\w*$/;const S=function re(F,ne){if((0,R.A)(F))return!1;var x=typeof F;return!("number"!=x&&"symbol"!=x&&"boolean"!=x&&null!=F&&!(0,H.A)(F))||te.test(F)||!q.test(F)||null!=ne&&F in Object(ne)}},5776:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>q});var R=Object.prototype;const q=function H(te){var re=te&&te.constructor;return te===("function"==typeof re&&re.prototype||R)}},3340:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>F});var R=N(7133),H="object"==typeof exports&&exports&&!exports.nodeType&&exports,q=H&&"object"==typeof module&&module&&!module.nodeType&&module,re=q&&q.exports===H&&R.A.process;const F=function(){try{return q&&q.require&&q.require("util").types||re&&re.binding&&re.binding("util")}catch{}}()},8992:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>H});const H=function R(q,te){return function(re){return q(te(re))}}},178:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>re});var q=Math.max;const re=function te(S,F,ne){return F=q(void 0===F?S.length-1:F,0),function(){for(var x=arguments,E=-1,O=q(x.length-F,0),k=Array(O);++E<O;)k[E]=x[F+E];E=-1;for(var j=Array(F+1);++E<F;)j[E]=x[E];return j[F]=ne(k),function R(S,F,ne){switch(ne.length){case 0:return S.call(F);case 1:return S.call(F,ne[0]);case 2:return S.call(F,ne[0],ne[1]);case 3:return S.call(F,ne[0],ne[1],ne[2])}return S.apply(F,ne)}(S,this,j)}}},1860:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>te});var R=N(7133),H="object"==typeof self&&self&&self.Object===Object&&self;const te=R.A||H||Function("return this")()},3998:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>H});const H=function R(q){var te=-1,re=Array(q.size);return q.forEach(function(S){re[++te]=S}),re}},359:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>k});var R=N(1913),H=N(4746),q=N(7003),ne=Date.now;const k=function x(j){var ee=0,Q=0;return function(){var we=ne(),U=16-(we-Q);if(Q=we,U>0){if(++ee>=800)return arguments[0]}else ee=0;return j.apply(void 0,arguments)}}(H.A?function(j,ee){return(0,H.A)(j,"toString",{configurable:!0,enumerable:!1,value:(0,R.A)(ee),writable:!0})}:q.A)},4662:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>te});var R=N(4077);const te=function q(re){if("string"==typeof re||(0,R.A)(re))return re;var S=re+"";return"0"==S&&1/re==-1/0?"-0":S}},8736:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>te});var H=Function.prototype.toString;const te=function q(re){if(null!=re){try{return H.call(re)}catch{}try{return re+""}catch{}}return""}},1913:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>H});const H=function R(q){return function(){return q}}},9311:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>ne});var R=N(363),H=N(1319),q=N(7357),te=N(133),re=Object.prototype,S=re.hasOwnProperty;const ne=(0,R.A)(function(x,E){x=Object(x);var O=-1,k=E.length,j=k>2?E[2]:void 0;for(j&&(0,q.A)(E[0],E[1],j)&&(k=1);++O<k;)for(var ee=E[O],Q=(0,te.A)(ee),we=-1,U=Q.length;++we<U;){var W=Q[we],K=x[W];(void 0===K||(0,H.A)(K,re[W])&&!S.call(x,W))&&(x[W]=ee[W])}return x})},1319:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>H});const H=function R(q,te){return q===te||q!=q&&te!=te}},3578:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>ne});var R=N(1861),H=N(9617);const te=function q(x,E){var O=[];return(0,H.A)(x,function(k,j,ee){E(k,j,ee)&&O.push(k)}),O};var re=N(6385),S=N(3744);const ne=function F(x,E){return((0,S.A)(x)?R.A:te)(x,(0,re.A)(E,3))}},2383:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>q});var R=N(4367);const q=function H(te){return null!=te&&te.length?(0,R.A)(te,1):[]}},9671:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>S});var R=N(9162),H=N(9617),q=N(9395),te=N(3744);const S=function re(F,ne){return((0,te.A)(F)?R.A:H.A)(F,(0,q.A)(ne))}},1981:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>F});var H=Object.prototype.hasOwnProperty;const te=function q(ne,x){return null!=ne&&H.call(ne,x)};var re=N(4549);const F=function S(ne,x){return null!=ne&&(0,re.A)(ne,x,te)}},4029:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>re});const H=function R(S,F){return null!=S&&F in Object(S)};var q=N(4549);const re=function te(S,F){return null!=S&&(0,q.A)(S,F,H)}},7003:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>H});const H=function R(q){return q}},6513:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>E});var R=N(5281),H=N(2661);const re=function te(O){return(0,H.A)(O)&&"[object Arguments]"==(0,R.A)(O)};var S=Object.prototype,F=S.hasOwnProperty,ne=S.propertyIsEnumerable;const E=re(function(){return arguments}())?re:function(O){return(0,H.A)(O)&&F.call(O,"callee")&&!ne.call(O,"callee")}},3744:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>H});const H=Array.isArray},1287:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>te});var R=N(129),H=N(5481);const te=function q(re){return null!=re&&(0,H.A)(re.length)&&!(0,R.A)(re)}},8388:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>te});var R=N(1287),H=N(2661);const te=function q(re){return(0,H.A)(re)&&(0,R.A)(re)}},9377:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>E});var R=N(1860),te="object"==typeof exports&&exports&&!exports.nodeType&&exports,re=te&&"object"==typeof module&&module&&!module.nodeType&&module,F=re&&re.exports===te?R.A.Buffer:void 0;const E=(F?F.isBuffer:void 0)||function H(){return!1}},2036:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>ee});var R=N(3660),H=N(1938),q=N(6513),te=N(3744),re=N(1287),S=N(9377),F=N(5776),ne=N(8885),k=Object.prototype.hasOwnProperty;const ee=function j(Q){if(null==Q)return!0;if((0,re.A)(Q)&&((0,te.A)(Q)||"string"==typeof Q||"function"==typeof Q.splice||(0,S.A)(Q)||(0,ne.A)(Q)||(0,q.A)(Q)))return!Q.length;var we=(0,H.A)(Q);if("[object Map]"==we||"[object Set]"==we)return!Q.size;if((0,F.A)(Q))return!(0,R.A)(Q).length;for(var U in Q)if(k.call(Q,U))return!1;return!0}},129:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>ne});var R=N(5281),H=N(554);const ne=function F(x){if(!(0,H.A)(x))return!1;var E=(0,R.A)(x);return"[object Function]"==E||"[object GeneratorFunction]"==E||"[object AsyncFunction]"==E||"[object Proxy]"==E}},5481:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>q});const q=function H(te){return"number"==typeof te&&te>-1&&te%1==0&&te<=9007199254740991}},554:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>H});const H=function R(q){var te=typeof q;return null!=q&&("object"==te||"function"==te)}},2661:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>H});const H=function R(q){return null!=q&&"object"==typeof q}},4294:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>O});var R=N(5281),H=N(8010),q=N(2661),F=Function.prototype.toString,ne=Object.prototype.hasOwnProperty,x=F.call(Object);const O=function E(k){if(!(0,q.A)(k)||"[object Object]"!=(0,R.A)(k))return!1;var j=(0,H.A)(k);if(null===j)return!0;var ee=ne.call(j,"constructor")&&j.constructor;return"function"==typeof ee&&ee instanceof ee&&F.call(ee)==x}},4077:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>re});var R=N(5281),H=N(2661);const re=function te(S){return"symbol"==typeof S||(0,H.A)(S)&&"[object Symbol]"==(0,R.A)(S)}},8885:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>wi});var R=N(5281),H=N(5481),q=N(2661),Be={};Be["[object Float32Array]"]=Be["[object Float64Array]"]=Be["[object Int8Array]"]=Be["[object Int16Array]"]=Be["[object Int32Array]"]=Be["[object Uint8Array]"]=Be["[object Uint8ClampedArray]"]=Be["[object Uint16Array]"]=Be["[object Uint32Array]"]=!0,Be["[object Arguments]"]=Be["[object Array]"]=Be["[object ArrayBuffer]"]=Be["[object Boolean]"]=Be["[object DataView]"]=Be["[object Date]"]=Be["[object Error]"]=Be["[object Function]"]=Be["[object Map]"]=Be["[object Number]"]=Be["[object Object]"]=Be["[object RegExp]"]=Be["[object Set]"]=Be["[object String]"]=Be["[object WeakMap]"]=!1;var gt=N(778),en=N(3340),Dt=en.A&&en.A.isTypedArray;const wi=Dt?(0,gt.A)(Dt):function Ke(ki){return(0,q.A)(ki)&&(0,H.A)(ki.length)&&!!Be[(0,R.A)(ki)]}},5113:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>H});const H=function R(q){return void 0===q}},4429:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>re});var R=N(6726),H=N(3660),q=N(1287);const re=function te(S){return(0,q.A)(S)?(0,R.A)(S):(0,H.A)(S)}},133:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>k});var R=N(6726),H=N(554),q=N(5776);var F=Object.prototype.hasOwnProperty;const x=function ne(j){if(!(0,H.A)(j))return function te(j){var ee=[];if(null!=j)for(var Q in Object(j))ee.push(Q);return ee}(j);var ee=(0,q.A)(j),Q=[];for(var we in j)"constructor"==we&&(ee||!F.call(j,we))||Q.push(we);return Q};var E=N(1287);const k=function O(j){return(0,E.A)(j)?(0,R.A)(j,!0):x(j)}},6327:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>S});var R=N(6689),H=N(6385),q=N(9103),te=N(3744);const S=function re(F,ne){return((0,te.A)(F)?R.A:q.A)(F,(0,H.A)(ne,3))}},4569:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>te});var R=N(2291);function q(re,S){if("function"!=typeof re||null!=S&&"function"!=typeof S)throw new TypeError("Expected a function");var F=function(){var ne=arguments,x=S?S.apply(this,ne):ne[0],E=F.cache;if(E.has(x))return E.get(x);var O=re.apply(this,ne);return F.cache=E.set(x,O)||E,O};return F.cache=new(q.Cache||R.A),F}q.Cache=R.A;const te=q},3377:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>ie});var R=N(4501),H=N(1984),q=N(9697),te=N(8606),re=N(554),S=N(4662);const ne=function F(me,ve,pe,Ce){if(!(0,re.A)(me))return me;for(var st=-1,Je=(ve=(0,q.A)(ve,me)).length,He=Je-1,Be=me;null!=Be&&++st<Je;){var Ke=(0,S.A)(ve[st]),bt=pe;if("__proto__"===Ke||"constructor"===Ke||"prototype"===Ke)return me;if(st!=He){var gt=Be[Ke];void 0===(bt=Ce?Ce(gt,Ke,Be):void 0)&&(bt=(0,re.A)(gt)?gt:(0,te.A)(ve[st+1])?[]:{})}(0,H.A)(Be,Ke,bt),Be=Be[Ke]}return me};var O=N(4029);const j=function k(me,ve){return function x(me,ve,pe){for(var Ce=-1,st=ve.length,Je={};++Ce<st;){var He=ve[Ce],Be=(0,R.A)(me,He);pe(Be,He)&&ne(Je,(0,q.A)(He,me),Be)}return Je}(me,ve,function(pe,Ce){return(0,O.A)(me,Ce)})};var ee=N(2383),Q=N(178),we=N(359);const ie=function U(me){return(0,we.A)((0,Q.A)(me,void 0,ee.A),me+"")}(function(me,ve){return null==me?{}:j(me,ve)})},3938:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>E});var R=Math.ceil,H=Math.max;var re=N(7357),S=N(5809);const E=function F(O){return function(k,j,ee){return ee&&"number"!=typeof ee&&(0,re.A)(k,j,ee)&&(j=ee=void 0),k=(0,S.A)(k),void 0===j?(j=k,k=0):j=(0,S.A)(j),function q(O,k,j,ee){for(var Q=-1,we=H(R((k-O)/(j||1)),0),U=Array(we);we--;)U[ee?we:++Q]=O,O+=j;return U}(k,j,ee=void 0===ee?k<j?1:-1:(0,S.A)(ee),O)}}()},8209:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>x});const H=function R(E,O,k,j){var ee=-1,Q=null==E?0:E.length;for(j&&Q&&(k=E[++ee]);++ee<Q;)k=O(k,E[ee],ee,E);return k};var q=N(9617),te=N(6385);const S=function re(E,O,k,j,ee){return ee(E,function(Q,we,U){k=j?(j=!1,Q):O(k,Q,we,U)}),k};var F=N(3744);const x=function ne(E,O,k){var j=(0,F.A)(E)?H:S,ee=arguments.length<3;return j(E,(0,te.A)(O,4),k,ee,q.A)}},6032:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>H});const H=function R(){return[]}},5809:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>K});var R=/\s/;var te=/^\s+/;const S=function re(ie){return ie&&ie.slice(0,function H(ie){for(var me=ie.length;me--&&R.test(ie.charAt(me)););return me}(ie)+1).replace(te,"")};var F=N(554),ne=N(4077),E=/^[-+]0x[0-9a-f]+$/i,O=/^0b[01]+$/i,k=/^0o[0-7]+$/i,j=parseInt;const K=function W(ie){return ie?1/0===(ie=function ee(ie){if("number"==typeof ie)return ie;if((0,ne.A)(ie))return NaN;if((0,F.A)(ie)){var me="function"==typeof ie.valueOf?ie.valueOf():ie;ie=(0,F.A)(me)?me+"":me}if("string"!=typeof ie)return 0===ie?ie:+ie;ie=S(ie);var ve=O.test(ie);return ve||k.test(ie)?j(ie.slice(2),ve?2:8):E.test(ie)?NaN:+ie}(ie))||-1/0===ie?17976931348623157e292*(ie<0?-1:1):ie==ie?ie:0:0===ie?ie:0}},591:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>O});var R=N(6944),H=N(6689),q=N(3744),te=N(4077),S=R.A?R.A.prototype:void 0,F=S?S.toString:void 0;const x=function ne(k){if("string"==typeof k)return k;if((0,q.A)(k))return(0,H.A)(k,ne)+"";if((0,te.A)(k))return F?F.call(k):"";var j=k+"";return"0"==j&&1/k==-1/0?"-0":j},O=function E(k){return null==k?"":x(k)}},1195:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>te});var R=N(591),H=0;const te=function q(re){var S=++H;return(0,R.A)(re)+S}},8456:(Nt,Ae,N)=>{"use strict";N.d(Ae,{A:()=>S});var R=N(6689);var te=N(4429);const S=function re(F){return null==F?[]:function H(F,ne){return(0,R.A)(ne,function(x){return F[x]})}(F,(0,te.A)(F))}},467:(Nt,Ae,N)=>{"use strict";function R(q,te,re,S,F,ne,x){try{var E=q[ne](x),O=E.value}catch(k){return void re(k)}E.done?te(O):Promise.resolve(O).then(S,F)}function H(q){return function(){var te=this,re=arguments;return new Promise(function(S,F){var ne=q.apply(te,re);function x(O){R(ne,S,F,x,E,"next",O)}function E(O){R(ne,S,F,x,E,"throw",O)}x(void 0)})}}N.d(Ae,{A:()=>H})}},Nt=>{Nt(Nt.s=7586)}]);